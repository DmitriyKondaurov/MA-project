"use strict";(self.webpackChunkmy_finance_app=self.webpackChunkmy_finance_app||[]).push([[179],{2011:(Je,Ce,O)=>{O.d(Ce,{Dh:()=>oe,GT:()=>me,cc:()=>we,hO:()=>Fe,on:()=>Z,pX:()=>re,xv:()=>ce});var l=O(5e3),j=O(127),P=O(5813);Je=O.hmd(Je);const ee=["ngOnDestroy"],re=(he,Se,Re,Ne={})=>new Proxy(he,{get:(Ge,be)=>Re.runOutsideAngular(()=>{var Ke;if(he[be])return(null===(Ke=null==Ne?void 0:Ne.spy)||void 0===Ke?void 0:Ke.get)&&Ne.spy.get(be,he[be]),he[be];if(ee.indexOf(be)>-1)return()=>{};const Ve=Se.toPromise().then(it=>{const J=it&&it[be];return"function"==typeof J?J.bind(it):J&&J.then?J.then(pe=>Re.run(()=>pe)):Re.run(()=>J)});return new Proxy(()=>{},{get:(it,J)=>Ve[J],apply:(it,J,pe)=>Ve.then(ge=>{var _e;const Me=ge&&ge(...pe);return(null===(_e=null==Ne?void 0:Ne.spy)||void 0===_e?void 0:_e.apply)&&Ne.spy.apply(be,pe,Me),Me})})})}),me=(he,Se)=>{Se.forEach(Re=>{Object.getOwnPropertyNames(Re.prototype||Re).forEach(Ne=>{Object.defineProperty(he.prototype,Ne,Object.getOwnPropertyDescriptor(Re.prototype||Re,Ne))})})};class se{constructor(Se){return Se}}const oe=new l.OlP("angularfire2.app.options"),ce=new l.OlP("angularfire2.app.name");function Z(he,Se,Re){const Ge="object"==typeof Re&&Re||{};Ge.name=Ge.name||"string"==typeof Re&&Re||"[DEFAULT]";const Ke=j.Z.apps.filter(Ve=>Ve&&Ve.name===Ge.name)[0]||Se.runOutsideAngular(()=>j.Z.initializeApp(he,Ge));try{JSON.stringify(he)!==JSON.stringify(Ke.options)&&G("error",`${Ke.name} Firebase App already initialized with different options${Je.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Ve){}return new se(Ke)}const G=(he,...Se)=>{(0,l.X6Q)()&&"undefined"!=typeof console&&console[he](...Se)},X={provide:se,useFactory:Z,deps:[oe,l.R0b,[new l.FiY,ce]]};let Fe=(()=>{class he{constructor(Re){j.Z.registerVersion("angularfire",P.q4.full,"core"),j.Z.registerVersion("angularfire",P.q4.full,"app-compat"),j.Z.registerVersion("angular",l.q4F.full,Re.toString())}static initializeApp(Re,Ne){return{ngModule:he,providers:[{provide:oe,useValue:Re},{provide:ce,useValue:Ne}]}}}return he.\u0275fac=function(Re){return new(Re||he)(l.LFG(l.Lbi))},he.\u0275mod=l.oAB({type:he}),he.\u0275inj=l.cJS({providers:[X]}),he})();function we(he,Se,Re,Ne,Ge){const[,be,Ke]=globalThis.\u0275AngularfireInstanceCache.find(Ve=>Ve[0]===he)||[];if(be)return function Ae(he,Se){try{return he.toString()===Se.toString()}catch(Re){return he===Se}}(Ge,Ke)||(de("error",`${Se} was already initialized on the ${Re} Firebase App with different settings.${Pe?" You may need to reload as Firebase is not HMR aware.":""}`),de("warn",{is:Ge,was:Ke})),be;{const Ve=Ne();return globalThis.\u0275AngularfireInstanceCache.push([he,Ve,Ge]),Ve}}const Pe=!!Je.hot,de=(he,...Se)=>{(0,l.X6Q)()&&"undefined"!=typeof console&&console[he](...Se)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(Je,Ce,O)=>{O.d(Ce,{q4:()=>bl,iC:()=>ps,HU:()=>wl,vb:()=>ed,JM:()=>Xc,u3:()=>xa});var l=O(5e3),j=O(5867),P=O(5861),ee=O(9681),re=O(2090),me=O(4859),se=O(1877);const oe="@firebase/installations",G="w:0.5.8",X="FIS_v2",he=new re.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Se(b){return b instanceof re.ZR&&b.code.includes("request-failed")}function Re({projectId:b}){return`https://firebaseinstallations.googleapis.com/v1/projects/${b}/installations`}function Ne(b){return{token:b.token,requestStatus:2,expiresIn:pe(b.expiresIn),creationTime:Date.now()}}function Ge(b,D){return be.apply(this,arguments)}function be(){return(be=(0,P.Z)(function*(b,D){const V=(yield D.json()).error;return he.create("request-failed",{requestName:b,serverCode:V.code,serverMessage:V.message,serverStatus:V.status})})).apply(this,arguments)}function Ke({apiKey:b}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":b})}function Ve(b,{refreshToken:D}){const M=Ke(b);return M.append("Authorization",function ge(b){return`${X} ${b}`}(D)),M}function it(b){return J.apply(this,arguments)}function J(){return(J=(0,P.Z)(function*(b){const D=yield b();return D.status>=500&&D.status<600?b():D})).apply(this,arguments)}function pe(b){return Number(b.replace("s","000"))}function _e(b,D){return Me.apply(this,arguments)}function Me(){return(Me=(0,P.Z)(function*({appConfig:b,heartbeatServiceProvider:D},{fid:M}){const V=Re(b),Y=Ke(b),ne=D.getImmediate({optional:!0});if(ne){const pt=yield ne.getHeartbeatsHeader();pt&&Y.append("x-firebase-client",pt)}const We={method:"POST",headers:Y,body:JSON.stringify({fid:M,authVersion:X,appId:b.appId,sdkVersion:G})},dt=yield it(()=>fetch(V,We));if(dt.ok){const pt=yield dt.json();return{fid:pt.fid||M,registrationStatus:2,refreshToken:pt.refreshToken,authToken:Ne(pt.authToken)}}throw yield Ge("Create Installation",dt)})).apply(this,arguments)}function ae(b){return new Promise(D=>{setTimeout(D,b)})}const Vt=/^[cdef][\w-]{21}$/;function Xe(){try{const b=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(b),b[0]=112+b[0]%16;const M=function st(b){return function gt(b){return btoa(String.fromCharCode(...b)).replace(/\+/g,"-").replace(/\//g,"_")}(b).substr(0,22)}(b);return Vt.test(M)?M:""}catch(b){return""}}function cn(b){return`${b.appName}!${b.appId}`}const Gt=new Map;function Rr(b,D){const M=cn(b);Ir(M,D),function In(b,D){const M=function zt(){return!Fn&&"BroadcastChannel"in self&&(Fn=new BroadcastChannel("[Firebase] FID Change"),Fn.onmessage=b=>{Ir(b.data.key,b.data.fid)}),Fn}();M&&M.postMessage({key:b,fid:D}),function An(){0===Gt.size&&Fn&&(Fn.close(),Fn=null)}()}(M,D)}function Ir(b,D){const M=Gt.get(b);if(M)for(const V of M)V(D)}let Fn=null;const Ln="firebase-installations-store";let Te=null;function Un(){return Te||(Te=(0,re.X3)("firebase-installations-database",1,(b,D)=>{0===D&&b.createObjectStore(Ln)})),Te}function qe(b,D){return ur.apply(this,arguments)}function ur(){return(ur=(0,P.Z)(function*(b,D){const M=cn(b),Y=(yield Un()).transaction(Ln,"readwrite"),ne=Y.objectStore(Ln),De=yield ne.get(M);return yield ne.put(D,M),yield Y.complete,(!De||De.fid!==D.fid)&&Rr(b,D.fid),D})).apply(this,arguments)}function qt(b){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,P.Z)(function*(b){const D=cn(b),V=(yield Un()).transaction(Ln,"readwrite");yield V.objectStore(Ln).delete(D),yield V.complete})).apply(this,arguments)}function Gn(b,D){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,P.Z)(function*(b,D){const M=cn(b),Y=(yield Un()).transaction(Ln,"readwrite"),ne=Y.objectStore(Ln),De=yield ne.get(M),We=D(De);return void 0===We?yield ne.delete(M):yield ne.put(We,M),yield Y.complete,We&&(!De||De.fid!==We.fid)&&Rr(b,We.fid),We})).apply(this,arguments)}function dn(b){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,P.Z)(function*(b){let D;const M=yield Gn(b.appConfig,V=>{const Y=Ar(V),ne=Ms(b,Y);return D=ne.registrationPromise,ne.installationEntry});return""===M.fid?{installationEntry:yield D}:{installationEntry:M,registrationPromise:D}})).apply(this,arguments)}function Ar(b){return rt(b||{fid:Xe(),registrationStatus:0})}function Ms(b,D){if(0===D.registrationStatus){if(!navigator.onLine)return{installationEntry:D,registrationPromise:Promise.reject(he.create("app-offline"))};const M={fid:D.fid,registrationStatus:1,registrationTime:Date.now()},V=function Ct(b,D){return Qe.apply(this,arguments)}(b,M);return{installationEntry:M,registrationPromise:V}}return 1===D.registrationStatus?{installationEntry:D,registrationPromise:et(b)}:{installationEntry:D}}function Qe(){return(Qe=(0,P.Z)(function*(b,D){try{const M=yield _e(b,D);return qe(b.appConfig,M)}catch(M){throw Se(M)&&409===M.customData.serverCode?yield qt(b.appConfig):yield qe(b.appConfig,{fid:D.fid,registrationStatus:0}),M}})).apply(this,arguments)}function et(b){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,P.Z)(function*(b){let D=yield ri(b.appConfig);for(;1===D.registrationStatus;)yield ae(100),D=yield ri(b.appConfig);if(0===D.registrationStatus){const{installationEntry:M,registrationPromise:V}=yield dn(b);return V||M}return D})).apply(this,arguments)}function ri(b){return Gn(b,D=>{if(!D)throw he.create("installation-not-found");return rt(D)})}function rt(b){return function rn(b){return 1===b.registrationStatus&&b.registrationTime+1e4<Date.now()}(b)?{fid:b.fid,registrationStatus:0}:b}function Vn(b,D){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,P.Z)(function*({appConfig:b,heartbeatServiceProvider:D},M){const V=tt(b,M),Y=Ve(b,M),ne=D.getImmediate({optional:!0});if(ne){const pt=yield ne.getHeartbeatsHeader();pt&&Y.append("x-firebase-client",pt)}const We={method:"POST",headers:Y,body:JSON.stringify({installation:{sdkVersion:G,appId:b.appId}})},dt=yield it(()=>fetch(V,We));if(dt.ok)return Ne(yield dt.json());throw yield Ge("Generate Auth Token",dt)})).apply(this,arguments)}function tt(b,{fid:D}){return`${Re(b)}/${D}/authTokens:generate`}function Qt(b){return wt.apply(this,arguments)}function wt(){return(wt=(0,P.Z)(function*(b,D=!1){let M;const V=yield Gn(b.appConfig,ne=>{if(!xt(ne))throw he.create("not-registered");const De=ne.authToken;if(!D&&W(De))return ne;if(1===De.requestStatus)return M=Le(b,D),ne;{if(!navigator.onLine)throw he.create("app-offline");const We=z(ne);return M=ot(b,We),We}});return M?yield M:V.authToken})).apply(this,arguments)}function Le(b,D){return ye.apply(this,arguments)}function ye(){return(ye=(0,P.Z)(function*(b,D){let M=yield He(b.appConfig);for(;1===M.authToken.requestStatus;)yield ae(100),M=yield He(b.appConfig);const V=M.authToken;return 0===V.requestStatus?Qt(b,D):V})).apply(this,arguments)}function He(b){return Gn(b,D=>{if(!xt(D))throw he.create("not-registered");return function ue(b){return 1===b.requestStatus&&b.requestTime+1e4<Date.now()}(D.authToken)?Object.assign(Object.assign({},D),{authToken:{requestStatus:0}}):D})}function ot(b,D){return At.apply(this,arguments)}function At(){return(At=(0,P.Z)(function*(b,D){try{const M=yield Vn(b,D),V=Object.assign(Object.assign({},D),{authToken:M});return yield qe(b.appConfig,V),M}catch(M){if(!Se(M)||401!==M.customData.serverCode&&404!==M.customData.serverCode){const V=Object.assign(Object.assign({},D),{authToken:{requestStatus:0}});yield qe(b.appConfig,V)}else yield qt(b.appConfig);throw M}})).apply(this,arguments)}function xt(b){return void 0!==b&&2===b.registrationStatus}function W(b){return 2===b.requestStatus&&!function B(b){const D=Date.now();return D<b.creationTime||b.creationTime+b.expiresIn<D+36e5}(b)}function z(b){const D={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},b),{authToken:D})}function F(){return(F=(0,P.Z)(function*(b){const D=b,{installationEntry:M,registrationPromise:V}=yield dn(D);return V?V.catch(console.error):Qt(D).catch(console.error),M.fid})).apply(this,arguments)}function ie(){return(ie=(0,P.Z)(function*(b,D=!1){const M=b;return yield xe(M),(yield Qt(M,D)).token})).apply(this,arguments)}function xe(b){return Be.apply(this,arguments)}function Be(){return(Be=(0,P.Z)(function*(b){const{registrationPromise:D}=yield dn(b);D&&(yield D)})).apply(this,arguments)}function Rn(b){return he.create("missing-app-config-values",{valueName:b})}const ra="installations",je=b=>{const D=b.getProvider("app").getImmediate(),M=function $r(b){if(!b||!b.options)throw Rn("App Configuration");if(!b.name)throw Rn("App Name");const D=["projectId","apiKey","appId"];for(const M of D)if(!b.options[M])throw Rn(M);return{appName:b.name,projectId:b.options.projectId,apiKey:b.options.apiKey,appId:b.options.appId}}(D);return{app:D,appConfig:M,heartbeatServiceProvider:(0,ee._getProvider)(D,"heartbeat"),_delete:()=>Promise.resolve()}},Et=b=>{const D=b.getProvider("app").getImmediate(),M=(0,ee._getProvider)(D,ra).getImmediate();return{getId:()=>function R(b){return F.apply(this,arguments)}(M),getToken:Y=>function U(b){return ie.apply(this,arguments)}(M,Y)}};(function jt(){(0,ee._registerComponent)(new me.wA(ra,je,"PUBLIC")),(0,ee._registerComponent)(new me.wA("installations-internal",Et,"PRIVATE"))})(),(0,ee.registerVersion)(oe,"0.5.8"),(0,ee.registerVersion)(oe,"0.5.8","esm2017");const Tn="@firebase/remote-config",gn=new re.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class oa{constructor(D,M,V,Y){this.client=D,this.storage=M,this.storageCache=V,this.logger=Y}isCachedDataFresh(D,M){if(!M)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const V=Date.now()-M,Y=V<=D;return this.logger.debug(`Config fetch cache check. Cache age millis: ${V}. Cache max age millis (minimumFetchIntervalMillis setting): ${D}. Is cache hit: ${Y}.`),Y}fetch(D){var M=this;return(0,P.Z)(function*(){const[V,Y]=yield Promise.all([M.storage.getLastSuccessfulFetchTimestampMillis(),M.storage.getLastSuccessfulFetchResponse()]);if(Y&&M.isCachedDataFresh(D.cacheMaxAgeMillis,V))return Y;D.eTag=Y&&Y.eTag;const ne=yield M.client.fetch(D),De=[M.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ne.status&&De.push(M.storage.setLastSuccessfulFetchResponse(ne)),yield Promise.all(De),ne})()}}function Ih(b=navigator){return b.languages&&b.languages[0]||b.language}class Lc{constructor(D,M,V,Y,ne,De){this.firebaseInstallations=D,this.sdkVersion=M,this.namespace=V,this.projectId=Y,this.apiKey=ne,this.appId=De}fetch(D){var M=this;return(0,P.Z)(function*(){const[V,Y]=yield Promise.all([M.firebaseInstallations.getId(),M.firebaseInstallations.getToken()]),De=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${M.projectId}/namespaces/${M.namespace}:fetch?key=${M.apiKey}`,We={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":D.eTag||"*"},dt={sdk_version:M.sdkVersion,app_instance_id:V,app_instance_id_token:Y,app_id:M.appId,language_code:Ih()},pt={method:"POST",headers:We,body:JSON.stringify(dt)},Tt=fetch(De,pt),yt=new Promise((Qr,ui)=>{D.signal.addEventListener(()=>{const Xs=new Error("The operation was aborted.");Xs.name="AbortError",ui(Xs)})});let On;try{yield Promise.race([Tt,yt]),On=yield Tt}catch(Qr){let ui="fetch-client-network";throw"AbortError"===Qr.name&&(ui="fetch-timeout"),gn.create(ui,{originalErrorMessage:Qr.message})}let en=On.status;const li=On.headers.get("ETag")||void 0;let vr,Ci;if(200===On.status){let Qr;try{Qr=yield On.json()}catch(ui){throw gn.create("fetch-client-parse",{originalErrorMessage:ui.message})}vr=Qr.entries,Ci=Qr.state}if("INSTANCE_STATE_UNSPECIFIED"===Ci?en=500:"NO_CHANGE"===Ci?en=304:("NO_TEMPLATE"===Ci||"EMPTY_CONFIG"===Ci)&&(vr={}),304!==en&&200!==en)throw gn.create("fetch-status",{httpStatus:en});return{status:en,eTag:li,config:vr}})()}}class Uc{constructor(D,M){this.client=D,this.storage=M}fetch(D){var M=this;return(0,P.Z)(function*(){const V=(yield M.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return M.attemptFetch(D,V)})()}attemptFetch(D,{throttleEndTimeMillis:M,backoffCount:V}){var Y=this;return(0,P.Z)(function*(){yield function qr(b,D){return new Promise((M,V)=>{const Y=Math.max(D-Date.now(),0),ne=setTimeout(M,Y);b.addEventListener(()=>{clearTimeout(ne),V(gn.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}(D.signal,M);try{const ne=yield Y.client.fetch(D);return yield Y.storage.deleteThrottleMetadata(),ne}catch(ne){if(!function mo(b){if(!(b instanceof re.ZR&&b.customData))return!1;const D=Number(b.customData.httpStatus);return 429===D||500===D||503===D||504===D}(ne))throw ne;const De={throttleEndTimeMillis:Date.now()+(0,re.$s)(V),backoffCount:V+1};return yield Y.storage.setThrottleMetadata(De),Y.attemptFetch(D,De)}})()}}class nl{constructor(D,M,V,Y,ne){this.app=D,this._client=M,this._storageCache=V,this._storage=Y,this._logger=ne,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function rl(b,D){const M=b.target.error||void 0;return gn.create(D,{originalErrorMessage:M&&M.message})}const Mi="app_namespace_store";class su{constructor(D,M,V,Y=function il(){return new Promise((b,D)=>{try{const M=indexedDB.open("firebase_remote_config",1);M.onerror=V=>{D(rl(V,"storage-open"))},M.onsuccess=V=>{b(V.target.result)},M.onupgradeneeded=V=>{0===V.oldVersion&&V.target.result.createObjectStore(Mi,{keyPath:"compositeKey"})}}catch(M){D(gn.create("storage-open",{originalErrorMessage:M}))}})}()){this.appId=D,this.appName=M,this.namespace=V,this.openDbPromise=Y}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(D){return this.set("last_fetch_status",D)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(D){return this.set("last_successful_fetch_timestamp_millis",D)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(D){return this.set("last_successful_fetch_response",D)}getActiveConfig(){return this.get("active_config")}setActiveConfig(D){return this.set("active_config",D)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(D){return this.set("active_config_etag",D)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(D){return this.set("throttle_metadata",D)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(D){var M=this;return(0,P.Z)(function*(){const V=yield M.openDbPromise;return new Promise((Y,ne)=>{const We=V.transaction([Mi],"readonly").objectStore(Mi),dt=M.createCompositeKey(D);try{const pt=We.get(dt);pt.onerror=Tt=>{ne(rl(Tt,"storage-get"))},pt.onsuccess=Tt=>{const yt=Tt.target.result;Y(yt?yt.value:void 0)}}catch(pt){ne(gn.create("storage-get",{originalErrorMessage:pt&&pt.message}))}})})()}set(D,M){var V=this;return(0,P.Z)(function*(){const Y=yield V.openDbPromise;return new Promise((ne,De)=>{const dt=Y.transaction([Mi],"readwrite").objectStore(Mi),pt=V.createCompositeKey(D);try{const Tt=dt.put({compositeKey:pt,value:M});Tt.onerror=yt=>{De(rl(yt,"storage-set"))},Tt.onsuccess=()=>{ne()}}catch(Tt){De(gn.create("storage-set",{originalErrorMessage:Tt&&Tt.message}))}})})()}delete(D){var M=this;return(0,P.Z)(function*(){const V=yield M.openDbPromise;return new Promise((Y,ne)=>{const We=V.transaction([Mi],"readwrite").objectStore(Mi),dt=M.createCompositeKey(D);try{const pt=We.delete(dt);pt.onerror=Tt=>{ne(rl(Tt,"storage-delete"))},pt.onsuccess=()=>{Y()}}catch(pt){ne(gn.create("storage-delete",{originalErrorMessage:pt&&pt.message}))}})})()}createCompositeKey(D){return[this.appId,this.appName,this.namespace,D].join()}}class Ah{constructor(D){this.storage=D}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var D=this;return(0,P.Z)(function*(){const M=D.storage.getLastFetchStatus(),V=D.storage.getLastSuccessfulFetchTimestampMillis(),Y=D.storage.getActiveConfig(),ne=yield M;ne&&(D.lastFetchStatus=ne);const De=yield V;De&&(D.lastSuccessfulFetchTimestampMillis=De);const We=yield Y;We&&(D.activeConfig=We)})()}setLastFetchStatus(D){return this.lastFetchStatus=D,this.storage.setLastFetchStatus(D)}setLastSuccessfulFetchTimestampMillis(D){return this.lastSuccessfulFetchTimestampMillis=D,this.storage.setLastSuccessfulFetchTimestampMillis(D)}setActiveConfig(D){return this.activeConfig=D,this.storage.setActiveConfig(D)}}function sl(){return aa.apply(this,arguments)}function aa(){return(aa=(0,P.Z)(function*(){if(!(0,re.hl)())return!1;try{return yield(0,re.eu)()}catch(b){return!1}})).apply(this,arguments)}!function ou(){(0,ee._registerComponent)(new me.wA("remote-config",function b(D,{instanceIdentifier:M}){const V=D.getProvider("app").getImmediate(),Y=D.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw gn.create("registration-window");if(!(0,re.hl)())throw gn.create("indexed-db-unavailable");const{projectId:ne,apiKey:De,appId:We}=V.options;if(!ne)throw gn.create("registration-project-id");if(!De)throw gn.create("registration-api-key");if(!We)throw gn.create("registration-app-id");const dt=new su(We,V.name,M=M||"firebase"),pt=new Ah(dt),Tt=new se.Yd(Tn);Tt.logLevel=se.in.ERROR;const yt=new Lc(Y,ee.SDK_VERSION,M,ne,De,We),On=new Uc(yt,dt),en=new oa(On,dt,pt,Tt),li=new nl(V,en,pt,dt,Tt);return function tr(b){const D=(0,re.m9)(b);D._initializePromise||(D._initializePromise=D._storageCache.loadFromStorage().then(()=>{D._isInitializationComplete=!0}))}(li),li},"PUBLIC").setMultipleInstances(!0)),(0,ee.registerVersion)(Tn,"0.3.7"),(0,ee.registerVersion)(Tn,"0.3.7","esm2017")}();const Bc="/firebase-messaging-sw.js",au="/firebase-cloud-messaging-push-scope",xi="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ps="google.c.a.c_id",Rs="google.c.a.c_l",_o="google.c.a.ts",Pi="google.c.a.e";var Ri=(()=>{return(b=Ri||(Ri={})).PUSH_RECEIVED="push-received",b.NOTIFICATION_CLICKED="notification-clicked",Ri;var b})();function zn(b){const D=new Uint8Array(b);return btoa(String.fromCharCode(...D)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function al(b){const M=(b+"=".repeat((4-b.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),V=atob(M),Y=new Uint8Array(V.length);for(let ne=0;ne<V.length;++ne)Y[ne]=V.charCodeAt(ne);return Y}const yo="fcm_token_details_db",vo="fcm_token_object_Store";function jc(b){return Os.apply(this,arguments)}function Os(){return Os=(0,P.Z)(function*(b){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ne=>ne.name).includes(yo))return null;let D=null;return(yield(0,re.X3)(yo,5,function(){var V=(0,P.Z)(function*(Y,ne,De,We){var dt;if(ne<2||!Y.objectStoreNames.contains(vo))return;const pt=We.objectStore(vo),Tt=yield pt.index("fcmSenderId").get(b);if(yield pt.clear(),Tt)if(2===ne){const yt=Tt;if(!yt.auth||!yt.p256dh||!yt.endpoint)return;D={token:yt.fcmToken,createTime:null!==(dt=yt.createTime)&&void 0!==dt?dt:Date.now(),subscriptionOptions:{auth:yt.auth,p256dh:yt.p256dh,endpoint:yt.endpoint,swScope:yt.swScope,vapidKey:"string"==typeof yt.vapidKey?yt.vapidKey:zn(yt.vapidKey)}}}else if(3===ne){const yt=Tt;D={token:yt.fcmToken,createTime:yt.createTime,subscriptionOptions:{auth:zn(yt.auth),p256dh:zn(yt.p256dh),endpoint:yt.endpoint,swScope:yt.swScope,vapidKey:zn(yt.vapidKey)}}}else if(4===ne){const yt=Tt;D={token:yt.fcmToken,createTime:yt.createTime,subscriptionOptions:{auth:zn(yt.auth),p256dh:zn(yt.p256dh),endpoint:yt.endpoint,swScope:yt.swScope,vapidKey:zn(yt.vapidKey)}}}});return function(Y,ne,De,We){return V.apply(this,arguments)}}())).close(),yield(0,re.Lj)(yo),yield(0,re.Lj)("fcm_vapid_details_db"),yield(0,re.Lj)("undefined"),Sh(D)?D:null}),Os.apply(this,arguments)}function Sh(b){if(!b||!b.subscriptionOptions)return!1;const{subscriptionOptions:D}=b;return"number"==typeof b.createTime&&b.createTime>0&&"string"==typeof b.token&&b.token.length>0&&"string"==typeof D.auth&&D.auth.length>0&&"string"==typeof D.p256dh&&D.p256dh.length>0&&"string"==typeof D.endpoint&&D.endpoint.length>0&&"string"==typeof D.swScope&&D.swScope.length>0&&"string"==typeof D.vapidKey&&D.vapidKey.length>0}const Pt="firebase-messaging-store";let la=null;function uu(){return la||(la=(0,re.X3)("firebase-messaging-database",1,(b,D)=>{0===D&&b.createObjectStore(Pt)})),la}function on(b){return cu.apply(this,arguments)}function cu(){return(cu=(0,P.Z)(function*(b){const D=Co(b),V=yield(yield uu()).transaction(Pt).objectStore(Pt).get(D);if(V)return V;{const Y=yield jc(b.appConfig.senderId);if(Y)return yield Ns(b,Y),Y}})).apply(this,arguments)}function Ns(b,D){return qn.apply(this,arguments)}function qn(){return(qn=(0,P.Z)(function*(b,D){const M=Co(b),Y=(yield uu()).transaction(Pt,"readwrite");return yield Y.objectStore(Pt).put(D,M),yield Y.complete,D})).apply(this,arguments)}function nr(b){return si.apply(this,arguments)}function si(){return(si=(0,P.Z)(function*(b){const D=Co(b),V=(yield uu()).transaction(Pt,"readwrite");yield V.objectStore(Pt).delete(D),yield V.complete})).apply(this,arguments)}function Co({appConfig:b}){return b.appId}const Ht=new re.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function du(b,D){return kr.apply(this,arguments)}function kr(){return(kr=(0,P.Z)(function*(b,D){const M=yield rr(b),V=ua(D),Y={method:"POST",headers:M,body:JSON.stringify(V)};let ne;try{ne=yield(yield fetch(lt(b.appConfig),Y)).json()}catch(De){throw Ht.create("token-subscribe-failed",{errorInfo:De})}if(ne.error)throw Ht.create("token-subscribe-failed",{errorInfo:ne.error.message});if(!ne.token)throw Ht.create("token-subscribe-no-token");return ne.token})).apply(this,arguments)}function Hc(b,D){return dr.apply(this,arguments)}function dr(){return(dr=(0,P.Z)(function*(b,D){const M=yield rr(b),V=ua(D.subscriptionOptions),Y={method:"PATCH",headers:M,body:JSON.stringify(V)};let ne;try{ne=yield(yield fetch(`${lt(b.appConfig)}/${D.token}`,Y)).json()}catch(De){throw Ht.create("token-update-failed",{errorInfo:De})}if(ne.error)throw Ht.create("token-update-failed",{errorInfo:ne.error.message});if(!ne.token)throw Ht.create("token-update-no-token");return ne.token})).apply(this,arguments)}function ks(b,D){return es.apply(this,arguments)}function es(){return(es=(0,P.Z)(function*(b,D){const V={method:"DELETE",headers:yield rr(b)};try{const ne=yield(yield fetch(`${lt(b.appConfig)}/${D}`,V)).json();if(ne.error)throw Ht.create("token-unsubscribe-failed",{errorInfo:ne.error.message})}catch(Y){throw Ht.create("token-unsubscribe-failed",{errorInfo:Y})}})).apply(this,arguments)}function lt({projectId:b}){return`https://fcmregistrations.googleapis.com/v1/projects/${b}/registrations`}function rr(b){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,P.Z)(function*({appConfig:b,installations:D}){const M=yield D.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":b.apiKey,"x-goog-firebase-installations-auth":`FIS ${M}`})})).apply(this,arguments)}function ua({p256dh:b,auth:D,endpoint:M,vapidKey:V}){const Y={web:{endpoint:M,auth:D,p256dh:b}};return V!==xi&&(Y.web.applicationPubKey=V),Y}const bo=6048e5;function Fs(b){return wo.apply(this,arguments)}function wo(){return(wo=(0,P.Z)(function*(b){const D=yield Us(b.swRegistration,b.vapidKey),M={vapidKey:b.vapidKey,swScope:b.swRegistration.scope,endpoint:D.endpoint,auth:zn(D.getKey("auth")),p256dh:zn(D.getKey("p256dh"))},V=yield on(b.firebaseDependencies);if(V){if(ts(V.subscriptionOptions,M))return Date.now()>=V.createTime+bo?St(b,{token:V.token,createTime:Date.now(),subscriptionOptions:M}):V.token;try{yield ks(b.firebaseDependencies,V.token)}catch(Y){console.warn(Y)}return hn(b.firebaseDependencies,M)}return hn(b.firebaseDependencies,M)})).apply(this,arguments)}function ul(b){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,P.Z)(function*(b){const D=yield on(b.firebaseDependencies);D&&(yield ks(b.firebaseDependencies,D.token),yield nr(b.firebaseDependencies));const M=yield b.swRegistration.pushManager.getSubscription();return!M||M.unsubscribe()})).apply(this,arguments)}function St(b,D){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,P.Z)(function*(b,D){try{const M=yield Hc(b.firebaseDependencies,D),V=Object.assign(Object.assign({},D),{token:M,createTime:Date.now()});return yield Ns(b.firebaseDependencies,V),M}catch(M){throw yield ul(b),M}})).apply(this,arguments)}function hn(b,D){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,P.Z)(function*(b,D){const V={token:yield du(b,D),createTime:Date.now(),subscriptionOptions:D};return yield Ns(b,V),V.token})).apply(this,arguments)}function Us(b,D){return mr.apply(this,arguments)}function mr(){return(mr=(0,P.Z)(function*(b,D){return(yield b.pushManager.getSubscription())||b.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:al(D)})})).apply(this,arguments)}function ts(b,D){return D.vapidKey===b.vapidKey&&D.endpoint===b.endpoint&&D.auth===b.auth&&D.p256dh===b.p256dh}function Do(b){const D={from:b.from,collapseKey:b.collapse_key,messageId:b.fcmMessageId};return function cl(b,D){if(!D.notification)return;b.notification={};const M=D.notification.title;M&&(b.notification.title=M);const V=D.notification.body;V&&(b.notification.body=V);const Y=D.notification.image;Y&&(b.notification.image=Y)}(D,b),function ca(b,D){!D.data||(b.data=D.data)}(D,b),function Vs(b,D){if(!D.fcmOptions)return;b.fcmOptions={};const M=D.fcmOptions.link;M&&(b.fcmOptions.link=M);const V=D.fcmOptions.analytics_label;V&&(b.fcmOptions.analyticsLabel=V)}(D,b),D}function Io(b){return"object"==typeof b&&!!b&&Ps in b}function jn(b,D){const M=[];for(let V=0;V<b.length;V++)M.push(b.charAt(V)),V<D.length&&M.push(D.charAt(V));return M.join("")}function Bs(b){return Ht.create("missing-app-config-values",{valueName:b})}jn("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),jn("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class ns{constructor(D,M,V){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Y=function oi(b){if(!b||!b.options)throw Bs("App Configuration Object");if(!b.name)throw Bs("App Name");const D=["projectId","apiKey","appId","messagingSenderId"],{options:M}=b;for(const V of D)if(!M[V])throw Bs(V);return{appName:b.name,projectId:M.projectId,apiKey:M.apiKey,appId:M.appId,senderId:M.messagingSenderId}}(D);this.firebaseDependencies={app:D,appConfig:Y,installations:M,analyticsProvider:V}}_delete(){return Promise.resolve()}}function Fr(b){return dl.apply(this,arguments)}function dl(){return(dl=(0,P.Z)(function*(b){try{b.swRegistration=yield navigator.serviceWorker.register(Bc,{scope:au}),b.swRegistration.update().catch(()=>{})}catch(D){throw Ht.create("failed-service-worker-registration",{browserErrorMessage:D.message})}})).apply(this,arguments)}function da(b,D){return js.apply(this,arguments)}function js(){return(js=(0,P.Z)(function*(b,D){if(!D&&!b.swRegistration&&(yield Fr(b)),D||!b.swRegistration){if(!(D instanceof ServiceWorkerRegistration))throw Ht.create("invalid-sw-registration");b.swRegistration=D}})).apply(this,arguments)}function hl(b,D){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,P.Z)(function*(b,D){D?b.vapidKey=D:b.vapidKey||(b.vapidKey=xi)})).apply(this,arguments)}function Hs(){return(Hs=(0,P.Z)(function*(b,D){if(!navigator)throw Ht.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Ht.create("permission-blocked");return yield hl(b,null==D?void 0:D.vapidKey),yield da(b,null==D?void 0:D.serviceWorkerRegistration),Fs(b)})).apply(this,arguments)}function fl(b,D,M){return To.apply(this,arguments)}function To(){return(To=(0,P.Z)(function*(b,D,M){const V=$c(D);(yield b.firebaseDependencies.analyticsProvider.get()).logEvent(V,{message_id:M[Ps],message_name:M[Rs],message_time:M[_o],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function $c(b){switch(b){case Ri.NOTIFICATION_CLICKED:return"notification_open";case Ri.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function fa(){return(fa=(0,P.Z)(function*(b,D){const M=D.data;if(!M.isFirebaseMessaging)return;b.onMessageHandler&&M.messageType===Ri.PUSH_RECEIVED&&("function"==typeof b.onMessageHandler?b.onMessageHandler(Do(M)):b.onMessageHandler.next(Do(M)));const V=M.data;Io(V)&&"1"===V[Pi]&&(yield fl(b,M.messageType,V))})).apply(this,arguments)}const pa="@firebase/messaging",ga=b=>{const D=new ns(b.getProvider("app").getImmediate(),b.getProvider("installations-internal").getImmediate(),b.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",M=>function $s(b,D){return fa.apply(this,arguments)}(D,M)),D},ma=b=>{const D=b.getProvider("messaging").getImmediate();return{getToken:V=>function ha(b,D){return Hs.apply(this,arguments)}(D,V)}};function Zc(){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,P.Z)(function*(){try{yield(0,re.eu)()}catch(b){return!1}return"undefined"!=typeof window&&(0,re.hl)()&&(0,re.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function hu(){(0,ee._registerComponent)(new me.wA("messaging",ga,"PUBLIC")),(0,ee._registerComponent)(new me.wA("messaging-internal",ma,"PRIVATE")),(0,ee.registerVersion)(pa,"0.9.12"),(0,ee.registerVersion)(pa,"0.9.12","esm2017")}();const rs="analytics",Ao="firebase_id",Gc="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",gl="https://www.googletagmanager.com/gtag/js",_n=new se.Yd("@firebase/analytics");function is(b){return Promise.all(b.map(D=>D.catch(M=>M)))}function Mh(b,D){const M=document.createElement("script");M.src=`${gl}?l=${b}&id=${D}`,M.async=!0,document.head.appendChild(M)}function So(b,D,M,V,Y,ne){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,P.Z)(function*(b,D,M,V,Y,ne){const De=V[Y];try{if(De)yield D[De];else{const dt=(yield is(M)).find(pt=>pt.measurementId===Y);dt&&(yield D[dt.appId])}}catch(We){_n.error(We)}b("config",Y,ne)})).apply(this,arguments)}function Ph(b,D,M,V,Y){return ss.apply(this,arguments)}function ss(){return(ss=(0,P.Z)(function*(b,D,M,V,Y){try{let ne=[];if(Y&&Y.send_to){let De=Y.send_to;Array.isArray(De)||(De=[De]);const We=yield is(M);for(const dt of De){const pt=We.find(yt=>yt.measurementId===dt),Tt=pt&&D[pt.appId];if(!Tt){ne=[];break}ne.push(Tt)}}0===ne.length&&(ne=Object.values(D)),yield Promise.all(ne),b("event",V,Y||{})}catch(ne){_n.error(ne)}})).apply(this,arguments)}function ml(){const b=window.document.getElementsByTagName("script");for(const D of Object.values(b))if(D.src&&D.src.includes(gl))return D;return null}const Jt=new re.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Ws=new class qc{constructor(D={},M=1e3){this.throttleMetadata=D,this.intervalMillis=M}getThrottleMetadata(D){return this.throttleMetadata[D]}setThrottleMetadata(D,M){this.throttleMetadata[D]=M}deleteThrottleMetadata(D){delete this.throttleMetadata[D]}};function Yc(b){return new Headers({Accept:"application/json","x-goog-api-key":b})}function Mo(b){return ki.apply(this,arguments)}function ki(){return(ki=(0,P.Z)(function*(b){var D;const{appId:M,apiKey:V}=b,Y={method:"GET",headers:Yc(V)},ne=Gc.replace("{app-id}",M),De=yield fetch(ne,Y);if(200!==De.status&&304!==De.status){let We="";try{const dt=yield De.json();(null===(D=dt.error)||void 0===D?void 0:D.message)&&(We=dt.error.message)}catch(dt){}throw Jt.create("config-fetch-failed",{httpStatus:De.status,responseMessage:We})}return De.json()})).apply(this,arguments)}function yi(b){return $n.apply(this,arguments)}function $n(){return($n=(0,P.Z)(function*(b,D=Ws,M){const{appId:V,apiKey:Y,measurementId:ne}=b.options;if(!V)throw Jt.create("no-app-id");if(!Y){if(ne)return{measurementId:ne,appId:V};throw Jt.create("no-api-key")}const De=D.getThrottleMetadata(V)||{backoffCount:0,throttleEndTimeMillis:Date.now()},We=new zs;return setTimeout((0,P.Z)(function*(){We.abort()}),void 0!==M?M:6e4),ft({appId:V,apiKey:Y,measurementId:ne},De,We,D)})).apply(this,arguments)}function ft(b,D,M){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,P.Z)(function*(b,{throttleEndTimeMillis:D,backoffCount:M},V,Y=Ws){const{appId:ne,measurementId:De}=b;try{yield Kc(V,D)}catch(We){if(De)return _n.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${De} provided in the "measurementId" field in the local Firebase config. [${We.message}]`),{appId:ne,measurementId:De};throw We}try{const We=yield Mo(b);return Y.deleteThrottleMetadata(ne),We}catch(We){if(!gu(We)){if(Y.deleteThrottleMetadata(ne),De)return _n.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${De} provided in the "measurementId" field in the local Firebase config. [${We.message}]`),{appId:ne,measurementId:De};throw We}const dt=503===Number(We.customData.httpStatus)?(0,re.$s)(M,Y.intervalMillis,30):(0,re.$s)(M,Y.intervalMillis),pt={throttleEndTimeMillis:Date.now()+dt,backoffCount:M+1};return Y.setThrottleMetadata(ne,pt),_n.debug(`Calling attemptFetch again in ${dt} millis`),ft(b,pt,V,Y)}})).apply(this,arguments)}function Kc(b,D){return new Promise((M,V)=>{const Y=Math.max(D-Date.now(),0),ne=setTimeout(M,Y);b.addEventListener(()=>{clearTimeout(ne),V(Jt.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}function gu(b){if(!(b instanceof re.ZR&&b.customData))return!1;const D=Number(b.customData.httpStatus);return 429===D||500===D||503===D||504===D}class zs{constructor(){this.listeners=[]}addEventListener(D){this.listeners.push(D)}abort(){this.listeners.forEach(D=>D())}}function _l(){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,P.Z)(function*(){if(!(0,re.hl)())return _n.warn(Jt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,re.eu)()}catch(b){return _n.warn(Jt.create("indexeddb-unavailable",{errorInfo:b}).message),!1}return!0})).apply(this,arguments)}function _r(){return(_r=(0,P.Z)(function*(b,D,M,V,Y,ne,De){var We;const dt=yi(b);dt.then(en=>{M[en.measurementId]=en.appId,b.options.measurementId&&en.measurementId!==b.options.measurementId&&_n.warn(`The measurement ID in the local Firebase config (${b.options.measurementId}) does not match the measurement ID fetched from the server (${en.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(en=>_n.error(en)),D.push(dt);const pt=_l().then(en=>{if(en)return V.getId()}),[Tt,yt]=yield Promise.all([dt,pt]);ml()||Mh(ne,Tt.measurementId),Y("js",new Date);const On=null!==(We=null==De?void 0:De.config)&&void 0!==We?We:{};return On.origin="firebase",On.update=!0,null!=yt&&(On[Ao]=yt),Y("config",Tt.measurementId,On),Tt.measurementId})).apply(this,arguments)}class ba{constructor(D){this.app=D}_delete(){return delete Ur[this.app.options.appId],Promise.resolve()}}let Ur={},yl=[];const vl={};let ai,Li,xo="dataLayer",yn=!1;function Vr(b,D,M){!function mu(){const b=[];if((0,re.ru)()&&b.push("This is a browser extension environment."),(0,re.zI)()||b.push("Cookies are not available."),b.length>0){const D=b.map((V,Y)=>`(${Y+1}) ${V}`).join(" "),M=Jt.create("invalid-analytics-context",{errorInfo:D});_n.warn(M.message)}}();const V=b.options.appId;if(!V)throw Jt.create("no-app-id");if(!b.options.apiKey){if(!b.options.measurementId)throw Jt.create("no-api-key");_n.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${b.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ur[V])throw Jt.create("already-exists",{id:V});if(!yn){!function xh(b){let D=[];Array.isArray(window[b])?D=window[b]:window[b]=D}(xo);const{wrappedGtag:ne,gtagCore:De}=function Oh(b,D,M,V,Y){let ne=function(...De){window[V].push(arguments)};return window[Y]&&"function"==typeof window[Y]&&(ne=window[Y]),window[Y]=function Rh(b,D,M,V){function ne(){return(ne=(0,P.Z)(function*(De,We,dt){try{"event"===De?yield Ph(b,D,M,We,dt):"config"===De?yield So(b,D,M,V,We,dt):b("set",We)}catch(pt){_n.error(pt)}})).apply(this,arguments)}return function Y(De,We,dt){return ne.apply(this,arguments)}}(ne,b,D,M),{gtagCore:ne,wrappedGtag:window[Y]}}(Ur,yl,vl,xo,"gtag");Li=ne,ai=De,yn=!0}return Ur[V]=function Lr(b,D,M,V,Y,ne,De){return _r.apply(this,arguments)}(b,yl,vl,D,ai,xo,M),new ba(b)}function En(){return(En=(0,P.Z)(function*(b,D,M,V,Y){if(Y&&Y.global)b("event",M,V);else{const ne=yield D;b("event",M,Object.assign(Object.assign({},V),{send_to:ne}))}})).apply(this,arguments)}function Xt(){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,P.Z)(function*(){if((0,re.ru)()||!(0,re.zI)()||!(0,re.hl)())return!1;try{return yield(0,re.eu)()}catch(b){return!1}})).apply(this,arguments)}const Da="@firebase/analytics";!function Qc(){(0,ee._registerComponent)(new me.wA(rs,(D,{options:M})=>Vr(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),M),"PUBLIC")),(0,ee._registerComponent)(new me.wA("analytics-internal",function b(D){try{const M=D.getProvider(rs).getImmediate();return{logEvent:(V,Y,ne)=>function Cu(b,D,M,V){b=(0,re.m9)(b),function as(b,D,M,V,Y){return En.apply(this,arguments)}(Li,Ur[b.app.options.appId],D,M,V).catch(Y=>_n.error(Y))}(M,V,Y,ne)}}catch(M){throw Jt.create("interop-component-reg-failed",{reason:M})}},"PRIVATE")),(0,ee.registerVersion)(Da,"0.7.8"),(0,ee.registerVersion)(Da,"0.7.8","esm2017")}();var xn=O(4408),cs=O(7565);const Eu=new class Jc extends cs.v{}(class Ro extends xn.o{constructor(D,M){super(D,M),this.scheduler=D,this.work=M}schedule(D,M=0){return M>0?super.schedule(D,M):(this.delay=M,this.state=D,this.scheduler.flush(this),this)}execute(D,M){return M>0||this.closed?super.execute(D,M):this._execute(D,M)}requestAsyncId(D,M,V=0){return null!=V&&V>0||null==V&&this.delay>0?super.requestAsyncId(D,M,V):D.flush(this)}});var an=O(4986),Ia=O(8306),Ta=O(8505),Ks=O(9468),ds=O(5363);const bl=new l.GfV("7.3.0"),ji="__angularfire_symbol__analyticsIsSupportedValue",Oo="__angularfire_symbol__analyticsIsSupported",bu="__angularfire_symbol__remoteConfigIsSupportedValue",Qs="__angularfire_symbol__remoteConfigIsSupported",sr="__angularfire_symbol__messagingIsSupportedValue",Aa="__angularfire_symbol__messagingIsSupported";function Xc(b,D,M){if(D){if(1===D.length)return D[0];const ne=D.filter(De=>De.app===M);if(1===ne.length)return ne[0]}return M.container.getProvider(b).getImmediate({optional:!0})}globalThis[Oo]||(globalThis[Oo]=Xt().then(b=>globalThis[ji]=b).catch(()=>globalThis[ji]=!1)),globalThis[Aa]||(globalThis[Aa]=Zc().then(b=>globalThis[sr]=b).catch(()=>globalThis[sr]=!1)),globalThis[Qs]||(globalThis[Qs]=sl().then(b=>globalThis[bu]=b).catch(()=>globalThis[bu]=!1));const ed=(b,D)=>{const M=D?[D]:(0,j.C6)(),V=[];return M.forEach(Y=>{Y.container.getProvider(b).instances.forEach(De=>{V.includes(De)||V.push(De)})}),V};function fs(){}class wu{constructor(D,M=Eu){this.zone=D,this.delegate=M}now(){return this.delegate.now()}schedule(D,M,V){const Y=this.zone;return this.delegate.schedule(function(De){Y.runGuarded(()=>{D.apply(this,[De])})},M,V)}}class Sa{constructor(D){this.zone=D,this.task=null}call(D,M){const V=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",fs,{},fs,fs)),M.pipe((0,Ta.b)({next:V,complete:V,error:V})).subscribe(D).add(V)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let wl=(()=>{class b{constructor(M){this.ngZone=M,this.outsideAngular=M.runOutsideAngular(()=>new wu(Zone.current)),this.insideAngular=M.run(()=>new wu(Zone.current,an.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return b.\u0275fac=function(M){return new(M||b)(l.LFG(l.R0b))},b.\u0275prov=l.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),b})();function yr(){const b=globalThis.\u0275AngularFireScheduler;if(!b)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return b}function Ma(b){return yr().ngZone.runOutsideAngular(()=>b())}function hr(b){return yr().ngZone.run(()=>b())}function ps(b){return yr(),function Js(b){return function(M){return(M=M.lift(new Sa(b.ngZone))).pipe((0,Ks.R)(b.outsideAngular),(0,ds.Q)(b.insideAngular))}}(yr())(b)}const td=(b,D)=>function(){const V=arguments;return D&&setTimeout(()=>{"scheduled"===D.state&&D.invoke()},10),hr(()=>b.apply(void 0,V))},xa=(b,D)=>function(){let M;const V=arguments;for(let ne=0;ne<arguments.length;ne++)"function"==typeof V[ne]&&(D&&(M||(M=hr(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",fs,{},fs,fs)))),V[ne]=td(V[ne],M));const Y=Ma(()=>b.apply(this,V));if(!D){if(Y instanceof Ia.y){const ne=yr();return Y.pipe((0,Ks.R)(ne.outsideAngular),(0,ds.Q)(ne.insideAngular))}return hr(()=>Y)}return Y instanceof Ia.y?Y.pipe(ps):Y instanceof Promise?hr(()=>new Promise((ne,De)=>Y.then(We=>hr(()=>ne(We)),We=>hr(()=>De(We))))):"function"==typeof Y&&M?function(){return setTimeout(()=>{M&&"scheduled"===M.state&&M.invoke()},10),Y.apply(this,arguments)}:hr(()=>Y)}},9414:(Je,Ce,O)=>{O.d(Ce,{$:()=>ha,A:()=>st,E:()=>zr,G:()=>mo,I:()=>zn,K:()=>Nr,L:()=>Ns,M:()=>Co,N:()=>Xi,P:()=>b,Q:()=>Ht,R:()=>fs,T:()=>si,U:()=>dr,V:()=>ks,W:()=>ua,X:()=>ca,Y:()=>Io,Z:()=>oi,_:()=>dl,a:()=>yn,a0:()=>fl,a1:()=>$c,a2:()=>fa,a3:()=>pl,a4:()=>ma,a5:()=>Zc,a6:()=>Yn,a7:()=>mn,a8:()=>fu,a9:()=>Qp,aA:()=>Uh,aB:()=>Fo,aC:()=>Mn,aG:()=>Vr,aJ:()=>kr,aa:()=>rs,ab:()=>va,ae:()=>_n,af:()=>Mh,ag:()=>xh,aj:()=>Ee,ak:()=>Ea,am:()=>Kc,an:()=>_r,ao:()=>tr,ap:()=>qe,aq:()=>Zr,ar:()=>ii,as:()=>zt,at:()=>ku,au:()=>Ru,av:()=>An,aw:()=>Te,ax:()=>qt,ay:()=>Kt,az:()=>xu,b:()=>ai,c:()=>pt,d:()=>en,e:()=>yt,f:()=>Xp,g:()=>eg,h:()=>Lh,i:()=>cs,j:()=>ms,k:()=>Fu,l:()=>Ma,m:()=>Hh,o:()=>Vt,r:()=>No,s:()=>wl,u:()=>td,z:()=>Rr});var l=O(5861),j=O(2090),P=O(9681);function se(m,h){var p={};for(var v in m)Object.prototype.hasOwnProperty.call(m,v)&&h.indexOf(v)<0&&(p[v]=m[v]);if(null!=m&&"function"==typeof Object.getOwnPropertySymbols){var T=0;for(v=Object.getOwnPropertySymbols(m);T<v.length;T++)h.indexOf(v[T])<0&&Object.prototype.propertyIsEnumerable.call(m,v[T])&&(p[v[T]]=m[v[T]])}return p}var Me=O(1877),ae=O(4859);const Vt={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},st={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Rr=function cn(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ut=function Gt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ar=new j.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),In=new Me.Yd("@firebase/auth");function Fn(m,...h){In.logLevel<=Me.in.ERROR&&In.error(`Auth (${P.SDK_VERSION}): ${m}`,...h)}function zt(m,...h){throw Ln(m,...h)}function An(m,...h){return Ln(m,...h)}function mi(m,h,p){const v=Object.assign(Object.assign({},Ut()),{[h]:p});return new j.LL("auth","Firebase",v).create(h,{appName:m.name})}function lr(m,h,p){if(!(h instanceof p))throw p.name!==h.constructor.name&&zt(m,"argument-error"),mi(m,"argument-error",`Type of ${h.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ln(m,...h){if("string"!=typeof m){const p=h[0],v=[...h.slice(1)];return v[0]&&(v[0].appName=m.name),m._errorFactory.create(p,...v)}return ar.create(m,...h)}function Te(m,h,...p){if(!m)throw Ln(h,...p)}function Un(m){const h="INTERNAL ASSERTION FAILED: "+m;throw Fn(h),new Error(h)}function qe(m,h){m||Un(h)}const ur=new Map;function qt(m){qe(m instanceof Function,"Expected a class definition");let h=ur.get(m);return h?(qe(h instanceof m,"Instance stored in cache mismatched with class"),h):(h=new m,ur.set(m,h),h)}function Tr(){var m;return"undefined"!=typeof self&&(null===(m=self.location)||void 0===m?void 0:m.href)||""}function dn(){return"http:"===Cn()||"https:"===Cn()}function Cn(){var m;return"undefined"!=typeof self&&(null===(m=self.location)||void 0===m?void 0:m.protocol)||null}class Ct{constructor(h,p){this.shortDelay=h,this.longDelay=p,qe(p>h,"Short delay should be less than long delay!"),this.isMobile=(0,j.uI)()||(0,j.b$)()}get(){return function Ar(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(dn()||(0,j.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Qe(m,h){qe(m.emulator,"Emulator should always be set here");const{url:p}=m.emulator;return h?`${p}${h.startsWith("/")?h.slice(1):h}`:p}class et{static initialize(h,p,v){this.fetchImpl=h,p&&(this.headersImpl=p),v&&(this.responseImpl=v)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Un("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Un("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Un("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Hr={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},ri=new Ct(3e4,6e4);function rt(m,h){return m.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:m.tenantId}):h}function rn(m,h,p,v){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,l.Z)(function*(m,h,p,v,T={}){return Yt(m,T,(0,l.Z)(function*(){let x={},q={};v&&("GET"===h?q=v:x={body:JSON.stringify(v)});const fe=(0,j.xO)(Object.assign({key:m.config.apiKey},q)).slice(1),$e=yield m._getAdditionalHeaders();return $e["Content-Type"]="application/json",m.languageCode&&($e["X-Firebase-Locale"]=m.languageCode),et.fetch()(Le(m,m.config.apiHost,p,fe),Object.assign({method:h,headers:$e,referrerPolicy:"no-referrer"},x))}))})).apply(this,arguments)}function Yt(m,h,p){return tt.apply(this,arguments)}function tt(){return(tt=(0,l.Z)(function*(m,h,p){m._canInitEmulator=!1;const v=Object.assign(Object.assign({},Hr),h);try{const T=new ye(m),x=yield Promise.race([p(),T.promise]);T.clearNetworkTimeout();const q=yield x.json();if("needConfirmation"in q)throw He(m,"account-exists-with-different-credential",q);if(x.ok&&!("errorMessage"in q))return q;{const fe=x.ok?q.errorMessage:q.error.message,[$e,ke]=fe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===$e)throw He(m,"credential-already-in-use",q);if("EMAIL_EXISTS"===$e)throw He(m,"email-already-in-use",q);const ct=v[$e]||$e.toLowerCase().replace(/[_\s]+/g,"-");if(ke)throw mi(m,ct,ke);zt(m,ct)}}catch(T){if(T instanceof j.ZR)throw T;zt(m,"network-request-failed")}})).apply(this,arguments)}function Qt(m,h,p,v){return wt.apply(this,arguments)}function wt(){return(wt=(0,l.Z)(function*(m,h,p,v,T={}){const x=yield rn(m,h,p,v,T);return"mfaPendingCredential"in x&&zt(m,"multi-factor-auth-required",{_serverResponse:x}),x})).apply(this,arguments)}function Le(m,h,p,v){const T=`${h}${p}?${v}`;return m.config.emulator?Qe(m.config,T):`${m.config.apiScheme}://${T}`}class ye{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((p,v)=>{this.timer=setTimeout(()=>v(An(this.auth,"network-request-failed")),ri.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function He(m,h,p){const v={appName:m.name};p.email&&(v.email=p.email),p.phoneNumber&&(v.phoneNumber=p.phoneNumber);const T=An(m,h,v);return T.customData._tokenResponse=p,T}function At(){return(At=(0,l.Z)(function*(m,h){return rn(m,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function xt(m,h){return W.apply(this,arguments)}function W(){return(W=(0,l.Z)(function*(m,h){return rn(m,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function B(m,h){return z.apply(this,arguments)}function z(){return(z=(0,l.Z)(function*(m,h){return rn(m,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function ue(m){if(m)try{const h=new Date(Number(m));if(!isNaN(h.getTime()))return h.toUTCString()}catch(h){}}function U(){return(U=(0,l.Z)(function*(m,h=!1){const p=(0,j.m9)(m),v=yield p.getIdToken(h),T=xe(v);Te(T&&T.exp&&T.auth_time&&T.iat,p.auth,"internal-error");const x="object"==typeof T.firebase?T.firebase:void 0,q=null==x?void 0:x.sign_in_provider;return{claims:T,token:v,authTime:ue(ie(T.auth_time)),issuedAtTime:ue(ie(T.iat)),expirationTime:ue(ie(T.exp)),signInProvider:q||null,signInSecondFactor:(null==x?void 0:x.sign_in_second_factor)||null}})).apply(this,arguments)}function ie(m){return 1e3*Number(m)}function xe(m){const[h,p,v]=m.split(".");if(void 0===h||void 0===p||void 0===v)return Fn("JWT malformed, contained fewer than 3 sections"),null;try{const T=(0,j.tV)(p);return T?JSON.parse(T):(Fn("Failed to decode base64 JWT payload"),null)}catch(T){return Fn("Caught error parsing JWT payload as JSON",T),null}}function nt(m,h){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,l.Z)(function*(m,h,p=!1){if(p)return h;try{return yield h}catch(v){throw v instanceof j.ZR&&mt(v)&&m.auth.currentUser===m&&(yield m.auth.signOut()),v}})).apply(this,arguments)}function mt({code:m}){return"auth/user-disabled"===m||"auth/user-token-expired"===m}class pn{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var p;if(h){const v=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),v}{this.errorBackoff=3e4;const T=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,T)}}schedule(h=!1){var p=this;if(!this.isRunning)return;const v=this.getInterval(h);this.timerId=setTimeout((0,l.Z)(function*(){yield p.iteration()}),v)}iteration(){var h=this;return(0,l.Z)(function*(){try{yield h.user.getIdToken(!0)}catch(p){return void("auth/network-request-failed"===p.code&&h.schedule(!0))}h.schedule()})()}}class Bn{constructor(h,p){this.createdAt=h,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=ue(this.lastLoginAt),this.creationTime=ue(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Dt(m){return cr.apply(this,arguments)}function cr(){return(cr=(0,l.Z)(function*(m){var h;const p=m.auth,v=yield m.getIdToken(),T=yield nt(m,B(p,{idToken:v}));Te(null==T?void 0:T.users.length,p,"internal-error");const x=T.users[0];m._notifyReloadListener(x);const q=(null===(h=x.providerUserInfo)||void 0===h?void 0:h.length)?Or(x.providerUserInfo):[],fe=ra(m.providerData,q),ct=!!m.isAnonymous&&!(m.email&&x.passwordHash||(null==fe?void 0:fe.length)),$t={uid:x.localId,displayName:x.displayName||null,photoURL:x.photoUrl||null,email:x.email||null,emailVerified:x.emailVerified||!1,phoneNumber:x.phoneNumber||null,tenantId:x.tenantId||null,providerData:fe,metadata:new Bn(x.createdAt,x.lastLoginAt),isAnonymous:ct};Object.assign(m,$t)})).apply(this,arguments)}function Rn(){return(Rn=(0,l.Z)(function*(m){const h=(0,j.m9)(m);yield Dt(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function ra(m,h){return[...m.filter(v=>!h.some(T=>T.providerId===v.providerId)),...h]}function Or(m){return m.map(h=>{var{providerId:p}=h,v=se(h,["providerId"]);return{providerId:p,uid:v.rawId||"",displayName:v.displayName||null,email:v.email||null,phoneNumber:v.phoneNumber||null,photoURL:v.photoUrl||null}})}function Et(){return(Et=(0,l.Z)(function*(m,h){const p=yield Yt(m,{},(0,l.Z)(function*(){const v=(0,j.xO)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:T,apiKey:x}=m.config,q=Le(m,T,"/v1/token",`key=${x}`),fe=yield m._getAdditionalHeaders();return fe["Content-Type"]="application/x-www-form-urlencoded",et.fetch()(q,{method:"POST",headers:fe,body:v})}));return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}class jt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){Te(h.idToken,"internal-error"),Te(void 0!==h.idToken,"internal-error"),Te(void 0!==h.refreshToken,"internal-error");const p="expiresIn"in h&&void 0!==h.expiresIn?Number(h.expiresIn):function Be(m){const h=xe(m);return Te(h,"internal-error"),Te(void 0!==h.exp,"internal-error"),Te(void 0!==h.iat,"internal-error"),Number(h.exp)-Number(h.iat)}(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,p)}getToken(h,p=!1){var v=this;return(0,l.Z)(function*(){return Te(!v.accessToken||v.refreshToken,h,"user-token-expired"),p||!v.accessToken||v.isExpired?v.refreshToken?(yield v.refresh(h,v.refreshToken),v.accessToken):null:v.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,p){var v=this;return(0,l.Z)(function*(){const{accessToken:T,refreshToken:x,expiresIn:q}=yield function je(m,h){return Et.apply(this,arguments)}(h,p);v.updateTokensAndExpiration(T,x,Number(q))})()}updateTokensAndExpiration(h,p,v){this.refreshToken=p||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*v}static fromJSON(h,p){const{refreshToken:v,accessToken:T,expirationTime:x}=p,q=new jt;return v&&(Te("string"==typeof v,"internal-error",{appName:h}),q.refreshToken=v),T&&(Te("string"==typeof T,"internal-error",{appName:h}),q.accessToken=T),x&&(Te("number"==typeof x,"internal-error",{appName:h}),q.expirationTime=x),q}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new jt,this.toJSON())}_performRefresh(){return Un("not implemented")}}function Tn(m,h){Te("string"==typeof m||void 0===m,"internal-error",{appName:h})}class br{constructor(h){var{uid:p,auth:v,stsTokenManager:T}=h,x=se(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new pn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=v,this.stsTokenManager=T,this.accessToken=T.accessToken,this.displayName=x.displayName||null,this.email=x.email||null,this.emailVerified=x.emailVerified||!1,this.phoneNumber=x.phoneNumber||null,this.photoURL=x.photoURL||null,this.isAnonymous=x.isAnonymous||!1,this.tenantId=x.tenantId||null,this.providerData=x.providerData?[...x.providerData]:[],this.metadata=new Bn(x.createdAt||void 0,x.lastLoginAt||void 0)}getIdToken(h){var p=this;return(0,l.Z)(function*(){const v=yield nt(p,p.stsTokenManager.getToken(p.auth,h));return Te(v,p.auth,"internal-error"),p.accessToken!==v&&(p.accessToken=v,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),v})()}getIdTokenResult(h){return function F(m){return U.apply(this,arguments)}(this,h)}reload(){return function $r(m){return Rn.apply(this,arguments)}(this)}_assign(h){this!==h&&(Te(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(p=>Object.assign({},p)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){return new br(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(h){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,p=!1){var v=this;return(0,l.Z)(function*(){let T=!1;h.idToken&&h.idToken!==v.stsTokenManager.accessToken&&(v.stsTokenManager.updateFromServerResponse(h),T=!0),p&&(yield Dt(v)),yield v.auth._persistUserIfCurrent(v),T&&v.auth._notifyListenersIfCurrent(v)})()}delete(){var h=this;return(0,l.Z)(function*(){const p=yield h.getIdToken();return yield nt(h,function ot(m,h){return At.apply(this,arguments)}(h.auth,{idToken:p})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,p){var v,T,x,q,fe,$e,ke,ct;const $t=null!==(v=p.displayName)&&void 0!==v?v:void 0,Zt=null!==(T=p.email)&&void 0!==T?T:void 0,tn=null!==(x=p.phoneNumber)&&void 0!==x?x:void 0,ys=null!==(q=p.photoURL)&&void 0!==q?q:void 0,Vu=null!==(fe=p.tenantId)&&void 0!==fe?fe:void 0,dd=null!==($e=p._redirectEventId)&&void 0!==$e?$e:void 0,Ye=null!==(ke=p.createdAt)&&void 0!==ke?ke:void 0,Zn=null!==(ct=p.lastLoginAt)&&void 0!==ct?ct:void 0,{uid:ka,emailVerified:Vo,isAnonymous:Sr,providerData:Ei,stsTokenManager:hd}=p;Te(ka&&hd,h,"internal-error");const fd=jt.fromJSON(this.name,hd);Te("string"==typeof ka,h,"internal-error"),Tn($t,h.name),Tn(Zt,h.name),Te("boolean"==typeof Vo,h,"internal-error"),Te("boolean"==typeof Sr,h,"internal-error"),Tn(tn,h.name),Tn(ys,h.name),Tn(Vu,h.name),Tn(dd,h.name),Tn(Ye,h.name),Tn(Zn,h.name);const bi=new br({uid:ka,auth:h,email:Zt,emailVerified:Vo,displayName:$t,isAnonymous:Sr,photoURL:ys,phoneNumber:tn,tenantId:Vu,stsTokenManager:fd,createdAt:Ye,lastLoginAt:Zn});return Ei&&Array.isArray(Ei)&&(bi.providerData=Ei.map(Zh=>Object.assign({},Zh))),dd&&(bi._redirectEventId=dd),bi}static _fromIdTokenResponse(h,p,v=!1){return(0,l.Z)(function*(){const T=new jt;T.updateFromServerResponse(p);const x=new br({uid:p.localId,auth:h,stsTokenManager:T,isAnonymous:v});return yield Dt(x),x})()}}const Nr=(()=>{class m{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,l.Z)(function*(){return!0})()}_set(p,v){var T=this;return(0,l.Z)(function*(){T.storage[p]=v})()}_get(p){var v=this;return(0,l.Z)(function*(){const T=v.storage[p];return void 0===T?null:T})()}_remove(p){var v=this;return(0,l.Z)(function*(){delete v.storage[p]})()}_addListener(p,v){}_removeListener(p,v){}}return m.type="NONE",m})();function Kt(m,h,p){return`firebase:${m}:${h}:${p}`}class gn{constructor(h,p,v){this.persistence=h,this.auth=p,this.userKey=v;const{config:T,name:x}=this.auth;this.fullUserKey=Kt(this.userKey,T.apiKey,x),this.fullPersistenceKey=Kt("persistence",T.apiKey,x),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,l.Z)(function*(){const p=yield h.persistence._get(h.fullUserKey);return p?br._fromJSON(h.auth,p):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var p=this;return(0,l.Z)(function*(){if(p.persistence===h)return;const v=yield p.getCurrentUser();return yield p.removeCurrentUser(),p.persistence=h,v?p.setCurrentUser(v):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,p,v="authUser"){return(0,l.Z)(function*(){if(!p.length)return new gn(qt(Nr),h,v);const T=(yield Promise.all(p.map(function(){var ke=(0,l.Z)(function*(ct){if(yield ct._isAvailable())return ct});return function(ct){return ke.apply(this,arguments)}}()))).filter(ke=>ke);let x=T[0]||qt(Nr);const q=Kt(v,h.config.apiKey,h.name);let fe=null;for(const ke of p)try{const ct=yield ke._get(q);if(ct){const $t=br._fromJSON(h,ct);ke!==x&&(fe=$t),x=ke;break}}catch(ct){}const $e=T.filter(ke=>ke._shouldAllowMigration);return x._shouldAllowMigration&&$e.length?(x=$e[0],fe&&(yield x._set(q,fe.toJSON())),yield Promise.all(p.map(function(){var ke=(0,l.Z)(function*(ct){if(ct!==x)try{yield ct._remove(q)}catch($t){}});return function(ct){return ke.apply(this,arguments)}}())),new gn(x,h,v)):new gn(x,h,v)})()}}function Yi(m){const h=m.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(ia(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(_t(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(Sn(h))return"Blackberry";if(Qi(h))return"Webos";if(Ki(h))return"Safari";if((h.includes("chrome/")||_i(h))&&!h.includes("edge/"))return"Chrome";if(ii(h))return"Android";{const v=m.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==v?void 0:v.length))return v[1]}return"Other"}function _t(m=(0,j.z$)()){return/firefox\//i.test(m)}function Ki(m=(0,j.z$)()){const h=m.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function _i(m=(0,j.z$)()){return/crios\//i.test(m)}function ia(m=(0,j.z$)()){return/iemobile/i.test(m)}function ii(m=(0,j.z$)()){return/android/i.test(m)}function Sn(m=(0,j.z$)()){return/blackberry/i.test(m)}function Qi(m=(0,j.z$)()){return/webos/i.test(m)}function Zr(m=(0,j.z$)()){return/iphone|ipad|ipod/i.test(m)}function tr(m=(0,j.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(m)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(m)}function tl(m=(0,j.z$)()){return Zr(m)||ii(m)||Qi(m)||Sn(m)||/windows phone/i.test(m)||ia(m)}function Gr(m,h=[]){let p;switch(m){case"Browser":p=Yi((0,j.z$)());break;case"Worker":p=`${Yi((0,j.z$)())}-${m}`;break;default:p=m}const v=h.length?h.join(","):"FirebaseCore-web";return`${p}/JsCore/${P.SDK_VERSION}/${v}`}class nu{constructor(h,p,v){this.app=h,this.heartbeatServiceProvider=p,this.config=v,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new go(this),this.idTokenSubscription=new go(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ar,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=v.sdkClientVersion}_initializeWithPersistence(h,p){var v=this;return p&&(this._popupRedirectResolver=qt(p)),this._initializationPromise=this.queue((0,l.Z)(function*(){var T,x;if(!v._deleted&&(v.persistenceManager=yield gn.create(v,h),!v._deleted)){if(null===(T=v._popupRedirectResolver)||void 0===T?void 0:T._shouldInitProactively)try{yield v._popupRedirectResolver._initialize(v)}catch(q){}yield v.initializeCurrentUser(p),v.lastNotifiedUid=(null===(x=v.currentUser)||void 0===x?void 0:x.uid)||null,!v._deleted&&(v._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,l.Z)(function*(){if(h._deleted)return;const p=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||p){if(h.currentUser&&p&&h.currentUser.uid===p.uid)return h._currentUser._assign(p),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(p)}})()}initializeCurrentUser(h){var p=this;return(0,l.Z)(function*(){var v;let T=yield p.assertedPersistence.getCurrentUser();if(h&&p.config.authDomain){yield p.getOrInitRedirectPersistenceManager();const x=null===(v=p.redirectUser)||void 0===v?void 0:v._redirectEventId,q=null==T?void 0:T._redirectEventId,fe=yield p.tryRedirectSignIn(h);(!x||x===q)&&(null==fe?void 0:fe.user)&&(T=fe.user)}return T?T._redirectEventId?(Te(p._popupRedirectResolver,p,"argument-error"),yield p.getOrInitRedirectPersistenceManager(),p.redirectUser&&p.redirectUser._redirectEventId===T._redirectEventId?p.directlySetCurrentUser(T):p.reloadAndSetCurrentUserOrClear(T)):p.reloadAndSetCurrentUserOrClear(T):p.directlySetCurrentUser(null)})()}tryRedirectSignIn(h){var p=this;return(0,l.Z)(function*(){let v=null;try{v=yield p._popupRedirectResolver._completeRedirectFn(p,h,!0)}catch(T){yield p._setRedirectUser(null)}return v})()}reloadAndSetCurrentUserOrClear(h){var p=this;return(0,l.Z)(function*(){try{yield Dt(h)}catch(v){if("auth/network-request-failed"!==v.code)return p.directlySetCurrentUser(null)}return p.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function Ms(){if("undefined"==typeof navigator)return null;const m=navigator;return m.languages&&m.languages[0]||m.language||null}()}_delete(){var h=this;return(0,l.Z)(function*(){h._deleted=!0})()}updateCurrentUser(h){var p=this;return(0,l.Z)(function*(){const v=h?(0,j.m9)(h):null;return v&&Te(v.auth.config.apiKey===p.config.apiKey,p,"invalid-user-token"),p._updateCurrentUser(v&&v._clone(p))})()}_updateCurrentUser(h){var p=this;return(0,l.Z)(function*(){if(!p._deleted)return h&&Te(p.tenantId===h.tenantId,p,"tenant-id-mismatch"),p.queue((0,l.Z)(function*(){yield p.directlySetCurrentUser(h),p.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,l.Z)(function*(){return(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null)})()}setPersistence(h){var p=this;return this.queue((0,l.Z)(function*(){yield p.assertedPersistence.setPersistence(qt(h))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new j.LL("auth","Firebase",h())}onAuthStateChanged(h,p,v){return this.registerStateListener(this.authStateSubscription,h,p,v)}onIdTokenChanged(h,p,v){return this.registerStateListener(this.idTokenSubscription,h,p,v)}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,p){var v=this;return(0,l.Z)(function*(){const T=yield v.getOrInitRedirectPersistenceManager(p);return null===h?T.removeCurrentUser():T.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var p=this;return(0,l.Z)(function*(){if(!p.redirectPersistenceManager){const v=h&&qt(h)||p._popupRedirectResolver;Te(v,p,"argument-error"),p.redirectPersistenceManager=yield gn.create(p,[qt(v._redirectPersistence)],"redirectUser"),p.redirectUser=yield p.redirectPersistenceManager.getCurrentUser()}return p.redirectPersistenceManager})()}_redirectUserForId(h){var p=this;return(0,l.Z)(function*(){var v,T;return p._isInitialized&&(yield p.queue((0,l.Z)(function*(){}))),(null===(v=p._currentUser)||void 0===v?void 0:v._redirectEventId)===h?p._currentUser:(null===(T=p.redirectUser)||void 0===T?void 0:T._redirectEventId)===h?p.redirectUser:null})()}_persistUserIfCurrent(h){var p=this;return(0,l.Z)(function*(){if(h===p.currentUser)return p.queue((0,l.Z)(function*(){return p.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const v=null!==(p=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==p?p:null;this.lastNotifiedUid!==v&&(this.lastNotifiedUid=v,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,p,v,T){if(this._deleted)return()=>{};const x="function"==typeof p?p:p.next.bind(p),q=this._isInitialized?Promise.resolve():this._initializationPromise;return Te(q,this,"internal-error"),q.then(()=>x(this.currentUser)),"function"==typeof p?h.addObserver(p,v,T):h.addObserver(p)}directlySetCurrentUser(h){var p=this;return(0,l.Z)(function*(){p.currentUser&&p.currentUser!==h&&(p._currentUser._stopProactiveRefresh(),h&&p.isProactiveRefreshEnabled&&h._startProactiveRefresh()),p.currentUser=h,h?yield p.assertedPersistence.setCurrentUser(h):yield p.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=Gr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,l.Z)(function*(){var p;const v={"X-Client-Version":h.clientVersion};h.app.options.appId&&(v["X-Firebase-gmpid"]=h.app.options.appId);const T=yield null===(p=h.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getHeartbeatsHeader();return T&&(v["X-Firebase-Client"]=T),v})()}}function Mn(m){return(0,j.m9)(m)}class go{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,j.ne)(p=>this.observer=p)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function zr(m,h,p){const v=Mn(m);Te(v._canInitEmulator,v,"emulator-config-failed"),Te(/^https?:\/\//.test(h),v,"invalid-emulator-scheme");const T=!!(null==p?void 0:p.disableWarnings),x=oa(h),{host:q,port:fe}=function Ih(m){const h=oa(m),p=/(\/\/)?([^?#/]+)/.exec(m.substr(h.length));if(!p)return{host:"",port:null};const v=p[2].split("@").pop()||"",T=/^(\[[^\]]+\])(:|$)/.exec(v);if(T){const x=T[1];return{host:x,port:Lc(v.substr(x.length+1))}}{const[x,q]=v.split(":");return{host:x,port:Lc(q)}}}(h);v.config.emulator={url:`${x}//${q}${null===fe?"":`:${fe}`}/`},v.settings.appVerificationDisabledForTesting=!0,v.emulatorConfig=Object.freeze({host:q,port:fe,protocol:x.replace(":",""),options:Object.freeze({disableWarnings:T})}),T||function qr(){function m(){const h=document.createElement("p"),p=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",p.position="fixed",p.width="100%",p.backgroundColor="#ffffff",p.border=".1em solid #000000",p.color="#b50000",p.bottom="0px",p.left="0px",p.margin="0px",p.zIndex="10000",p.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",m):m())}()}function oa(m){const h=m.indexOf(":");return h<0?"":m.substr(0,h+1)}function Lc(m){if(!m)return null;const h=Number(m);return isNaN(h)?null:h}class mo{constructor(h,p){this.providerId=h,this.signInMethod=p}toJSON(){return Un("not implemented")}_getIdTokenResponse(h){return Un("not implemented")}_linkToIdToken(h,p){return Un("not implemented")}_getReauthenticationResolver(h){return Un("not implemented")}}function Uc(m,h){return ru.apply(this,arguments)}function ru(){return(ru=(0,l.Z)(function*(m,h){return rn(m,"POST","/v1/accounts:resetPassword",rt(m,h))})).apply(this,arguments)}function Vc(m,h){return nl.apply(this,arguments)}function nl(){return(nl=(0,l.Z)(function*(m,h){return rn(m,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function rl(m,h){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,l.Z)(function*(m,h){return rn(m,"POST","/v1/accounts:update",rt(m,h))})).apply(this,arguments)}function iu(){return(iu=(0,l.Z)(function*(m,h){return Qt(m,"POST","/v1/accounts:signInWithPassword",rt(m,h))})).apply(this,arguments)}function il(m,h){return su.apply(this,arguments)}function su(){return(su=(0,l.Z)(function*(m,h){return rn(m,"POST","/v1/accounts:sendOobCode",rt(m,h))})).apply(this,arguments)}function Ah(m,h){return ou.apply(this,arguments)}function ou(){return(ou=(0,l.Z)(function*(m,h){return il(m,h)})).apply(this,arguments)}function Kp(m,h){return xs.apply(this,arguments)}function xs(){return(xs=(0,l.Z)(function*(m,h){return il(m,h)})).apply(this,arguments)}function sl(m,h){return aa.apply(this,arguments)}function aa(){return(aa=(0,l.Z)(function*(m,h){return il(m,h)})).apply(this,arguments)}function Bc(m,h){return au.apply(this,arguments)}function au(){return(au=(0,l.Z)(function*(m,h){return il(m,h)})).apply(this,arguments)}function Ji(){return(Ji=(0,l.Z)(function*(m,h){return Qt(m,"POST","/v1/accounts:signInWithEmailLink",rt(m,h))})).apply(this,arguments)}function Rs(){return(Rs=(0,l.Z)(function*(m,h){return Qt(m,"POST","/v1/accounts:signInWithEmailLink",rt(m,h))})).apply(this,arguments)}class _o extends mo{constructor(h,p,v,T=null){super("password",v),this._email=h,this._password=p,this._tenantId=T}static _fromEmailAndPassword(h,p){return new _o(h,p,"password")}static _fromEmailAndCode(h,p,v=null){return new _o(h,p,"emailLink",v)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h;if((null==p?void 0:p.email)&&(null==p?void 0:p.password)){if("password"===p.signInMethod)return this._fromEmailAndPassword(p.email,p.password);if("emailLink"===p.signInMethod)return this._fromEmailAndCode(p.email,p.password,p.tenantId)}return null}_getIdTokenResponse(h){var p=this;return(0,l.Z)(function*(){switch(p.signInMethod){case"password":return function Th(m,h){return iu.apply(this,arguments)}(h,{returnSecureToken:!0,email:p._email,password:p._password});case"emailLink":return function xi(m,h){return Ji.apply(this,arguments)}(h,{email:p._email,oobCode:p._password});default:zt(h,"internal-error")}})()}_linkToIdToken(h,p){var v=this;return(0,l.Z)(function*(){switch(v.signInMethod){case"password":return Vc(h,{idToken:p,returnSecureToken:!0,email:v._email,password:v._password});case"emailLink":return function Ps(m,h){return Rs.apply(this,arguments)}(h,{idToken:p,email:v._email,oobCode:v._password});default:zt(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function Pi(m,h){return ol.apply(this,arguments)}function ol(){return(ol=(0,l.Z)(function*(m,h){return Qt(m,"POST","/v1/accounts:signInWithIdp",rt(m,h))})).apply(this,arguments)}class zn extends mo{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(h){const p=new zn(h.providerId,h.signInMethod);return h.idToken||h.accessToken?(h.idToken&&(p.idToken=h.idToken),h.accessToken&&(p.accessToken=h.accessToken),h.nonce&&!h.pendingToken&&(p.nonce=h.nonce),h.pendingToken&&(p.pendingToken=h.pendingToken)):h.oauthToken&&h.oauthTokenSecret?(p.accessToken=h.oauthToken,p.secret=h.oauthTokenSecret):zt("argument-error"),p}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h,{providerId:v,signInMethod:T}=p,x=se(p,["providerId","signInMethod"]);if(!v||!T)return null;const q=new zn(v,T);return q.idToken=x.idToken||void 0,q.accessToken=x.accessToken||void 0,q.secret=x.secret,q.nonce=x.nonce,q.pendingToken=x.pendingToken||null,q}_getIdTokenResponse(h){return Pi(h,this.buildRequest())}_linkToIdToken(h,p){const v=this.buildRequest();return v.idToken=p,Pi(h,v)}_getReauthenticationResolver(h){const p=this.buildRequest();return p.autoCreate=!1,Pi(h,p)}buildRequest(){const h={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)h.pendingToken=this.pendingToken;else{const p={};this.idToken&&(p.id_token=this.idToken),this.accessToken&&(p.access_token=this.accessToken),this.secret&&(p.oauth_token_secret=this.secret),p.providerId=this.providerId,this.nonce&&!this.pendingToken&&(p.nonce=this.nonce),h.postBody=(0,j.xO)(p)}return h}}function al(m,h){return yo.apply(this,arguments)}function yo(){return(yo=(0,l.Z)(function*(m,h){return rn(m,"POST","/v1/accounts:sendVerificationCode",rt(m,h))})).apply(this,arguments)}function vo(){return(vo=(0,l.Z)(function*(m,h){return Qt(m,"POST","/v1/accounts:signInWithPhoneNumber",rt(m,h))})).apply(this,arguments)}function Os(){return(Os=(0,l.Z)(function*(m,h){const p=yield Qt(m,"POST","/v1/accounts:signInWithPhoneNumber",rt(m,h));if(p.temporaryProof)throw He(m,"account-exists-with-different-credential",p);return p})).apply(this,arguments)}const Sh={USER_NOT_FOUND:"user-not-found"};function lu(){return(lu=(0,l.Z)(function*(m,h){return Qt(m,"POST","/v1/accounts:signInWithPhoneNumber",rt(m,Object.assign(Object.assign({},h),{operation:"REAUTH"})),Sh)})).apply(this,arguments)}class Pt extends mo{constructor(h){super("phone","phone"),this.params=h}static _fromVerification(h,p){return new Pt({verificationId:h,verificationCode:p})}static _fromTokenResponse(h,p){return new Pt({phoneNumber:h,temporaryProof:p})}_getIdTokenResponse(h){return function Yr(m,h){return vo.apply(this,arguments)}(h,this._makeVerificationRequest())}_linkToIdToken(h,p){return function jc(m,h){return Os.apply(this,arguments)}(h,Object.assign({idToken:p},this._makeVerificationRequest()))}_getReauthenticationResolver(h){return function ll(m,h){return lu.apply(this,arguments)}(h,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:h,phoneNumber:p,verificationId:v,verificationCode:T}=this.params;return h&&p?{temporaryProof:h,phoneNumber:p}:{sessionInfo:v,code:T}}toJSON(){const h={providerId:this.providerId};return this.params.phoneNumber&&(h.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(h.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(h.verificationCode=this.params.verificationCode),this.params.verificationId&&(h.verificationId=this.params.verificationId),h}static fromJSON(h){"string"==typeof h&&(h=JSON.parse(h));const{verificationId:p,verificationCode:v,phoneNumber:T,temporaryProof:x}=h;return v||p||T||x?new Pt({verificationId:p,verificationCode:v,phoneNumber:T,temporaryProof:x}):null}}class on{constructor(h){var p,v,T,x,q,fe;const $e=(0,j.zd)((0,j.pd)(h)),ke=null!==(p=$e.apiKey)&&void 0!==p?p:null,ct=null!==(v=$e.oobCode)&&void 0!==v?v:null,$t=function la(m){switch(m){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(T=$e.mode)&&void 0!==T?T:null);Te(ke&&ct&&$t,"argument-error"),this.apiKey=ke,this.operation=$t,this.code=ct,this.continueUrl=null!==(x=$e.continueUrl)&&void 0!==x?x:null,this.languageCode=null!==(q=$e.languageCode)&&void 0!==q?q:null,this.tenantId=null!==(fe=$e.tenantId)&&void 0!==fe?fe:null}static parseLink(h){const p=function uu(m){const h=(0,j.zd)((0,j.pd)(m)).link,p=h?(0,j.zd)((0,j.pd)(h)).deep_link_id:null,v=(0,j.zd)((0,j.pd)(m)).deep_link_id;return(v?(0,j.zd)((0,j.pd)(v)).link:null)||v||p||h||m}(h);try{return new on(p)}catch(v){return null}}}let Ns=(()=>{class m{constructor(){this.providerId=m.PROVIDER_ID}static credential(p,v){return _o._fromEmailAndPassword(p,v)}static credentialWithLink(p,v){const T=on.parseLink(v);return Te(T,"argument-error"),_o._fromEmailAndCode(p,T.code,T.tenantId)}}return m.PROVIDER_ID="password",m.EMAIL_PASSWORD_SIGN_IN_METHOD="password",m.EMAIL_LINK_SIGN_IN_METHOD="emailLink",m})();class qn{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class nr extends qn{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}class si extends nr{static credentialFromJSON(h){const p="string"==typeof h?JSON.parse(h):h;return Te("providerId"in p&&"signInMethod"in p,"argument-error"),zn._fromParams(p)}credential(h){return this._credential(Object.assign(Object.assign({},h),{nonce:h.rawNonce}))}_credential(h){return Te(h.idToken||h.accessToken,"argument-error"),zn._fromParams(Object.assign(Object.assign({},h),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(h){return si.oauthCredentialFromTaggedObject(h)}static credentialFromError(h){return si.oauthCredentialFromTaggedObject(h.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:p,oauthAccessToken:v,oauthTokenSecret:T,pendingToken:x,nonce:q,providerId:fe}=h;if(!v&&!T&&!p&&!x||!fe)return null;try{return new si(fe)._credential({idToken:p,accessToken:v,nonce:q,pendingToken:x})}catch($e){return null}}}let Co=(()=>{class m extends nr{constructor(){super("facebook.com")}static credential(p){return zn._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.FACEBOOK_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return m.credentialFromTaggedObject(p)}static credentialFromError(p){return m.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return m.credential(p.oauthAccessToken)}catch(v){return null}}}return m.FACEBOOK_SIGN_IN_METHOD="facebook.com",m.PROVIDER_ID="facebook.com",m})(),Xi=(()=>{class m extends nr{constructor(){super("google.com"),this.addScope("profile")}static credential(p,v){return zn._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.GOOGLE_SIGN_IN_METHOD,idToken:p,accessToken:v})}static credentialFromResult(p){return m.credentialFromTaggedObject(p)}static credentialFromError(p){return m.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:v,oauthAccessToken:T}=p;if(!v&&!T)return null;try{return m.credential(v,T)}catch(x){return null}}}return m.GOOGLE_SIGN_IN_METHOD="google.com",m.PROVIDER_ID="google.com",m})(),Ht=(()=>{class m extends nr{constructor(){super("github.com")}static credential(p){return zn._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.GITHUB_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return m.credentialFromTaggedObject(p)}static credentialFromError(p){return m.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return m.credential(p.oauthAccessToken)}catch(v){return null}}}return m.GITHUB_SIGN_IN_METHOD="github.com",m.PROVIDER_ID="github.com",m})();class kr extends mo{constructor(h,p){super(h,h),this.pendingToken=p}_getIdTokenResponse(h){return Pi(h,this.buildRequest())}_linkToIdToken(h,p){const v=this.buildRequest();return v.idToken=p,Pi(h,v)}_getReauthenticationResolver(h){const p=this.buildRequest();return p.autoCreate=!1,Pi(h,p)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h,{providerId:v,signInMethod:T,pendingToken:x}=p;return v&&T&&x&&v===T?new kr(v,x):null}static _create(h,p){return new kr(h,p)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class dr extends qn{constructor(h){Te(h.startsWith("saml."),"argument-error"),super(h)}static credentialFromResult(h){return dr.samlCredentialFromTaggedObject(h)}static credentialFromError(h){return dr.samlCredentialFromTaggedObject(h.customData||{})}static credentialFromJSON(h){const p=kr.fromJSON(h);return Te(p,"argument-error"),p}static samlCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{pendingToken:p,providerId:v}=h;if(!p||!v)return null;try{return kr._create(v,p)}catch(T){return null}}}let ks=(()=>{class m extends nr{constructor(){super("twitter.com")}static credential(p,v){return zn._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.TWITTER_SIGN_IN_METHOD,oauthToken:p,oauthTokenSecret:v})}static credentialFromResult(p){return m.credentialFromTaggedObject(p)}static credentialFromError(p){return m.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthAccessToken:v,oauthTokenSecret:T}=p;if(!v||!T)return null;try{return m.credential(v,T)}catch(x){return null}}}return m.TWITTER_SIGN_IN_METHOD="twitter.com",m.PROVIDER_ID="twitter.com",m})();function es(m,h){return lt.apply(this,arguments)}function lt(){return(lt=(0,l.Z)(function*(m,h){return Qt(m,"POST","/v1/accounts:signUp",rt(m,h))})).apply(this,arguments)}class rr{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,p,v,T=!1){return(0,l.Z)(function*(){const x=yield br._fromIdTokenResponse(h,v,T),q=Eo(v);return new rr({user:x,providerId:q,_tokenResponse:v,operationType:p})})()}static _forOperation(h,p,v){return(0,l.Z)(function*(){yield h._updateTokensIfNecessary(v,!0);const T=Eo(v);return new rr({user:h,providerId:T,_tokenResponse:v,operationType:p})})()}}function Eo(m){return m.providerId?m.providerId:"phoneNumber"in m?"phone":null}function ua(m){return bo.apply(this,arguments)}function bo(){return(bo=(0,l.Z)(function*(m){var h;const p=Mn(m);if(yield p._initializationPromise,null===(h=p.currentUser)||void 0===h?void 0:h.isAnonymous)return new rr({user:p.currentUser,providerId:null,operationType:"signIn"});const v=yield es(p,{returnSecureToken:!0}),T=yield rr._fromIdTokenResponse(p,"signIn",v,!0);return yield p._updateCurrentUser(T.user),T})).apply(this,arguments)}class Fs extends j.ZR{constructor(h,p,v,T){var x;super(p.code,p.message),this.operationType=v,this.user=T,Object.setPrototypeOf(this,Fs.prototype),this.customData={appName:h.name,tenantId:null!==(x=h.tenantId)&&void 0!==x?x:void 0,_serverResponse:p.customData._serverResponse,operationType:v}}static _fromErrorAndOperation(h,p,v,T){return new Fs(h,p,v,T)}}function wo(m,h,p,v){return("reauthenticate"===h?p._getReauthenticationResolver(m):p._getIdTokenResponse(m)).catch(x=>{throw"auth/multi-factor-auth-required"===x.code?Fs._fromErrorAndOperation(m,x,h,v):x})}function ul(m){return new Set(m.map(({providerId:h})=>h).filter(h=>!!h))}function Ee(m,h){return St.apply(this,arguments)}function St(){return(St=(0,l.Z)(function*(m,h){const p=(0,j.m9)(m);yield Oi(!0,p,h);const{providerUserInfo:v}=yield xt(p.auth,{idToken:yield p.getIdToken(),deleteProvider:[h]}),T=ul(v||[]);return p.providerData=p.providerData.filter(x=>T.has(x.providerId)),T.has("phone")||(p.phoneNumber=null),yield p.auth._persistUserIfCurrent(p),p})).apply(this,arguments)}function Ls(m,h){return hn.apply(this,arguments)}function hn(){return(hn=(0,l.Z)(function*(m,h,p=!1){const v=yield nt(m,h._linkToIdToken(m.auth,yield m.getIdToken()),p);return rr._forOperation(m,"link",v)})).apply(this,arguments)}function Oi(m,h,p){return Us.apply(this,arguments)}function Us(){return(Us=(0,l.Z)(function*(m,h,p){yield Dt(h);const T=!1===m?"provider-already-linked":"no-such-provider";Te(ul(h.providerData).has(p)===m,h.auth,T)})).apply(this,arguments)}function mr(m,h){return ts.apply(this,arguments)}function ts(){return(ts=(0,l.Z)(function*(m,h,p=!1){const{auth:v}=m,T="reauthenticate";try{const x=yield nt(m,wo(v,T,h,m),p);Te(x.idToken,v,"internal-error");const q=xe(x.idToken);Te(q,v,"internal-error");const{sub:fe}=q;return Te(m.uid===fe,v,"user-mismatch"),rr._forOperation(m,T,x)}catch(x){throw"auth/user-not-found"===(null==x?void 0:x.code)&&zt(v,"user-mismatch"),x}})).apply(this,arguments)}function Do(m,h){return cl.apply(this,arguments)}function cl(){return(cl=(0,l.Z)(function*(m,h,p=!1){const v="signIn",T=yield wo(m,v,h),x=yield rr._fromIdTokenResponse(m,v,T);return p||(yield m._updateCurrentUser(x.user)),x})).apply(this,arguments)}function ca(m,h){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,l.Z)(function*(m,h){return Do(Mn(m),h)})).apply(this,arguments)}function Io(m,h){return jn.apply(this,arguments)}function jn(){return(jn=(0,l.Z)(function*(m,h){const p=(0,j.m9)(m);return yield Oi(!1,p,h.providerId),Ls(p,h)})).apply(this,arguments)}function oi(m,h){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,l.Z)(function*(m,h){return mr((0,j.m9)(m),h)})).apply(this,arguments)}function ns(m,h){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,l.Z)(function*(m,h){return Qt(m,"POST","/v1/accounts:signInWithCustomToken",rt(m,h))})).apply(this,arguments)}function dl(m,h){return da.apply(this,arguments)}function da(){return(da=(0,l.Z)(function*(m,h){const p=Mn(m),v=yield ns(p,{token:h,returnSecureToken:!0}),T=yield rr._fromIdTokenResponse(p,"signIn",v);return yield p._updateCurrentUser(T.user),T})).apply(this,arguments)}class js{constructor(h,p){this.factorId=h,this.uid=p.mfaEnrollmentId,this.enrollmentTime=new Date(p.enrolledAt).toUTCString(),this.displayName=p.displayName}static _fromServerResponse(h,p){return"phoneInfo"in p?hl._fromServerResponse(h,p):zt(h,"internal-error")}}class hl extends js{constructor(h){super("phone",h),this.phoneNumber=h.phoneInfo}static _fromServerResponse(h,p){return new hl(p)}}function Ni(m,h,p){var v;Te((null===(v=p.url)||void 0===v?void 0:v.length)>0,m,"invalid-continue-uri"),Te(void 0===p.dynamicLinkDomain||p.dynamicLinkDomain.length>0,m,"invalid-dynamic-link-domain"),h.continueUrl=p.url,h.dynamicLinkDomain=p.dynamicLinkDomain,h.canHandleCodeInApp=p.handleCodeInApp,p.iOS&&(Te(p.iOS.bundleId.length>0,m,"missing-ios-bundle-id"),h.iOSBundleId=p.iOS.bundleId),p.android&&(Te(p.android.packageName.length>0,m,"missing-android-pkg-name"),h.androidInstallApp=p.android.installApp,h.androidMinimumVersionCode=p.android.minimumVersion,h.androidPackageName=p.android.packageName)}function ha(m,h,p){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,l.Z)(function*(m,h,p){const v=(0,j.m9)(m),T={requestType:"PASSWORD_RESET",email:h};p&&Ni(v,T,p),yield Kp(v,T)})).apply(this,arguments)}function fl(m,h,p){return To.apply(this,arguments)}function To(){return(To=(0,l.Z)(function*(m,h,p){yield Uc((0,j.m9)(m),{oobCode:h,newPassword:p})})).apply(this,arguments)}function $c(m,h){return $s.apply(this,arguments)}function $s(){return($s=(0,l.Z)(function*(m,h){yield rl((0,j.m9)(m),{oobCode:h})})).apply(this,arguments)}function fa(m,h){return pa.apply(this,arguments)}function pa(){return(pa=(0,l.Z)(function*(m,h){const p=(0,j.m9)(m),v=yield Uc(p,{oobCode:h}),T=v.requestType;switch(Te(T,p,"internal-error"),T){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Te(v.newEmail,p,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Te(v.mfaInfo,p,"internal-error");default:Te(v.email,p,"internal-error")}let x=null;return v.mfaInfo&&(x=js._fromServerResponse(Mn(p),v.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===v.requestType?v.newEmail:v.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===v.requestType?v.email:v.newEmail)||null,multiFactorInfo:x},operation:T}})).apply(this,arguments)}function pl(m,h){return ga.apply(this,arguments)}function ga(){return(ga=(0,l.Z)(function*(m,h){const{data:p}=yield fa((0,j.m9)(m),h);return p.email})).apply(this,arguments)}function ma(m,h,p){return hu.apply(this,arguments)}function hu(){return(hu=(0,l.Z)(function*(m,h,p){const v=Mn(m),T=yield es(v,{returnSecureToken:!0,email:h,password:p}),x=yield rr._fromIdTokenResponse(v,"signIn",T);return yield v._updateCurrentUser(x.user),x})).apply(this,arguments)}function Zc(m,h,p){return ca((0,j.m9)(m),Ns.credential(h,p))}function Yn(m,h,p){return ir.apply(this,arguments)}function ir(){return(ir=(0,l.Z)(function*(m,h,p){const v=(0,j.m9)(m),T={requestType:"EMAIL_SIGNIN",email:h};Te(p.handleCodeInApp,v,"argument-error"),p&&Ni(v,T,p),yield sl(v,T)})).apply(this,arguments)}function mn(m,h){const p=on.parseLink(h);return"EMAIL_SIGNIN"===(null==p?void 0:p.operation)}function fu(m,h,p){return _a.apply(this,arguments)}function _a(){return(_a=(0,l.Z)(function*(m,h,p){const v=(0,j.m9)(m),T=Ns.credentialWithLink(h,p||Tr());return Te(T._tenantId===(v.tenantId||null),v,"tenant-id-mismatch"),ca(v,T)})).apply(this,arguments)}function pu(m,h){return ya.apply(this,arguments)}function ya(){return(ya=(0,l.Z)(function*(m,h){return rn(m,"POST","/v1/accounts:createAuthUri",rt(m,h))})).apply(this,arguments)}function Qp(m,h){return Wc.apply(this,arguments)}function Wc(){return(Wc=(0,l.Z)(function*(m,h){const v={identifier:h,continueUri:dn()?Tr():"http://localhost"},{signinMethods:T}=yield pu((0,j.m9)(m),v);return T||[]})).apply(this,arguments)}function rs(m,h){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,l.Z)(function*(m,h){const p=(0,j.m9)(m),T={requestType:"VERIFY_EMAIL",idToken:yield m.getIdToken()};h&&Ni(p.auth,T,h);const{email:x}=yield Ah(p.auth,T);x!==m.email&&(yield m.reload())})).apply(this,arguments)}function va(m,h,p){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,l.Z)(function*(m,h,p){const v=(0,j.m9)(m),x={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield m.getIdToken(),newEmail:h};p&&Ni(v.auth,x,p);const{email:q}=yield Bc(v.auth,x);q!==m.email&&(yield m.reload())})).apply(this,arguments)}function Gc(m,h){return gl.apply(this,arguments)}function gl(){return(gl=(0,l.Z)(function*(m,h){return rn(m,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function _n(m,h){return is.apply(this,arguments)}function is(){return(is=(0,l.Z)(function*(m,{displayName:h,photoURL:p}){if(void 0===h&&void 0===p)return;const v=(0,j.m9)(m),x={idToken:yield v.getIdToken(),displayName:h,photoUrl:p,returnSecureToken:!0},q=yield nt(v,Gc(v.auth,x));v.displayName=q.displayName||null,v.photoURL=q.photoUrl||null;const fe=v.providerData.find(({providerId:$e})=>"password"===$e);fe&&(fe.displayName=v.displayName,fe.photoURL=v.photoURL),yield v._updateTokensIfNecessary(q)})).apply(this,arguments)}function Mh(m,h){return So((0,j.m9)(m),h,null)}function xh(m,h){return So((0,j.m9)(m),null,h)}function So(m,h,p){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,l.Z)(function*(m,h,p){const{auth:v}=m,x={idToken:yield m.getIdToken(),returnSecureToken:!0};h&&(x.email=h),p&&(x.password=p);const q=yield nt(m,Vc(v,x));yield m._updateTokensIfNecessary(q,!0)})).apply(this,arguments)}class ss{constructor(h,p,v={}){this.isNewUser=h,this.providerId=p,this.profile=v}}class Rh extends ss{constructor(h,p,v,T){super(h,p,v),this.username=T}}class Oh extends ss{constructor(h,p){super(h,"facebook.com",p)}}class ml extends Rh{constructor(h,p){super(h,"github.com",p,"string"==typeof(null==p?void 0:p.login)?null==p?void 0:p.login:null)}}class Hn extends ss{constructor(h,p){super(h,"google.com",p)}}class Jt extends Rh{constructor(h,p,v){super(h,"twitter.com",p,v)}}function Ea(m){const{user:h,_tokenResponse:p}=m;return h.isAnonymous&&!p?{providerId:null,isNewUser:!1,profile:null}:function Ph(m){var h,p;if(!m)return null;const{providerId:v}=m,T=m.rawUserInfo?JSON.parse(m.rawUserInfo):{},x=m.isNewUser||"identitytoolkit#SignupNewUserResponse"===m.kind;if(!v&&(null==m?void 0:m.idToken)){const q=null===(p=null===(h=xe(m.idToken))||void 0===h?void 0:h.firebase)||void 0===p?void 0:p.sign_in_provider;if(q)return new ss(x,"anonymous"!==q&&"custom"!==q?q:null)}if(!v)return null;switch(v){case"facebook.com":return new Oh(x,T);case"github.com":return new ml(x,T);case"google.com":return new Hn(x,T);case"twitter.com":return new Jt(x,T,m.screenName||null);case"custom":case"anonymous":return new ss(x,null);default:return new ss(x,v,T)}}(p)}class ft{constructor(h,p){this.type=h,this.credential=p}static _fromIdtoken(h){return new ft("enroll",h)}static _fromMfaPendingCredential(h){return new ft("signin",h)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(h){var p,v;if(null==h?void 0:h.multiFactorSession){if(null===(p=h.multiFactorSession)||void 0===p?void 0:p.pendingCredential)return ft._fromMfaPendingCredential(h.multiFactorSession.pendingCredential);if(null===(v=h.multiFactorSession)||void 0===v?void 0:v.idToken)return ft._fromIdtoken(h.multiFactorSession.idToken)}return null}}class Gs{constructor(h,p,v){this.session=h,this.hints=p,this.signInResolver=v}static _fromError(h,p){const v=Mn(h),T=p.customData._serverResponse,x=(T.mfaInfo||[]).map(fe=>js._fromServerResponse(v,fe));Te(T.mfaPendingCredential,v,"internal-error");const q=ft._fromMfaPendingCredential(T.mfaPendingCredential);return new Gs(q,x,function(){var fe=(0,l.Z)(function*($e){const ke=yield $e._process(v,q);delete T.mfaInfo,delete T.mfaPendingCredential;const ct=Object.assign(Object.assign({},T),{idToken:ke.idToken,refreshToken:ke.refreshToken});switch(p.operationType){case"signIn":const $t=yield rr._fromIdTokenResponse(v,p.operationType,ct);return yield v._updateCurrentUser($t.user),$t;case"reauthenticate":return Te(p.user,v,"internal-error"),rr._forOperation(p.user,p.operationType,ct);default:zt(v,"internal-error")}});return function($e){return fe.apply(this,arguments)}}())}resolveSignIn(h){var p=this;return(0,l.Z)(function*(){return p.signInResolver(h)})()}}function Kc(m,h){var p;const v=(0,j.m9)(m),T=h;return Te(h.customData.operationType,v,"argument-error"),Te(null===(p=T.customData._serverResponse)||void 0===p?void 0:p.mfaPendingCredential,v,"argument-error"),Gs._fromError(v,T)}function gu(m,h){return rn(m,"POST","/v2/accounts/mfaEnrollment:start",rt(m,h))}class Fi{constructor(h){this.user=h,this.enrolledFactors=[],h._onReload(p=>{p.mfaInfo&&(this.enrolledFactors=p.mfaInfo.map(v=>js._fromServerResponse(h.auth,v)))})}static _fromUser(h){return new Fi(h)}getSession(){var h=this;return(0,l.Z)(function*(){return ft._fromIdtoken(yield h.user.getIdToken())})()}enroll(h,p){var v=this;return(0,l.Z)(function*(){const T=h,x=yield v.getSession(),q=yield nt(v.user,T._process(v.user.auth,x,p));return yield v.user._updateTokensIfNecessary(q),v.user.reload()})()}unenroll(h){var p=this;return(0,l.Z)(function*(){const v="string"==typeof h?h:h.uid,T=yield p.user.getIdToken(),x=yield nt(p.user,function _l(m,h){return rn(m,"POST","/v2/accounts/mfaEnrollment:withdraw",rt(m,h))}(p.user.auth,{idToken:T,mfaEnrollmentId:v}));p.enrolledFactors=p.enrolledFactors.filter(({uid:q})=>q!==v),yield p.user._updateTokensIfNecessary(x);try{yield p.user.reload()}catch(q){if("auth/user-token-expired"!==q.code)throw q}})()}}const Lr=new WeakMap;function _r(m){const h=(0,j.m9)(m);return Lr.has(h)||Lr.set(h,Fi._fromUser(h)),Lr.get(h)}const ba="__sak";class Ur{constructor(h,p){this.storageRetriever=h,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem(ba,"1"),this.storage.removeItem(ba),Promise.resolve(!0)):Promise.resolve(!1)}catch(h){return Promise.resolve(!1)}}_set(h,p){return this.storage.setItem(h,JSON.stringify(p)),Promise.resolve()}_get(h){const p=this.storage.getItem(h);return Promise.resolve(p?JSON.parse(p):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const ai=(()=>{class m extends Ur{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(p,v)=>this.onStorageEvent(p,v),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function yl(){const m=(0,j.z$)();return Ki(m)||Zr(m)}()&&function Wr(){try{return!(!window||window===window.top)}catch(m){return!1}}(),this.fallbackToPolling=tl(),this._shouldAllowMigration=!0}forAllChangedKeys(p){for(const v of Object.keys(this.listeners)){const T=this.storage.getItem(v),x=this.localCache[v];T!==x&&p(v,x,T)}}onStorageEvent(p,v=!1){if(!p.key)return void this.forAllChangedKeys((fe,$e,ke)=>{this.notifyListeners(fe,ke)});const T=p.key;if(v?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const fe=this.storage.getItem(T);if(p.newValue!==fe)null!==p.newValue?this.storage.setItem(T,p.newValue):this.storage.removeItem(T);else if(this.localCache[T]===p.newValue&&!v)return}const x=()=>{const fe=this.storage.getItem(T);!v&&this.localCache[T]===fe||this.notifyListeners(T,fe)},q=this.storage.getItem(T);!function sa(){return(0,j.w1)()&&10===document.documentMode}()||q===p.newValue||p.newValue===p.oldValue?x():setTimeout(x,10)}notifyListeners(p,v){this.localCache[p]=v;const T=this.listeners[p];if(T)for(const x of Array.from(T))x(v&&JSON.parse(v))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,v,T)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:v,newValue:T}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,v){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(v)}_removeListener(p,v){this.listeners[p]&&(this.listeners[p].delete(v),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,v){var T=()=>super._set,x=this;return(0,l.Z)(function*(){yield T().call(x,p,v),x.localCache[p]=JSON.stringify(v)})()}_get(p){var v=()=>super._get,T=this;return(0,l.Z)(function*(){const x=yield v().call(T,p);return T.localCache[p]=JSON.stringify(x),x})()}_remove(p){var v=()=>super._remove,T=this;return(0,l.Z)(function*(){yield v().call(T,p),delete T.localCache[p]})()}}return m.type="LOCAL",m})(),yn=(()=>{class m extends Ur{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(p,v){}_removeListener(p,v){}}return m.type="SESSION",m})();let mu=(()=>{class m{constructor(p){this.eventTarget=p,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(p){const v=this.receivers.find(x=>x.isListeningto(p));if(v)return v;const T=new m(p);return this.receivers.push(T),T}isListeningto(p){return this.eventTarget===p}handleEvent(p){var v=this;return(0,l.Z)(function*(){const T=p,{eventId:x,eventType:q,data:fe}=T.data,$e=v.handlersMap[q];if(!(null==$e?void 0:$e.size))return;T.ports[0].postMessage({status:"ack",eventId:x,eventType:q});const ke=Array.from($e).map(function(){var $t=(0,l.Z)(function*(Zt){return Zt(T.origin,fe)});return function(Zt){return $t.apply(this,arguments)}}()),ct=yield function os(m){return Promise.all(m.map(function(){var h=(0,l.Z)(function*(p){try{return{fulfilled:!0,value:yield p}}catch(v){return{fulfilled:!1,reason:v}}});return function(p){return h.apply(this,arguments)}}()))}(ke);T.ports[0].postMessage({status:"done",eventId:x,eventType:q,response:ct})})()}_subscribe(p,v){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[p]||(this.handlersMap[p]=new Set),this.handlersMap[p].add(v)}_unsubscribe(p,v){this.handlersMap[p]&&v&&this.handlersMap[p].delete(v),(!v||0===this.handlersMap[p].size)&&delete this.handlersMap[p],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return m.receivers=[],m})();function Vr(m="",h=10){let p="";for(let v=0;v<h;v++)p+=Math.floor(10*Math.random());return m+p}class as{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,p,v=50){var T=this;return(0,l.Z)(function*(){const x="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!x)throw new Error("connection_unavailable");let q,fe;return new Promise(($e,ke)=>{const ct=Vr("",20);x.port1.start();const $t=setTimeout(()=>{ke(new Error("unsupported_event"))},v);fe={messageChannel:x,onMessage(Zt){const tn=Zt;if(tn.data.eventId===ct)switch(tn.data.status){case"ack":clearTimeout($t),q=setTimeout(()=>{ke(new Error("timeout"))},3e3);break;case"done":clearTimeout(q),$e(tn.data.response);break;default:clearTimeout($t),clearTimeout(q),ke(new Error("invalid_response"))}}},T.handlers.add(fe),x.port1.addEventListener("message",fe.onMessage),T.target.postMessage({eventType:h,eventId:ct,data:p},[x.port2])}).finally(()=>{fe&&T.removeMessageHandler(fe)})})()}}function En(){return window}function Ui(){return void 0!==En().WorkerGlobalScope&&"function"==typeof En().importScripts}function Kr(){return(Kr=(0,l.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(m){return null}})).apply(this,arguments)}const Vi="firebaseLocalStorageDb",Cl="firebaseLocalStorage",El="fbase_key";class Xt{constructor(h){this.request=h}toPromise(){return new Promise((h,p)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function Ys(m,h){return m.transaction([Cl],h?"readwrite":"readonly").objectStore(Cl)}function _u(){const m=indexedDB.open(Vi,1);return new Promise((h,p)=>{m.addEventListener("error",()=>{p(m.error)}),m.addEventListener("upgradeneeded",()=>{const v=m.result;try{v.createObjectStore(Cl,{keyPath:El})}catch(T){p(T)}}),m.addEventListener("success",(0,l.Z)(function*(){const v=m.result;v.objectStoreNames.contains(Cl)?h(v):(v.close(),yield function Nh(){const m=indexedDB.deleteDatabase(Vi);return new Xt(m).toPromise()}(),h(yield _u()))}))})}function yu(m,h,p){return vu.apply(this,arguments)}function vu(){return(vu=(0,l.Z)(function*(m,h,p){const v=Ys(m,!0).put({[El]:h,value:p});return new Xt(v).toPromise()})).apply(this,arguments)}function Da(){return(Da=(0,l.Z)(function*(m,h){const p=Ys(m,!1).get(h),v=yield new Xt(p).toPromise();return void 0===v?null:v.value})).apply(this,arguments)}function Bi(m,h){const p=Ys(m,!0).delete(h);return new Xt(p).toPromise()}const cs=(()=>{class m{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var p=this;return(0,l.Z)(function*(){return p.db||(p.db=yield _u()),p.db})()}_withRetries(p){var v=this;return(0,l.Z)(function*(){let T=0;for(;;)try{const x=yield v._openDb();return yield p(x)}catch(x){if(T++>3)throw x;v.db&&(v.db.close(),v.db=void 0)}})()}initializeServiceWorkerMessaging(){var p=this;return(0,l.Z)(function*(){return Ui()?p.initializeReceiver():p.initializeSender()})()}initializeReceiver(){var p=this;return(0,l.Z)(function*(){p.receiver=mu._getInstance(function Po(){return Ui()?self:null}()),p.receiver._subscribe("keyChanged",function(){var v=(0,l.Z)(function*(T,x){return{keyProcessed:(yield p._poll()).includes(x.key)}});return function(T,x){return v.apply(this,arguments)}}()),p.receiver._subscribe("ping",function(){var v=(0,l.Z)(function*(T,x){return["keyChanged"]});return function(T,x){return v.apply(this,arguments)}}())})()}initializeSender(){var p=this;return(0,l.Z)(function*(){var v,T;if(p.activeServiceWorker=yield function ls(){return Kr.apply(this,arguments)}(),!p.activeServiceWorker)return;p.sender=new as(p.activeServiceWorker);const x=yield p.sender._send("ping",{},800);!x||(null===(v=x[0])||void 0===v?void 0:v.fulfilled)&&(null===(T=x[0])||void 0===T?void 0:T.value.includes("keyChanged"))&&(p.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(p){var v=this;return(0,l.Z)(function*(){if(v.sender&&v.activeServiceWorker&&function us(){var m;return(null===(m=null==navigator?void 0:navigator.serviceWorker)||void 0===m?void 0:m.controller)||null}()===v.activeServiceWorker)try{yield v.sender._send("keyChanged",{key:p},v.serviceWorkerReceiverAvailable?800:50)}catch(T){}})()}_isAvailable(){return(0,l.Z)(function*(){try{if(!indexedDB)return!1;const p=yield _u();return yield yu(p,ba,"1"),yield Bi(p,ba),!0}catch(p){}return!1})()}_withPendingWrite(p){var v=this;return(0,l.Z)(function*(){v.pendingWrites++;try{yield p()}finally{v.pendingWrites--}})()}_set(p,v){var T=this;return(0,l.Z)(function*(){return T._withPendingWrite((0,l.Z)(function*(){return yield T._withRetries(x=>yu(x,p,v)),T.localCache[p]=v,T.notifyServiceWorker(p)}))})()}_get(p){var v=this;return(0,l.Z)(function*(){const T=yield v._withRetries(x=>function Cu(m,h){return Da.apply(this,arguments)}(x,p));return v.localCache[p]=T,T})()}_remove(p){var v=this;return(0,l.Z)(function*(){return v._withPendingWrite((0,l.Z)(function*(){return yield v._withRetries(T=>Bi(T,p)),delete v.localCache[p],v.notifyServiceWorker(p)}))})()}_poll(){var p=this;return(0,l.Z)(function*(){const v=yield p._withRetries(q=>{const fe=Ys(q,!1).getAll();return new Xt(fe).toPromise()});if(!v)return[];if(0!==p.pendingWrites)return[];const T=[],x=new Set;for(const{fbase_key:q,value:fe}of v)x.add(q),JSON.stringify(p.localCache[q])!==JSON.stringify(fe)&&(p.notifyListeners(q,fe),T.push(q));for(const q of Object.keys(p.localCache))p.localCache[q]&&!x.has(q)&&(p.notifyListeners(q,null),T.push(q));return T})()}notifyListeners(p,v){this.localCache[p]=v;const T=this.listeners[p];if(T)for(const x of Array.from(T))x(v)}startPolling(){var p=this;this.stopPolling(),this.pollTimer=setInterval((0,l.Z)(function*(){return p._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(p,v){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[p]||(this.listeners[p]=new Set,this._get(p)),this.listeners[p].add(v)}_removeListener(p,v){this.listeners[p]&&(this.listeners[p].delete(v),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return m.type="LOCAL",m})();function Jc(m,h){return rn(m,"POST","/v2/accounts/mfaSignIn:start",rt(m,h))}function an(){return(an=(0,l.Z)(function*(m){return(yield rn(m,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ta(m){return new Promise((h,p)=>{const v=document.createElement("script");v.setAttribute("src",m),v.onload=h,v.onerror=T=>{const x=An("internal-error");x.customData=T,p(x)},v.type="text/javascript",v.charset="UTF-8",function Ia(){var m,h;return null!==(h=null===(m=document.getElementsByTagName("head"))||void 0===m?void 0:m[0])&&void 0!==h?h:document}().appendChild(v)})}function Ks(m){return`__${m}${Math.floor(1e6*Math.random())}`}const ji=1e12;class Oo{constructor(h){this.auth=h,this.counter=ji,this._widgets=new Map}render(h,p){const v=this.counter;return this._widgets.set(v,new bu(h,this.auth.name,p||{})),this.counter++,v}reset(h){var p;const v=h||ji;null===(p=this._widgets.get(v))||void 0===p||p.delete(),this._widgets.delete(v)}getResponse(h){var p;return(null===(p=this._widgets.get(h||ji))||void 0===p?void 0:p.getResponse())||""}execute(h){var p=this;return(0,l.Z)(function*(){var v;return null===(v=p._widgets.get(h||ji))||void 0===v||v.execute(),""})()}}class bu{constructor(h,p,v){this.params=v,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const T="string"==typeof h?document.getElementById(h):h;Te(T,"argument-error",{appName:p}),this.container=T,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Qs(m){const h=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let v=0;v<m;v++)h.push(p.charAt(Math.floor(Math.random()*p.length)));return h.join("")}(50);const{callback:h,"expired-callback":p}=this.params;if(h)try{h(this.responseToken)}catch(v){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,p)try{p()}catch(v){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const sr=Ks("rcb"),Aa=new Ct(3e4,6e4);class K_{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!En().grecaptcha}load(h,p=""){return Te(function kh(m){return m.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(m)}(p),h,"argument-error"),this.shouldResolveImmediately(p)?Promise.resolve(En().grecaptcha):new Promise((v,T)=>{const x=En().setTimeout(()=>{T(An(h,"network-request-failed"))},Aa.get());En()[sr]=()=>{En().clearTimeout(x),delete En()[sr];const fe=En().grecaptcha;if(!fe)return void T(An(h,"internal-error"));const $e=fe.render;fe.render=(ke,ct)=>{const $t=$e(ke,ct);return this.counter++,$t},this.hostLanguage=p,v(fe)},Ta(`https://www.google.com/recaptcha/api.js??${(0,j.xO)({onload:sr,render:"explicit",hl:p})}`).catch(()=>{clearTimeout(x),T(An(h,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(h){return!!En().grecaptcha&&(h===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Jp{load(h){return(0,l.Z)(function*(){return new Oo(h)})()}clearedOneInstance(){}}const Xc="recaptcha",ed={theme:"light",type:"image"};class fs{constructor(h,p=Object.assign({},ed),v){this.parameters=p,this.type=Xc,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Mn(v),this.isInvisible="invisible"===this.parameters.size,Te("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const T="string"==typeof h?document.getElementById(h):h;Te(T,this.auth,"argument-error"),this.container=T,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Jp:new K_,this.validateStartingState()}verify(){var h=this;return(0,l.Z)(function*(){h.assertNotDestroyed();const p=yield h.render(),v=h.getAssertedRecaptcha();return v.getResponse(p)||new Promise(x=>{const q=fe=>{!fe||(h.tokenChangeListeners.delete(q),x(fe))};h.tokenChangeListeners.add(q),h.isInvisible&&v.execute(p)})})()}render(){try{this.assertNotDestroyed()}catch(h){return Promise.reject(h)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(h=>{throw this.renderPromise=null,h})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(h=>{this.container.removeChild(h)})}validateStartingState(){Te(!this.parameters.sitekey,this.auth,"argument-error"),Te(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Te("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(h){return p=>{if(this.tokenChangeListeners.forEach(v=>v(p)),"function"==typeof h)h(p);else if("string"==typeof h){const v=En()[h];"function"==typeof v&&v(p)}}}assertNotDestroyed(){Te(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var h=this;return(0,l.Z)(function*(){if(yield h.init(),!h.widgetId){let p=h.container;if(!h.isInvisible){const v=document.createElement("div");p.appendChild(v),p=v}h.widgetId=h.getAssertedRecaptcha().render(p,h.parameters)}return h.widgetId})()}init(){var h=this;return(0,l.Z)(function*(){Te(dn()&&!Ui(),h.auth,"internal-error"),yield function wu(){let m=null;return new Promise(h=>{"complete"!==document.readyState?(m=()=>h(),window.addEventListener("load",m)):h()}).catch(h=>{throw m&&window.removeEventListener("load",m),h})}(),h.recaptcha=yield h._recaptchaLoader.load(h.auth,h.auth.languageCode||void 0);const p=yield function Kn(m){return an.apply(this,arguments)}(h.auth);Te(p,h.auth,"internal-error"),h.parameters.sitekey=p})()}getAssertedRecaptcha(){return Te(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Sa{constructor(h,p){this.verificationId=h,this.onConfirmation=p}confirm(h){const p=Pt._fromVerification(this.verificationId,h);return this.onConfirmation(p)}}function wl(m,h,p){return yr.apply(this,arguments)}function yr(){return(yr=(0,l.Z)(function*(m,h,p){const v=Mn(m),T=yield ps(v,h,(0,j.m9)(p));return new Sa(T,x=>ca(v,x))})).apply(this,arguments)}function Ma(m,h,p){return hr.apply(this,arguments)}function hr(){return(hr=(0,l.Z)(function*(m,h,p){const v=(0,j.m9)(m);yield Oi(!1,v,"phone");const T=yield ps(v.auth,h,(0,j.m9)(p));return new Sa(T,x=>Io(v,x))})).apply(this,arguments)}function No(m,h,p){return ko.apply(this,arguments)}function ko(){return(ko=(0,l.Z)(function*(m,h,p){const v=(0,j.m9)(m),T=yield ps(v.auth,h,(0,j.m9)(p));return new Sa(T,x=>oi(v,x))})).apply(this,arguments)}function ps(m,h,p){return Js.apply(this,arguments)}function Js(){return(Js=(0,l.Z)(function*(m,h,p){var v;const T=yield p.verify();try{let x;if(Te("string"==typeof T,m,"argument-error"),Te(p.type===Xc,m,"argument-error"),x="string"==typeof h?{phoneNumber:h}:h,"session"in x){const q=x.session;if("phoneNumber"in x)return Te("enroll"===q.type,m,"internal-error"),(yield gu(m,{idToken:q.credential,phoneEnrollmentInfo:{phoneNumber:x.phoneNumber,recaptchaToken:T}})).phoneSessionInfo.sessionInfo;{Te("signin"===q.type,m,"internal-error");const fe=(null===(v=x.multiFactorHint)||void 0===v?void 0:v.uid)||x.multiFactorUid;return Te(fe,m,"missing-multi-factor-info"),(yield Jc(m,{mfaPendingCredential:q.credential,mfaEnrollmentId:fe,phoneSignInInfo:{recaptchaToken:T}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:q}=yield al(m,{phoneNumber:x.phoneNumber,recaptchaToken:T});return q}}finally{p._reset()}})).apply(this,arguments)}function td(m,h){return xa.apply(this,arguments)}function xa(){return(xa=(0,l.Z)(function*(m,h){yield Ls((0,j.m9)(m),h)})).apply(this,arguments)}let b=(()=>{class m{constructor(p){this.providerId=m.PROVIDER_ID,this.auth=Mn(p)}verifyPhoneNumber(p,v){return ps(this.auth,p,(0,j.m9)(v))}static credential(p,v){return Pt._fromVerification(p,v)}static credentialFromResult(p){return m.credentialFromTaggedObject(p)}static credentialFromError(p){return m.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{phoneNumber:v,temporaryProof:T}=p;return v&&T?Pt._fromTokenResponse(v,T):null}}return m.PROVIDER_ID="phone",m.PHONE_SIGN_IN_METHOD="phone",m})();function D(m,h){return h?qt(h):(Te(m._popupRedirectResolver,m,"argument-error"),m._popupRedirectResolver)}class M extends mo{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return Pi(h,this._buildIdpRequest())}_linkToIdToken(h,p){return Pi(h,this._buildIdpRequest(p))}_getReauthenticationResolver(h){return Pi(h,this._buildIdpRequest())}_buildIdpRequest(h){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(p.idToken=h),p}}function V(m){return Do(m.auth,new M(m),m.bypassAuthState)}function Y(m){const{auth:h,user:p}=m;return Te(p,h,"internal-error"),mr(p,new M(m),m.bypassAuthState)}function ne(m){return De.apply(this,arguments)}function De(){return(De=(0,l.Z)(function*(m){const{auth:h,user:p}=m;return Te(p,h,"internal-error"),Ls(p,new M(m),m.bypassAuthState)})).apply(this,arguments)}class We{constructor(h,p,v,T,x=!1){this.auth=h,this.resolver=v,this.user=T,this.bypassAuthState=x,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var h=this;return new Promise(function(){var p=(0,l.Z)(function*(v,T){h.pendingPromise={resolve:v,reject:T};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(x){h.reject(x)}});return function(v,T){return p.apply(this,arguments)}}())}onAuthEvent(h){var p=this;return(0,l.Z)(function*(){const{urlResponse:v,sessionId:T,postBody:x,tenantId:q,error:fe,type:$e}=h;if(fe)return void p.reject(fe);const ke={auth:p.auth,requestUri:v,sessionId:T,tenantId:q||void 0,postBody:x||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask($e)(ke))}catch(ct){p.reject(ct)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return V;case"linkViaPopup":case"linkViaRedirect":return ne;case"reauthViaPopup":case"reauthViaRedirect":return Y;default:zt(this.auth,"internal-error")}}resolve(h){qe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){qe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const dt=new Ct(2e3,1e4);function pt(m,h,p){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,l.Z)(function*(m,h,p){const v=Mn(m);lr(m,h,qn);const T=D(v,p);return new vr(v,"signInViaPopup",h,T).executeNotNull()})).apply(this,arguments)}function yt(m,h,p){return On.apply(this,arguments)}function On(){return(On=(0,l.Z)(function*(m,h,p){const v=(0,j.m9)(m);lr(v.auth,h,qn);const T=D(v.auth,p);return new vr(v.auth,"reauthViaPopup",h,T,v).executeNotNull()})).apply(this,arguments)}function en(m,h,p){return li.apply(this,arguments)}function li(){return(li=(0,l.Z)(function*(m,h,p){const v=(0,j.m9)(m);lr(v.auth,h,qn);const T=D(v.auth,p);return new vr(v.auth,"linkViaPopup",h,T,v).executeNotNull()})).apply(this,arguments)}let vr=(()=>{class m extends We{constructor(p,v,T,x,q){super(p,v,x,q),this.provider=T,this.authWindow=null,this.pollId=null,m.currentPopupAction&&m.currentPopupAction.cancel(),m.currentPopupAction=this}executeNotNull(){var p=this;return(0,l.Z)(function*(){const v=yield p.execute();return Te(v,p.auth,"internal-error"),v})()}onExecution(){var p=this;return(0,l.Z)(function*(){qe(1===p.filter.length,"Popup operations only handle one event");const v=Vr();p.authWindow=yield p.resolver._openPopup(p.auth,p.provider,p.filter[0],v),p.authWindow.associatedEvent=v,p.resolver._originValidation(p.auth).catch(T=>{p.reject(T)}),p.resolver._isIframeWebStorageSupported(p.auth,T=>{T||p.reject(An(p.auth,"web-storage-unsupported"))}),p.pollUserCancellation()})()}get eventId(){var p;return(null===(p=this.authWindow)||void 0===p?void 0:p.associatedEvent)||null}cancel(){this.reject(An(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,m.currentPopupAction=null}pollUserCancellation(){const p=()=>{var v,T;this.pollId=(null===(T=null===(v=this.authWindow)||void 0===v?void 0:v.window)||void 0===T?void 0:T.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(An(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(p,dt.get())};p()}}return m.currentPopupAction=null,m})();const Qr=new Map;class ui extends We{constructor(h,p,v=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,v),this.eventId=null}execute(){var h=()=>super.execute,p=this;return(0,l.Z)(function*(){let v=Qr.get(p.auth._key());if(!v){try{const x=(yield function Xs(m,h){return Pa.apply(this,arguments)}(p.resolver,p.auth))?yield h().call(p):null;v=()=>Promise.resolve(x)}catch(T){v=()=>Promise.reject(T)}Qr.set(p.auth._key(),v)}return p.bypassAuthState||Qr.set(p.auth._key(),()=>Promise.resolve(null)),v()})()}onAuthEvent(h){var p=()=>super.onAuthEvent,v=this;return(0,l.Z)(function*(){if("signInViaRedirect"===h.type)return p().call(v,h);if("unknown"!==h.type){if(h.eventId){const T=yield v.auth._redirectUserForId(h.eventId);if(T)return v.user=T,p().call(v,h);v.resolve(null)}}else v.resolve(null)})()}onExecution(){return(0,l.Z)(function*(){})()}cleanUp(){}}function Pa(){return(Pa=(0,l.Z)(function*(m,h){const p=Fh(h),v=eo(m);if(!(yield v._isAvailable()))return!1;const T="true"===(yield v._get(p));return yield v._remove(p),T})).apply(this,arguments)}function Du(m,h){return Dl.apply(this,arguments)}function Dl(){return(Dl=(0,l.Z)(function*(m,h){return eo(m)._set(Fh(h),"true")})).apply(this,arguments)}function Fo(){Qr.clear()}function eo(m){return qt(m._redirectPersistence)}function Fh(m){return Kt("pendingRedirect",m.config.apiKey,m.name)}function Xp(m,h,p){return function nd(m,h,p){return Iu.apply(this,arguments)}(m,h,p)}function Iu(){return(Iu=(0,l.Z)(function*(m,h,p){const v=Mn(m);lr(m,h,qn);const T=D(v,p);return yield Du(T,v),T._openRedirect(v,h,"signInViaRedirect")})).apply(this,arguments)}function Lh(m,h,p){return function Hi(m,h,p){return Ra.apply(this,arguments)}(m,h,p)}function Ra(){return(Ra=(0,l.Z)(function*(m,h,p){const v=(0,j.m9)(m);lr(v.auth,h,qn);const T=D(v.auth,p);yield Du(T,v.auth);const x=yield Su(v);return T._openRedirect(v.auth,h,"reauthViaRedirect",x)})).apply(this,arguments)}function eg(m,h,p){return function Tu(m,h,p){return gs.apply(this,arguments)}(m,h,p)}function gs(){return(gs=(0,l.Z)(function*(m,h,p){const v=(0,j.m9)(m);lr(v.auth,h,qn);const T=D(v.auth,p);yield Oi(!1,v,h.providerId),yield Du(T,v.auth);const x=yield Su(v);return T._openRedirect(v.auth,h,"linkViaRedirect",x)})).apply(this,arguments)}function ms(m,h){return Au.apply(this,arguments)}function Au(){return(Au=(0,l.Z)(function*(m,h){return yield Mn(m)._initializationPromise,Uh(m,h,!1)})).apply(this,arguments)}function Uh(m,h){return tg.apply(this,arguments)}function tg(){return(tg=(0,l.Z)(function*(m,h,p=!1){const v=Mn(m),T=D(v,h),q=yield new ui(v,T,p).execute();return q&&!p&&(delete q.user._redirectEventId,yield v._persistUserIfCurrent(q.user),yield v._setRedirectUser(null,h)),q})).apply(this,arguments)}function Su(m){return Mu.apply(this,arguments)}function Mu(){return(Mu=(0,l.Z)(function*(m){const h=Vr(`${m.uid}:::`);return m._redirectEventId=h,yield m.auth._setRedirectUser(m),yield m.auth._persistUserIfCurrent(m),h})).apply(this,arguments)}class xu{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let p=!1;return this.consumers.forEach(v=>{this.isEventForConsumer(h,v)&&(p=!0,this.sendToConsumer(h,v),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function Il(m){switch(m.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Pu(m);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=h,p=!0)),p}sendToConsumer(h,p){var v;if(h.error&&!Pu(h)){const T=(null===(v=h.error.code)||void 0===v?void 0:v.split("auth/")[1])||"internal-error";p.onError(An(this.auth,T))}else p.onAuthEvent(h)}isEventForConsumer(h,p){const v=null===p.eventId||!!h.eventId&&h.eventId===p.eventId;return p.filter.includes(h.type)&&v}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(rd(h))}saveEventToCache(h){this.cachedEventUids.add(rd(h)),this.lastProcessedEventTime=Date.now()}}function rd(m){return[m.type,m.eventId,m.sessionId,m.tenantId].filter(h=>h).join("-")}function Pu({type:m,error:h}){return"unknown"===m&&"auth/no-auth-event"===(null==h?void 0:h.code)}function Ru(m){return id.apply(this,arguments)}function id(){return(id=(0,l.Z)(function*(m,h={}){return rn(m,"GET","/v1/projects",h)})).apply(this,arguments)}const Tl=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ng=/^https?/;function to(){return(to=(0,l.Z)(function*(m){if(m.config.emulator)return;const{authorizedDomains:h}=yield Ru(m);for(const p of h)try{if(rg(p))return}catch(v){}zt(m,"unauthorized-domain")})).apply(this,arguments)}function rg(m){const h=Tr(),{protocol:p,hostname:v}=new URL(h);if(m.startsWith("chrome-extension://")){const q=new URL(m);return""===q.hostname&&""===v?"chrome-extension:"===p&&m.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===p&&q.hostname===v}if(!ng.test(p))return!1;if(Tl.test(m))return v===m;const T=m.replace(/\./g,"\\.");return new RegExp("^(.+\\."+T+"|"+T+")$","i").test(v)}const ig=new Ct(3e4,6e4);function sg(){const m=En().___jsl;if(null==m?void 0:m.H)for(const h of Object.keys(m.H))if(m.H[h].r=m.H[h].r||[],m.H[h].L=m.H[h].L||[],m.H[h].r=[...m.H[h].L],m.CP)for(let p=0;p<m.CP.length;p++)m.CP[p]=null}let Al=null;function Q_(m){return Al=Al||function og(m){return new Promise((h,p)=>{var v,T,x;function q(){sg(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{sg(),p(An(m,"network-request-failed"))},timeout:ig.get()})}if(null===(T=null===(v=En().gapi)||void 0===v?void 0:v.iframes)||void 0===T?void 0:T.Iframe)h(gapi.iframes.getContext());else{if(!(null===(x=En().gapi)||void 0===x?void 0:x.load)){const fe=Ks("iframefcb");return En()[fe]=()=>{gapi.load?q():p(An(m,"network-request-failed"))},Ta(`https://apis.google.com/js/api.js?onload=${fe}`).catch($e=>p($e))}q()}}).catch(h=>{throw Al=null,h})}(m),Al}const sd=new Ct(5e3,15e3),lg={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},od=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function J_(m){const h=m.config;Te(h.authDomain,m,"auth-domain-config-required");const p=h.emulator?Qe(h,"emulator/auth/iframe"):`https://${m.config.authDomain}/__/auth/iframe`,v={apiKey:h.apiKey,appName:m.name,v:P.SDK_VERSION},T=od.get(m.config.apiHost);T&&(v.eid=T);const x=m._getFrameworks();return x.length&&(v.fw=x.join(",")),`${p}?${(0,j.xO)(v).slice(1)}`}function Uo(){return Uo=(0,l.Z)(function*(m){const h=yield Q_(m),p=En().gapi;return Te(p,m,"internal-error"),h.open({where:document.body,url:J_(m),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:lg,dontclear:!0},v=>new Promise(function(){var T=(0,l.Z)(function*(x,q){yield v.restyle({setHideOnLeave:!1});const fe=An(m,"network-request-failed"),$e=En().setTimeout(()=>{q(fe)},sd.get());function ke(){En().clearTimeout($e),x(v)}v.ping(ke).then(ke,()=>{q(fe)})});return function(x,q){return T.apply(this,arguments)}}()))}),Uo.apply(this,arguments)}const Bh={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class _s{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(h){}}}function ku(m,h,p,v,T,x){Te(m.config.authDomain,m,"auth-domain-config-required"),Te(m.config.apiKey,m,"invalid-api-key");const q={apiKey:m.config.apiKey,appName:m.name,authType:p,redirectUrl:v,v:P.SDK_VERSION,eventId:T};if(h instanceof qn){h.setDefaultLanguage(m.languageCode),q.providerId=h.providerId||"",(0,j.xb)(h.getCustomParameters())||(q.customParameters=JSON.stringify(h.getCustomParameters()));for(const[$e,ke]of Object.entries(x||{}))q[$e]=ke}if(h instanceof nr){const $e=h.getScopes().filter(ke=>""!==ke);$e.length>0&&(q.scopes=$e.join(","))}m.tenantId&&(q.tid=m.tenantId);const fe=q;for(const $e of Object.keys(fe))void 0===fe[$e]&&delete fe[$e];return`${function Ml({config:m}){return m.emulator?Qe(m,"emulator/auth/handler"):`https://${m.authDomain}/__/auth/handler`}(m)}?${(0,j.xO)(fe).slice(1)}`}const Oa="webStorageSupport",Fu=class cg{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=yn,this._completeRedirectFn=Uh}_openPopup(h,p,v,T){var x=this;return(0,l.Z)(function*(){var q;qe(null===(q=x.eventManagers[h._key()])||void 0===q?void 0:q.manager,"_initialize() not called before _openPopup()");const fe=ku(h,p,v,Tr(),T);return function Nu(m,h,p,v=500,T=600){const x=Math.max((window.screen.availHeight-T)/2,0).toString(),q=Math.max((window.screen.availWidth-v)/2,0).toString();let fe="";const $e=Object.assign(Object.assign({},Bh),{width:v.toString(),height:T.toString(),top:x,left:q}),ke=(0,j.z$)().toLowerCase();p&&(fe=_i(ke)?"_blank":p),_t(ke)&&(h=h||"http://localhost",$e.scrollbars="yes");const ct=Object.entries($e).reduce((Zt,[tn,ys])=>`${Zt}${tn}=${ys},`,"");if(function sn(m=(0,j.z$)()){var h;return Zr(m)&&!!(null===(h=window.navigator)||void 0===h?void 0:h.standalone)}(ke)&&"_self"!==fe)return function X_(m,h){const p=document.createElement("a");p.href=m,p.target=h;const v=document.createEvent("MouseEvent");v.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(v)}(h||"",fe),new _s(null);const $t=window.open(h||"",fe,ct);Te($t,m,"popup-blocked");try{$t.focus()}catch(Zt){}return new _s($t)}(h,fe,Vr())})()}_openRedirect(h,p,v,T){var x=this;return(0,l.Z)(function*(){return yield x._originValidation(h),function wa(m){En().location.href=m}(ku(h,p,v,Tr(),T)),new Promise(()=>{})})()}_initialize(h){const p=h._key();if(this.eventManagers[p]){const{manager:T,promise:x}=this.eventManagers[p];return T?Promise.resolve(T):(qe(x,"If manager is not set, promise should be"),x)}const v=this.initAndGetManager(h);return this.eventManagers[p]={promise:v},v.catch(()=>{delete this.eventManagers[p]}),v}initAndGetManager(h){var p=this;return(0,l.Z)(function*(){const v=yield function ad(m){return Uo.apply(this,arguments)}(h),T=new xu(h);return v.register("authEvent",x=>(Te(null==x?void 0:x.authEvent,h,"invalid-auth-event"),{status:T.onEvent(x.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[h._key()]={manager:T},p.iframes[h._key()]=v,T})()}_isIframeWebStorageSupported(h,p){this.iframes[h._key()].send(Oa,{type:Oa},T=>{var x;const q=null===(x=null==T?void 0:T[0])||void 0===x?void 0:x[Oa];void 0!==q&&p(!!q),zt(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const p=h._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function Lo(m){return to.apply(this,arguments)}(h)),this.originValidationPromises[p]}get _shouldInitProactively(){return tl()||Ki()||Zr()}};class cd extends class xl{constructor(h){this.factorId=h}_process(h,p,v){switch(p.type){case"enroll":return this._finalizeEnroll(h,p.credential,v);case"signin":return this._finalizeSignIn(h,p.credential);default:return Un("unexpected MultiFactorSessionType")}}}{constructor(h){super("phone"),this.credential=h}static _fromCredential(h){return new cd(h)}_finalizeEnroll(h,p,v){return function zs(m,h){return rn(m,"POST","/v2/accounts/mfaEnrollment:finalize",rt(m,h))}(h,{idToken:p,displayName:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(h,p){return function Eu(m,h){return rn(m,"POST","/v2/accounts/mfaSignIn:finalize",rt(m,h))}(h,{mfaPendingCredential:p,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Hh=(()=>{class m{constructor(){}static assertion(p){return cd._fromCredential(p)}}return m.FACTOR_ID="phone",m})();var $h="@firebase/auth",Lu="0.19.12";class Uu{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var p=this;return(0,l.Z)(function*(){return p.assertAuthConfigured(),yield p.auth._initializationPromise,p.auth.currentUser?{accessToken:yield p.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const p=this.auth.onIdTokenChanged(v=>{var T;h((null===(T=v)||void 0===T?void 0:T.stsTokenManager.accessToken)||null)});this.internalListeners.set(h,p),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const p=this.internalListeners.get(h);!p||(this.internalListeners.delete(h),p(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}!function Na(m){(0,P._registerComponent)(new ae.wA("auth",(h,{options:p})=>{const v=h.getProvider("app").getImmediate(),T=h.getProvider("heartbeat"),{apiKey:x,authDomain:q}=v.options;return((fe,$e)=>{Te(x&&!x.includes(":"),"invalid-api-key",{appName:fe.name}),Te(!(null==q?void 0:q.includes(":")),"argument-error",{appName:fe.name});const ke={apiKey:x,authDomain:q,clientPlatform:m,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Gr(m)},ct=new nu(fe,$e,ke);return function Gn(m,h){const p=(null==h?void 0:h.persistence)||[],v=(Array.isArray(p)?p:[p]).map(qt);(null==h?void 0:h.errorMap)&&m._updateErrorMap(h.errorMap),m._initializeWithPersistence(v,null==h?void 0:h.popupRedirectResolver)}(ct,p),ct})(v,T)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,p,v)=>{h.getProvider("auth-internal").initialize()})),(0,P._registerComponent)(new ae.wA("auth-internal",h=>{const p=Mn(h.getProvider("auth").getImmediate());return new Uu(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,P.registerVersion)($h,Lu,function dg(m){switch(m){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(m)),(0,P.registerVersion)($h,Lu,"esm2017")}("Browser")},2090:(Je,Ce,O)=>{O.d(Ce,{$s:()=>rn,BH:()=>we,DV:()=>In,Dv:()=>Tr,GJ:()=>ar,L:()=>ce,LL:()=>gt,Lj:()=>At,Pz:()=>st,Sg:()=>Ae,UG:()=>he,UI:()=>zt,US:()=>se,Wj:()=>Ar,X3:()=>ot,Yr:()=>Ve,ZB:()=>X,ZR:()=>ae,b$:()=>Ne,cI:()=>Xe,dS:()=>Ct,eu:()=>pe,g5:()=>ee,gK:()=>dn,gQ:()=>Un,h$:()=>oe,hl:()=>J,hu:()=>P,jU:()=>Se,lb:()=>Ms,m9:()=>tt,ne:()=>qe,p$:()=>G,pd:()=>Te,r3:()=>Ir,ru:()=>Re,tV:()=>Z,uI:()=>de,ug:()=>Qe,vZ:()=>An,w1:()=>be,w9:()=>Ut,xO:()=>lr,xb:()=>Fn,z$:()=>Pe,zI:()=>ge,zd:()=>Ln});var l=O(5861);const P=function(W,B){if(!W)throw ee(B)},ee=function(W){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+W)},re=function(W){const B=[];let z=0;for(let ue=0;ue<W.length;ue++){let R=W.charCodeAt(ue);R<128?B[z++]=R:R<2048?(B[z++]=R>>6|192,B[z++]=63&R|128):55296==(64512&R)&&ue+1<W.length&&56320==(64512&W.charCodeAt(ue+1))?(R=65536+((1023&R)<<10)+(1023&W.charCodeAt(++ue)),B[z++]=R>>18|240,B[z++]=R>>12&63|128,B[z++]=R>>6&63|128,B[z++]=63&R|128):(B[z++]=R>>12|224,B[z++]=R>>6&63|128,B[z++]=63&R|128)}return B},se={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(W,B){if(!Array.isArray(W))throw Error("encodeByteArray takes an array as a parameter");this.init_();const z=B?this.byteToCharMapWebSafe_:this.byteToCharMap_,ue=[];for(let R=0;R<W.length;R+=3){const F=W[R],U=R+1<W.length,ie=U?W[R+1]:0,xe=R+2<W.length,Be=xe?W[R+2]:0;let mt=(15&ie)<<2|Be>>6,pn=63&Be;xe||(pn=64,U||(mt=64)),ue.push(z[F>>2],z[(3&F)<<4|ie>>4],z[mt],z[pn])}return ue.join("")},encodeString(W,B){return this.HAS_NATIVE_SUPPORT&&!B?btoa(W):this.encodeByteArray(re(W),B)},decodeString(W,B){return this.HAS_NATIVE_SUPPORT&&!B?atob(W):function(W){const B=[];let z=0,ue=0;for(;z<W.length;){const R=W[z++];if(R<128)B[ue++]=String.fromCharCode(R);else if(R>191&&R<224){const F=W[z++];B[ue++]=String.fromCharCode((31&R)<<6|63&F)}else if(R>239&&R<365){const xe=((7&R)<<18|(63&W[z++])<<12|(63&W[z++])<<6|63&W[z++])-65536;B[ue++]=String.fromCharCode(55296+(xe>>10)),B[ue++]=String.fromCharCode(56320+(1023&xe))}else{const F=W[z++],U=W[z++];B[ue++]=String.fromCharCode((15&R)<<12|(63&F)<<6|63&U)}}return B.join("")}(this.decodeStringToByteArray(W,B))},decodeStringToByteArray(W,B){this.init_();const z=B?this.charToByteMapWebSafe_:this.charToByteMap_,ue=[];for(let R=0;R<W.length;){const F=z[W.charAt(R++)],ie=R<W.length?z[W.charAt(R)]:0;++R;const Be=R<W.length?z[W.charAt(R)]:64;++R;const Ze=R<W.length?z[W.charAt(R)]:64;if(++R,null==F||null==ie||null==Be||null==Ze)throw Error();ue.push(F<<2|ie>>4),64!==Be&&(ue.push(ie<<4&240|Be>>2),64!==Ze&&ue.push(Be<<6&192|Ze))}return ue},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let W=0;W<this.ENCODED_VALS.length;W++)this.byteToCharMap_[W]=this.ENCODED_VALS.charAt(W),this.charToByteMap_[this.byteToCharMap_[W]]=W,this.byteToCharMapWebSafe_[W]=this.ENCODED_VALS_WEBSAFE.charAt(W),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[W]]=W,W>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(W)]=W,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(W)]=W)}}},oe=function(W){const B=re(W);return se.encodeByteArray(B,!0)},ce=function(W){return oe(W).replace(/\./g,"")},Z=function(W){try{return se.decodeString(W,!0)}catch(B){console.error("base64Decode failed: ",B)}return null};function G(W){return X(void 0,W)}function X(W,B){if(!(B instanceof Object))return B;switch(B.constructor){case Date:return new Date(B.getTime());case Object:void 0===W&&(W={});break;case Array:W=[];break;default:return B}for(const z in B)!B.hasOwnProperty(z)||!Fe(z)||(W[z]=X(W[z],B[z]));return W}function Fe(W){return"__proto__"!==W}class we{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((B,z)=>{this.resolve=B,this.reject=z})}wrapCallback(B){return(z,ue)=>{z?this.reject(z):this.resolve(ue),"function"==typeof B&&(this.promise.catch(()=>{}),1===B.length?B(z):B(z,ue))}}}function Ae(W,B){if(W.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ue=B||"demo-project",R=W.iat||0,F=W.sub||W.user_id;if(!F)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const U=Object.assign({iss:`https://securetoken.google.com/${ue}`,aud:ue,iat:R,exp:R+3600,auth_time:R,sub:F,user_id:F,firebase:{sign_in_provider:"custom",identities:{}}},W);return[ce(JSON.stringify({alg:"none",type:"JWT"})),ce(JSON.stringify(U)),""].join(".")}function Pe(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function de(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Pe())}function he(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(W){return!1}}function Se(){return"object"==typeof self&&self.self===self}function Re(){const W="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof W&&void 0!==W.id}function Ne(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function be(){const W=Pe();return W.indexOf("MSIE ")>=0||W.indexOf("Trident/")>=0}function Ve(){return!1}function J(){return"object"==typeof indexedDB}function pe(){return new Promise((W,B)=>{try{let z=!0;const ue="validate-browser-context-for-indexeddb-analytics-module",R=self.indexedDB.open(ue);R.onsuccess=()=>{R.result.close(),z||self.indexedDB.deleteDatabase(ue),W(!0)},R.onupgradeneeded=()=>{z=!1},R.onerror=()=>{var F;B((null===(F=R.error)||void 0===F?void 0:F.message)||"")}}catch(z){B(z)}})}function ge(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class ae extends Error{constructor(B,z,ue){super(z),this.code=B,this.customData=ue,this.name="FirebaseError",Object.setPrototypeOf(this,ae.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gt.prototype.create)}}class gt{constructor(B,z,ue){this.service=B,this.serviceName=z,this.errors=ue}create(B,...z){const ue=z[0]||{},R=`${this.service}/${B}`,F=this.errors[B],U=F?function Vt(W,B){return W.replace(Pn,(z,ue)=>{const R=B[ue];return null!=R?String(R):`<${ue}?>`})}(F,ue):"Error";return new ae(R,`${this.serviceName}: ${U} (${R}).`,ue)}}const Pn=/\{\$([^}]+)}/g;function Xe(W){return JSON.parse(W)}function st(W){return JSON.stringify(W)}const cn=function(W){let B={},z={},ue={},R="";try{const F=W.split(".");B=Xe(Z(F[0])||""),z=Xe(Z(F[1])||""),R=F[2],ue=z.d||{},delete z.d}catch(F){}return{header:B,claims:z,data:ue,signature:R}},Ut=function(W){const z=cn(W).claims;return!!z&&"object"==typeof z&&z.hasOwnProperty("iat")},ar=function(W){const B=cn(W).claims;return"object"==typeof B&&!0===B.admin};function Ir(W,B){return Object.prototype.hasOwnProperty.call(W,B)}function In(W,B){if(Object.prototype.hasOwnProperty.call(W,B))return W[B]}function Fn(W){for(const B in W)if(Object.prototype.hasOwnProperty.call(W,B))return!1;return!0}function zt(W,B,z){const ue={};for(const R in W)Object.prototype.hasOwnProperty.call(W,R)&&(ue[R]=B.call(z,W[R],R,W));return ue}function An(W,B){if(W===B)return!0;const z=Object.keys(W),ue=Object.keys(B);for(const R of z){if(!ue.includes(R))return!1;const F=W[R],U=B[R];if(mi(F)&&mi(U)){if(!An(F,U))return!1}else if(F!==U)return!1}for(const R of ue)if(!z.includes(R))return!1;return!0}function mi(W){return null!==W&&"object"==typeof W}function lr(W){const B=[];for(const[z,ue]of Object.entries(W))Array.isArray(ue)?ue.forEach(R=>{B.push(encodeURIComponent(z)+"="+encodeURIComponent(R))}):B.push(encodeURIComponent(z)+"="+encodeURIComponent(ue));return B.length?"&"+B.join("&"):""}function Ln(W){const B={};return W.replace(/^\?/,"").split("&").forEach(ue=>{if(ue){const[R,F]=ue.split("=");B[decodeURIComponent(R)]=decodeURIComponent(F)}}),B}function Te(W){const B=W.indexOf("?");if(!B)return"";const z=W.indexOf("#",B);return W.substring(B,z>0?z:void 0)}class Un{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let B=1;B<this.blockSize;++B)this.pad_[B]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(B,z){z||(z=0);const ue=this.W_;if("string"==typeof B)for(let Ze=0;Ze<16;Ze++)ue[Ze]=B.charCodeAt(z)<<24|B.charCodeAt(z+1)<<16|B.charCodeAt(z+2)<<8|B.charCodeAt(z+3),z+=4;else for(let Ze=0;Ze<16;Ze++)ue[Ze]=B[z]<<24|B[z+1]<<16|B[z+2]<<8|B[z+3],z+=4;for(let Ze=16;Ze<80;Ze++){const mt=ue[Ze-3]^ue[Ze-8]^ue[Ze-14]^ue[Ze-16];ue[Ze]=4294967295&(mt<<1|mt>>>31)}let Be,nt,R=this.chain_[0],F=this.chain_[1],U=this.chain_[2],ie=this.chain_[3],xe=this.chain_[4];for(let Ze=0;Ze<80;Ze++){Ze<40?Ze<20?(Be=ie^F&(U^ie),nt=1518500249):(Be=F^U^ie,nt=1859775393):Ze<60?(Be=F&U|ie&(F|U),nt=2400959708):(Be=F^U^ie,nt=3395469782);const mt=(R<<5|R>>>27)+Be+xe+nt+ue[Ze]&4294967295;xe=ie,ie=U,U=4294967295&(F<<30|F>>>2),F=R,R=mt}this.chain_[0]=this.chain_[0]+R&4294967295,this.chain_[1]=this.chain_[1]+F&4294967295,this.chain_[2]=this.chain_[2]+U&4294967295,this.chain_[3]=this.chain_[3]+ie&4294967295,this.chain_[4]=this.chain_[4]+xe&4294967295}update(B,z){if(null==B)return;void 0===z&&(z=B.length);const ue=z-this.blockSize;let R=0;const F=this.buf_;let U=this.inbuf_;for(;R<z;){if(0===U)for(;R<=ue;)this.compress_(B,R),R+=this.blockSize;if("string"==typeof B){for(;R<z;)if(F[U]=B.charCodeAt(R),++U,++R,U===this.blockSize){this.compress_(F),U=0;break}}else for(;R<z;)if(F[U]=B[R],++U,++R,U===this.blockSize){this.compress_(F),U=0;break}}this.inbuf_=U,this.total_+=z}digest(){const B=[];let z=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let R=this.blockSize-1;R>=56;R--)this.buf_[R]=255&z,z/=256;this.compress_(this.buf_);let ue=0;for(let R=0;R<5;R++)for(let F=24;F>=0;F-=8)B[ue]=this.chain_[R]>>F&255,++ue;return B}}function qe(W,B){const z=new ur(W,B);return z.subscribe.bind(z)}class ur{constructor(B,z){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=z,this.task.then(()=>{B(this)}).catch(ue=>{this.error(ue)})}next(B){this.forEachObserver(z=>{z.next(B)})}error(B){this.forEachObserver(z=>{z.error(B)}),this.close(B)}complete(){this.forEachObserver(B=>{B.complete()}),this.close()}subscribe(B,z,ue){let R;if(void 0===B&&void 0===z&&void 0===ue)throw new Error("Missing Observer.");R=function Bt(W,B){if("object"!=typeof W||null===W)return!1;for(const z of B)if(z in W&&"function"==typeof W[z])return!0;return!1}(B,["next","error","complete"])?B:{next:B,error:z,complete:ue},void 0===R.next&&(R.next=Gn),void 0===R.error&&(R.error=Gn),void 0===R.complete&&(R.complete=Gn);const F=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?R.error(this.finalError):R.complete()}catch(U){}}),this.observers.push(R),F}unsubscribeOne(B){void 0===this.observers||void 0===this.observers[B]||(delete this.observers[B],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(B){if(!this.finalized)for(let z=0;z<this.observers.length;z++)this.sendOne(z,B)}sendOne(B,z){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[B])try{z(this.observers[B])}catch(ue){"undefined"!=typeof console&&console.error&&console.error(ue)}})}close(B){this.finalized||(this.finalized=!0,void 0!==B&&(this.finalError=B),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Gn(){}const Tr=function(W,B,z,ue){let R;if(ue<B?R="at least "+B:ue>z&&(R=0===z?"none":"no more than "+z),R)throw new Error(W+" failed: Was called with "+ue+(1===ue?" argument.":" arguments.")+" Expects "+R+".")};function dn(W,B){return`${W} failed: ${B} argument `}function Ar(W,B,z,ue){if((!ue||z)&&"function"!=typeof z)throw new Error(dn(W,B)+"must be a valid function.")}function Ms(W,B,z,ue){if((!ue||z)&&("object"!=typeof z||null===z))throw new Error(dn(W,B)+"must be a valid context object.")}const Ct=function(W){const B=[];let z=0;for(let ue=0;ue<W.length;ue++){let R=W.charCodeAt(ue);if(R>=55296&&R<=56319){const F=R-55296;ue++,P(ue<W.length,"Surrogate pair missing trail surrogate."),R=65536+(F<<10)+(W.charCodeAt(ue)-56320)}R<128?B[z++]=R:R<2048?(B[z++]=R>>6|192,B[z++]=63&R|128):R<65536?(B[z++]=R>>12|224,B[z++]=R>>6&63|128,B[z++]=63&R|128):(B[z++]=R>>18|240,B[z++]=R>>12&63|128,B[z++]=R>>6&63|128,B[z++]=63&R|128)}return B},Qe=function(W){let B=0;for(let z=0;z<W.length;z++){const ue=W.charCodeAt(z);ue<128?B++:ue<2048?B+=2:ue>=55296&&ue<=56319?(B+=4,z++):B+=3}return B};function rn(W,B=1e3,z=2){const ue=B*Math.pow(z,W),R=Math.round(.5*ue*(Math.random()-.5)*2);return Math.min(144e5,ue+R)}function tt(W){return W&&W._delegate?W._delegate:W}function Qt(W,B){return new Promise((z,ue)=>{W.onsuccess=R=>{z(R.target.result)},W.onerror=R=>{var F;ue(`${B}: ${null===(F=R.target.error)||void 0===F?void 0:F.message}`)}})}class wt{constructor(B){this._db=B,this.objectStoreNames=this._db.objectStoreNames}transaction(B,z="readonly"){return new Le(this._db.transaction.call(this._db,B,z))}createObjectStore(B,z){return new ye(this._db.createObjectStore(B,z))}close(){this._db.close()}}class Le{constructor(B){this._transaction=B,this.complete=new Promise((z,ue)=>{this._transaction.oncomplete=function(){z()},this._transaction.onerror=()=>{ue(this._transaction.error)},this._transaction.onabort=()=>{ue(this._transaction.error)}})}objectStore(B){return new ye(this._transaction.objectStore(B))}}class ye{constructor(B){this._store=B}index(B){return new He(this._store.index(B))}createIndex(B,z,ue){return new He(this._store.createIndex(B,z,ue))}get(B){return Qt(this._store.get(B),"Error reading from IndexedDB")}put(B,z){return Qt(this._store.put(B,z),"Error writing to IndexedDB")}delete(B){return Qt(this._store.delete(B),"Error deleting from IndexedDB")}clear(){return Qt(this._store.clear(),"Error clearing IndexedDB object store")}}class He{constructor(B){this._index=B}get(B){return Qt(this._index.get(B),"Error reading from IndexedDB")}}function ot(W,B,z){return new Promise((ue,R)=>{try{const F=indexedDB.open(W,B);F.onsuccess=U=>{ue(new wt(U.target.result))},F.onerror=U=>{var ie;R(`Error opening indexedDB: ${null===(ie=U.target.error)||void 0===ie?void 0:ie.message}`)},F.onupgradeneeded=U=>{z(new wt(F.result),U.oldVersion,U.newVersion,new Le(F.transaction))}}catch(F){R(`Error opening indexedDB: ${F.message}`)}})}function At(W){return xt.apply(this,arguments)}function xt(){return(xt=(0,l.Z)(function*(W){return new Promise((B,z)=>{try{const ue=indexedDB.deleteDatabase(W);ue.onsuccess=()=>{B()},ue.onerror=R=>{var F;z(`Error deleting indexedDB database "${W}": ${null===(F=R.target.error)||void 0===F?void 0:F.message}`)}}catch(ue){z(`Error deleting indexedDB database "${W}": ${ue.message}`)}})})).apply(this,arguments)}},9079:(Je,Ce,O)=>{var l=O(5e3);let j=null;function P(){return j}const se=new l.OlP("DocumentToken");let oe=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function ce(){return(0,l.LFG)(G)}()},providedIn:"platform"}),n})();const Z=new l.OlP("Location Initialized");let G=(()=>{class n extends oe{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return P().getBaseHref(this._doc)}onPopState(e){const s=P().getGlobalEventTarget(this._doc,"window");return s.addEventListener("popstate",e,!1),()=>s.removeEventListener("popstate",e)}onHashChange(e){const s=P().getGlobalEventTarget(this._doc,"window");return s.addEventListener("hashchange",e,!1),()=>s.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,s,a){X()?this._history.pushState(e,s,a):this.location.hash=a}replaceState(e,s,a){X()?this._history.replaceState(e,s,a):this.location.hash=a}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(se))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function Fe(){return new G((0,l.LFG)(se))}()},providedIn:"platform"}),n})();function X(){return!!window.history.pushState}function we(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function Ae(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Pe(n){return n&&"?"!==n[0]?"?"+n:n}let de=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function he(n){const t=(0,l.LFG)(se).location;return new Re((0,l.LFG)(oe),t&&t.origin||"")}()},providedIn:"root"}),n})();const Se=new l.OlP("appBaseHref");let Re=(()=>{class n extends de{constructor(e,s){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==s&&(s=this._platformLocation.getBaseHrefFromDOM()),null==s)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=s}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return we(this._baseHref,e)}path(e=!1){const s=this._platformLocation.pathname+Pe(this._platformLocation.search),a=this._platformLocation.hash;return a&&e?`${s}${a}`:s}pushState(e,s,a,d){const g=this.prepareExternalUrl(a+Pe(d));this._platformLocation.pushState(e,s,g)}replaceState(e,s,a,d){const g=this.prepareExternalUrl(a+Pe(d));this._platformLocation.replaceState(e,s,g)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var s,a;null===(a=(s=this._platformLocation).historyGo)||void 0===a||a.call(s,e)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(oe),l.LFG(Se,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Ne=(()=>{class n extends de{constructor(e,s){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=s&&(this._baseHref=s)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let s=this._platformLocation.hash;return null==s&&(s="#"),s.length>0?s.substring(1):s}prepareExternalUrl(e){const s=we(this._baseHref,e);return s.length>0?"#"+s:s}pushState(e,s,a,d){let g=this.prepareExternalUrl(a+Pe(d));0==g.length&&(g=this._platformLocation.pathname),this._platformLocation.pushState(e,s,g)}replaceState(e,s,a,d){let g=this.prepareExternalUrl(a+Pe(d));0==g.length&&(g=this._platformLocation.pathname),this._platformLocation.replaceState(e,s,g)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var s,a;null===(a=(s=this._platformLocation).historyGo)||void 0===a||a.call(s,e)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(oe),l.LFG(Se,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Ge=(()=>{class n{constructor(e,s){this._subject=new l.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const a=this._platformStrategy.getBaseHref();this._platformLocation=s,this._baseHref=Ae(Ve(a)),this._platformStrategy.onPopState(d=>{this._subject.emit({url:this.path(!0),pop:!0,state:d.state,type:d.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,s=""){return this.path()==this.normalize(e+Pe(s))}normalize(e){return n.stripTrailingSlash(function Ke(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,Ve(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,s="",a=null){this._platformStrategy.pushState(a,"",e,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Pe(s)),a)}replaceState(e,s="",a=null){this._platformStrategy.replaceState(a,"",e,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Pe(s)),a)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var s,a;null===(a=(s=this._platformStrategy).historyGo)||void 0===a||a.call(s,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(s=>{this._notifyUrlChangeListeners(s.url,s.state)}))}_notifyUrlChangeListeners(e="",s){this._urlChangeListeners.forEach(a=>a(e,s))}subscribe(e,s,a){return this._subject.subscribe({next:e,error:s,complete:a})}}return n.normalizeQueryParams=Pe,n.joinWithSlash=we,n.stripTrailingSlash=Ae,n.\u0275fac=function(e){return new(e||n)(l.LFG(de),l.LFG(oe))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function be(){return new Ge((0,l.LFG)(de),(0,l.LFG)(oe))}()},providedIn:"root"}),n})();function Ve(n){return n.replace(/\/index.html$/,"")}const it={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var J=(()=>((J=J||{})[J.Decimal=0]="Decimal",J[J.Percent=1]="Percent",J[J.Currency=2]="Currency",J[J.Scientific=3]="Scientific",J))(),pe=(()=>((pe=pe||{})[pe.Zero=0]="Zero",pe[pe.One=1]="One",pe[pe.Two=2]="Two",pe[pe.Few=3]="Few",pe[pe.Many=4]="Many",pe[pe.Other=5]="Other",pe))(),ae=(()=>((ae=ae||{})[ae.Decimal=0]="Decimal",ae[ae.Group=1]="Group",ae[ae.List=2]="List",ae[ae.PercentSign=3]="PercentSign",ae[ae.PlusSign=4]="PlusSign",ae[ae.MinusSign=5]="MinusSign",ae[ae.Exponential=6]="Exponential",ae[ae.SuperscriptingExponent=7]="SuperscriptingExponent",ae[ae.PerMille=8]="PerMille",ae[ae.Infinity=9]="Infinity",ae[ae.NaN=10]="NaN",ae[ae.TimeSeparator=11]="TimeSeparator",ae[ae.CurrencyDecimal=12]="CurrencyDecimal",ae[ae.CurrencyGroup=13]="CurrencyGroup",ae))();function In(n,t){const e=(0,l.cg1)(n),s=e[l.wAp.NumberSymbols][t];if(void 0===s){if(t===ae.CurrencyDecimal)return e[l.wAp.NumberSymbols][ae.Decimal];if(t===ae.CurrencyGroup)return e[l.wAp.NumberSymbols][ae.Group]}return s}const Ln=l.kL8;const nt=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Or(n,t,e,s,a){const g=function jt(n,t="-"){const e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},s=n.split(";"),a=s[0],d=s[1],g=-1!==a.indexOf(".")?a.split("."):[a.substring(0,a.lastIndexOf("0")+1),a.substring(a.lastIndexOf("0")+1)],y=g[0],w=g[1]||"";e.posPre=y.substr(0,y.indexOf("#"));for(let H=0;H<w.length;H++){const L=w.charAt(H);"0"===L?e.minFrac=e.maxFrac=H+1:"#"===L?e.maxFrac=H+1:e.posSuf+=L}const S=y.split(",");if(e.gSize=S[1]?S[1].length:0,e.lgSize=S[2]||S[1]?(S[2]||S[1]).length:0,d){const H=a.length-e.posPre.length-e.posSuf.length,L=d.indexOf("#");e.negPre=d.substr(0,L).replace(/'/g,""),e.negSuf=d.substr(L+H).replace(/'/g,"")}else e.negPre=t+e.posPre,e.negSuf=e.posSuf;return e}(function Fn(n,t){return(0,l.cg1)(n)[l.wAp.NumberFormats][t]}(t,J.Currency),In(t,ae.MinusSign));return g.minFrac=function dn(n){let t;const e=it[n];return e&&(t=e[2]),"number"==typeof t?t:2}(s),g.maxFrac=g.minFrac,function ra(n,t,e,s,a,d,g=!1){let y="",w=!1;if(isFinite(n)){let S=function br(n){let s,a,d,g,y,t=Math.abs(n)+"",e=0;for((a=t.indexOf("."))>-1&&(t=t.replace(".","")),(d=t.search(/e/i))>0?(a<0&&(a=d),a+=+t.slice(d+1),t=t.substring(0,d)):a<0&&(a=t.length),d=0;"0"===t.charAt(d);d++);if(d===(y=t.length))s=[0],a=1;else{for(y--;"0"===t.charAt(y);)y--;for(a-=d,s=[],g=0;d<=y;d++,g++)s[g]=Number(t.charAt(d))}return a>22&&(s=s.splice(0,21),e=a-1,a=1),{digits:s,exponent:e,integerLen:a}}(n);g&&(S=function Tn(n){if(0===n.digits[0])return n;const t=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===t?n.digits.push(0,0):1===t&&n.digits.push(0),n.integerLen+=2),n}(S));let H=t.minInt,L=t.minFrac,Q=t.maxFrac;if(d){const Dn=d.match(nt);if(null===Dn)throw new Error(`${d} is not a valid digit info`);const Wn=Dn[1],nn=Dn[3],qi=Dn[5];null!=Wn&&(H=Nr(Wn)),null!=nn&&(L=Nr(nn)),null!=qi?Q=Nr(qi):null!=nn&&L>Q&&(Q=L)}!function er(n,t,e){if(t>e)throw new Error(`The minimum number of digits after fraction (${t}) is higher than the maximum (${e}).`);let s=n.digits,a=s.length-n.integerLen;const d=Math.min(Math.max(t,a),e);let g=d+n.integerLen,y=s[g];if(g>0){s.splice(Math.max(n.integerLen,g));for(let L=g;L<s.length;L++)s[L]=0}else{a=Math.max(0,a),n.integerLen=1,s.length=Math.max(1,g=d+1),s[0]=0;for(let L=1;L<g;L++)s[L]=0}if(y>=5)if(g-1<0){for(let L=0;L>g;L--)s.unshift(0),n.integerLen++;s.unshift(1),n.integerLen++}else s[g-1]++;for(;a<Math.max(0,d);a++)s.push(0);let w=0!==d;const S=t+n.integerLen,H=s.reduceRight(function(L,Q,te,Ie){return Ie[te]=(Q+=L)<10?Q:Q-10,w&&(0===Ie[te]&&te>=S?Ie.pop():w=!1),Q>=10?1:0},0);H&&(s.unshift(H),n.integerLen++)}(S,L,Q);let te=S.digits,Ie=S.integerLen;const at=S.exponent;let vt=[];for(w=te.every(Dn=>!Dn);Ie<H;Ie++)te.unshift(0);for(;Ie<0;Ie++)te.unshift(0);Ie>0?vt=te.splice(Ie,te.length):(vt=te,te=[0]);const Rt=[];for(te.length>=t.lgSize&&Rt.unshift(te.splice(-t.lgSize,te.length).join(""));te.length>t.gSize;)Rt.unshift(te.splice(-t.gSize,te.length).join(""));te.length&&Rt.unshift(te.join("")),y=Rt.join(In(e,s)),vt.length&&(y+=In(e,a)+vt.join("")),at&&(y+=In(e,ae.Exponential)+"+"+at)}else y=In(e,ae.Infinity);return y=n<0&&!w?t.negPre+y+t.negSuf:t.posPre+y+t.posSuf,y}(n,g,t,ae.CurrencyGroup,ae.CurrencyDecimal,a).replace("\xa4",e).replace("\xa4","").trim()}function Nr(n){const t=parseInt(n);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+n);return t}class Kt{}let Yi=(()=>{class n extends Kt{constructor(e){super(),this.locale=e}getPluralCategory(e,s){switch(Ln(s||this.locale)(e)){case pe.Zero:return"zero";case pe.One:return"one";case pe.Two:return"two";case pe.Few:return"few";case pe.Many:return"many";default:return"other"}}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.soG))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function Ki(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const s=e.indexOf("="),[a,d]=-1==s?[e,""]:[e.slice(0,s),e.slice(s+1)];if(a.trim()===t)return decodeURIComponent(d)}return null}let _i=(()=>{class n{constructor(e,s,a,d){this._iterableDiffers=e,this._keyValueDiffers=s,this._ngEl=a,this._renderer=d,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,l.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(s=>this._toggleClass(s.key,s.currentValue)),e.forEachChangedItem(s=>this._toggleClass(s.key,s.currentValue)),e.forEachRemovedItem(s=>{s.previousValue&&this._toggleClass(s.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(s=>{if("string"!=typeof s.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,l.AaK)(s.item)}`);this._toggleClass(s.item,!0)}),e.forEachRemovedItem(s=>this._toggleClass(s.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(s=>this._toggleClass(s,!0)):Object.keys(e).forEach(s=>this._toggleClass(s,!!e[s])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(s=>this._toggleClass(s,!1)):Object.keys(e).forEach(s=>this._toggleClass(s,!1)))}_toggleClass(e,s){(e=e.trim())&&e.split(/\s+/g).forEach(a=>{s?this._renderer.addClass(this._ngEl.nativeElement,a):this._renderer.removeClass(this._ngEl.nativeElement,a)})}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.ZZ4),l.Y36(l.aQg),l.Y36(l.SBq),l.Y36(l.Qsj))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class ii{constructor(t,e,s,a){this.$implicit=t,this.ngForOf=e,this.index=s,this.count=a}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Sn=(()=>{class n{constructor(e,s,a){this._viewContainer=e,this._template=s,this._differs=a,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const s=this._viewContainer;e.forEachOperation((a,d,g)=>{if(null==a.previousIndex)s.createEmbeddedView(this._template,new ii(a.item,this._ngForOf,-1,-1),null===g?void 0:g);else if(null==g)s.remove(null===d?void 0:d);else if(null!==d){const y=s.get(d);s.move(y,g),Qi(y,a)}});for(let a=0,d=s.length;a<d;a++){const y=s.get(a).context;y.index=a,y.count=d,y.ngForOf=this._ngForOf}e.forEachIdentityChange(a=>{Qi(s.get(a.currentIndex),a)})}static ngTemplateContextGuard(e,s){return!0}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(l.ZZ4))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function Qi(n,t){n.context.$implicit=t.item}let tr=(()=>{class n{constructor(e,s){this._viewContainer=e,this._context=new sn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=s}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){sa("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){sa("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,s){return!0}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.s_b),l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class sn{constructor(){this.$implicit=null,this.ngIf=null}}function sa(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,l.AaK)(t)}'.`)}let oa=(()=>{class n{constructor(e,s,a){this._ngEl=e,this._differs=s,this._renderer=a,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,s){const[a,d]=e.split(".");null!=(s=null!=s&&d?`${s}${d}`:s)?this._renderer.setStyle(this._ngEl.nativeElement,a,s):this._renderer.removeStyle(this._ngEl.nativeElement,a)}_applyChanges(e){e.forEachRemovedItem(s=>this._setStyle(s.key,null)),e.forEachAddedItem(s=>this._setStyle(s.key,s.currentValue)),e.forEachChangedItem(s=>this._setStyle(s.key,s.currentValue))}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(l.aQg),l.Y36(l.Qsj))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),n})();function qr(n,t){return new l.vHH(2100,"")}class mo{createSubscription(t,e){return t.subscribe({next:e,error:s=>{throw s}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class Uc{createSubscription(t,e){return t.then(e,s=>{throw s})}dispose(t){}onDestroy(t){}}const ru=new Uc,Vc=new mo;let nl=(()=>{class n{constructor(e){this._ref=e,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,s=>this._updateLatestValue(e,s))}_selectStrategy(e){if((0,l.QGY)(e))return ru;if((0,l.F4k)(e))return Vc;throw qr()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,s){e===this._obj&&(this._latestValue=s,this._ref.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.sBO,16))},n.\u0275pipe=l.Yjl({name:"async",type:n,pure:!1}),n})(),Ji=(()=>{class n{constructor(e,s="USD"){this._locale=e,this._defaultCurrencyCode=s}transform(e,s=this._defaultCurrencyCode,a="symbol",d,g){if(!function Ps(n){return!(null==n||""===n||n!=n)}(e))return null;g=g||this._locale,"boolean"==typeof a&&(a=a?"symbol":"code");let y=s||this._defaultCurrencyCode;"code"!==a&&(y="symbol"===a||"symbol-narrow"===a?function Gn(n,t,e="en"){const s=function lr(n){return(0,l.cg1)(n)[l.wAp.Currencies]}(e)[n]||it[n]||[],a=s[1];return"narrow"===t&&"string"==typeof a?a:s[0]||n}(y,"symbol"===a?"wide":"narrow",g):a);try{return Or(function Rs(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(e),g,y,s,d)}catch(w){throw qr()}}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.soG,16),l.Y36(l.EJc,16))},n.\u0275pipe=l.Yjl({name:"currency",type:n,pure:!0}),n})();let ol=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[{provide:Kt,useClass:Yi}]}),n})();let ll=(()=>{class n{}return n.\u0275prov=(0,l.Yz7)({token:n,providedIn:"root",factory:()=>new lu((0,l.LFG)(se),window)}),n})();class lu{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function la(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const s=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let a=s.currentNode;for(;a;){const d=a.shadowRoot;if(d){const g=d.getElementById(t)||d.querySelector(`[name="${t}"]`);if(g)return g}a=s.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),s=e.left+this.window.pageXOffset,a=e.top+this.window.pageYOffset,d=this.offset();this.window.scrollTo(s-d[0],a-d[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=Pt(this.window.history)||Pt(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function Pt(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class on{}class Ns extends class cu extends class me{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function re(n){j||(j=n)}(new Ns)}onAndCancel(t,e,s){return t.addEventListener(e,s,!1),()=>{t.removeEventListener(e,s,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function nr(){return qn=qn||document.querySelector("base"),qn?qn.getAttribute("href"):null}();return null==e?null:function Co(n){si=si||document.createElement("a"),si.setAttribute("href",n);const t=si.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){qn=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Ki(document.cookie,t)}}let si,qn=null;const Xi=new l.OlP("TRANSITION_ID"),du=[{provide:l.ip1,useFactory:function Ht(n,t,e){return()=>{e.get(l.CZH).donePromise.then(()=>{const s=P(),a=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let d=0;d<a.length;d++)s.remove(a[d])})}},deps:[Xi,se,l.zs3],multi:!0}];class kr{static init(){(0,l.VLi)(new kr)}addToWindow(t){l.dqk.getAngularTestability=(s,a=!0)=>{const d=t.findTestabilityInTree(s,a);if(null==d)throw new Error("Could not find testability for element.");return d},l.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),l.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),l.dqk.frameworkStabilizers||(l.dqk.frameworkStabilizers=[]),l.dqk.frameworkStabilizers.push(s=>{const a=l.dqk.getAllAngularTestabilities();let d=a.length,g=!1;const y=function(w){g=g||w,d--,0==d&&s(g)};a.forEach(function(w){w.whenStable(y)})})}findTestabilityInTree(t,e,s){if(null==e)return null;const a=t.getTestability(e);return null!=a?a:s?P().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let Hc=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const dr=new l.OlP("EventManagerPlugins");let ks=(()=>{class n{constructor(e,s){this._zone=s,this._eventNameToPlugin=new Map,e.forEach(a=>a.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,s,a){return this._findPluginFor(s).addEventListener(e,s,a)}addGlobalEventListener(e,s,a){return this._findPluginFor(s).addGlobalEventListener(e,s,a)}getZone(){return this._zone}_findPluginFor(e){const s=this._eventNameToPlugin.get(e);if(s)return s;const a=this._plugins;for(let d=0;d<a.length;d++){const g=a[d];if(g.supports(e))return this._eventNameToPlugin.set(e,g),g}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(dr),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class es{constructor(t){this._doc=t}addGlobalEventListener(t,e,s){const a=P().getGlobalEventTarget(this._doc,t);if(!a)throw new Error(`Unsupported event target ${a} for event ${e}`);return this.addEventListener(a,e,s)}}let lt=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const s=new Set;e.forEach(a=>{this._stylesSet.has(a)||(this._stylesSet.add(a),s.add(a))}),this.onStylesAdded(s)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),rr=(()=>{class n extends lt{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,s,a){e.forEach(d=>{const g=this._doc.createElement("style");g.textContent=d,a.push(s.appendChild(g))})}addHost(e){const s=[];this._addStylesToHost(this._stylesSet,e,s),this._hostNodes.set(e,s)}removeHost(e){const s=this._hostNodes.get(e);s&&s.forEach(Eo),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((s,a)=>{this._addStylesToHost(e,a,s)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(Eo))}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(se))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function Eo(n){P().remove(n)}const ua={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},bo=/%COMP%/g;function hn(n,t,e){for(let s=0;s<t.length;s++){let a=t[s];Array.isArray(a)?hn(n,a,e):(a=a.replace(bo,n),e.push(a))}return e}function Oi(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let mr=(()=>{class n{constructor(e,s,a){this.eventManager=e,this.sharedStylesHost=s,this.appId=a,this.rendererByCompId=new Map,this.defaultRenderer=new ts(e)}createRenderer(e,s){if(!e||!s)return this.defaultRenderer;switch(s.encapsulation){case l.ifc.Emulated:{let a=this.rendererByCompId.get(s.id);return a||(a=new ca(this.eventManager,this.sharedStylesHost,s,this.appId),this.rendererByCompId.set(s.id,a)),a.applyToHost(e),a}case 1:case l.ifc.ShadowDom:return new Vs(this.eventManager,this.sharedStylesHost,e,s);default:if(!this.rendererByCompId.has(s.id)){const a=hn(s.id,s.styles,[]);this.sharedStylesHost.addStyles(a),this.rendererByCompId.set(s.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(ks),l.LFG(rr),l.LFG(l.AFp))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class ts{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(ua[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,s){t&&t.insertBefore(e,s)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let s="string"==typeof t?document.querySelector(t):t;if(!s)throw new Error(`The selector "${t}" did not match any elements`);return e||(s.textContent=""),s}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,s,a){if(a){e=a+":"+e;const d=ua[a];d?t.setAttributeNS(d,e,s):t.setAttribute(e,s)}else t.setAttribute(e,s)}removeAttribute(t,e,s){if(s){const a=ua[s];a?t.removeAttributeNS(a,e):t.removeAttribute(`${s}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,s,a){a&(l.JOm.DashCase|l.JOm.Important)?t.style.setProperty(e,s,a&l.JOm.Important?"important":""):t.style[e]=s}removeStyle(t,e,s){s&l.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,s){t[e]=s}setValue(t,e){t.nodeValue=e}listen(t,e,s){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Oi(s)):this.eventManager.addEventListener(t,e,Oi(s))}}class ca extends ts{constructor(t,e,s,a){super(t),this.component=s;const d=hn(a+"-"+s.id,s.styles,[]);e.addStyles(d),this.contentAttr=function St(n){return"_ngcontent-%COMP%".replace(bo,n)}(a+"-"+s.id),this.hostAttr=function Ls(n){return"_nghost-%COMP%".replace(bo,n)}(a+"-"+s.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const s=super.createElement(t,e);return super.setAttribute(s,this.contentAttr,""),s}}class Vs extends ts{constructor(t,e,s,a){super(t),this.sharedStylesHost=e,this.hostEl=s,this.shadowRoot=s.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const d=hn(a.id,a.styles,[]);for(let g=0;g<d.length;g++){const y=document.createElement("style");y.textContent=d[g],this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,s){return super.insertBefore(this.nodeOrShadowRoot(t),e,s)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Io=(()=>{class n extends es{constructor(e){super(e)}supports(e){return!0}addEventListener(e,s,a){return e.addEventListener(s,a,!1),()=>this.removeEventListener(e,s,a)}removeEventListener(e,s,a){return e.removeEventListener(s,a)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(se))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const jn=["alt","control","meta","shift"],Bs={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ns={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Fr={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let dl=(()=>{class n extends es{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,s,a){const d=n.parseEventName(s),g=n.eventCallback(d.fullKey,a,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>P().onAndCancel(e,d.domEventName,g))}static parseEventName(e){const s=e.toLowerCase().split("."),a=s.shift();if(0===s.length||"keydown"!==a&&"keyup"!==a)return null;const d=n._normalizeKey(s.pop());let g="";if(jn.forEach(w=>{const S=s.indexOf(w);S>-1&&(s.splice(S,1),g+=w+".")}),g+=d,0!=s.length||0===d.length)return null;const y={};return y.domEventName=a,y.fullKey=g,y}static getEventFullKey(e){let s="",a=function da(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&ns.hasOwnProperty(t)&&(t=ns[t]))}return Bs[t]||t}(e);return a=a.toLowerCase()," "===a?a="space":"."===a&&(a="dot"),jn.forEach(d=>{d!=a&&Fr[d](e)&&(s+=d+".")}),s+=a,s}static eventCallback(e,s,a){return d=>{n.getEventFullKey(d)===e&&a.runGuarded(()=>s(d))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(se))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Hs=(0,l.eFA)(l._c5,"browser",[{provide:l.Lbi,useValue:"browser"},{provide:l.g9A,useValue:function js(){Ns.makeCurrent(),kr.init()},multi:!0},{provide:se,useFactory:function Ni(){return(0,l.RDi)(document),document},deps:[]}]),fl=[{provide:l.zSh,useValue:"root"},{provide:l.qLn,useFactory:function hl(){return new l.qLn},deps:[]},{provide:dr,useClass:Io,multi:!0,deps:[se,l.R0b,l.Lbi]},{provide:dr,useClass:dl,multi:!0,deps:[se]},{provide:mr,useClass:mr,deps:[ks,rr,l.AFp]},{provide:l.FYo,useExisting:mr},{provide:lt,useExisting:rr},{provide:rr,useClass:rr,deps:[se]},{provide:l.dDg,useClass:l.dDg,deps:[l.R0b]},{provide:ks,useClass:ks,deps:[dr,l.R0b]},{provide:on,useClass:Hc,deps:[]}];let To=(()=>{class n{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:n,providers:[{provide:l.AFp,useValue:e.appId},{provide:Xi,useExisting:l.AFp},du]}}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(n,12))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:fl,imports:[ol,l.hGG]}),n})();"undefined"!=typeof window&&window;var Hn=O(8996),Jt=O(8306);const{isArray:Ea}=Array,{getPrototypeOf:zc,prototype:qc,keys:Ws}=Object;function Yc(n){if(1===n.length){const t=n[0];if(Ea(t))return{args:t,keys:null};if(function Mo(n){return n&&"object"==typeof n&&zc(n)===qc}(t)){const e=Ws(t);return{args:e.map(s=>t[s]),keys:e}}}return{args:n,keys:null}}var ki=O(8421),yi=O(7669),$n=O(5403),ft=O(4004);const{isArray:Gs}=Array;function gu(n){return(0,ft.U)(t=>function Kc(n,t){return Gs(t)?n(...t):n(t)}(n,t))}function zs(n,t){return n.reduce((e,s,a)=>(e[s]=t[a],e),{})}let Fi=(()=>{class n{constructor(e,s){this._renderer=e,this._elementRef=s,this.onChange=a=>{},this.onTouched=()=>{}}setProperty(e,s){this._renderer.setProperty(this._elementRef.nativeElement,e,s)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.Qsj),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n}),n})(),Lr=(()=>{class n extends Fi{}return n.\u0275fac=function(){let t;return function(s){return(t||(t=l.n5z(n)))(s||n)}}(),n.\u0275dir=l.lG2({type:n,features:[l.qOj]}),n})();const _r=new l.OlP("NgValueAccessor"),yl={provide:_r,useExisting:(0,l.Gpc)(()=>qs),multi:!0},xo=new l.OlP("CompositionEventMode");let qs=(()=>{class n extends Fi{constructor(e,s,a){super(e,s),this._compositionMode=a,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function vl(){const n=P()?P().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(xo,8))},n.\u0275dir=l.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,s){1&e&&l.NdJ("input",function(d){return s._handleInput(d.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(d){return s._compositionEnd(d.target.value)})},features:[l._Bn([yl]),l.qOj]}),n})();function ai(n){return null==n||0===n.length}function Li(n){return null!=n&&"number"==typeof n.length}const yn=new l.OlP("NgValidators"),os=new l.OlP("NgAsyncValidators"),mu=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Vr{static min(t){return function as(n){return t=>{if(ai(t.value)||ai(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function En(n){return t=>{if(ai(t.value)||ai(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return wa(t)}static requiredTrue(t){return function Ui(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function ls(n){return ai(n.value)||mu.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function Kr(n){return t=>ai(t.value)||!Li(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function us(n){return t=>Li(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function Po(n){if(!n)return Vi;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),s=>{if(ai(s.value))return null;const a=s.value;return t.test(a)?null:{pattern:{requiredPattern:e,actualValue:a}}}}(t)}static nullValidator(t){return null}static compose(t){return _u(t)}static composeAsync(t){return vu(t)}}function wa(n){return ai(n.value)?{required:!0}:null}function Vi(n){return null}function vi(n){return null!=n}function Cl(n){const t=(0,l.QGY)(n)?(0,Hn.D)(n):n;return(0,l.CqO)(t),t}function El(n){let t={};return n.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function Xt(n,t){return t.map(e=>e(n))}function Nh(n){return n.map(t=>function Ys(n){return!n.validate}(t)?t:e=>t.validate(e))}function _u(n){if(!n)return null;const t=n.filter(vi);return 0==t.length?null:function(e){return El(Xt(e,t))}}function yu(n){return null!=n?_u(Nh(n)):null}function vu(n){if(!n)return null;const t=n.filter(vi);return 0==t.length?null:function(e){return function _l(...n){const t=(0,yi.jO)(n),{args:e,keys:s}=Yc(n),a=new Jt.y(d=>{const{length:g}=e;if(!g)return void d.complete();const y=new Array(g);let w=g,S=g;for(let H=0;H<g;H++){let L=!1;(0,ki.Xf)(e[H]).subscribe(new $n.Q(d,Q=>{L||(L=!0,S--),y[H]=Q},()=>w--,void 0,()=>{(!w||!L)&&(S||d.next(s?zs(s,y):y),d.complete())}))}});return t?a.pipe(gu(t)):a}(Xt(e,t).map(Cl)).pipe((0,ft.U)(El))}}function Cu(n){return null!=n?vu(Nh(n)):null}function Da(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function Bi(n){return n._rawValidators}function Qc(n){return n._rawAsyncValidators}function xn(n){return n?Array.isArray(n)?n:[n]:[]}function Ro(n,t){return Array.isArray(n)?n.includes(t):n===t}function cs(n,t){const e=xn(t);return xn(n).forEach(a=>{Ro(e,a)||e.push(a)}),e}function Jc(n,t){return xn(t).filter(e=>!Ro(n,e))}class Eu{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=yu(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Cu(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Kn extends Eu{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class an extends Eu{get formDirective(){return null}get path(){return null}}class Ia{constructor(t){this._cd=t}is(t){var e,s,a;return"submitted"===t?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(a=null===(s=this._cd)||void 0===s?void 0:s.control)||void 0===a?void 0:a[t])}}let ds=(()=>{class n extends Ia{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Kn,2))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,s){2&e&&l.ekj("ng-untouched",s.is("untouched"))("ng-touched",s.is("touched"))("ng-pristine",s.is("pristine"))("ng-dirty",s.is("dirty"))("ng-valid",s.is("valid"))("ng-invalid",s.is("invalid"))("ng-pending",s.is("pending"))},features:[l.qOj]}),n})(),bl=(()=>{class n extends Ia{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(an,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,s){2&e&&l.ekj("ng-untouched",s.is("untouched"))("ng-touched",s.is("touched"))("ng-pristine",s.is("pristine"))("ng-dirty",s.is("dirty"))("ng-valid",s.is("valid"))("ng-invalid",s.is("invalid"))("ng-pending",s.is("pending"))("ng-submitted",s.is("submitted"))},features:[l.qOj]}),n})();function yr(n,t){return[...t.path,n]}function Ma(n,t){ps(n,t),t.valueAccessor.writeValue(n.value),function td(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&b(n,t)})}(n,t),function D(n,t){const e=(s,a)=>{t.valueAccessor.writeValue(s),a&&t.viewToModelUpdate(s)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function xa(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&b(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function ko(n,t){if(t.valueAccessor.setDisabledState){const e=s=>{t.valueAccessor.setDisabledState(s)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function hr(n,t,e=!0){const s=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(s),t.valueAccessor.registerOnTouched(s)),Js(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function No(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function ps(n,t){const e=Bi(n);null!==t.validator?n.setValidators(Da(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const s=Qc(n);null!==t.asyncValidator?n.setAsyncValidators(Da(s,t.asyncValidator)):"function"==typeof s&&n.setAsyncValidators([s]);const a=()=>n.updateValueAndValidity();No(t._rawValidators,a),No(t._rawAsyncValidators,a)}function Js(n,t){let e=!1;if(null!==n){if(null!==t.validator){const a=Bi(n);if(Array.isArray(a)&&a.length>0){const d=a.filter(g=>g!==t.validator);d.length!==a.length&&(e=!0,n.setValidators(d))}}if(null!==t.asyncValidator){const a=Qc(n);if(Array.isArray(a)&&a.length>0){const d=a.filter(g=>g!==t.asyncValidator);d.length!==a.length&&(e=!0,n.setAsyncValidators(d))}}}const s=()=>{};return No(t._rawValidators,s),No(t._rawAsyncValidators,s),e}function b(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function M(n,t){ps(n,t)}function De(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function dt(n,t){n._syncPendingControls(),t.forEach(e=>{const s=e.control;"submit"===s.updateOn&&s._pendingChange&&(e.viewToModelUpdate(s._pendingValue),s._pendingChange=!1)})}function pt(n,t){if(!t)return null;let e,s,a;return Array.isArray(t),t.forEach(d=>{d.constructor===qs?e=d:function We(n){return Object.getPrototypeOf(n.constructor)===Lr}(d)?s=d:a=d}),a||s||e||null}function Tt(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const en="VALID",li="INVALID",vr="PENDING",Ci="DISABLED";function ui(n){return(Dl(n)?n.validators:n)||null}function Xs(n){return Array.isArray(n)?yu(n):n||null}function Pa(n,t){return(Dl(t)?t.asyncValidators:n)||null}function Du(n){return Array.isArray(n)?Cu(n):n||null}function Dl(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const Fo=n=>n instanceof Hi,eo=n=>n instanceof Ra;function Xp(n){return Fo(n)?n.value:n.getRawValue()}function nd(n,t){const e=eo(n),s=n.controls;if(!(e?Object.keys(s):s).length)throw new l.vHH(1e3,"");if(!s[t])throw new l.vHH(1001,"")}function Iu(n,t){eo(n),n._forEachChild((s,a)=>{if(void 0===t[a])throw new l.vHH(1002,"")})}class Lh{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=Xs(this._rawValidators),this._composedAsyncValidatorFn=Du(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===en}get invalid(){return this.status===li}get pending(){return this.status==vr}get disabled(){return this.status===Ci}get enabled(){return this.status!==Ci}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=Xs(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=Du(t)}addValidators(t){this.setValidators(cs(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(cs(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(Jc(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(Jc(t,this._rawAsyncValidators))}hasValidator(t){return Ro(this._rawValidators,t)}hasAsyncValidator(t){return Ro(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=vr,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Ci,this.errors=null,this._forEachChild(s=>{s.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(s=>s(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=en,this._forEachChild(s=>{s.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(s=>s(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===en||this.status===vr)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ci:en}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=vr,this._hasOwnPendingAsyncValidator=!0;const e=Cl(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(s=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(s,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function Qr(n,t,e){if(null==t||(Array.isArray(t)||(t=t.split(e)),Array.isArray(t)&&0===t.length))return null;let s=n;return t.forEach(a=>{s=eo(s)?s.controls.hasOwnProperty(a)?s.controls[a]:null:(n=>n instanceof eg)(s)&&s.at(a)||null}),s}(this,t,".")}getError(t,e){const s=e?this.get(e):this;return s&&s.errors?s.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new l.vpe,this.statusChanges=new l.vpe}_calculateStatus(){return this._allControlsDisabled()?Ci:this.errors?li:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(vr)?vr:this._anyControlsHaveStatus(li)?li:en}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Dl(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Hi extends Lh{constructor(t=null,e,s){super(ui(e),Pa(s,e)),this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(s=>s(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Tt(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Tt(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class Ra extends Lh{constructor(t,e,s){super(ui(e),Pa(s,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,s={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,s={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){Iu(this,t),Object.keys(t).forEach(s=>{nd(this,s),this.controls[s].setValue(t[s],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(s=>{this.controls[s]&&this.controls[s].patchValue(t[s],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((s,a)=>{s.reset(t[a],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,s)=>(t[s]=Xp(e),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,s)=>!!s._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const s=this.controls[e];s&&t(s,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const s=this.controls[e];if(this.contains(e)&&t(s))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,s)=>((e.enabled||this.disabled)&&(t[s]=e.value),t))}_reduceChildren(t,e){let s=t;return this._forEachChild((a,d)=>{s=e(s,a,d)}),s}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class eg extends Lh{constructor(t,e,s){super(ui(e),Pa(s,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,s={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:s.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,s={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){Iu(this,t),t.forEach((s,a)=>{nd(this,a),this.at(a).setValue(s,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((s,a)=>{this.at(a)&&this.at(a).patchValue(s,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((s,a)=>{s.reset(t[a],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>Xp(t))}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((e,s)=>!!s._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,s)=>{t(e,s)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const Tu={provide:an,useExisting:(0,l.Gpc)(()=>ms)},gs=(()=>Promise.resolve(null))();let ms=(()=>{class n extends an{constructor(e,s){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new l.vpe,this.form=new Ra({},yu(e),Cu(s))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){gs.then(()=>{const s=this._findContainer(e.path);e.control=s.registerControl(e.name,e.control),Ma(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){gs.then(()=>{const s=this._findContainer(e.path);s&&s.removeControl(e.name),Tt(this._directives,e)})}addFormGroup(e){gs.then(()=>{const s=this._findContainer(e.path),a=new Ra({});M(a,e),s.registerControl(e.name,a),a.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){gs.then(()=>{const s=this._findContainer(e.path);s&&s.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,s){gs.then(()=>{this.form.get(e.path).setValue(s)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,dt(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(yn,10),l.Y36(os,10))},n.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,s){1&e&&l.NdJ("submit",function(d){return s.onSubmit(d)})("reset",function(){return s.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([Tu]),l.qOj]}),n})();const rd={provide:Kn,useExisting:(0,l.Gpc)(()=>Il)},Pu=(()=>Promise.resolve(null))();let Il=(()=>{class n extends Kn{constructor(e,s,a,d){super(),this.control=new Hi,this._registered=!1,this.update=new l.vpe,this._parent=e,this._setValidators(s),this._setAsyncValidators(a),this.valueAccessor=pt(0,d)}ngOnChanges(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),De(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?yr(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Ma(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){Pu.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1})})}_updateDisabled(e){const s=e.isDisabled.currentValue,a=""===s||s&&"false"!==s;Pu.then(()=>{a&&!this.control.disabled?this.control.disable():!a&&this.control.disabled&&this.control.enable()})}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(an,9),l.Y36(yn,10),l.Y36(os,10),l.Y36(_r,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[l._Bn([rd]),l.qOj,l.TTD]}),n})(),Ru=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const id={provide:_r,useExisting:(0,l.Gpc)(()=>Tl),multi:!0};let Tl=(()=>{class n extends Lr{writeValue(e){this.setProperty("value",null==e?"":e)}registerOnChange(e){this.onChange=s=>{e(""==s?null:parseFloat(s))}}}return n.\u0275fac=function(){let t;return function(s){return(t||(t=l.n5z(n)))(s||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,s){1&e&&l.NdJ("input",function(d){return s.onChange(d.target.value)})("blur",function(){return s.onTouched()})},features:[l._Bn([id]),l.qOj]}),n})(),to=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const Al=new l.OlP("NgModelWithFormControlWarning"),ag={provide:an,useExisting:(0,l.Gpc)(()=>Ou)};let Ou=(()=>{class n extends an{constructor(e,s){super(),this.validators=e,this.asyncValidators=s,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new l.vpe,this._setValidators(e),this._setAsyncValidators(s)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Js(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const s=this.form.get(e.path);return Ma(s,e),s.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),s}getControl(e){return this.form.get(e.path)}removeControl(e){hr(e.control||null,e,!1),Tt(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,s){this.form.get(e.path).setValue(s)}onSubmit(e){return this.submitted=!0,dt(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const s=e.control,a=this.form.get(e.path);s!==a&&(hr(s||null,e),Fo(a)&&(Ma(a,e),e.control=a))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const s=this.form.get(e.path);M(s,e),s.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const s=this.form.get(e.path);s&&function V(n,t){return Js(n,t)}(s,e)&&s.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ps(this.form,this),this._oldForm&&Js(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(yn,10),l.Y36(os,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,s){1&e&&l.NdJ("submit",function(d){return s.onSubmit(d)})("reset",function(){return s.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([ag]),l.qOj,l.TTD]}),n})();const Bh={provide:Kn,useExisting:(0,l.Gpc)(()=>ci)};let ci=(()=>{class n extends Kn{constructor(e,s,a,d,g){super(),this._ngModelWarningConfig=g,this._added=!1,this.update=new l.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(s),this._setAsyncValidators(a),this.valueAccessor=pt(0,d)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),De(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return yr(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(l.Y36(an,13),l.Y36(yn,10),l.Y36(os,10),l.Y36(_r,10),l.Y36(Al,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[l._Bn([Bh]),l.qOj,l.TTD]}),n})();const Sl={provide:_r,useExisting:(0,l.Gpc)(()=>_s),multi:!0};function ld(n,t){return null==n?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let _s=(()=>{class n extends Lr{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const s=this._getOptionId(e);null==s&&this.setProperty("selectedIndex",-1);const a=ld(s,e);this.setProperty("value",a)}registerOnChange(e){this.onChange=s=>{this.value=this._getOptionValue(s),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const s of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(s),e))return s;return null}_getOptionValue(e){const s=function jh(n){return n.split(":")[0]}(e);return this._optionMap.has(s)?this._optionMap.get(s):e}}return n.\u0275fac=function(){let t;return function(s){return(t||(t=l.n5z(n)))(s||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,s){1&e&&l.NdJ("change",function(d){return s.onChange(d.target.value)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},features:[l._Bn([Sl]),l.qOj]}),n})(),Nu=(()=>{class n{constructor(e,s,a){this._element=e,this._renderer=s,this._select=a,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(ld(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36(_s,9))},n.\u0275dir=l.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const X_={provide:_r,useExisting:(0,l.Gpc)(()=>Ml),multi:!0};function ug(n,t){return null==n?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let Ml=(()=>{class n extends Lr{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let s;if(this.value=e,Array.isArray(e)){const a=e.map(d=>this._getOptionId(d));s=(d,g)=>{d._setSelected(a.indexOf(g.toString())>-1)}}else s=(a,d)=>{a._setSelected(!1)};this._optionMap.forEach(s)}registerOnChange(e){this.onChange=s=>{const a=[],d=s.selectedOptions;if(void 0!==d){const g=d;for(let y=0;y<g.length;y++){const S=this._getOptionValue(g[y].value);a.push(S)}}else{const g=s.options;for(let y=0;y<g.length;y++){const w=g[y];if(w.selected){const S=this._getOptionValue(w.value);a.push(S)}}}this.value=a,e(a)}}_registerOption(e){const s=(this._idCounter++).toString();return this._optionMap.set(s,e),s}_getOptionId(e){for(const s of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(s)._value,e))return s;return null}_getOptionValue(e){const s=function ud(n){return n.split(":")[0]}(e);return this._optionMap.has(s)?this._optionMap.get(s)._value:e}}return n.\u0275fac=function(){let t;return function(s){return(t||(t=l.n5z(n)))(s||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,s){1&e&&l.NdJ("change",function(d){return s.onChange(d.target)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},features:[l._Bn([X_]),l.qOj]}),n})(),Oa=(()=>{class n{constructor(e,s,a){this._element=e,this._renderer=s,this._select=a,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(ug(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(ug(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(l.Qsj),l.Y36(Ml,9))},n.\u0275dir=l.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const Uu={provide:yn,useExisting:(0,l.Gpc)(()=>Na),multi:!0};let Na=(()=>{class n{constructor(){this._required=!1}get required(){return this._required}set required(e){this._required=null!=e&&!1!==e&&"false"!=`${e}`,this._onChange&&this._onChange()}validate(e){return this.required?wa(e):null}registerOnValidatorChange(e){this._onChange=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,s){2&e&&l.uIk("required",s.required?"":null)},inputs:{required:"required"},features:[l._Bn([Uu])]}),n})(),$t=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[to]]}),n})(),Zt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[$t]}),n})(),tn=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:Al,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[$t]}),n})();function Ye(...n){const t=(0,yi.yG)(n);return(0,Hn.D)(n,t)}var Zn=O(5577),ka=O(576);function Vo(n,t){return(0,ka.m)(t)?(0,Zn.z)(n,t,1):(0,Zn.z)(n,1)}var Sr=O(4482);function Ei(n,t){return(0,Sr.e)((e,s)=>{let a=0;e.subscribe(new $n.Q(s,d=>n.call(t,d,a++)&&s.next(d)))})}class hd{}class fd{}class bi{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const s=e.indexOf(":");if(s>0){const a=e.slice(0,s),d=a.toLowerCase(),g=e.slice(s+1).trim();this.maybeSetNormalizedName(a,d),this.headers.has(d)?this.headers.get(d).push(g):this.headers.set(d,[g])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let s=t[e];const a=e.toLowerCase();"string"==typeof s&&(s=[s]),s.length>0&&(this.headers.set(a,s),this.maybeSetNormalizedName(e,a))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof bi?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new bi;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof bi?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let s=t.value;if("string"==typeof s&&(s=[s]),0===s.length)return;this.maybeSetNormalizedName(t.name,e);const a=("a"===t.op?this.headers.get(e):void 0)||[];a.push(...s),this.headers.set(e,a);break;case"d":const d=t.value;if(d){let g=this.headers.get(e);if(!g)return;g=g.filter(y=>-1===d.indexOf(y)),0===g.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,g)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class Zh{encodeKey(t){return ey(t)}encodeValue(t){return ey(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const jC=/%(\d[a-f0-9])/gi,fg={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function ey(n){return encodeURIComponent(n).replace(jC,(t,e)=>{var s;return null!==(s=fg[e])&&void 0!==s?s:t})}function ty(n){return`${n}`}class no{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Zh,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function BC(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(a=>{const d=a.indexOf("="),[g,y]=-1==d?[t.decodeKey(a),""]:[t.decodeKey(a.slice(0,d)),t.decodeValue(a.slice(d+1))],w=e.get(g)||[];w.push(y),e.set(g,w)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const s=t.fromObject[e];this.map.set(e,Array.isArray(s)?s:[s])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(s=>{const a=t[s];Array.isArray(a)?a.forEach(d=>{e.push({param:s,value:d,op:"a"})}):e.push({param:s,value:a,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(s=>e+"="+this.encoder.encodeValue(s)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new no({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(ty(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let s=this.map.get(t.param)||[];const a=s.indexOf(ty(t.value));-1!==a&&s.splice(a,1),s.length>0?this.map.set(t.param,s):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class HC{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function ny(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function ry(n){return"undefined"!=typeof Blob&&n instanceof Blob}function iy(n){return"undefined"!=typeof FormData&&n instanceof FormData}class gd{constructor(t,e,s,a){let d;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function pd(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||a?(this.body=void 0!==s?s:null,d=a):d=s,d&&(this.reportProgress=!!d.reportProgress,this.withCredentials=!!d.withCredentials,d.responseType&&(this.responseType=d.responseType),d.headers&&(this.headers=d.headers),d.context&&(this.context=d.context),d.params&&(this.params=d.params)),this.headers||(this.headers=new bi),this.context||(this.context=new HC),this.params){const g=this.params.toString();if(0===g.length)this.urlWithParams=e;else{const y=e.indexOf("?");this.urlWithParams=e+(-1===y?"?":y<e.length-1?"&":"")+g}}else this.params=new no,this.urlWithParams=e}serializeBody(){return null===this.body?null:ny(this.body)||ry(this.body)||iy(this.body)||function $C(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof no?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||iy(this.body)?null:ry(this.body)?this.body.type||null:ny(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof no?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var e;const s=t.method||this.method,a=t.url||this.url,d=t.responseType||this.responseType,g=void 0!==t.body?t.body:this.body,y=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,w=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let S=t.headers||this.headers,H=t.params||this.params;const L=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(S=Object.keys(t.setHeaders).reduce((Q,te)=>Q.set(te,t.setHeaders[te]),S)),t.setParams&&(H=Object.keys(t.setParams).reduce((Q,te)=>Q.set(te,t.setParams[te]),H)),new gd(s,a,g,{params:H,headers:S,context:L,reportProgress:w,responseType:d,withCredentials:y})}}var or=(()=>((or=or||{})[or.Sent=0]="Sent",or[or.UploadProgress=1]="UploadProgress",or[or.ResponseHeader=2]="ResponseHeader",or[or.DownloadProgress=3]="DownloadProgress",or[or.Response=4]="Response",or[or.User=5]="User",or))();class pg{constructor(t,e=200,s="OK"){this.headers=t.headers||new bi,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||s,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class gg extends pg{constructor(t={}){super(t),this.type=or.ResponseHeader}clone(t={}){return new gg({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Wh extends pg{constructor(t={}){super(t),this.type=or.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Wh({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class sy extends pg{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function Gh(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let ZC=(()=>{class n{constructor(e){this.handler=e}request(e,s,a={}){let d;if(e instanceof gd)d=e;else{let w,S;w=a.headers instanceof bi?a.headers:new bi(a.headers),a.params&&(S=a.params instanceof no?a.params:new no({fromObject:a.params})),d=new gd(e,s,void 0!==a.body?a.body:null,{headers:w,context:a.context,params:S,reportProgress:a.reportProgress,responseType:a.responseType||"json",withCredentials:a.withCredentials})}const g=Ye(d).pipe(Vo(w=>this.handler.handle(w)));if(e instanceof gd||"events"===a.observe)return g;const y=g.pipe(Ei(w=>w instanceof Wh));switch(a.observe||"body"){case"body":switch(d.responseType){case"arraybuffer":return y.pipe((0,ft.U)(w=>{if(null!==w.body&&!(w.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return w.body}));case"blob":return y.pipe((0,ft.U)(w=>{if(null!==w.body&&!(w.body instanceof Blob))throw new Error("Response is not a Blob.");return w.body}));case"text":return y.pipe((0,ft.U)(w=>{if(null!==w.body&&"string"!=typeof w.body)throw new Error("Response is not a string.");return w.body}));default:return y.pipe((0,ft.U)(w=>w.body))}case"response":return y;default:throw new Error(`Unreachable: unhandled observe type ${a.observe}}`)}}delete(e,s={}){return this.request("DELETE",e,s)}get(e,s={}){return this.request("GET",e,s)}head(e,s={}){return this.request("HEAD",e,s)}jsonp(e,s){return this.request("JSONP",e,{params:(new no).append(s,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,s={}){return this.request("OPTIONS",e,s)}patch(e,s,a={}){return this.request("PATCH",e,Gh(a,s))}post(e,s,a={}){return this.request("POST",e,Gh(a,s))}put(e,s,a={}){return this.request("PUT",e,Gh(a,s))}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(hd))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class oy{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const ay=new l.OlP("HTTP_INTERCEPTORS");let Bu=(()=>{class n{intercept(e,s){return s.handle(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const mg=/^\)\]\}',?\n/;let _g=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Jt.y(s=>{const a=this.xhrFactory.build();if(a.open(e.method,e.urlWithParams),e.withCredentials&&(a.withCredentials=!0),e.headers.forEach((te,Ie)=>a.setRequestHeader(te,Ie.join(","))),e.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const te=e.detectContentTypeHeader();null!==te&&a.setRequestHeader("Content-Type",te)}if(e.responseType){const te=e.responseType.toLowerCase();a.responseType="json"!==te?te:"text"}const d=e.serializeBody();let g=null;const y=()=>{if(null!==g)return g;const te=1223===a.status?204:a.status,Ie=a.statusText||"OK",at=new bi(a.getAllResponseHeaders()),vt=function GC(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(a)||e.url;return g=new gg({headers:at,status:te,statusText:Ie,url:vt}),g},w=()=>{let{headers:te,status:Ie,statusText:at,url:vt}=y(),Rt=null;204!==Ie&&(Rt=void 0===a.response?a.responseText:a.response),0===Ie&&(Ie=Rt?200:0);let Dn=Ie>=200&&Ie<300;if("json"===e.responseType&&"string"==typeof Rt){const Wn=Rt;Rt=Rt.replace(mg,"");try{Rt=""!==Rt?JSON.parse(Rt):null}catch(nn){Rt=Wn,Dn&&(Dn=!1,Rt={error:nn,text:Rt})}}Dn?(s.next(new Wh({body:Rt,headers:te,status:Ie,statusText:at,url:vt||void 0})),s.complete()):s.error(new sy({error:Rt,headers:te,status:Ie,statusText:at,url:vt||void 0}))},S=te=>{const{url:Ie}=y(),at=new sy({error:te,status:a.status||0,statusText:a.statusText||"Unknown Error",url:Ie||void 0});s.error(at)};let H=!1;const L=te=>{H||(s.next(y()),H=!0);let Ie={type:or.DownloadProgress,loaded:te.loaded};te.lengthComputable&&(Ie.total=te.total),"text"===e.responseType&&!!a.responseText&&(Ie.partialText=a.responseText),s.next(Ie)},Q=te=>{let Ie={type:or.UploadProgress,loaded:te.loaded};te.lengthComputable&&(Ie.total=te.total),s.next(Ie)};return a.addEventListener("load",w),a.addEventListener("error",S),a.addEventListener("timeout",S),a.addEventListener("abort",S),e.reportProgress&&(a.addEventListener("progress",L),null!==d&&a.upload&&a.upload.addEventListener("progress",Q)),a.send(d),s.next({type:or.Sent}),()=>{a.removeEventListener("error",S),a.removeEventListener("abort",S),a.removeEventListener("load",w),a.removeEventListener("timeout",S),e.reportProgress&&(a.removeEventListener("progress",L),null!==d&&a.upload&&a.upload.removeEventListener("progress",Q)),a.readyState!==a.DONE&&a.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(on))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Pl=new l.OlP("XSRF_COOKIE_NAME"),zh=new l.OlP("XSRF_HEADER_NAME");class yg{}let vg=(()=>{class n{constructor(e,s,a){this.doc=e,this.platform=s,this.cookieName=a,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Ki(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(se),l.LFG(l.Lbi),l.LFG(Pl))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),md=(()=>{class n{constructor(e,s){this.tokenService=e,this.headerName=s}intercept(e,s){const a=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||a.startsWith("http://")||a.startsWith("https://"))return s.handle(e);const d=this.tokenService.getToken();return null!==d&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,d)})),s.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(yg),l.LFG(zh))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),uy=(()=>{class n{constructor(e,s){this.backend=e,this.injector=s,this.chain=null}handle(e){if(null===this.chain){const s=this.injector.get(ay,[]);this.chain=s.reduceRight((a,d)=>new oy(a,d),this.backend)}return this.chain.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(fd),l.LFG(l.zs3))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Cg=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:md,useClass:Bu}]}}static withOptions(e={}){return{ngModule:n,providers:[e.cookieName?{provide:Pl,useValue:e.cookieName}:[],e.headerName?{provide:zh,useValue:e.headerName}:[]]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[md,{provide:ay,useExisting:md,multi:!0},{provide:yg,useClass:vg},{provide:Pl,useValue:"XSRF-TOKEN"},{provide:zh,useValue:"X-XSRF-TOKEN"}]}),n})(),cy=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[ZC,{provide:hd,useClass:uy},_g,{provide:fd,useExisting:_g}],imports:[[Cg.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})();var vs=O(2011),zC=O(4986),Eg=O(6451),hy=O(3099);function Mr(n,t){return(0,Sr.e)((e,s)=>{let a=null,d=0,g=!1;const y=()=>g&&!a&&s.complete();e.subscribe(new $n.Q(s,w=>{null==a||a.unsubscribe();let S=0;const H=d++;(0,ki.Xf)(n(w,H)).subscribe(a=new $n.Q(s,L=>s.next(t?t(w,L,H,S++):L),()=>{a=null,y()}))},()=>{g=!0,y()}))})}function qC(n,t,e,s,a){return(d,g)=>{let y=e,w=t,S=0;d.subscribe(new $n.Q(g,H=>{const L=S++;w=y?n(w,H,L):(y=!0,H),s&&g.next(w)},a&&(()=>{y&&g.next(w),g.complete()})))}}function yd(n,t){return(0,Sr.e)(qC(n,t,arguments.length>=2,!0))}var Fa=O(4671);function bg(n,t){return n===t}var YC=O(5032),Nn=O(5813),gy=(O(5881),O(3942)),La=O(4859),Ho=O(5861),$i=O(9681),k=O(2090),vd=O(1877);const wg="@firebase/database";let Cd="";function Ig(n){Cd=n}class qh{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,k.Pz)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,k.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class Yh{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,k.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const Tg=function(n){try{if("undefined"!=typeof window&&void 0!==window[n]){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new qh(t)}}catch(t){}return new Yh},$o=Tg("localStorage"),Kh=Tg("sessionStorage"),Ua=new vd.Yd("@firebase/database"),Hu=function(){let n=1;return function(){return n++}}(),my=function(n){const t=(0,k.dS)(n),e=new k.gQ;e.update(t);const s=e.digest();return k.US.encodeByteArray(s)},$u=function(...n){let t="";for(let e=0;e<n.length;e++){const s=n[e];Array.isArray(s)||s&&"object"==typeof s&&"number"==typeof s.length?t+=$u.apply(null,s):t+="object"==typeof s?(0,k.Pz)(s):s,t+=" "}return t};let Rl=null,_y=!0;const Ag=function(n,t){(0,k.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(Ua.logLevel=vd.in.VERBOSE,Rl=Ua.log.bind(Ua),t&&Kh.set("logging_enabled",!0)):"function"==typeof n?Rl=n:(Rl=null,Kh.remove("logging_enabled"))},fr=function(...n){if(!0===_y&&(_y=!1,null===Rl&&!0===Kh.get("logging_enabled")&&Ag(!0)),Rl){const t=$u.apply(null,n);Rl(t)}},Zu=function(n){return function(...t){fr(n,...t)}},yy=function(...n){const t="FIREBASE INTERNAL ERROR: "+$u(...n);Ua.error(t)},Cs=function(...n){const t=`FIREBASE FATAL ERROR: ${$u(...n)}`;throw Ua.error(t),new Error(t)},Jr=function(...n){const t="FIREBASE WARNING: "+$u(...n);Ua.warn(t)},Qh=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},Cr="[MIN_NAME]",ro="[MAX_NAME]",Va=function(n,t){if(n===t)return 0;if(n===Cr||t===ro)return-1;if(t===Cr||n===ro)return 1;{const e=Ol(n),s=Ol(t);return null!==e?null!==s?e-s==0?n.length-t.length:e-s:-1:null!==s?1:n<t?-1:1}},JC=function(n,t){return n===t?0:n<t?-1:1},Ed=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,k.Pz)(t))},Sg=function(n){if("object"!=typeof n||null===n)return(0,k.Pz)(n);const t=[];for(const s in n)t.push(s);t.sort();let e="{";for(let s=0;s<t.length;s++)0!==s&&(e+=","),e+=(0,k.Pz)(t[s]),e+=":",e+=Sg(n[t[s]]);return e+="}",e},Cy=function(n,t){const e=n.length;if(e<=t)return[n];const s=[];for(let a=0;a<e;a+=t)s.push(n.substring(a,a+t>e?e:a+t));return s};function Er(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const Ey=function(n){(0,k.hu)(!Qh(n),"Invalid JSON number");const s=1023;let a,d,g,y,w;0===n?(d=0,g=0,a=1/n==-1/0?1:0):(a=n<0,(n=Math.abs(n))>=Math.pow(2,1-s)?(y=Math.min(Math.floor(Math.log(n)/Math.LN2),s),d=y+s,g=Math.round(n*Math.pow(2,52-y)-Math.pow(2,52))):(d=0,g=Math.round(n/Math.pow(2,-1074))));const S=[];for(w=52;w;w-=1)S.push(g%2?1:0),g=Math.floor(g/2);for(w=11;w;w-=1)S.push(d%2?1:0),d=Math.floor(d/2);S.push(a?1:0),S.reverse();const H=S.join("");let L="";for(w=0;w<64;w+=8){let Q=parseInt(H.substr(w,8),2).toString(16);1===Q.length&&(Q="0"+Q),L+=Q}return L.toLowerCase()},by=new RegExp("^-?(0*)\\d{1,10}$"),Mg=-2147483648,Jh=2147483647,Ol=function(n){if(by.test(n)){const t=Number(n);if(t>=Mg&&t<=Jh)return t}return null},Br=function(n){try{n()}catch(t){setTimeout(()=>{throw Jr("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},bd=function(n,t){const e=setTimeout(n,t);return"object"==typeof e&&e.unref&&e.unref(),e};class xg{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=null==e?void 0:e.getImmediate({optional:!0}),this.appCheck||null==e||e.get().then(s=>this.appCheck=s)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,s)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,s):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(s=>s.addTokenListener(t))}notifyForInvalidToken(){Jr(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Zo{constructor(t,e,s){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=s,this.auth_=null,this.auth_=s.getImmediate({optional:!0}),this.auth_||s.onInit(a=>this.auth_=a)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(fr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,s)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,s):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Jr(t)}}let Nl=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const Dd=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,ef="websocket",rE="long_polling";class Og{constructor(t,e,s,a,d=!1,g="",y=!1){this.secure=e,this.namespace=s,this.webSocketOnly=a,this.nodeAdmin=d,this.persistenceKey=g,this.includeNamespaceInQueryParams=y,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=$o.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&$o.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function Dy(n,t,e){let s;if((0,k.hu)("string"==typeof t,"typeof type must == string"),(0,k.hu)("object"==typeof e,"typeof params must == object"),t===ef)s=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==rE)throw new Error("Unknown connection type: "+t);s=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function iE(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const a=[];return Er(e,(d,g)=>{a.push(d+"="+g)}),s+a.join("&")}class sE{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,k.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,k.p$)(this.counters_)}}const tf={},Iy={};function Ng(n){const t=n.toString();return tf[t]||(tf[t]=new sE),tf[t]}class Ty{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const s=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let a=0;a<s.length;++a)s[a]&&Br(()=>{this.onMessage_(s[a])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Ba{constructor(t,e,s,a,d,g,y){this.connId=t,this.repoInfo=e,this.applicationId=s,this.appCheckToken=a,this.authToken=d,this.transportSessionId=g,this.lastSessionId=y,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Zu(t),this.stats_=Ng(e),this.urlFn=w=>(this.appCheckToken&&(w.ac=this.appCheckToken),Dy(e,rE,w))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new Ty(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,k.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new nf((...d)=>{const[g,y,w,S,H]=d;if(this.incrementIncomingBytes_(d),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===g)this.id=y,this.password=w;else{if("close"!==g)throw new Error("Unrecognized command received: "+g);y?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(y,()=>{this.onClosed_()})):this.onClosed_()}},(...d)=>{const[g,y]=d;this.incrementIncomingBytes_(d),this.myPacketOrderer.handleResponse(g,y)},()=>{this.onClosed_()},this.urlFn);const s={start:"t"};s.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(s.cb=this.scriptTagHolder.uniqueCallbackIdentifier),s.v="5",this.transportSessionId&&(s.s=this.transportSessionId),this.lastSessionId&&(s.ls=this.lastSessionId),this.applicationId&&(s.p=this.applicationId),this.appCheckToken&&(s.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&Dd.test(location.hostname)&&(s.r="f");const a=this.urlFn(s);this.log_("Connecting via long-poll to "+a),this.scriptTagHolder.addTag(a,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ba.forceAllow_=!0}static forceDisallow(){Ba.forceDisallow_=!0}static isAvailable(){return!((0,k.Yr)()||!Ba.forceAllow_&&(Ba.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,k.Pz)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const s=(0,k.h$)(e),a=Cy(s,1840);for(let d=0;d<a.length;d++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,a.length,a[d]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,k.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const s={dframe:"t"};s.id=t,s.pw=e,this.myDisconnFrame.src=this.urlFn(s),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,k.Pz)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class nf{constructor(t,e,s,a){if(this.onDisconnect=s,this.urlFn=a,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,k.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=Hu(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=nf.createIFrame_();let d="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(d='<script>document.domain="'+document.domain+'";<\/script>');const g="<html><body>"+d+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(g),this.myIFrame.doc.close()}catch(y){fr("frame writing exception"),y.stack&&fr(y.stack),fr(y)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||fr("No IE domain setting required")}catch(e){const s=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+s+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),s="",a=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+s.length<=1870;){const g=this.pendingSegs.shift();s=s+"&seg"+a+"="+g.seg+"&ts"+a+"="+g.ts+"&d"+a+"="+g.d,a++}return e+=s,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,s){this.pendingSegs.push({seg:t,ts:e,d:s}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const s=()=>{this.outstandingRequests.delete(e),this.newRequest_()},a=setTimeout(s,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(a),s()})}addTag(t,e){(0,k.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const s=this.myIFrame.doc.createElement("script");s.type="text/javascript",s.async=!0,s.src=t,s.onload=s.onreadystatechange=function(){const a=s.readyState;(!a||"loaded"===a||"complete"===a)&&(s.onload=s.onreadystatechange=null,s.parentNode&&s.parentNode.removeChild(s),e())},s.onerror=()=>{fr("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(s)}catch(s){}},Math.floor(1))}}let Zi=null;"undefined"!=typeof MozWebSocket?Zi=MozWebSocket:"undefined"!=typeof WebSocket&&(Zi=WebSocket);let Wu=(()=>{class n{constructor(e,s,a,d,g,y,w){this.connId=e,this.applicationId=a,this.appCheckToken=d,this.authToken=g,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Zu(this.connId),this.stats_=Ng(s),this.connURL=n.connectionURL_(s,y,w,d),this.nodeAdmin=s.nodeAdmin}static connectionURL_(e,s,a,d){const g={v:"5"};return!(0,k.Yr)()&&"undefined"!=typeof location&&location.hostname&&Dd.test(location.hostname)&&(g.r="f"),s&&(g.s=s),a&&(g.ls=a),d&&(g.ac=d),Dy(e,ef,g)}open(e,s){this.onDisconnect=s,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,$o.set("previous_websocket_failure",!0);try{if((0,k.Yr)()){const d={headers:{"User-Agent":`Firebase/5/${Cd}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(d.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(d.headers["X-Firebase-AppCheck"]=this.appCheckToken);const g=process.env,y=0===this.connURL.indexOf("wss://")?g.HTTPS_PROXY||g.https_proxy:g.HTTP_PROXY||g.http_proxy;y&&(d.proxy={origin:y}),this.mySock=new Zi(this.connURL,[],d)}else this.mySock=new Zi(this.connURL,[],{headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}})}catch(a){this.log_("Error instantiating WebSocket.");const d=a.message||a.data;return d&&this.log_(d),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=a=>{this.handleIncomingFrame(a)},this.mySock.onerror=a=>{this.log_("WebSocket error.  Closing connection.");const d=a.message||a.data;d&&this.log_(d),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const a=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);a&&a.length>1&&parseFloat(a[1])<4.4&&(e=!0)}return!e&&null!==Zi&&!n.forceDisallow_}static previouslyFailed(){return $o.isInMemoryStorage||!0===$o.get("previous_websocket_failure")}markConnectionHealthy(){$o.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const s=this.frames.join("");this.frames=null;const a=(0,k.cI)(s);this.onMessage(a)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,k.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const s=Number(e);if(!isNaN(s))return this.handleNewFrameCount_(s),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const s=e.data;if(this.bytesReceived+=s.length,this.stats_.incrementCounter("bytes_received",s.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(s);else{const a=this.extractFrameCount_(s);null!==a&&this.appendFrame_(a)}}send(e){this.resetKeepAlive();const s=(0,k.Pz)(e);this.bytesSent+=s.length,this.stats_.incrementCounter("bytes_sent",s.length);const a=Cy(s,16384);a.length>1&&this.sendString_(String(a.length));for(let d=0;d<a.length;d++)this.sendString_(a[d])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(s){this.log_("Exception thrown from WebSocket.send():",s.message||s.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})();class Vg{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[Ba,Wu]}initTransports_(t){const e=Wu&&Wu.isAvailable();let s=e&&!Wu.previouslyFailed();if(t.webSocketOnly&&(e||Jr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[Wu];else{const a=this.transports_=[];for(const d of Vg.ALL_TRANSPORTS)d&&d.isAvailable()&&a.push(d)}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}class sf{constructor(t,e,s,a,d,g,y,w,S,H){this.id=t,this.repoInfo_=e,this.applicationId_=s,this.appCheckToken_=a,this.authToken_=d,this.onMessage_=g,this.onReady_=y,this.onDisconnect_=w,this.onKill_=S,this.lastSessionId=H,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Zu("c:"+this.id+":"),this.transportManager_=new Vg(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),s=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,s)},Math.floor(0));const a=t.healthyTimeout||0;a>0&&(this.healthyTimeout_=bd(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(a)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=Ed("t",t),s=Ed("d",t);if("c"===e)this.onSecondaryControl_(s);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(s)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=Ed("t",t),s=Ed("d",t);"c"===e?this.onControl_(s):"d"===e&&this.onDataMessage_(s)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=Ed("t",t);if("d"in t){const s=t.d;if("h"===e)this.onHandshake_(s);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let a=0;a<this.pendingDataMessages.length;++a)this.onDataMessage_(this.pendingDataMessages[a]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(s):"r"===e?this.onReset_(s):"e"===e?yy("Server Error: "+s):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):yy("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,s=t.v,a=t.h;this.sessionId=t.s,this.repoInfo_.host=a,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==s&&Jr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),s=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,s),bd(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):bd(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&($o.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class of{put(t,e,s,a){}merge(t,e,s,a){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,s){}onDisconnectMerge(t,e,s){}onDisconnectCancel(t,e){}reportStats(t){}}class $g{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,k.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const s=[...this.listeners_[t]];for(let a=0;a<s.length;a++)s[a].callback.apply(s[a].context,e)}}on(t,e,s){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:s});const a=this.getInitialEvent(t);a&&e.apply(s,a)}off(t,e,s){this.validateEventType_(t);const a=this.listeners_[t]||[];for(let d=0;d<a.length;d++)if(a[d].callback===e&&(!s||s===a[d].context))return void a.splice(d,1)}validateEventType_(t){(0,k.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class Fl extends $g{constructor(){super(["online"]),this.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,k.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Fl}getInitialEvent(t){return(0,k.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class fn{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let s=0;for(let a=0;a<this.pieces_.length;a++)this.pieces_[a].length>0&&(this.pieces_[s]=this.pieces_[a],s++);this.pieces_.length=s,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function Wt(){return new fn("")}function Mt(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function ja(n){return n.pieces_.length-n.pieceNum_}function vn(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new fn(n.pieces_,t)}function Wg(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function xr(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function Ry(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new fn(t,0)}function kn(n,t){const e=[];for(let s=n.pieceNum_;s<n.pieces_.length;s++)e.push(n.pieces_[s]);if(t instanceof fn)for(let s=t.pieceNum_;s<t.pieces_.length;s++)e.push(t.pieces_[s]);else{const s=t.split("/");for(let a=0;a<s.length;a++)s[a].length>0&&e.push(s[a])}return new fn(e,0)}function Ot(n){return n.pieceNum_>=n.pieces_.length}function di(n,t){const e=Mt(n),s=Mt(t);if(null===e)return t;if(e===s)return di(vn(n),vn(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function Oy(n,t){const e=xr(n,0),s=xr(t,0);for(let a=0;a<e.length&&a<s.length;a++){const d=Va(e[a],s[a]);if(0!==d)return d}return e.length===s.length?0:e.length<s.length?-1:1}function Ny(n,t){if(ja(n)!==ja(t))return!1;for(let e=n.pieceNum_,s=t.pieceNum_;e<=n.pieces_.length;e++,s++)if(n.pieces_[e]!==t.pieces_[s])return!1;return!0}function Wi(n,t){let e=n.pieceNum_,s=t.pieceNum_;if(ja(n)>ja(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[s])return!1;++e,++s}return!0}class Gg{constructor(t,e){this.errorPrefix_=e,this.parts_=xr(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let s=0;s<this.parts_.length;s++)this.byteLength_+=(0,k.ug)(this.parts_[s]);Fy(this)}}function Fy(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Ll(n))}function Ll(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class af extends $g{constructor(){let t,e;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(e="visibilitychange",t="hidden"):void 0!==document.mozHidden?(e="mozvisibilitychange",t="mozHidden"):void 0!==document.msHidden?(e="msvisibilitychange",t="msHidden"):void 0!==document.webkitHidden&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const s=!document[t];s!==this.visible_&&(this.visible_=s,this.trigger("visible",s))},!1)}static getInstance(){return new af}getInitialEvent(t){return(0,k.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const Ad=1e3;let zg,Go=(()=>{class n extends of{constructor(e,s,a,d,g,y,w,S){if(super(),this.repoInfo_=e,this.applicationId_=s,this.onDataUpdate_=a,this.onConnectStatus_=d,this.onServerInfoUpdate_=g,this.authTokenProvider_=y,this.appCheckTokenProvider_=w,this.authOverride_=S,this.id=n.nextPersistentConnectionId_++,this.log_=Zu("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ad,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,S&&!(0,k.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");af.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&Fl.getInstance().on("online",this.onOnline_,this)}sendRequest(e,s,a){const d=++this.requestNumber_,g={r:d,a:e,b:s};this.log_((0,k.Pz)(g)),(0,k.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(g),a&&(this.requestCBHash_[d]=a)}get(e){this.initConnection_();const s=new k.BH,a={p:e._path.toString(),q:e._queryObject},d={action:"g",request:a,onComplete:y=>{const w=y.d;"ok"===y.s?(this.onDataUpdate_(a.p,w,!1,null),s.resolve(w)):s.reject(w)}};this.outstandingGets_.push(d),this.outstandingGetCount_++;const g=this.outstandingGets_.length-1;return this.connected_||setTimeout(()=>{const y=this.outstandingGets_[g];void 0===y||d!==y||(delete this.outstandingGets_[g],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),this.log_("get "+g+" timed out on connection"),s.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(g),s.promise}listen(e,s,a,d){this.initConnection_();const g=e._queryIdentifier,y=e._path.toString();this.log_("Listen called for "+y+" "+g),this.listens.has(y)||this.listens.set(y,new Map),(0,k.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,k.hu)(!this.listens.get(y).has(g),"listen() called twice for same path/queryId.");const w={onComplete:d,hashFn:s,query:e,tag:a};this.listens.get(y).set(g,w),this.connected_&&this.sendListen_(w)}sendGet_(e){const s=this.outstandingGets_[e];this.sendRequest("g",s.request,a=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),s.onComplete&&s.onComplete(a)})}sendListen_(e){const s=e.query,a=s._path.toString(),d=s._queryIdentifier;this.log_("Listen on "+a+" for "+d);const g={p:a};e.tag&&(g.q=s._queryObject,g.t=e.tag),g.h=e.hashFn(),this.sendRequest("q",g,w=>{const S=w.d,H=w.s;n.warnOnListenWarnings_(S,s),(this.listens.get(a)&&this.listens.get(a).get(d))===e&&(this.log_("listen response",w),"ok"!==H&&this.removeListen_(a,d),e.onComplete&&e.onComplete(H,S))})}static warnOnListenWarnings_(e,s){if(e&&"object"==typeof e&&(0,k.r3)(e,"w")){const a=(0,k.DV)(e,"w");if(Array.isArray(a)&&~a.indexOf("no_index")){const d='".indexOn": "'+s._queryParams.getIndex().toString()+'"',g=s._path.toString();Jr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${d} at ${g} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,k.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,s=(0,k.w9)(e)?"auth":"gauth",a={cred:e};null===this.authOverride_?a.noauth=!0:"object"==typeof this.authOverride_&&(a.authvar=this.authOverride_),this.sendRequest(s,a,d=>{const g=d.s,y=d.d||"error";this.authToken_===e&&("ok"===g?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(g,y))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const s=e.s,a=e.d||"error";"ok"===s?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(s,a)})}unlisten(e,s){const a=e._path.toString(),d=e._queryIdentifier;this.log_("Unlisten called for "+a+" "+d),(0,k.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(a,d)&&this.connected_&&this.sendUnlisten_(a,d,e._queryObject,s)}sendUnlisten_(e,s,a,d){this.log_("Unlisten on "+e+" for "+s);const g={p:e};d&&(g.q=a,g.t=d),this.sendRequest("n",g)}onDisconnectPut(e,s,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,s,a):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:s,onComplete:a})}onDisconnectMerge(e,s,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,s,a):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:s,onComplete:a})}onDisconnectCancel(e,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:s})}sendOnDisconnect_(e,s,a,d){const g={p:s,d:a};this.log_("onDisconnect "+e,g),this.sendRequest(e,g,y=>{d&&setTimeout(()=>{d(y.s,y.d)},Math.floor(0))})}put(e,s,a,d){this.putInternal("p",e,s,a,d)}merge(e,s,a,d){this.putInternal("m",e,s,a,d)}putInternal(e,s,a,d,g){this.initConnection_();const y={p:s,d:a};void 0!==g&&(y.h=g),this.outstandingPuts_.push({action:e,request:y,onComplete:d}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+s)}sendPut_(e){const s=this.outstandingPuts_[e].action,a=this.outstandingPuts_[e].request,d=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(s,a,g=>{this.log_(s+" response",g),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),d&&d(g.s,g.d)})}reportStats(e){if(this.connected_){const s={c:e};this.log_("reportStats",s),this.sendRequest("s",s,a=>{"ok"!==a.s&&this.log_("reportStats","Error sending stats: "+a.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,k.Pz)(e));const s=e.r,a=this.requestCBHash_[s];a&&(delete this.requestCBHash_[s],a(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,s){this.log_("handleServerMessage",e,s),"d"===e?this.onDataUpdate_(s.p,s.d,!1,s.t):"m"===e?this.onDataUpdate_(s.p,s.d,!0,s.t):"c"===e?this.onListenRevoked_(s.p,s.q):"ac"===e?this.onAuthRevoked_(s.s,s.d):"apc"===e?this.onAppCheckRevoked_(s.s,s.d):"sd"===e?this.onSecurityDebugPacket_(s):yy("Unrecognized action received from server: "+(0,k.Pz)(e)+"\nAre you using the latest client?")}onReady_(e,s){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=s,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,k.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ad,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Ad,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Ad),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let s=Math.max(0,this.reconnectDelay_-e);s=Math.random()*s,this.log_("Trying to reconnect in "+s+"ms"),this.scheduleConnect_(s),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,Ho.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const s=e.onDataMessage_.bind(e),a=e.onReady_.bind(e),d=e.onRealtimeDisconnect_.bind(e),g=e.id+":"+n.nextConnectionId_++,y=e.lastSessionId;let w=!1,S=null;const H=function(){S?S.close():(w=!0,d())};e.realtime_={close:H,sendRequest:function(te){(0,k.hu)(S,"sendRequest call when we're not connected not allowed."),S.sendRequest(te)}};const Q=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[te,Ie]=yield Promise.all([e.authTokenProvider_.getToken(Q),e.appCheckTokenProvider_.getToken(Q)]);w?fr("getToken() completed but was canceled"):(fr("getToken() completed. Creating connection."),e.authToken_=te&&te.accessToken,e.appCheckToken_=Ie&&Ie.token,S=new sf(g,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,s,a,d,at=>{Jr(at+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},y))}catch(te){e.log_("Failed to get token: "+te),w||(e.repoInfo_.nodeAdmin&&Jr(te),H())}}})()}interrupt(e){fr("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){fr("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,k.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Ad,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const s=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:s})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const s=this.outstandingPuts_[e];s&&"h"in s.request&&s.queued&&(s.onComplete&&s.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,s){let a;a=s?s.map(g=>Sg(g)).join("$"):"default";const d=this.removeListen_(e,a);d&&d.onComplete&&d.onComplete("permission_denied")}removeListen_(e,s){const a=new fn(e).toString();let d;if(this.listens.has(a)){const g=this.listens.get(a);d=g.get(s),g.delete(s),0===g.size&&this.listens.delete(a)}else d=void 0;return d}onAuthRevoked_(e,s){fr("Auth token revoked: "+e+"/"+s),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,s){fr("App check token revoked: "+e+"/"+s),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const s of e.values())this.sendListen_(s);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let s="js";(0,k.Yr)()&&(s=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+s+"."+Cd.replace(/\./g,"-")]=1,(0,k.uI)()?e["framework.cordova"]=1:(0,k.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Fl.getInstance().currentlyOnline();return(0,k.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class Nt{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new Nt(t,e)}}class lf{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const s=new Nt(Cr,t),a=new Nt(Cr,e);return 0!==this.compare(s,a)}minPost(){return Nt.MIN}}class qg extends lf{static get __EMPTY_NODE(){return zg}static set __EMPTY_NODE(t){zg=t}compare(t,e){return Va(t.name,e.name)}isDefinedOn(t){throw(0,k.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return Nt.MIN}maxPost(){return new Nt(ro,zg)}makePost(t,e){return(0,k.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new Nt(t,zg)}toString(){return".key"}}const io=new qg;class uf{constructor(t,e,s,a,d=null){this.isReverse_=a,this.resultGenerator_=d,this.nodeStack_=[];let g=1;for(;!t.isEmpty();)if(t=t,g=e?s(t.key,e):1,a&&(g*=-1),g<0)t=this.isReverse_?t.left:t.right;else{if(0===g){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let Sd,bs=(()=>{class n{constructor(e,s,a,d,g){this.key=e,this.value=s,this.color=null!=a?a:n.RED,this.left=null!=d?d:hi.EMPTY_NODE,this.right=null!=g?g:hi.EMPTY_NODE}copy(e,s,a,d,g){return new n(null!=e?e:this.key,null!=s?s:this.value,null!=a?a:this.color,null!=d?d:this.left,null!=g?g:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,s,a){let d=this;const g=a(e,d.key);return d=g<0?d.copy(null,null,null,d.left.insert(e,s,a),null):0===g?d.copy(null,s,null,null,null):d.copy(null,null,null,null,d.right.insert(e,s,a)),d.fixUp_()}removeMin_(){if(this.left.isEmpty())return hi.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,s){let a,d;if(a=this,s(e,a.key)<0)!a.left.isEmpty()&&!a.left.isRed_()&&!a.left.left.isRed_()&&(a=a.moveRedLeft_()),a=a.copy(null,null,null,a.left.remove(e,s),null);else{if(a.left.isRed_()&&(a=a.rotateRight_()),!a.right.isEmpty()&&!a.right.isRed_()&&!a.right.left.isRed_()&&(a=a.moveRedRight_()),0===s(e,a.key)){if(a.right.isEmpty())return hi.EMPTY_NODE;d=a.right.min_(),a=a.copy(d.key,d.value,null,null,a.right.removeMin_())}a=a.copy(null,null,null,null,a.right.remove(e,s))}return a.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),s=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,s)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class hi{constructor(t,e=hi.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new hi(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,bs.BLACK,null,null))}remove(t){return new hi(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,bs.BLACK,null,null))}get(t){let e,s=this.root_;for(;!s.isEmpty();){if(e=this.comparator_(t,s.key),0===e)return s.value;e<0?s=s.left:e>0&&(s=s.right)}return null}getPredecessorKey(t){let e,s=this.root_,a=null;for(;!s.isEmpty();){if(e=this.comparator_(t,s.key),0===e){if(s.left.isEmpty())return a?a.key:null;for(s=s.left;!s.right.isEmpty();)s=s.right;return s.key}e<0?s=s.left:e>0&&(a=s,s=s.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new uf(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new uf(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new uf(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new uf(this.root_,null,this.comparator_,!0,t)}}function vE(n,t){return Va(n.name,t.name)}function Ku(n,t){return Va(n,t)}hi.EMPTY_NODE=new class Yg{copy(t,e,s,a,d){return this}insert(t,e,s){return new bs(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const cf=function(n){return"number"==typeof n?"number:"+Ey(n):"string:"+n},df=function(n){if(n.isLeafNode()){const t=n.val();(0,k.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,k.r3)(t,".sv"),"Priority must be a string or number.")}else(0,k.hu)(n===Sd||n.isEmpty(),"priority of unexpected type.");(0,k.hu)(n===Sd||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Kg,jy,hf,Qu=(()=>{class n{constructor(e,s=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=s,this.lazyHash_=null,(0,k.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),df(this.priorityNode_)}static set __childrenNodeConstructor(e){Kg=e}static get __childrenNodeConstructor(){return Kg}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Ot(e)?this:".priority"===Mt(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,s){return null}updateImmediateChild(e,s){return".priority"===e?this.updatePriority(s):s.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,s).updatePriority(this.priorityNode_)}updateChild(e,s){const a=Mt(e);return null===a?s:s.isEmpty()&&".priority"!==a?this:((0,k.hu)(".priority"!==a||1===ja(e),".priority must be the last token in a path"),this.updateImmediateChild(a,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(vn(e),s)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,s){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+cf(this.priorityNode_.val())+":");const s=typeof this.value_;e+=s+":",e+="number"===s?Ey(this.value_):this.value_,this.lazyHash_=my(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,k.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const s=typeof e.value_,a=typeof this.value_,d=n.VALUE_TYPE_ORDER.indexOf(s),g=n.VALUE_TYPE_ORDER.indexOf(a);return(0,k.hu)(d>=0,"Unknown leaf type: "+s),(0,k.hu)(g>=0,"Unknown leaf type: "+a),d===g?"object"===a?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:g-d}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const s=e;return this.value_===s.value_&&this.priorityNode_.equals(s.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const bn=new class Hy extends lf{compare(t,e){const s=t.node.getPriority(),a=e.node.getPriority(),d=s.compareTo(a);return 0===d?Va(t.name,e.name):d}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return Nt.MIN}maxPost(){return new Nt(ro,new Qu("[PRIORITY-POST]",hf))}makePost(t,e){const s=jy(t);return new Nt(e,new Qu("[PRIORITY-POST]",s))}toString(){return".priority"}},$y=Math.log(2);class Zy{constructor(t){this.count=parseInt(Math.log(t+1)/$y,10),this.current_=this.count-1;const a=(d=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&a}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Md=function(n,t,e,s){n.sort(t);const a=function(w,S){const H=S-w;let L,Q;if(0===H)return null;if(1===H)return L=n[w],Q=e?e(L):L,new bs(Q,L.node,bs.BLACK,null,null);{const te=parseInt(H/2,10)+w,Ie=a(w,te),at=a(te+1,S);return L=n[te],Q=e?e(L):L,new bs(Q,L.node,bs.BLACK,Ie,at)}},y=function(w){let S=null,H=null,L=n.length;const Q=function(Ie,at){const vt=L-Ie,Rt=L;L-=Ie;const Dn=a(vt+1,Rt),Wn=n[vt],nn=e?e(Wn):Wn;te(new bs(nn,Wn.node,at,null,Dn))},te=function(Ie){S?(S.left=Ie,S=Ie):(H=Ie,S=Ie)};for(let Ie=0;Ie<w.count;++Ie){const at=w.nextBitIsOne(),vt=Math.pow(2,w.count-(Ie+1));at?Q(vt,bs.BLACK):(Q(vt,bs.BLACK),Q(vt,bs.RED))}return H}(new Zy(n.length));return new hi(s||t,y)};let ws;const zo={};class qo{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,k.hu)(zo&&bn,"ChildrenNode.ts has not been loaded"),ws=ws||new qo({".priority":zo},{".priority":bn}),ws}get(t){const e=(0,k.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof hi?e:null}hasIndex(t){return(0,k.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,k.hu)(t!==io,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const s=[];let a=!1;const d=e.getIterator(Nt.Wrap);let y,g=d.getNext();for(;g;)a=a||t.isDefinedOn(g.node),s.push(g),g=d.getNext();y=a?Md(s,t.getCompare()):zo;const w=t.toString(),S=Object.assign({},this.indexSet_);S[w]=t;const H=Object.assign({},this.indexes_);return H[w]=y,new qo(H,S)}addToIndexes(t,e){const s=(0,k.UI)(this.indexes_,(a,d)=>{const g=(0,k.DV)(this.indexSet_,d);if((0,k.hu)(g,"Missing index implementation for "+d),a===zo){if(g.isDefinedOn(t.node)){const y=[],w=e.getIterator(Nt.Wrap);let S=w.getNext();for(;S;)S.name!==t.name&&y.push(S),S=w.getNext();return y.push(t),Md(y,g.getCompare())}return zo}{const y=e.get(t.name);let w=a;return y&&(w=w.remove(new Nt(t.name,y))),w.insert(t,t.node)}});return new qo(s,this.indexSet_)}removeFromIndexes(t,e){const s=(0,k.UI)(this.indexes_,a=>{if(a===zo)return a;{const d=e.get(t.name);return d?a.remove(new Nt(t.name,d)):a}});return new qo(s,this.indexSet_)}}let xd,It=(()=>{class n{constructor(e,s,a){this.children_=e,this.priorityNode_=s,this.indexMap_=a,this.lazyHash_=null,this.priorityNode_&&df(this.priorityNode_),this.children_.isEmpty()&&(0,k.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return xd||(xd=new n(new hi(Ku),null,qo.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||xd}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const s=this.children_.get(e);return null===s?xd:s}}getChild(e){const s=Mt(e);return null===s?this:this.getImmediateChild(s).getChild(vn(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,s){if((0,k.hu)(s,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(s);{const a=new Nt(e,s);let d,g;s.isEmpty()?(d=this.children_.remove(e),g=this.indexMap_.removeFromIndexes(a,this.children_)):(d=this.children_.insert(e,s),g=this.indexMap_.addToIndexes(a,this.children_));const y=d.isEmpty()?xd:this.priorityNode_;return new n(d,y,g)}}updateChild(e,s){const a=Mt(e);if(null===a)return s;{(0,k.hu)(".priority"!==Mt(e)||1===ja(e),".priority must be the last token in a path");const d=this.getImmediateChild(a).updateChild(vn(e),s);return this.updateImmediateChild(a,d)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const s={};let a=0,d=0,g=!0;if(this.forEachChild(bn,(y,w)=>{s[y]=w.val(e),a++,g&&n.INTEGER_REGEXP_.test(y)?d=Math.max(d,Number(y)):g=!1}),!e&&g&&d<2*a){const y=[];for(const w in s)y[w]=s[w];return y}return e&&!this.getPriority().isEmpty()&&(s[".priority"]=this.getPriority().val()),s}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+cf(this.getPriority().val())+":"),this.forEachChild(bn,(s,a)=>{const d=a.hash();""!==d&&(e+=":"+s+":"+d)}),this.lazyHash_=""===e?"":my(e)}return this.lazyHash_}getPredecessorChildName(e,s,a){const d=this.resolveIndex_(a);if(d){const g=d.getPredecessorKey(new Nt(e,s));return g?g.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const s=this.resolveIndex_(e);if(s){const a=s.minKey();return a&&a.name}return this.children_.minKey()}getFirstChild(e){const s=this.getFirstChildName(e);return s?new Nt(s,this.children_.get(s)):null}getLastChildName(e){const s=this.resolveIndex_(e);if(s){const a=s.maxKey();return a&&a.name}return this.children_.maxKey()}getLastChild(e){const s=this.getLastChildName(e);return s?new Nt(s,this.children_.get(s)):null}forEachChild(e,s){const a=this.resolveIndex_(e);return a?a.inorderTraversal(d=>s(d.name,d.node)):this.children_.inorderTraversal(s)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,s){const a=this.resolveIndex_(s);if(a)return a.getIteratorFrom(e,d=>d);{const d=this.children_.getIteratorFrom(e.name,Nt.Wrap);let g=d.peek();for(;null!=g&&s.compare(g,e)<0;)d.getNext(),g=d.peek();return d}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,s){const a=this.resolveIndex_(s);if(a)return a.getReverseIteratorFrom(e,d=>d);{const d=this.children_.getReverseIteratorFrom(e.name,Nt.Wrap);let g=d.peek();for(;null!=g&&s.compare(g,e)>0;)d.getNext(),g=d.peek();return d}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Ju?-1:0}withIndex(e){if(e===io||this.indexMap_.hasIndex(e))return this;{const s=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,s)}}isIndexed(e){return e===io||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const s=e;if(this.getPriority().equals(s.getPriority())){if(this.children_.count()===s.children_.count()){const a=this.getIterator(bn),d=s.getIterator(bn);let g=a.getNext(),y=d.getNext();for(;g&&y;){if(g.name!==y.name||!g.node.equals(y.node))return!1;g=a.getNext(),y=d.getNext()}return null===g&&null===y}return!1}return!1}}resolveIndex_(e){return e===io?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const Ju=new class Qg extends It{constructor(){super(new hi(Ku),It.EMPTY_NODE,qo.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return It.EMPTY_NODE}isEmpty(){return!1}};function wn(n,t=null){if(null===n)return It.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,k.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new Qu(n,wn(t));if(n instanceof Array){let e=It.EMPTY_NODE;return Er(n,(s,a)=>{if((0,k.r3)(n,s)&&"."!==s.substring(0,1)){const d=wn(a);(d.isLeafNode()||!d.isEmpty())&&(e=e.updateImmediateChild(s,d))}}),e.updatePriority(wn(t))}{const e=[];let s=!1;if(Er(n,(g,y)=>{if("."!==g.substring(0,1)){const w=wn(y);w.isEmpty()||(s=s||!w.getPriority().isEmpty(),e.push(new Nt(g,w)))}}),0===e.length)return It.EMPTY_NODE;const d=Md(e,vE,g=>g.name,Ku);if(s){const g=Md(e,bn.getCompare());return new It(d,wn(t),new qo({".priority":g},{".priority":bn}))}return new It(d,wn(t),qo.Default)}}Object.defineProperties(Nt,{MIN:{value:new Nt(Cr,It.EMPTY_NODE)},MAX:{value:new Nt(ro,Ju)}}),qg.__EMPTY_NODE=It.EMPTY_NODE,Qu.__childrenNodeConstructor=It,function CE(n){Sd=n}(Ju),function EE(n){hf=n}(Ju),function tD(n){jy=n}(wn);class Xg extends lf{constructor(t){super(),this.indexPath_=t,(0,k.hu)(!Ot(t)&&".priority"!==Mt(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const s=this.extractChild(t.node),a=this.extractChild(e.node),d=s.compareTo(a);return 0===d?Va(t.name,e.name):d}makePost(t,e){const s=wn(t),a=It.EMPTY_NODE.updateChild(this.indexPath_,s);return new Nt(e,a)}maxPost(){const t=It.EMPTY_NODE.updateChild(this.indexPath_,Ju);return new Nt(ro,t)}toString(){return xr(this.indexPath_,0).join("/")}}const ff=new class em extends lf{compare(t,e){const s=t.node.compareTo(e.node);return 0===s?Va(t.name,e.name):s}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return Nt.MIN}maxPost(){return Nt.MAX}makePost(t,e){const s=wn(t);return new Nt(e,s)}toString(){return".value"}},Ul="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",bE=function(){let n=0;const t=[];return function(e){const s=e===n;let a;n=e;const d=new Array(8);for(a=7;a>=0;a--)d[a]=Ul.charAt(e%64),e=Math.floor(e/64);(0,k.hu)(0===e,"Cannot push at time == 0");let g=d.join("");if(s){for(a=11;a>=0&&63===t[a];a--)t[a]=0;t[a]++}else for(a=0;a<12;a++)t[a]=Math.floor(64*Math.random());for(a=0;a<12;a++)g+=Ul.charAt(t[a]);return(0,k.hu)(20===g.length,"nextPushId: Length should be 20."),g}}(),Gy=function(n){if(n===""+Jh)return"-";const t=Ol(n);if(null!=t)return""+(t+1);const e=new Array(n.length);for(let g=0;g<e.length;g++)e[g]=n.charAt(g);if(e.length<786)return e.push("-"),e.join("");let s=e.length-1;for(;s>=0&&"z"===e[s];)s--;if(-1===s)return ro;const d=Ul.charAt(Ul.indexOf(e[s])+1);return e[s]=d,e.slice(0,s+1).join("")},tm=function(n){if(n===""+Mg)return Cr;const t=Ol(n);if(null!=t)return""+(t-1);const e=new Array(n.length);for(let s=0;s<e.length;s++)e[s]=n.charAt(s);return"-"===e[e.length-1]?1===e.length?""+Jh:(delete e[e.length-1],e.join("")):(e[e.length-1]=Ul.charAt(Ul.indexOf(e[e.length-1])-1),e.join("")+"z".repeat(786-e.length))};function Vl(n){return{type:"value",snapshotNode:n}}function Bl(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function Pd(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function Rd(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class nm{constructor(t){this.index_=t}updateChild(t,e,s,a,d,g){(0,k.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const y=t.getImmediateChild(e);return y.getChild(a).equals(s.getChild(a))&&y.isEmpty()===s.isEmpty()||(null!=g&&(s.isEmpty()?t.hasChild(e)?g.trackChildChange(Pd(e,y)):(0,k.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):y.isEmpty()?g.trackChildChange(Bl(e,s)):g.trackChildChange(Rd(e,s,y))),t.isLeafNode()&&s.isEmpty())?t:t.updateImmediateChild(e,s).withIndex(this.index_)}updateFullNode(t,e,s){return null!=s&&(t.isLeafNode()||t.forEachChild(bn,(a,d)=>{e.hasChild(a)||s.trackChildChange(Pd(a,d))}),e.isLeafNode()||e.forEachChild(bn,(a,d)=>{if(t.hasChild(a)){const g=t.getImmediateChild(a);g.equals(d)||s.trackChildChange(Rd(a,d,g))}else s.trackChildChange(Bl(a,d))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?It.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Od{constructor(t){this.indexedFilter_=new nm(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Od.getStartPost_(t),this.endPost_=Od.getEndPost_(t)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0}updateChild(t,e,s,a,d,g){return this.matches(new Nt(e,s))||(s=It.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,s,a,d,g)}updateFullNode(t,e,s){e.isLeafNode()&&(e=It.EMPTY_NODE);let a=e.withIndex(this.index_);a=a.updatePriority(It.EMPTY_NODE);const d=this;return e.forEachChild(bn,(g,y)=>{d.matches(new Nt(g,y))||(a=a.updateImmediateChild(g,It.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,a,s)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class wE{constructor(t){this.rangedFilter_=new Od(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}updateChild(t,e,s,a,d,g){return this.rangedFilter_.matches(new Nt(e,s))||(s=It.EMPTY_NODE),t.getImmediateChild(e).equals(s)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,s,a,d,g):this.fullLimitUpdateChild_(t,e,s,d,g)}updateFullNode(t,e,s){let a;if(e.isLeafNode()||e.isEmpty())a=It.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let d;a=It.EMPTY_NODE.withIndex(this.index_),d=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let g=0;for(;d.hasNext()&&g<this.limit_;){const y=d.getNext();let w;if(w=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),y)<=0:this.index_.compare(y,this.rangedFilter_.getEndPost())<=0,!w)break;a=a.updateImmediateChild(y.name,y.node),g++}}else{let d,g,y,w;if(a=e.withIndex(this.index_),a=a.updatePriority(It.EMPTY_NODE),this.reverse_){w=a.getReverseIterator(this.index_),d=this.rangedFilter_.getEndPost(),g=this.rangedFilter_.getStartPost();const L=this.index_.getCompare();y=(Q,te)=>L(te,Q)}else w=a.getIterator(this.index_),d=this.rangedFilter_.getStartPost(),g=this.rangedFilter_.getEndPost(),y=this.index_.getCompare();let S=0,H=!1;for(;w.hasNext();){const L=w.getNext();!H&&y(d,L)<=0&&(H=!0),H&&S<this.limit_&&y(L,g)<=0?S++:a=a.updateImmediateChild(L.name,It.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,a,s)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,s,a,d){let g;if(this.reverse_){const L=this.index_.getCompare();g=(Q,te)=>L(te,Q)}else g=this.index_.getCompare();const y=t;(0,k.hu)(y.numChildren()===this.limit_,"");const w=new Nt(e,s),S=this.reverse_?y.getFirstChild(this.index_):y.getLastChild(this.index_),H=this.rangedFilter_.matches(w);if(y.hasChild(e)){const L=y.getImmediateChild(e);let Q=a.getChildAfterChild(this.index_,S,this.reverse_);for(;null!=Q&&(Q.name===e||y.hasChild(Q.name));)Q=a.getChildAfterChild(this.index_,Q,this.reverse_);const te=null==Q?1:g(Q,w);if(H&&!s.isEmpty()&&te>=0)return null!=d&&d.trackChildChange(Rd(e,s,L)),y.updateImmediateChild(e,s);{null!=d&&d.trackChildChange(Pd(e,L));const at=y.updateImmediateChild(e,It.EMPTY_NODE);return null!=Q&&this.rangedFilter_.matches(Q)?(null!=d&&d.trackChildChange(Bl(Q.name,Q.node)),at.updateImmediateChild(Q.name,Q.node)):at}}return s.isEmpty()?t:H&&g(S,w)>=0?(null!=d&&(d.trackChildChange(Pd(S.name,S.node)),d.trackChildChange(Bl(e,s))),y.updateImmediateChild(e,s).updateImmediateChild(S.name,It.EMPTY_NODE)):t}}class mf{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=bn}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,k.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,k.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Cr}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,k.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,k.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ro}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,k.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===bn}copy(){const t=new mf;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function _f(n,t,e){const s=n.copy();return s.startSet_=!0,void 0===t&&(t=null),s.indexStartValue_=t,null!=e?(s.startNameSet_=!0,s.indexStartName_=e):(s.startNameSet_=!1,s.indexStartName_=""),s}function yf(n,t,e){const s=n.copy();return s.endSet_=!0,void 0===t&&(t=null),s.indexEndValue_=t,void 0!==e?(s.endNameSet_=!0,s.indexEndName_=e):(s.endNameSet_=!1,s.indexEndName_=""),s}function vf(n,t){const e=n.copy();return e.index_=t,e}function Yy(n){const t={};if(n.isDefault())return t;let e;return n.index_===bn?e="$priority":n.index_===ff?e="$value":n.index_===io?e="$key":((0,k.hu)(n.index_ instanceof Xg,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,k.Pz)(e),n.startSet_&&(t.startAt=(0,k.Pz)(n.indexStartValue_),n.startNameSet_&&(t.startAt+=","+(0,k.Pz)(n.indexStartName_))),n.endSet_&&(t.endAt=(0,k.Pz)(n.indexEndValue_),n.endNameSet_&&(t.endAt+=","+(0,k.Pz)(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function Ky(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_)),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_)),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==bn&&(t.i=n.index_.toString()),t}class Nd extends of{constructor(t,e,s,a){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=s,this.appCheckTokenProvider_=a,this.log_=Zu("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,k.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,s,a){const d=t._path.toString();this.log_("Listen called for "+d+" "+t._queryIdentifier);const g=Nd.getListenId_(t,s),y={};this.listens_[g]=y;const w=Yy(t._queryParams);this.restRequest_(d+".json",w,(S,H)=>{let L=H;if(404===S&&(L=null,S=null),null===S&&this.onDataUpdate_(d,L,!1,s),(0,k.DV)(this.listens_,g)===y){let Q;Q=S?401===S?"permission_denied":"rest_error:"+S:"ok",a(Q,null)}})}unlisten(t,e){const s=Nd.getListenId_(t,e);delete this.listens_[s]}get(t){const e=Yy(t._queryParams),s=t._path.toString(),a=new k.BH;return this.restRequest_(s+".json",e,(d,g)=>{let y=g;404===d&&(y=null,d=null),null===d?(this.onDataUpdate_(s,y,!1,null),a.resolve(y)):a.reject(new Error(y))}),a.promise}refreshAuthToken(t){}restRequest_(t,e={},s){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([a,d])=>{a&&a.accessToken&&(e.auth=a.accessToken),d&&d.token&&(e.ac=d.token);const g=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,k.xO)(e);this.log_("Sending REST request for "+g);const y=new XMLHttpRequest;y.onreadystatechange=()=>{if(s&&4===y.readyState){this.log_("REST Response for "+g+" received. status:",y.status,"response:",y.responseText);let w=null;if(y.status>=200&&y.status<300){try{w=(0,k.cI)(y.responseText)}catch(S){Jr("Failed to parse JSON response for "+g+": "+y.responseText)}s(null,w)}else 401!==y.status&&404!==y.status&&Jr("Got unsuccessful REST response for "+g+" Status: "+y.status),s(y.status);s=null}},y.open("GET",g,!0),y.send()})}}class nD{constructor(){this.rootNode_=It.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function kd(){return{value:null,children:new Map}}function ec(n,t,e){if(Ot(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const s=Mt(t);n.children.has(s)||n.children.set(s,kd()),ec(n.children.get(s),t=vn(t),e)}}function im(n,t){if(Ot(t))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const e=n.value;return n.value=null,e.forEachChild(bn,(s,a)=>{ec(n,new fn(s),a)}),im(n,t)}}if(n.children.size>0){const e=Mt(t);return t=vn(t),n.children.has(e)&&im(n.children.get(e),t)&&n.children.delete(e),0===n.children.size}return!0}function Qy(n,t,e){null!==n.value?e(t,n.value):function rD(n,t){n.children.forEach((e,s)=>{t(s,e)})}(n,(s,a)=>{Qy(a,new fn(t.toString()+"/"+s),e)})}class sm{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&Er(this.last_,(s,a)=>{e[s]=e[s]-a}),this.last_=t,e}}class iD{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new sm(t);const s=1e4+2e4*Math.random();bd(this.reportStats_.bind(this),Math.floor(s))}reportStats_(){const t=this.statsListener_.get(),e={};let s=!1;Er(t,(a,d)=>{d>0&&(0,k.r3)(this.statsToReport_,a)&&(e[a]=d,s=!0)}),s&&this.server_.reportStats(e),bd(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Qn=(()=>{return(n=Qn||(Qn={}))[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",Qn;var n})();function Cf(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class Fd{constructor(t,e,s){this.path=t,this.affectedTree=e,this.revert=s,this.type=Qn.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(Ot(this.path)){if(null!=this.affectedTree.value)return(0,k.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new fn(t));return new Fd(Wt(),e,this.revert)}}return(0,k.hu)(Mt(this.path)===t,"operationForChild called for unrelated child."),new Fd(vn(this.path),this.affectedTree,this.revert)}}class tc{constructor(t,e){this.source=t,this.path=e,this.type=Qn.LISTEN_COMPLETE}operationForChild(t){return Ot(this.path)?new tc(this.source,Wt()):new tc(this.source,vn(this.path))}}class jl{constructor(t,e,s){this.source=t,this.path=e,this.snap=s,this.type=Qn.OVERWRITE}operationForChild(t){return Ot(this.path)?new jl(this.source,Wt(),this.snap.getImmediateChild(t)):new jl(this.source,vn(this.path),this.snap)}}class Ld{constructor(t,e,s){this.source=t,this.path=e,this.children=s,this.type=Qn.MERGE}operationForChild(t){if(Ot(this.path)){const e=this.children.subtree(new fn(t));return e.isEmpty()?null:e.value?new jl(this.source,Wt(),e.value):new Ld(this.source,Wt(),e)}return(0,k.hu)(Mt(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Ld(this.source,vn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Yo{constructor(t,e,s){this.node_=t,this.fullyInitialized_=e,this.filtered_=s}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(Ot(t))return this.isFullyInitialized()&&!this.filtered_;const e=Mt(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class om{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function Hl(n,t,e,s,a,d){const g=s.filter(y=>y.type===e);g.sort((y,w)=>function AE(n,t,e){if(null==t.childName||null==e.childName)throw(0,k.g5)("Should only compare child_ events.");const s=new Nt(t.childName,t.snapshotNode),a=new Nt(e.childName,e.snapshotNode);return n.index_.compare(s,a)}(n,y,w)),g.forEach(y=>{const w=function TE(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,y,d);a.forEach(S=>{S.respondsTo(y.type)&&t.push(S.createEvent(w,n.query_))})})}function Ef(n,t){return{eventCache:n,serverCache:t}}function Ud(n,t,e,s){return Ef(new Yo(t,e,s),n.serverCache)}function rv(n,t,e,s){return Ef(n.eventCache,new Yo(t,e,s))}function bf(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function so(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let Ha;class ln{constructor(t,e=(()=>(Ha||(Ha=new hi(JC)),Ha))()){this.value=t,this.children=e}static fromObject(t){let e=new ln(null);return Er(t,(s,a)=>{e=e.set(new fn(s),a)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:Wt(),value:this.value};if(Ot(t))return null;{const s=Mt(t),a=this.children.get(s);if(null!==a){const d=a.findRootMostMatchingPathAndValue(vn(t),e);return null!=d?{path:kn(new fn(s),d.path),value:d.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(Ot(t))return this;{const e=Mt(t),s=this.children.get(e);return null!==s?s.subtree(vn(t)):new ln(null)}}set(t,e){if(Ot(t))return new ln(e,this.children);{const s=Mt(t),d=(this.children.get(s)||new ln(null)).set(vn(t),e),g=this.children.insert(s,d);return new ln(this.value,g)}}remove(t){if(Ot(t))return this.children.isEmpty()?new ln(null):new ln(null,this.children);{const e=Mt(t),s=this.children.get(e);if(s){const a=s.remove(vn(t));let d;return d=a.isEmpty()?this.children.remove(e):this.children.insert(e,a),null===this.value&&d.isEmpty()?new ln(null):new ln(this.value,d)}return this}}get(t){if(Ot(t))return this.value;{const e=Mt(t),s=this.children.get(e);return s?s.get(vn(t)):null}}setTree(t,e){if(Ot(t))return e;{const s=Mt(t),d=(this.children.get(s)||new ln(null)).setTree(vn(t),e);let g;return g=d.isEmpty()?this.children.remove(s):this.children.insert(s,d),new ln(this.value,g)}}fold(t){return this.fold_(Wt(),t)}fold_(t,e){const s={};return this.children.inorderTraversal((a,d)=>{s[a]=d.fold_(kn(t,a),e)}),e(t,this.value,s)}findOnPath(t,e){return this.findOnPath_(t,Wt(),e)}findOnPath_(t,e,s){const a=!!this.value&&s(e,this.value);if(a)return a;if(Ot(t))return null;{const d=Mt(t),g=this.children.get(d);return g?g.findOnPath_(vn(t),kn(e,d),s):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,Wt(),e)}foreachOnPath_(t,e,s){if(Ot(t))return this;{this.value&&s(e,this.value);const a=Mt(t),d=this.children.get(a);return d?d.foreachOnPath_(vn(t),kn(e,a),s):new ln(null)}}foreach(t){this.foreach_(Wt(),t)}foreach_(t,e){this.children.inorderTraversal((s,a)=>{a.foreach_(kn(t,s),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,s)=>{s.value&&t(e,s.value)})}}class Ds{constructor(t){this.writeTree_=t}static empty(){return new Ds(new ln(null))}}function Vd(n,t,e){if(Ot(t))return new Ds(new ln(e));{const s=n.writeTree_.findRootMostValueAndPath(t);if(null!=s){const a=s.path;let d=s.value;const g=di(a,t);return d=d.updateChild(g,e),new Ds(n.writeTree_.set(a,d))}{const a=new ln(e),d=n.writeTree_.setTree(t,a);return new Ds(d)}}}function Bd(n,t,e){let s=n;return Er(e,(a,d)=>{s=Vd(s,kn(t,a),d)}),s}function Is(n,t){if(Ot(t))return Ds.empty();{const e=n.writeTree_.setTree(t,new ln(null));return new Ds(e)}}function $l(n,t){return null!=Jn(n,t)}function Jn(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(di(e.path,t)):null}function $a(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(bn,(s,a)=>{t.push(new Nt(s,a))}):n.writeTree_.children.inorderTraversal((s,a)=>{null!=a.value&&t.push(new Nt(s,a.value))}),t}function Ts(n,t){if(Ot(t))return n;{const e=Jn(n,t);return new Ds(null!=e?new ln(e):n.writeTree_.subtree(t))}}function fi(n){return n.writeTree_.isEmpty()}function Za(n,t){return Zl(Wt(),n.writeTree_,t)}function Zl(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let s=null;return t.children.inorderTraversal((a,d)=>{".priority"===a?((0,k.hu)(null!==d.value,"Priority writes must always be leaf nodes"),s=d.value):e=Zl(kn(n,a),d,e)}),!e.getChild(n).isEmpty()&&null!==s&&(e=e.updateChild(kn(n,".priority"),s)),e}}function Ko(n,t){return hv(t,n)}function oc(n,t){if(n.snap)return Wi(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&Wi(kn(n.path,e),t))return!0;return!1}function lc(n){return n.visible}function am(n,t,e){let s=Ds.empty();for(let a=0;a<n.length;++a){const d=n[a];if(t(d)){const g=d.path;let y;if(d.snap)Wi(e,g)?(y=di(e,g),s=Vd(s,y,d.snap)):Wi(g,e)&&(y=di(g,e),s=Vd(s,Wt(),d.snap.getChild(y)));else{if(!d.children)throw(0,k.g5)("WriteRecord should have .snap or .children");if(Wi(e,g))y=di(e,g),s=Bd(s,y,d.children);else if(Wi(g,e))if(y=di(g,e),Ot(y))s=Bd(s,Wt(),d.children);else{const w=(0,k.DV)(d.children,Mt(y));if(w){const S=w.getChild(vn(y));s=Vd(s,Wt(),S)}}}}}return s}function lm(n,t,e,s,a){if(s||a){const d=Ts(n.visibleWrites,t);return!a&&fi(d)?e:a||null!=e||$l(d,Wt())?Za(am(n.allWrites,function(S){return(S.visible||a)&&(!s||!~s.indexOf(S.writeId))&&(Wi(S.path,t)||Wi(t,S.path))},t),e||It.EMPTY_NODE):null}{const d=Jn(n.visibleWrites,t);if(null!=d)return d;{const g=Ts(n.visibleWrites,t);return fi(g)?e:null!=e||$l(g,Wt())?Za(g,e||It.EMPTY_NODE):null}}}function jd(n,t,e,s){return lm(n.writeTree,n.treePath,t,e,s)}function um(n,t){return function iv(n,t,e){let s=It.EMPTY_NODE;const a=Jn(n.visibleWrites,t);if(a)return a.isLeafNode()||a.forEachChild(bn,(d,g)=>{s=s.updateImmediateChild(d,g)}),s;if(e){const d=Ts(n.visibleWrites,t);return e.forEachChild(bn,(g,y)=>{const w=Za(Ts(d,new fn(g)),y);s=s.updateImmediateChild(g,w)}),$a(d).forEach(g=>{s=s.updateImmediateChild(g.name,g.node)}),s}return $a(Ts(n.visibleWrites,t)).forEach(g=>{s=s.updateImmediateChild(g.name,g.node)}),s}(n.writeTree,n.treePath,t)}function cm(n,t,e,s){return function sv(n,t,e,s,a){(0,k.hu)(s||a,"Either existingEventSnap or existingServerSnap must exist");const d=kn(t,e);if($l(n.visibleWrites,d))return null;{const g=Ts(n.visibleWrites,d);return fi(g)?a.getChild(e):Za(g,a.getChild(e))}}(n.writeTree,n.treePath,t,e,s)}function wf(n,t){return function av(n,t){return Jn(n.visibleWrites,t)}(n.writeTree,kn(n.treePath,t))}function Df(n,t,e){return function ov(n,t,e,s){const a=kn(t,e),d=Jn(n.visibleWrites,a);return null!=d?d:s.isCompleteForChild(e)?Za(Ts(n.visibleWrites,a),s.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function dv(n,t){return hv(kn(n.treePath,t),n.writeTree)}function hv(n,t){return{treePath:n,writeTree:t}}class fv{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,s=t.childName;(0,k.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,k.hu)(".priority"!==s,"Only non-priority child changes can be tracked.");const a=this.changeMap.get(s);if(a){const d=a.type;if("child_added"===e&&"child_removed"===d)this.changeMap.set(s,Rd(s,t.snapshotNode,a.snapshotNode));else if("child_removed"===e&&"child_added"===d)this.changeMap.delete(s);else if("child_removed"===e&&"child_changed"===d)this.changeMap.set(s,Pd(s,a.oldSnap));else if("child_changed"===e&&"child_added"===d)this.changeMap.set(s,Bl(s,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==d)throw(0,k.g5)("Illegal combination of changes: "+t+" occurred after "+a);this.changeMap.set(s,Rd(s,t.snapshotNode,a.oldSnap))}}else this.changeMap.set(s,t)}getChanges(){return Array.from(this.changeMap.values())}}const dm=new class ME{getCompleteChild(t){return null}getChildAfterChild(t,e,s){return null}};class hm{constructor(t,e,s=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=s}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const s=null!=this.optCompleteServerCache_?new Yo(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Df(this.writes_,t,s)}}getChildAfterChild(t,e,s){const a=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:so(this.viewCache_),d=function cv(n,t,e,s,a,d){return function lv(n,t,e,s,a,d,g){let y;const w=Ts(n.visibleWrites,t),S=Jn(w,Wt());if(null!=S)y=S;else{if(null==e)return[];y=Za(w,e)}if(y=y.withIndex(g),y.isEmpty()||y.isLeafNode())return[];{const H=[],L=g.getCompare(),Q=d?y.getReverseIteratorFrom(s,g):y.getIteratorFrom(s,g);let te=Q.getNext();for(;te&&H.length<a;)0!==L(te,s)&&H.push(te),te=Q.getNext();return H}}(n.writeTree,n.treePath,t,e,s,a,d)}(this.writes_,a,e,1,s,t);return 0===d.length?null:d[0]}}function If(n,t,e,s,a,d){const g=t.eventCache;if(null!=wf(s,e))return t;{let y,w;if(Ot(e))if((0,k.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const S=so(t),L=um(s,S instanceof It?S:It.EMPTY_NODE);y=n.filter.updateFullNode(t.eventCache.getNode(),L,d)}else{const S=jd(s,so(t));y=n.filter.updateFullNode(t.eventCache.getNode(),S,d)}else{const S=Mt(e);if(".priority"===S){(0,k.hu)(1===ja(e),"Can't have a priority with additional path components");const H=g.getNode();w=t.serverCache.getNode();const L=cm(s,e,H,w);y=null!=L?n.filter.updatePriority(H,L):g.getNode()}else{const H=vn(e);let L;if(g.isCompleteForChild(S)){w=t.serverCache.getNode();const Q=cm(s,e,g.getNode(),w);L=null!=Q?g.getNode().getImmediateChild(S).updateChild(H,Q):g.getNode().getImmediateChild(S)}else L=Df(s,S,t.serverCache);y=null!=L?n.filter.updateChild(g.getNode(),S,L,H,a,d):g.getNode()}}return Ud(t,y,g.isFullyInitialized()||Ot(e),n.filter.filtersNodes())}}function Tf(n,t,e,s,a,d,g,y){const w=t.serverCache;let S;const H=g?n.filter:n.filter.getIndexedFilter();if(Ot(e))S=H.updateFullNode(w.getNode(),s,null);else if(H.filtersNodes()&&!w.isFiltered()){const te=w.getNode().updateChild(e,s);S=H.updateFullNode(w.getNode(),te,null)}else{const te=Mt(e);if(!w.isCompleteForPath(e)&&ja(e)>1)return t;const Ie=vn(e),vt=w.getNode().getImmediateChild(te).updateChild(Ie,s);S=".priority"===te?H.updatePriority(w.getNode(),vt):H.updateChild(w.getNode(),te,vt,Ie,dm,null)}const L=rv(t,S,w.isFullyInitialized()||Ot(e),H.filtersNodes());return If(n,L,e,a,new hm(a,L,d),y)}function pv(n,t,e,s,a,d,g){const y=t.eventCache;let w,S;const H=new hm(a,t,d);if(Ot(e))S=n.filter.updateFullNode(t.eventCache.getNode(),s,g),w=Ud(t,S,!0,n.filter.filtersNodes());else{const L=Mt(e);if(".priority"===L)S=n.filter.updatePriority(t.eventCache.getNode(),s),w=Ud(t,S,y.isFullyInitialized(),y.isFiltered());else{const Q=vn(e),te=y.getNode().getImmediateChild(L);let Ie;if(Ot(Q))Ie=s;else{const at=H.getCompleteChild(L);Ie=null!=at?".priority"===Wg(Q)&&at.getChild(Ry(Q)).isEmpty()?at:at.updateChild(Q,s):It.EMPTY_NODE}w=te.equals(Ie)?t:Ud(t,n.filter.updateChild(y.getNode(),L,Ie,Q,H,g),y.isFullyInitialized(),n.filter.filtersNodes())}}return w}function RE(n,t){return n.eventCache.isCompleteForChild(t)}function gv(n,t,e){return e.foreach((s,a)=>{t=t.updateChild(s,a)}),t}function Af(n,t,e,s,a,d,g,y){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let S,w=t;S=Ot(e)?s:new ln(null).setTree(e,s);const H=t.serverCache.getNode();return S.children.inorderTraversal((L,Q)=>{if(H.hasChild(L)){const Ie=gv(0,t.serverCache.getNode().getImmediateChild(L),Q);w=Tf(n,w,new fn(L),Ie,a,d,g,y)}}),S.children.inorderTraversal((L,Q)=>{const te=!t.serverCache.isCompleteForChild(L)&&void 0===Q.value;if(!H.hasChild(L)&&!te){const at=gv(0,t.serverCache.getNode().getImmediateChild(L),Q);w=Tf(n,w,new fn(L),at,a,d,g,y)}}),w}class NE{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const s=this.query_._queryParams,a=new nm(s.getIndex()),d=function Gi(n){return n.loadsAllData()?new nm(n.getIndex()):n.hasLimit()?new wE(n):new Od(n)}(s);this.processor_=function xE(n){return{filter:n}}(d);const g=e.serverCache,y=e.eventCache,w=a.updateFullNode(It.EMPTY_NODE,g.getNode(),null),S=d.updateFullNode(It.EMPTY_NODE,y.getNode(),null),H=new Yo(w,g.isFullyInitialized(),a.filtersNodes()),L=new Yo(S,y.isFullyInitialized(),d.filtersNodes());this.viewCache_=Ef(L,H),this.eventGenerator_=new om(this.query_)}get query(){return this.query_}}function _v(n,t){const e=so(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!Ot(t)&&!e.getImmediateChild(Mt(t)).isEmpty())?e.getChild(t):null}function Hd(n){return 0===n.eventRegistrations_.length}function pm(n,t,e){const s=[];if(e){(0,k.hu)(null==t,"A cancel should cancel all event registrations.");const a=n.query._path;n.eventRegistrations_.forEach(d=>{const g=d.createCancelEvent(e,a);g&&s.push(g)})}if(t){let a=[];for(let d=0;d<n.eventRegistrations_.length;++d){const g=n.eventRegistrations_[d];if(g.matches(t)){if(t.hasAnyCallback()){a=a.concat(n.eventRegistrations_.slice(d+1));break}}else a.push(g)}n.eventRegistrations_=a}else n.eventRegistrations_=[];return s}function yv(n,t,e,s){t.type===Qn.MERGE&&null!==t.source.queryId&&((0,k.hu)(so(n.viewCache_),"We should always have a full cache before handling merges"),(0,k.hu)(bf(n.viewCache_),"Missing event cache, even though we have a server cache"));const a=n.viewCache_,d=function PE(n,t,e,s,a){const d=new fv;let g,y;if(e.type===Qn.OVERWRITE){const S=e;S.source.fromUser?g=pv(n,t,S.path,S.snap,s,a,d):((0,k.hu)(S.source.fromServer,"Unknown source."),y=S.source.tagged||t.serverCache.isFiltered()&&!Ot(S.path),g=Tf(n,t,S.path,S.snap,s,a,y,d))}else if(e.type===Qn.MERGE){const S=e;S.source.fromUser?g=function oD(n,t,e,s,a,d,g){let y=t;return s.foreach((w,S)=>{const H=kn(e,w);RE(t,Mt(H))&&(y=pv(n,y,H,S,a,d,g))}),s.foreach((w,S)=>{const H=kn(e,w);RE(t,Mt(H))||(y=pv(n,y,H,S,a,d,g))}),y}(n,t,S.path,S.children,s,a,d):((0,k.hu)(S.source.fromServer,"Unknown source."),y=S.source.tagged||t.serverCache.isFiltered(),g=Af(n,t,S.path,S.children,s,a,y,d))}else if(e.type===Qn.ACK_USER_WRITE){const S=e;g=S.revert?function uc(n,t,e,s,a,d){let g;if(null!=wf(s,e))return t;{const y=new hm(s,t,a),w=t.eventCache.getNode();let S;if(Ot(e)||".priority"===Mt(e)){let H;if(t.serverCache.isFullyInitialized())H=jd(s,so(t));else{const L=t.serverCache.getNode();(0,k.hu)(L instanceof It,"serverChildren would be complete if leaf node"),H=um(s,L)}H=H,S=n.filter.updateFullNode(w,H,d)}else{const H=Mt(e);let L=Df(s,H,t.serverCache);null==L&&t.serverCache.isCompleteForChild(H)&&(L=w.getImmediateChild(H)),S=null!=L?n.filter.updateChild(w,H,L,vn(e),y,d):t.eventCache.getNode().hasChild(H)?n.filter.updateChild(w,H,It.EMPTY_NODE,vn(e),y,d):w,S.isEmpty()&&t.serverCache.isFullyInitialized()&&(g=jd(s,so(t)),g.isLeafNode()&&(S=n.filter.updateFullNode(S,g,d)))}return g=t.serverCache.isFullyInitialized()||null!=wf(s,Wt()),Ud(t,S,g,n.filter.filtersNodes())}}(n,t,S.path,s,a,d):function aD(n,t,e,s,a,d,g){if(null!=wf(a,e))return t;const y=t.serverCache.isFiltered(),w=t.serverCache;if(null!=s.value){if(Ot(e)&&w.isFullyInitialized()||w.isCompleteForPath(e))return Tf(n,t,e,w.getNode().getChild(e),a,d,y,g);if(Ot(e)){let S=new ln(null);return w.getNode().forEachChild(io,(H,L)=>{S=S.set(new fn(H),L)}),Af(n,t,e,S,a,d,y,g)}return t}{let S=new ln(null);return s.foreach((H,L)=>{const Q=kn(e,H);w.isCompleteForPath(Q)&&(S=S.set(H,w.getNode().getChild(Q)))}),Af(n,t,e,S,a,d,y,g)}}(n,t,S.path,S.affectedTree,s,a,d)}else{if(e.type!==Qn.LISTEN_COMPLETE)throw(0,k.g5)("Unknown operation type: "+e.type);g=function OE(n,t,e,s,a){const d=t.serverCache;return If(n,rv(t,d.getNode(),d.isFullyInitialized()||Ot(e),d.isFiltered()),e,s,dm,a)}(n,t,e.path,s,d)}const w=d.getChanges();return function fm(n,t,e){const s=t.eventCache;if(s.isFullyInitialized()){const a=s.getNode().isLeafNode()||s.getNode().isEmpty(),d=bf(n);(e.length>0||!n.eventCache.isFullyInitialized()||a&&!s.getNode().equals(d)||!s.getNode().getPriority().equals(d.getPriority()))&&e.push(Vl(bf(t)))}}(t,g,w),{viewCache:g,changes:w}}(n.processor_,a,t,e,s);return function sD(n,t){(0,k.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,k.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,d.viewCache),(0,k.hu)(d.viewCache.serverCache.isFullyInitialized()||!a.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=d.viewCache,vv(n,d.changes,d.viewCache.eventCache.getNode(),null)}function vv(n,t,e,s){return function IE(n,t,e,s){const a=[],d=[];return t.forEach(g=>{"child_changed"===g.type&&n.index_.indexedValueChanged(g.oldSnap,g.snapshotNode)&&d.push(function Xu(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(g.childName,g.snapshotNode))}),Hl(n,a,"child_removed",t,s,e),Hl(n,a,"child_added",t,s,e),Hl(n,a,"child_moved",d,s,e),Hl(n,a,"child_changed",t,s,e),Hl(n,a,"value",t,s,e),a}(n.eventGenerator_,t,e,s?[s]:n.eventRegistrations_)}let Sf,Pf;class Cv{constructor(){this.views=new Map}}function Mf(n,t,e,s){const a=t.source.queryId;if(null!==a){const d=n.views.get(a);return(0,k.hu)(null!=d,"SyncTree gave us an op for an invalid query."),yv(d,t,e,s)}{let d=[];for(const g of n.views.values())d=d.concat(yv(g,t,e,s));return d}}function xf(n,t,e,s,a){const g=n.views.get(t._queryIdentifier);if(!g){let y=jd(e,a?s:null),w=!1;y?w=!0:s instanceof It?(y=um(e,s),w=!1):(y=It.EMPTY_NODE,w=!1);const S=Ef(new Yo(y,w,!1),new Yo(s,a,!1));return new NE(t,S)}return g}function wv(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function Wl(n,t){let e=null;for(const s of n.views.values())e=e||_v(s,t);return e}function cc(n,t){return t._queryParams.loadsAllData()?dc(n):n.views.get(t._queryIdentifier)}function mm(n,t){return null!=cc(n,t)}function oo(n){return null!=dc(n)}function dc(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let Dv=1;class VE{constructor(t){this.listenProvider_=t,this.syncPointTree_=new ln(null),this.pendingWriteTree_=function uv(){return{visibleWrites:Ds.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function vm(n,t,e,s,a){return function nc(n,t,e,s,a){(0,k.hu)(s>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===a&&(a=!0),n.allWrites.push({path:t,snap:e,writeId:s,visible:a}),a&&(n.visibleWrites=Vd(n.visibleWrites,t,e)),n.lastWriteId=s}(n.pendingWriteTree_,t,e,s,a),a?Wa(n,new jl({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function Qo(n,t,e=!1){const s=function ic(n,t){for(let e=0;e<n.allWrites.length;e++){const s=n.allWrites[e];if(s.writeId===t)return s}return null}(n.pendingWriteTree_,t);if(function sc(n,t){const e=n.allWrites.findIndex(y=>y.writeId===t);(0,k.hu)(e>=0,"removeWrite called with nonexistent writeId.");const s=n.allWrites[e];n.allWrites.splice(e,1);let a=s.visible,d=!1,g=n.allWrites.length-1;for(;a&&g>=0;){const y=n.allWrites[g];y.visible&&(g>=e&&oc(y,s.path)?a=!1:Wi(s.path,y.path)&&(d=!0)),g--}return!!a&&(d?(function ac(n){n.visibleWrites=am(n.allWrites,lc,Wt()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(s.snap?n.visibleWrites=Is(n.visibleWrites,s.path):Er(s.children,w=>{n.visibleWrites=Is(n.visibleWrites,kn(s.path,w))}),!0))}(n.pendingWriteTree_,t)){let d=new ln(null);return null!=s.snap?d=d.set(Wt(),!0):Er(s.children,g=>{d=d.set(new fn(g),!0)}),Wa(n,new Fd(s.path,d,e))}return[]}function $d(n,t,e){return Wa(n,new jl({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function Rf(n,t,e,s){const a=t._path,d=n.syncPointTree_.get(a);let g=[];if(d&&("default"===t._queryIdentifier||mm(d,t))){const y=function gm(n,t,e,s){const a=t._queryIdentifier,d=[];let g=[];const y=oo(n);if("default"===a)for(const[w,S]of n.views.entries())g=g.concat(pm(S,e,s)),Hd(S)&&(n.views.delete(w),S.query._queryParams.loadsAllData()||d.push(S.query));else{const w=n.views.get(a);w&&(g=g.concat(pm(w,e,s)),Hd(w)&&(n.views.delete(a),w.query._queryParams.loadsAllData()||d.push(w.query)))}return y&&!oo(n)&&d.push(new(function UE(){return(0,k.hu)(Sf,"Reference.ts has not been loaded"),Sf}())(t._repo,t._path)),{removed:d,events:g}}(d,t,e,s);(function bv(n){return 0===n.views.size})(d)&&(n.syncPointTree_=n.syncPointTree_.remove(a));const w=y.removed;g=y.events;const S=-1!==w.findIndex(L=>L._queryParams.loadsAllData()),H=n.syncPointTree_.findOnPath(a,(L,Q)=>oo(Q));if(S&&!H){const L=n.syncPointTree_.subtree(a);if(!L.isEmpty()){const Q=function Ov(n){return n.fold((t,e,s)=>{if(e&&oo(e))return[dc(e)];{let a=[];return e&&(a=wv(e)),Er(s,(d,g)=>{a=a.concat(g)}),a}})}(L);for(let te=0;te<Q.length;++te){const Ie=Q[te],at=Ie.query,vt=Rv(n,Ie);n.listenProvider_.startListening(fc(at),Of(n,at),vt.hashFn,vt.onComplete)}}}!H&&w.length>0&&!s&&(S?n.listenProvider_.stopListening(fc(t),null):w.forEach(L=>{const Q=n.queryToTagMap.get(hc(L));n.listenProvider_.stopListening(fc(L),Q)})),function Nv(n,t){for(let e=0;e<t.length;++e){const s=t[e];if(!s._queryParams.loadsAllData()){const a=hc(s),d=n.queryToTagMap.get(a);n.queryToTagMap.delete(a),n.tagToQueryMap.delete(d)}}}(n,w)}return g}function Mv(n,t,e){const s=t._path;let a=null,d=!1;n.syncPointTree_.foreachOnPath(s,(L,Q)=>{const te=di(L,s);a=a||Wl(Q,te),d=d||oo(Q)});let y,g=n.syncPointTree_.get(s);g?(d=d||oo(g),a=a||Wl(g,Wt())):(g=new Cv,n.syncPointTree_=n.syncPointTree_.set(s,g)),null!=a?y=!0:(y=!1,a=It.EMPTY_NODE,n.syncPointTree_.subtree(s).foreachChild((Q,te)=>{const Ie=Wl(te,Wt());Ie&&(a=a.updateImmediateChild(Q,Ie))}));const w=mm(g,t);if(!w&&!t._queryParams.loadsAllData()){const L=hc(t);(0,k.hu)(!n.queryToTagMap.has(L),"View does not exist, but we have a tag");const Q=function kv(){return Dv++}();n.queryToTagMap.set(L,Q),n.tagToQueryMap.set(Q,L)}let H=function lD(n,t,e,s,a,d){const g=xf(n,t,s,a,d);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,g),function FE(n,t){n.eventRegistrations_.push(t)}(g,e),function LE(n,t){const e=n.viewCache_.eventCache,s=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(bn,(d,g)=>{s.push(Bl(d,g))}),e.isFullyInitialized()&&s.push(Vl(e.getNode())),vv(n,s,e.getNode(),t)}(g,e)}(g,t,e,Ko(n.pendingWriteTree_,s),a,y);if(!w&&!d){const L=cc(g,t);H=H.concat(function Fv(n,t,e){const s=t._path,a=Of(n,t),d=Rv(n,e),g=n.listenProvider_.startListening(fc(t),a,d.hashFn,d.onComplete),y=n.syncPointTree_.subtree(s);if(a)(0,k.hu)(!oo(y.value),"If we're adding a query, it shouldn't be shadowed");else{const w=y.fold((S,H,L)=>{if(!Ot(S)&&H&&oo(H))return[dc(H).query];{let Q=[];return H&&(Q=Q.concat(wv(H).map(te=>te.query))),Er(L,(te,Ie)=>{Q=Q.concat(Ie)}),Q}});for(let S=0;S<w.length;++S){const H=w[S];n.listenProvider_.stopListening(fc(H),Of(n,H))}}return g}(n,t,L))}return H}function Zd(n,t,e){const a=n.pendingWriteTree_,d=n.syncPointTree_.findOnPath(t,(g,y)=>{const S=Wl(y,di(g,t));if(S)return S});return lm(a,t,d,e,!0)}function Wa(n,t){return bm(t,n.syncPointTree_,null,Ko(n.pendingWriteTree_,Wt()))}function bm(n,t,e,s){if(Ot(n.path))return Pv(n,t,e,s);{const a=t.get(Wt());null==e&&null!=a&&(e=Wl(a,Wt()));let d=[];const g=Mt(n.path),y=n.operationForChild(g),w=t.children.get(g);if(w&&y){const S=e?e.getImmediateChild(g):null,H=dv(s,g);d=d.concat(bm(y,w,S,H))}return a&&(d=d.concat(Mf(a,n,s,e))),d}}function Pv(n,t,e,s){const a=t.get(Wt());null==e&&null!=a&&(e=Wl(a,Wt()));let d=[];return t.children.inorderTraversal((g,y)=>{const w=e?e.getImmediateChild(g):null,S=dv(s,g),H=n.operationForChild(g);H&&(d=d.concat(Pv(H,y,w,S)))}),a&&(d=d.concat(Mf(a,n,s,e))),d}function Rv(n,t){const e=t.query,s=Of(n,e);return{hashFn:()=>(function mv(n){return n.viewCache_.serverCache.getNode()}(t)||It.EMPTY_NODE).hash(),onComplete:a=>{if("ok"===a)return s?function Av(n,t,e){const s=Wd(n,e);if(s){const a=Nf(s),d=a.path,g=a.queryId,y=di(d,t);return kf(n,d,new tc(Cf(g),y))}return[]}(n,e._path,s):function Cm(n,t){return Wa(n,new tc({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const d=function bt(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const s=new Error(n+" at "+t._path.toString()+": "+e);return s.code=n.toUpperCase(),s}(a,e);return Rf(n,e,null,d)}}}}function Of(n,t){const e=hc(t);return n.queryToTagMap.get(e)}function hc(n){return n._path.toString()+"$"+n._queryIdentifier}function Wd(n,t){return n.tagToQueryMap.get(t)}function Nf(n){const t=n.indexOf("$");return(0,k.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new fn(n.substr(0,t))}}function kf(n,t,e){const s=n.syncPointTree_.get(t);return(0,k.hu)(s,"Missing sync point for query tag that we're tracking"),Mf(s,e,Ko(n.pendingWriteTree_,t),null)}function fc(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function ym(){return(0,k.hu)(Pf,"Reference.ts has not been loaded"),Pf}())(n._repo,n._path):n}class Ff{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new Ff(e)}node(){return this.node_}}class Lv{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=kn(this.path_,t);return new Lv(this.syncTree_,e)}node(){return Zd(this.syncTree_,this.path_)}}const Uv=function(n,t,e){return n&&"object"==typeof n?((0,k.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?Vv(n[".sv"],t,e):"object"==typeof n[".sv"]?jE(n[".sv"],t):void(0,k.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},Vv=function(n,t,e){if("timestamp"===n)return e.timestamp;(0,k.hu)(!1,"Unexpected server value: "+n)},jE=function(n,t,e){n.hasOwnProperty("increment")||(0,k.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const s=n.increment;"number"!=typeof s&&(0,k.hu)(!1,"Unexpected increment value: "+s);const a=t.node();if((0,k.hu)(null!=a,"Expected ChildrenNode.EMPTY_NODE for nulls"),!a.isLeafNode())return s;const g=a.getValue();return"number"!=typeof g?s:g+s},pr=function(n,t,e,s){return wm(t,new Lv(e,n),s)},Lf=function(n,t,e){return wm(n,new Ff(t),e)};function wm(n,t,e){const s=n.getPriority().val(),a=Uv(s,t.getImmediateChild(".priority"),e);let d;if(n.isLeafNode()){const g=n,y=Uv(g.getValue(),t,e);return y!==g.getValue()||a!==g.getPriority().val()?new Qu(y,wn(a)):n}{const g=n;return d=g,a!==g.getPriority().val()&&(d=d.updatePriority(new Qu(a))),g.forEachChild(bn,(y,w)=>{const S=wm(w,t.getImmediateChild(y),e);S!==w&&(d=d.updateImmediateChild(y,S))}),d}}class Dm{constructor(t="",e=null,s={children:{},childCount:0}){this.name=t,this.parent=e,this.node=s}}function Gd(n,t){let e=t instanceof fn?t:new fn(t),s=n,a=Mt(e);for(;null!==a;){const d=(0,k.DV)(s.node.children,a)||{children:{},childCount:0};s=new Dm(a,s,d),e=vn(e),a=Mt(e)}return s}function Gl(n){return n.node.value}function Uf(n,t){n.node.value=t,Bf(n)}function Im(n){return n.node.childCount>0}function Vf(n,t){Er(n.node.children,(e,s)=>{t(new Dm(e,n,s))})}function Bv(n,t,e,s){e&&!s&&t(n),Vf(n,a=>{Bv(a,t,!0,s)}),e&&s&&t(n)}function zd(n){return new fn(null===n.parent?n.name:zd(n.parent)+"/"+n.name)}function Bf(n){null!==n.parent&&function uD(n,t,e){const s=function pc(n){return void 0===Gl(n)&&!Im(n)}(e),a=(0,k.r3)(n.node.children,t);s&&a?(delete n.node.children[t],n.node.childCount--,Bf(n)):!s&&!a&&(n.node.children[t]=e.node,n.node.childCount++,Bf(n))}(n.parent,n.name,n)}const Hv=/[\[\].#$\/\u0000-\u001F\u007F]/,Tm=/[\[\].#$\u0000-\u001F\u007F]/,zi=10485760,jf=function(n){return"string"==typeof n&&0!==n.length&&!Hv.test(n)},$v=function(n){return"string"==typeof n&&0!==n.length&&!Tm.test(n)},Xr=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!Qh(n)||n&&"object"==typeof n&&(0,k.r3)(n,".sv")},gr=function(n,t,e,s){s&&void 0===t||gc((0,k.gK)(n,"value"),t,e)},gc=function(n,t,e){const s=e instanceof fn?new Gg(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+Ll(s));if("function"==typeof t)throw new Error(n+"contains a function "+Ll(s)+" with contents = "+t.toString());if(Qh(t))throw new Error(n+"contains "+t.toString()+" "+Ll(s));if("string"==typeof t&&t.length>zi/3&&(0,k.ug)(t)>zi)throw new Error(n+"contains a string greater than "+zi+" utf8 bytes "+Ll(s)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let a=!1,d=!1;if(Er(t,(g,y)=>{if(".value"===g)a=!0;else if(".priority"!==g&&".sv"!==g&&(d=!0,!jf(g)))throw new Error(n+" contains an invalid key ("+g+") "+Ll(s)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function ky(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,k.ug)(t),Fy(n)})(s,g),gc(n,y,s),function mE(n){const t=n.parts_.pop();n.byteLength_-=(0,k.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(s)}),a&&d)throw new Error(n+' contains ".value" child '+Ll(s)+" in addition to actual children.")}},Wv=function(n,t,e,s){if(s&&void 0===t)return;const a=(0,k.gK)(n,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(a+" must be an object containing the children to replace.");const d=[];Er(t,(g,y)=>{const w=new fn(g);if(gc(a,y,kn(e,w)),".priority"===Wg(w)&&!Xr(y))throw new Error(a+"contains an invalid value for '"+w.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");d.push(w)}),function(n,t){let e,s;for(e=0;e<t.length;e++){s=t[e];const d=xr(s);for(let g=0;g<d.length;g++)if((".priority"!==d[g]||g!==d.length-1)&&!jf(d[g]))throw new Error(n+"contains an invalid key ("+d[g]+") in path "+s.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(Oy);let a=null;for(e=0;e<t.length;e++){if(s=t[e],null!==a&&Wi(a,s))throw new Error(n+"contains a path "+a.toString()+" that is ancestor of another path "+s.toString());a=s}}(a,d)},Am=function(n,t,e){if(!e||void 0!==t){if(Qh(t))throw new Error((0,k.gK)(n,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Xr(t))throw new Error((0,k.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},qd=function(n,t,e,s){if(!(s&&void 0===e||jf(e)))throw new Error((0,k.gK)(n,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Yd=function(n,t,e,s){if(!(s&&void 0===e||$v(e)))throw new Error((0,k.gK)(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},jr=function(n,t){if(".info"===Mt(t))throw new Error(n+" failed = Can't modify data under /.info/")},Gv=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!jf(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),$v(n)}(e))throw new Error((0,k.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class zv{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Hf(n,t){let e=null;for(let s=0;s<t.length;s++){const a=t[s],d=a.getPath();null!==e&&!Ny(d,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:d}),e.events.push(a)}e&&n.eventLists_.push(e)}function $f(n,t,e){Hf(n,e),Kd(n,s=>Ny(s,t))}function wi(n,t,e){Hf(n,e),Kd(n,s=>Wi(s,t)||Wi(t,s))}function Kd(n,t){n.recursionDepth_++;let e=!0;for(let s=0;s<n.eventLists_.length;s++){const a=n.eventLists_[s];a&&(t(a.path)?(HE(n.eventLists_[s]),n.eventLists_[s]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function HE(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const s=e.getEventRunner();Rl&&fr("event: "+e.toString()),Br(s)}}}const Mm="repo_interrupt";class xm{constructor(t,e,s,a){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=s,this.appCheckProvider_=a,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new zv,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=kd(),this.transactionQueueTree_=new Dm,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Pm(n){const e=n.infoData_.getNode(new fn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function mc(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:Pm(n)})}function Rm(n,t,e,s,a){n.dataUpdateCount++;const d=new fn(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let g=[];if(a)if(s){const w=(0,k.UI)(e,S=>wn(S));g=function Sv(n,t,e,s){const a=Wd(n,s);if(a){const d=Nf(a),g=d.path,y=d.queryId,w=di(g,t),S=ln.fromObject(e);return kf(n,g,new Ld(Cf(y),w,S))}return[]}(n.serverSyncTree_,d,w,a)}else{const w=wn(e);g=function Em(n,t,e,s){const a=Wd(n,s);if(null!=a){const d=Nf(a),g=d.path,y=d.queryId,w=di(g,t);return kf(n,g,new jl(Cf(y),w,e))}return[]}(n.serverSyncTree_,d,w,a)}else if(s){const w=(0,k.UI)(e,S=>wn(S));g=function Tv(n,t,e){const s=ln.fromObject(e);return Wa(n,new Ld({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,s))}(n.serverSyncTree_,d,w)}else{const w=wn(e);g=$d(n.serverSyncTree_,d,w)}let y=d;g.length>0&&(y=yc(n,d)),wi(n.eventQueue_,y,g)}function Om(n,t){Wf(n,"connected",t),!1===t&&function ZE(n){_c(n,"onDisconnectEvents");const t=mc(n),e=kd();Qy(n.onDisconnect_,Wt(),(a,d)=>{const g=pr(a,d,n.serverSyncTree_,t);ec(e,a,g)});let s=[];Qy(e,Wt(),(a,d)=>{s=s.concat($d(n.serverSyncTree_,a,d));const g=zf(n,a);yc(n,g)}),n.onDisconnect_=kd(),wi(n.eventQueue_,Wt(),s)}(n)}function Wf(n,t,e){const s=new fn("/.info/"+t),a=wn(e);n.infoData_.updateSnapshot(s,a);const d=$d(n.infoSyncTree_,s,a);wi(n.eventQueue_,s,d)}function Qd(n){return n.nextWriteId_++}function Nm(n,t,e,s,a){_c(n,"set",{path:t.toString(),value:e,priority:s});const d=mc(n),g=wn(e,s),y=Zd(n.serverSyncTree_,t),w=Lf(g,y,d),S=Qd(n),H=vm(n.serverSyncTree_,t,w,S,!0);Hf(n.eventQueue_,H),n.server_.put(t.toString(),g.val(!0),(Q,te)=>{const Ie="ok"===Q;Ie||Jr("set at "+t+" failed: "+Q);const at=Qo(n.serverSyncTree_,S,!Ie);wi(n.eventQueue_,t,at),Ga(0,a,Q,te)});const L=zf(n,t);yc(n,L),wi(n.eventQueue_,L,[])}function WE(n,t,e){n.server_.onDisconnectCancel(t.toString(),(s,a)=>{"ok"===s&&im(n.onDisconnect_,t),Ga(0,e,s,a)})}function Qv(n,t,e,s){const a=wn(e);n.server_.onDisconnectPut(t.toString(),a.val(!0),(d,g)=>{"ok"===d&&ec(n.onDisconnect_,t,a),Ga(0,s,d,g)})}function km(n,t,e){let s;s=".info"===Mt(t._path)?Rf(n.infoSyncTree_,t,e):Rf(n.serverSyncTree_,t,e),$f(n.eventQueue_,t._path,s)}function Jv(n){n.persistentConnection_&&n.persistentConnection_.interrupt(Mm)}function _c(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),fr(e,...t)}function Ga(n,t,e,s){t&&Br(()=>{if("ok"===e)t(null);else{const a=(e||"error").toUpperCase();let d=a;s&&(d+=": "+s);const g=new Error(d);g.code=a,t(g)}})}function Fm(n,t,e){return Zd(n.serverSyncTree_,t,e)||It.EMPTY_NODE}function Gf(n,t=n.transactionQueueTree_){if(t||Jd(n,t),Gl(t)){const e=Um(n,t);(0,k.hu)(e.length>0,"Sending zero length transaction queue"),e.every(a=>0===a.status)&&function QE(n,t,e){const s=e.map(S=>S.currentWriteId),a=Fm(n,t,s);let d=a;const g=a.hash();for(let S=0;S<e.length;S++){const H=e[S];(0,k.hu)(0===H.status,"tryToSendTransactionQueue_: items in queue should all be run."),H.status=1,H.retryCount++;const L=di(t,H.path);d=d.updateChild(L,H.currentOutputSnapshotRaw)}const y=d.val(!0),w=t;n.server_.put(w.toString(),y,S=>{_c(n,"transaction put response",{path:w.toString(),status:S});let H=[];if("ok"===S){const L=[];for(let Q=0;Q<e.length;Q++)e[Q].status=2,H=H.concat(Qo(n.serverSyncTree_,e[Q].currentWriteId)),e[Q].onComplete&&L.push(()=>e[Q].onComplete(null,!0,e[Q].currentOutputSnapshotResolved)),e[Q].unwatcher();Jd(n,Gd(n.transactionQueueTree_,t)),Gf(n,n.transactionQueueTree_),wi(n.eventQueue_,t,H);for(let Q=0;Q<L.length;Q++)Br(L[Q])}else{if("datastale"===S)for(let L=0;L<e.length;L++)e[L].status=3===e[L].status?4:0;else{Jr("transaction at "+w.toString()+" failed: "+S);for(let L=0;L<e.length;L++)e[L].status=4,e[L].abortReason=S}yc(n,t)}},g)}(n,zd(t),e)}else Im(t)&&Vf(t,e=>{Gf(n,e)})}function yc(n,t){const e=Lm(n,t),s=zd(e);return function Xv(n,t,e){if(0===t.length)return;const s=[];let a=[];const g=t.filter(y=>0===y.status).map(y=>y.currentWriteId);for(let y=0;y<t.length;y++){const w=t[y],S=di(e,w.path);let L,H=!1;if((0,k.hu)(null!==S,"rerunTransactionsUnderNode_: relativePath should not be null."),4===w.status)H=!0,L=w.abortReason,a=a.concat(Qo(n.serverSyncTree_,w.currentWriteId,!0));else if(0===w.status)if(w.retryCount>=25)H=!0,L="maxretry",a=a.concat(Qo(n.serverSyncTree_,w.currentWriteId,!0));else{const Q=Fm(n,w.path,g);w.currentInputSnapshot=Q;const te=t[y].update(Q.val());if(void 0!==te){gc("transaction failed: Data returned ",te,w.path);let Ie=wn(te);"object"==typeof te&&null!=te&&(0,k.r3)(te,".priority")||(Ie=Ie.updatePriority(Q.getPriority()));const vt=w.currentWriteId,Rt=mc(n),Dn=Lf(Ie,Q,Rt);w.currentOutputSnapshotRaw=Ie,w.currentOutputSnapshotResolved=Dn,w.currentWriteId=Qd(n),g.splice(g.indexOf(vt),1),a=a.concat(vm(n.serverSyncTree_,w.path,Dn,w.currentWriteId,w.applyLocally)),a=a.concat(Qo(n.serverSyncTree_,vt,!0))}else H=!0,L="nodata",a=a.concat(Qo(n.serverSyncTree_,w.currentWriteId,!0))}wi(n.eventQueue_,e,a),a=[],H&&(t[y].status=2,setTimeout(t[y].unwatcher,Math.floor(0)),t[y].onComplete&&s.push("nodata"===L?()=>t[y].onComplete(null,!1,t[y].currentInputSnapshot):()=>t[y].onComplete(new Error(L),!1,null)))}Jd(n,n.transactionQueueTree_);for(let y=0;y<s.length;y++)Br(s[y]);Gf(n,n.transactionQueueTree_)}(n,Um(n,e),s),s}function Lm(n,t){let e,s=n.transactionQueueTree_;for(e=Mt(t);null!==e&&void 0===Gl(s);)s=Gd(s,e),e=Mt(t=vn(t));return s}function Um(n,t){const e=[];return Vm(n,t,e),e.sort((s,a)=>s.order-a.order),e}function Vm(n,t,e){const s=Gl(t);if(s)for(let a=0;a<s.length;a++)e.push(s[a]);Vf(t,a=>{Vm(n,a,e)})}function Jd(n,t){const e=Gl(t);if(e){let s=0;for(let a=0;a<e.length;a++)2!==e[a].status&&(e[s]=e[a],s++);e.length=s,Uf(t,e.length>0?e:void 0)}Vf(t,s=>{Jd(n,s)})}function zf(n,t){const e=zd(Lm(n,t)),s=Gd(n.transactionQueueTree_,t);return function jv(n,t,e){let s=e?n:n.parent;for(;null!==s;){if(t(s))return!0;s=s.parent}}(s,a=>{qf(n,a)}),qf(n,s),Bv(s,a=>{qf(n,a)}),e}function qf(n,t){const e=Gl(t);if(e){const s=[];let a=[],d=-1;for(let g=0;g<e.length;g++)3===e[g].status||(1===e[g].status?((0,k.hu)(d===g-1,"All SENT items should be at beginning of queue."),d=g,e[g].status=3,e[g].abortReason="set"):((0,k.hu)(0===e[g].status,"Unexpected transaction status in abort"),e[g].unwatcher(),a=a.concat(Qo(n.serverSyncTree_,e[g].currentWriteId,!0)),e[g].onComplete&&s.push(e[g].onComplete.bind(null,new Error("set"),!1,null))));-1===d?Uf(t,void 0):e.length=d+1,wi(n.eventQueue_,zd(t),a);for(let g=0;g<s.length;g++)Br(s[g])}}const Yf=function(n,t){const e=n0(n),s=e.namespace;return"firebase.com"===e.domain&&Cs(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!s||"undefined"===s)&&"localhost"!==e.domain&&Cs("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Jr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Og(e.host,e.secure,s,"ws"===e.scheme||"wss"===e.scheme,t,"",s!==e.subdomain),path:new fn(e.pathString)}},n0=function(n){let t="",e="",s="",a="",d="",g=!0,y="https",w=443;if("string"==typeof n){let S=n.indexOf("//");S>=0&&(y=n.substring(0,S-1),n=n.substring(S+2));let H=n.indexOf("/");-1===H&&(H=n.length);let L=n.indexOf("?");-1===L&&(L=n.length),t=n.substring(0,Math.min(H,L)),H<L&&(a=function e0(n){let t="";const e=n.split("/");for(let s=0;s<e.length;s++)if(e[s].length>0){let a=e[s];try{a=decodeURIComponent(a.replace(/\+/g," "))}catch(d){}t+="/"+a}return t}(n.substring(H,L)));const Q=function t0(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const s=e.split("=");2===s.length?t[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):Jr(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,L)));S=t.indexOf(":"),S>=0?(g="https"===y||"wss"===y,w=parseInt(t.substring(S+1),10)):S=t.length;const te=t.slice(0,S);if("localhost"===te.toLowerCase())e="localhost";else if(te.split(".").length<=2)e=te;else{const Ie=t.indexOf(".");s=t.substring(0,Ie).toLowerCase(),e=t.substring(Ie+1),d=s}"ns"in Q&&(d=Q.ns)}return{host:t,port:w,domain:e,subdomain:s,secure:g,scheme:y,pathString:a,namespace:d}};class za{constructor(t,e,s,a){this.eventType=t,this.eventRegistration=e,this.snapshot=s,this.prevName=a}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,k.Pz)(this.snapshot.exportVal())}}class r0{constructor(t,e,s){this.eventRegistration=t,this.error=e,this.path=s}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class s0{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,k.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class zl{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new k.BH;return WE(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){jr("OnDisconnect.remove",this._path);const t=new k.BH;return Qv(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){jr("OnDisconnect.set",this._path),gr("OnDisconnect.set",t,this._path,!1);const e=new k.BH;return Qv(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){jr("OnDisconnect.setWithPriority",this._path),gr("OnDisconnect.setWithPriority",t,this._path,!1),Am("OnDisconnect.setWithPriority",e,!1);const s=new k.BH;return function GE(n,t,e,s,a){const d=wn(e,s);n.server_.onDisconnectPut(t.toString(),d.val(!0),(g,y)=>{"ok"===g&&ec(n.onDisconnect_,t,d),Ga(0,a,g,y)})}(this._repo,this._path,t,e,s.wrapCallback(()=>{})),s.promise}update(t){jr("OnDisconnect.update",this._path),Wv("OnDisconnect.update",t,this._path,!1);const e=new k.BH;return function zE(n,t,e,s){if((0,k.xb)(e))return fr("onDisconnect().update() called with empty data.  Don't do anything."),void Ga(0,s,"ok",void 0);n.server_.onDisconnectMerge(t.toString(),e,(a,d)=>{"ok"===a&&Er(e,(g,y)=>{const w=wn(y);ec(n.onDisconnect_,kn(t,g),w)}),Ga(0,s,a,d)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class Di{constructor(t,e,s,a){this._repo=t,this._path=e,this._queryParams=s,this._orderByCalled=a}get key(){return Ot(this._path)?null:Wg(this._path)}get ref(){return new Ii(this._repo,this._path)}get _queryIdentifier(){const t=Ky(this._queryParams),e=Sg(t);return"{}"===e?"default":e}get _queryObject(){return Ky(this._queryParams)}isEqual(t){if(!((t=(0,k.m9)(t))instanceof Di))return!1;const e=this._repo===t._repo,s=Ny(this._path,t._path);return e&&s&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function gE(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}function vc(n,t){if(!0===n._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function ql(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===io){const s="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",a="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==Cr)throw new Error(s);if("string"!=typeof t)throw new Error(a)}if(n.hasEnd()){if(n.getIndexEndName()!==ro)throw new Error(s);if("string"!=typeof e)throw new Error(a)}}else if(n.getIndex()===bn){if(null!=t&&!Xr(t)||null!=e&&!Xr(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,k.hu)(n.getIndex()instanceof Xg||n.getIndex()===ff,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Xd(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Ii extends Di{constructor(t,e){super(t,e,new mf,!1)}get parent(){const t=Ry(this._path);return null===t?null:new Ii(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class Cc{constructor(t,e,s){this._node=t,this.ref=e,this._index=s}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new fn(t),s=Yl(this.ref,t);return new Cc(this._node.getChild(e),s,bn)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(s,a)=>t(new Cc(a,Yl(this.ref,s),bn)))}hasChild(t){const e=new fn(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function ht(n,t){return(n=(0,k.m9)(n))._checkNotDeleted("ref"),void 0!==t?Yl(n._root,t):n._root}function o0(n,t){(n=(0,k.m9)(n))._checkNotDeleted("refFromURL");const e=Yf(t,n._repo.repoInfo_.nodeAdmin);Gv("refFromURL",e);const s=e.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&s.host!==n._repo.repoInfo_.host&&Cs("refFromURL: Host name does not match the current database: (found "+s.host+" but expected "+n._repo.repoInfo_.host+")"),ht(n,e.path.toString())}function Yl(n,t){return null===Mt((n=(0,k.m9)(n))._path)?(e=t,e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Yd("child","path",e,!1)):Yd("child","path",t,!1),new Ii(n._repo,kn(n._path,t));var e}function Ec(n,t){n=(0,k.m9)(n),jr("set",n._path),gr("set",t,n._path,!1);const e=new k.BH;return Nm(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function dD(n,t){Wv("update",t,n._path,!1);const e=new k.BH;return function $E(n,t,e,s){_c(n,"update",{path:t.toString(),value:e});let a=!0;const d=mc(n),g={};if(Er(e,(y,w)=>{a=!1,g[y]=pr(kn(t,y),wn(w),n.serverSyncTree_,d)}),a)fr("update() called with empty data.  Don't do anything."),Ga(0,s,"ok",void 0);else{const y=Qd(n),w=function Iv(n,t,e,s){!function rc(n,t,e,s){(0,k.hu)(s>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:s,visible:!0}),n.visibleWrites=Bd(n.visibleWrites,t,e),n.lastWriteId=s}(n.pendingWriteTree_,t,e,s);const a=ln.fromObject(e);return Wa(n,new Ld({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,a))}(n.serverSyncTree_,t,g,y);Hf(n.eventQueue_,w),n.server_.merge(t.toString(),e,(S,H)=>{const L="ok"===S;L||Jr("update at "+t+" failed: "+S);const Q=Qo(n.serverSyncTree_,y,!L),te=Q.length>0?yc(n,t):t;wi(n.eventQueue_,te,Q),Ga(0,s,S,H)}),Er(e,S=>{const H=zf(n,kn(t,S));yc(n,H)}),wi(n.eventQueue_,t,[])}}(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}function a0(n){return function Kv(n,t){const e=function xv(n,t){const e=t._path;let s=null;n.syncPointTree_.foreachOnPath(e,(S,H)=>{const L=di(S,e);s=s||Wl(H,L)});let a=n.syncPointTree_.get(e);a?s=s||Wl(a,Wt()):(a=new Cv,n.syncPointTree_=n.syncPointTree_.set(e,a));const d=null!=s,g=d?new Yo(s,!0,!1):null;return function kE(n){return bf(n.viewCache_)}(xf(a,t,Ko(n.pendingWriteTree_,t._path),d?g.getNode():It.EMPTY_NODE,d))}(n.serverSyncTree_,t);return null!=e?Promise.resolve(e):n.server_.get(t).then(s=>{const a=wn(s).withIndex(t._queryParams.getIndex()),d=$d(n.serverSyncTree_,t._path,a);return $f(n.eventQueue_,t._path,d),Promise.resolve(a)},s=>(_c(n,"get for query "+(0,k.Pz)(t)+" failed: "+s),Promise.reject(new Error(s))))}((n=(0,k.m9)(n))._repo,n).then(t=>new Cc(t,new Ii(n._repo,n._path),n._queryParams.getIndex()))}class Jf{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const s=e._queryParams.getIndex();return new za("value",this,new Cc(t.snapshotNode,new Ii(e._repo,e._path),s))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new r0(this,t,e):null}matches(t){return t instanceof Jf&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Xf{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new r0(this,t,e):null}createEvent(t,e){(0,k.hu)(null!=t.childName,"Child events should have a childName.");const s=Yl(new Ii(e._repo,e._path),t.childName),a=e._queryParams.getIndex();return new za(t.type,this,new Cc(t.snapshotNode,s,a),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof Xf&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function bc(n,t,e,s,a){let d;if("object"==typeof s&&(d=void 0,a=s),"function"==typeof s&&(d=s),a&&a.onlyOnce){const w=e,S=(H,L)=>{km(n._repo,n,y),w(H,L)};S.userCallback=e.userCallback,S.context=e.context,e=S}const g=new s0(e,d||void 0),y="value"===t?new Jf(g):new Xf(t,g);return function qE(n,t,e){let s;s=".info"===Mt(t._path)?Mv(n.infoSyncTree_,t,e):Mv(n.serverSyncTree_,t,e),$f(n.eventQueue_,t._path,s)}(n._repo,n,y),()=>km(n._repo,n,y)}function ep(n,t,e,s){return bc(n,"value",t,e,s)}function Bm(n,t,e,s){return bc(n,"child_added",t,e,s)}function jm(n,t,e,s){return bc(n,"child_changed",t,e,s)}function l0(n,t,e,s){return bc(n,"child_moved",t,e,s)}function u0(n,t,e,s){return bc(n,"child_removed",t,e,s)}function c0(n,t,e){let s=null;const a=e?new s0(e):null;"value"===t?s=new Jf(a):t&&(s=new Xf(t,a)),km(n._repo,n,s)}class ei{}class d0 extends ei{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){gr("endAt",this._value,t._path,!0);const e=yf(t._queryParams,this._value,this._key);if(Xd(e),ql(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Di(t._repo,t._path,e,t._orderByCalled)}}class eb extends ei{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){gr("endBefore",this._value,t._path,!1);const e=function DE(n,t,e){let s,a;return n.index_===io?("string"==typeof t&&(t=tm(t)),a=yf(n,t,e)):(s=null==e?Cr:tm(e),a=yf(n,t,s)),a.endBeforeSet_=!0,a}(t._queryParams,this._value,this._key);if(Xd(e),ql(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Di(t._repo,t._path,e,t._orderByCalled)}}class Hm extends ei{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){gr("startAt",this._value,t._path,!0);const e=_f(t._queryParams,this._value,this._key);if(Xd(e),ql(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Di(t._repo,t._path,e,t._orderByCalled)}}class f0 extends ei{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){gr("startAfter",this._value,t._path,!1);const e=function qy(n,t,e){let s;if(n.index_===io)"string"==typeof t&&(t=Gy(t)),s=_f(n,t,e);else{let a;a=null==e?ro:Gy(e),s=_f(n,t,a)}return s.startAfterSet_=!0,s}(t._queryParams,this._value,this._key);if(Xd(e),ql(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Di(t._repo,t._path,e,t._orderByCalled)}}class eh extends ei{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Di(t._repo,t._path,function rm(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class nb extends ei{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Di(t._repo,t._path,function zy(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class ib extends ei{constructor(t){super(),this._path=t}_apply(t){vc(t,"orderByChild");const e=new fn(this._path);if(Ot(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const s=new Xg(e),a=vf(t._queryParams,s);return ql(a),new Di(t._repo,t._path,a,!0)}}class g0 extends ei{_apply(t){vc(t,"orderByKey");const e=vf(t._queryParams,io);return ql(e),new Di(t._repo,t._path,e,!0)}}class sb extends ei{_apply(t){vc(t,"orderByPriority");const e=vf(t._queryParams,bn);return ql(e),new Di(t._repo,t._path,e,!0)}}class ob extends ei{_apply(t){vc(t,"orderByValue");const e=vf(t._queryParams,ff);return ql(e),new Di(t._repo,t._path,e,!0)}}class hD extends ei{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(gr("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new d0(this._value,this._key)._apply(new Hm(this._value,this._key)._apply(t))}}function lo(n,...t){let e=(0,k.m9)(n);for(const s of t)e=s._apply(e);return e}(function Ev(n){(0,k.hu)(!Sf,"__referenceConstructor has already been defined"),Sf=n})(Ii),function _m(n){(0,k.hu)(!Pf,"__referenceConstructor has already been defined"),Pf=n}(Ii);const np={};function y0(n,t,e,s,a){let d=s||n.options.databaseURL;void 0===d&&(n.options.projectId||Cs("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),fr("Using default host for project ",n.options.projectId),d=`${n.options.projectId}-default-rtdb.firebaseio.com`);let w,S,g=Yf(d,a),y=g.repoInfo;"undefined"!=typeof process&&process.env&&(S=process.env.FIREBASE_DATABASE_EMULATOR_HOST),S?(w=!0,d=`http://${S}?ns=${y.namespace}`,g=Yf(d,a),y=g.repoInfo):w=!g.repoInfo.secure;const H=a&&w?new Nl(Nl.OWNER):new Zo(n.name,n.options,t);Gv("Invalid Firebase Database URL",g),Ot(g.path)||Cs("Database URL must point to the root of a Firebase Database (not including a child path).");const L=function rh(n,t,e,s){let a=np[t.name];a||(a={},np[t.name]=a);let d=a[n.toURLString()];return d&&Cs("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),d=new xm(n,false,e,s),a[n.toURLString()]=d,d}(y,n,H,new xg(n.name,e));return new cb(L,n)}class cb{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function Zf(n,t,e){if(n.stats_=Ng(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new Nd(n.repoInfo_,(s,a,d,g)=>{Rm(n,s,a,d,g)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>Om(n,!0),0);else{if(null!=e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,k.Pz)(e)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}n.persistentConnection_=new Go(n.repoInfo_,t,(s,a,d,g)=>{Rm(n,s,a,d,g)},s=>{Om(n,s)},s=>{!function Yv(n,t){Er(t,(e,s)=>{Wf(n,e,s)})}(n,s)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(s=>{n.server_.refreshAuthToken(s)}),n.appCheckProvider_.addTokenChangeListener(s=>{n.server_.refreshAppCheckToken(s.token)}),n.statsReporter_=function qw(n,t){const e=n.toString();return Iy[e]||(Iy[e]=t()),Iy[e]}(n.repoInfo_,()=>new iD(n.stats_,n.server_)),n.infoData_=new nD,n.infoSyncTree_=new VE({startListening:(s,a,d,g)=>{let y=[];const w=n.infoData_.getNode(s._path);return w.isEmpty()||(y=$d(n.infoSyncTree_,s._path,w),setTimeout(()=>{g("ok")},0)),y},stopListening:()=>{}}),Wf(n,"connected",!1),n.serverSyncTree_=new VE({startListening:(s,a,d,g)=>(n.server_.listen(s,d,a,(y,w)=>{const S=g(y,w);wi(n.eventQueue_,s._path,S)}),[]),stopListening:(s,a)=>{n.server_.unlisten(s,a)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ii(this._repo,Wt())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function v0(n,t){const e=np[t];(!e||e[n.key]!==n)&&Cs(`Database ${t}(${n.repoInfo_}) has already been deleted.`),Jv(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&Cs("Cannot call "+t+" on a deleted database.")}}function db(n=(0,$i.getApp)(),t){return(0,$i._getProvider)(n,"database").getImmediate({identifier:t})}function pb(n,t){Ag(n,t)}const wc={".sv":"timestamp"};class _b{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Go.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},Go.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},function gb(n){Ig($i.SDK_VERSION),(0,$i._registerComponent)(new La.wA("database",(t,{instanceIdentifier:e})=>y0(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,$i.registerVersion)(wg,"0.12.8",n),(0,$i.registerVersion)(wg,"0.12.8","esm2017")}();const Cb=new vd.Yd("@firebase/database-compat"),Zm=function(n){Cb.warn("FIREBASE WARNING: "+n)};class bb{constructor(t){this._delegate=t}cancel(t){(0,k.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,k.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),s=>t(s)),e}remove(t){(0,k.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,k.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),s=>t(s)),e}set(t,e){(0,k.Dv)("OnDisconnect.set",1,2,arguments.length),(0,k.Wj)("OnDisconnect.set","onComplete",e,!0);const s=this._delegate.set(t);return e&&s.then(()=>e(null),a=>e(a)),s}setWithPriority(t,e,s){(0,k.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,k.Wj)("OnDisconnect.setWithPriority","onComplete",s,!0);const a=this._delegate.setWithPriority(t,e);return s&&a.then(()=>s(null),d=>s(d)),a}update(t,e){if((0,k.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const a={};for(let d=0;d<t.length;++d)a[""+d]=t[d];t=a,Zm("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,k.Wj)("OnDisconnect.update","onComplete",e,!0);const s=this._delegate.update(t);return e&&s.then(()=>e(null),a=>e(a)),s}}class wb{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,k.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class uo{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,k.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,k.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,k.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,k.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,k.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),Yd("DataSnapshot.child","path",t,!1),new uo(this._database,this._delegate.child(t))}hasChild(t){return(0,k.Dv)("DataSnapshot.hasChild",1,1,arguments.length),Yd("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,k.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,k.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,k.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new uo(this._database,e)))}hasChildren(){return(0,k.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,k.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,k.Dv)("DataSnapshot.ref",0,0,arguments.length),new pi(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Pr{constructor(t,e){this.database=t,this._delegate=e}on(t,e,s,a){var d;(0,k.Dv)("Query.on",2,4,arguments.length),(0,k.Wj)("Query.on","callback",e,!1);const g=Pr.getCancelAndContextArgs_("Query.on",s,a),y=(S,H)=>{e.call(g.context,new uo(this.database,S),H)};y.userCallback=e,y.context=g.context;const w=null===(d=g.cancel)||void 0===d?void 0:d.bind(g.context);switch(t){case"value":return ep(this._delegate,y,w),e;case"child_added":return Bm(this._delegate,y,w),e;case"child_removed":return u0(this._delegate,y,w),e;case"child_changed":return jm(this._delegate,y,w),e;case"child_moved":return l0(this._delegate,y,w),e;default:throw new Error((0,k.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,s){if((0,k.Dv)("Query.off",0,3,arguments.length),function(n,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,k.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,k.Wj)("Query.off","callback",e,!0),(0,k.lb)("Query.off","context",s,!0),e){const a=()=>{};a.userCallback=e,a.context=s,c0(this._delegate,t,a)}else c0(this._delegate,t)}get(){return a0(this._delegate).then(t=>new uo(this.database,t))}once(t,e,s,a){(0,k.Dv)("Query.once",1,4,arguments.length),(0,k.Wj)("Query.once","callback",e,!0);const d=Pr.getCancelAndContextArgs_("Query.once",s,a),g=new k.BH,y=(S,H)=>{const L=new uo(this.database,S);e&&e.call(d.context,L,H),g.resolve(L)};y.userCallback=e,y.context=d.context;const w=S=>{d.cancel&&d.cancel.call(d.context,S),g.reject(S)};switch(t){case"value":ep(this._delegate,y,w,{onlyOnce:!0});break;case"child_added":Bm(this._delegate,y,w,{onlyOnce:!0});break;case"child_removed":u0(this._delegate,y,w,{onlyOnce:!0});break;case"child_changed":jm(this._delegate,y,w,{onlyOnce:!0});break;case"child_moved":l0(this._delegate,y,w,{onlyOnce:!0});break;default:throw new Error((0,k.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return g.promise}limitToFirst(t){return(0,k.Dv)("Query.limitToFirst",1,1,arguments.length),new Pr(this.database,lo(this._delegate,function th(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new eh(n)}(t)))}limitToLast(t){return(0,k.Dv)("Query.limitToLast",1,1,arguments.length),new Pr(this.database,lo(this._delegate,function rb(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new nb(n)}(t)))}orderByChild(t){return(0,k.Dv)("Query.orderByChild",1,1,arguments.length),new Pr(this.database,lo(this._delegate,function p0(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Yd("orderByChild","path",n,!1),new ib(n)}(t)))}orderByKey(){return(0,k.Dv)("Query.orderByKey",0,0,arguments.length),new Pr(this.database,lo(this._delegate,function m0(){return new g0}()))}orderByPriority(){return(0,k.Dv)("Query.orderByPriority",0,0,arguments.length),new Pr(this.database,lo(this._delegate,function _0(){return new sb}()))}orderByValue(){return(0,k.Dv)("Query.orderByValue",0,0,arguments.length),new Pr(this.database,lo(this._delegate,function ab(){return new ob}()))}startAt(t=null,e){return(0,k.Dv)("Query.startAt",0,2,arguments.length),new Pr(this.database,lo(this._delegate,function h0(n=null,t){return qd("startAt","key",t,!0),new Hm(n,t)}(t,e)))}startAfter(t=null,e){return(0,k.Dv)("Query.startAfter",0,2,arguments.length),new Pr(this.database,lo(this._delegate,function tb(n,t){return qd("startAfter","key",t,!0),new f0(n,t)}(t,e)))}endAt(t=null,e){return(0,k.Dv)("Query.endAt",0,2,arguments.length),new Pr(this.database,lo(this._delegate,function XE(n,t){return qd("endAt","key",t,!0),new d0(n,t)}(t,e)))}endBefore(t=null,e){return(0,k.Dv)("Query.endBefore",0,2,arguments.length),new Pr(this.database,lo(this._delegate,function tp(n,t){return qd("endBefore","key",t,!0),new eb(n,t)}(t,e)))}equalTo(t,e){return(0,k.Dv)("Query.equalTo",1,2,arguments.length),new Pr(this.database,lo(this._delegate,function fD(n,t){return qd("equalTo","key",t,!0),new hD(n,t)}(t,e)))}toString(){return(0,k.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,k.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,k.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof Pr))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,s){const a={cancel:void 0,context:void 0};if(e&&s)a.cancel=e,(0,k.Wj)(t,"cancel",a.cancel,!0),a.context=s,(0,k.lb)(t,"context",a.context,!0);else if(e)if("object"==typeof e&&null!==e)a.context=e;else{if("function"!=typeof e)throw new Error((0,k.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");a.cancel=e}return a}get ref(){return new pi(this.database,new Ii(this._delegate._repo,this._delegate._path))}}class pi extends Pr{constructor(t,e){super(t,new Di(e._repo,e._path,new mf,!1)),this.database=t,this._delegate=e}getKey(){return(0,k.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,k.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new pi(this.database,Yl(this._delegate,t))}getParent(){(0,k.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new pi(this.database,t):null}getRoot(){return(0,k.Dv)("Reference.root",0,0,arguments.length),new pi(this.database,this._delegate.root)}set(t,e){(0,k.Dv)("Reference.set",1,2,arguments.length),(0,k.Wj)("Reference.set","onComplete",e,!0);const s=Ec(this._delegate,t);return e&&s.then(()=>e(null),a=>e(a)),s}update(t,e){if((0,k.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const a={};for(let d=0;d<t.length;++d)a[""+d]=t[d];t=a,Zm("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}jr("Reference.update",this._delegate._path),(0,k.Wj)("Reference.update","onComplete",e,!0);const s=dD(this._delegate,t);return e&&s.then(()=>e(null),a=>e(a)),s}setWithPriority(t,e,s){(0,k.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,k.Wj)("Reference.setWithPriority","onComplete",s,!0);const a=function Xn(n,t,e){if(jr("setWithPriority",n._path),gr("setWithPriority",t,n._path,!1),Am("setWithPriority",e,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const s=new k.BH;return Nm(n._repo,n._path,t,e,s.wrapCallback(()=>{})),s.promise}(this._delegate,t,e);return s&&a.then(()=>s(null),d=>s(d)),a}remove(t){(0,k.Dv)("Reference.remove",0,1,arguments.length),(0,k.Wj)("Reference.remove","onComplete",t,!0);const e=function JE(n){return jr("remove",n._path),Ec(n,null)}(this._delegate);return t&&e.then(()=>t(null),s=>t(s)),e}transaction(t,e,s){(0,k.Dv)("Reference.transaction",1,3,arguments.length),(0,k.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,k.Wj)("Reference.transaction","onComplete",e,!0),function(n,t,e,s){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,k.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,s);const a=function b0(n,t,e){var s;if(n=(0,k.m9)(n),jr("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const a=null===(s=null==e?void 0:e.applyLocally)||void 0===s||s,d=new k.BH,y=ep(n,()=>{});return function KE(n,t,e,s,a,d){_c(n,"transaction on "+t);const g={path:t,update:e,onComplete:s,status:null,order:Hu(),applyLocally:d,retryCount:0,unwatcher:a,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},y=Fm(n,t,void 0);g.currentInputSnapshot=y;const w=g.update(y.val());if(void 0===w)g.unwatcher(),g.currentOutputSnapshotRaw=null,g.currentOutputSnapshotResolved=null,g.onComplete&&g.onComplete(null,!1,g.currentInputSnapshot);else{gc("transaction failed: Data returned ",w,g.path),g.status=0;const S=Gd(n.transactionQueueTree_,t),H=Gl(S)||[];let L;H.push(g),Uf(S,H),"object"==typeof w&&null!==w&&(0,k.r3)(w,".priority")?(L=(0,k.DV)(w,".priority"),(0,k.hu)(Xr(L),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):L=(Zd(n.serverSyncTree_,t)||It.EMPTY_NODE).getPriority().val();const Q=mc(n),te=wn(w,L),Ie=Lf(te,y,Q);g.currentOutputSnapshotRaw=te,g.currentOutputSnapshotResolved=Ie,g.currentWriteId=Qd(n);const at=vm(n.serverSyncTree_,t,Ie,g.currentWriteId,g.applyLocally);wi(n.eventQueue_,t,at),Gf(n,n.transactionQueueTree_)}}(n._repo,n._path,t,(w,S,H)=>{let L=null;w?d.reject(w):(L=new Cc(H,new Ii(n._repo,n._path),bn),d.resolve(new _b(S,L)))},y,a),d.promise}(this._delegate,t,{applyLocally:s}).then(d=>new wb(d.committed,new uo(this.database,d.snapshot)));return e&&a.then(d=>e(null,d.committed,d.snapshot),d=>e(d,!1,null)),a}setPriority(t,e){(0,k.Dv)("Reference.setPriority",1,2,arguments.length),(0,k.Wj)("Reference.setPriority","onComplete",e,!0);const s=function Qf(n,t){n=(0,k.m9)(n),jr("setPriority",n._path),Am("setPriority",t,!1);const e=new k.BH;return Nm(n._repo,kn(n._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&s.then(()=>e(null),a=>e(a)),s}push(t,e){(0,k.Dv)("Reference.push",0,2,arguments.length),(0,k.Wj)("Reference.push","onComplete",e,!0);const s=function Kf(n,t){n=(0,k.m9)(n),jr("push",n._path),gr("push",t,n._path,!0);const e=Pm(n._repo),s=bE(e),a=Yl(n,s),d=Yl(n,s);let g;return g=null!=t?Ec(d,t).then(()=>d):Promise.resolve(d),a.then=g.then.bind(g),a.catch=g.then.bind(g,void 0),a}(this._delegate,t),a=s.then(g=>new pi(this.database,g));e&&a.then(()=>e(null),g=>e(g));const d=new pi(this.database,s);return d.then=a.then.bind(a),d.catch=a.catch.bind(a,void 0),d}onDisconnect(){return jr("Reference.onDisconnect",this._delegate._path),new bb(new zl(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class ih{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete()}}useEmulator(t,e,s={}){!function hb(n,t,e,s={}){(n=(0,k.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&Cs("Cannot call useEmulator() after instance has already been initialized.");const a=n._repoInternal;let d;if(a.repoInfo_.nodeAdmin)s.mockUserToken&&Cs('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),d=new Nl(Nl.OWNER);else if(s.mockUserToken){const g="string"==typeof s.mockUserToken?s.mockUserToken:(0,k.Sg)(s.mockUserToken,n.app.options.projectId);d=new Nl(g)}!function lb(n,t,e,s){n.repoInfo_=new Og(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams),s&&(n.authTokenProvider_=s)}(a,t,e,d)}(this._delegate,t,e,s)}ref(t){if((0,k.Dv)("database.ref",0,1,arguments.length),t instanceof pi){const e=o0(this._delegate,t.toString());return new pi(this,e)}{const e=ht(this._delegate,t);return new pi(this,e)}}refFromURL(t){(0,k.Dv)("database.refFromURL",1,1,arguments.length);const s=o0(this._delegate,t);return new pi(this,s)}goOffline(){return(0,k.Dv)("database.goOffline",0,0,arguments.length),function fb(n){(n=(0,k.m9)(n))._checkNotDeleted("goOffline"),Jv(n._repo)}(this._delegate)}goOnline(){return(0,k.Dv)("database.goOnline",0,0,arguments.length),function C0(n){(n=(0,k.m9)(n))._checkNotDeleted("goOnline"),function YE(n){n.persistentConnection_&&n.persistentConnection_.resume(Mm)}(n._repo)}(this._delegate)}}ih.ServerValue={TIMESTAMP:function mb(){return wc}(),increment:n=>function E0(n){return{".sv":{increment:n}}}(n)};var Ib=Object.freeze({__proto__:null,initStandalone:function Db({app:n,url:t,version:e,customAuthImpl:s,namespace:a,nodeAdmin:d=!1}){Ig(e);const g=new La.zt("auth-internal",new La.H0("database-standalone"));return g.setComponent(new La.wA("auth-internal",()=>s,"PRIVATE")),{instance:new ih(y0(n,g,void 0,t,d),n),namespace:a}}});const Tb=ih.ServerValue;!function Ab(n){n.INTERNAL.registerComponent(new La.wA("database-compat",(t,{instanceIdentifier:e})=>{const s=t.getProvider("app-compat").getImmediate(),a=t.getProvider("database").getImmediate({identifier:e});return new ih(a,s)},"PUBLIC").setServiceProps({Reference:pi,Query:Pr,Database:ih,DataSnapshot:uo,enableLogging:pb,INTERNAL:Ib,ServerValue:Tb}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.1.8")}(gy.Z);var qa=O(7579),rp=O(5363),Sb=O(6063);class D0 extends qa.x{constructor(t=1/0,e=1/0,s=Sb.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=s,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:s,_infiniteTimeWindow:a,_timestampProvider:d,_windowTime:g}=this;e||(s.push(t),!a&&s.push(d.now()+g)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:s,_buffer:a}=this,d=a.slice();for(let g=0;g<d.length&&!t.closed;g+=s?1:2)t.next(d[g]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:s,_infiniteTimeWindow:a}=this,d=(a?1:2)*t;if(t<1/0&&d<s.length&&s.splice(0,s.length-d),!a){const g=e.now();let y=0;for(let w=1;w<s.length&&s[w]<=g;w+=2)y=w;y&&s.splice(0,y+1)}}}function Wm(n,t,e){var s,a;let d,g=!1;return n&&"object"==typeof n?(d=null!==(s=n.bufferSize)&&void 0!==s?s:1/0,t=null!==(a=n.windowTime)&&void 0!==a?a:1/0,g=!!n.refCount,e=n.scheduler):d=null!=n?n:1/0,(0,hy.B)({connector:()=>new D0(d,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:g})}const ip=(0,O(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var sh=O(5698);function I0(n){return(0,Sr.e)((t,e)=>{let s=!1;t.subscribe(new $n.Q(e,a=>{s=!0,e.next(a)},()=>{s||e.next(n),e.complete()}))})}function T0(n=xb){return(0,Sr.e)((t,e)=>{let s=!1;t.subscribe(new $n.Q(e,a=>{s=!0,e.next(a)},()=>s?e.complete():e.error(n())))})}function xb(){return new ip}function Jo(n,t){const e=arguments.length>=2;return s=>s.pipe(n?Ei((a,d)=>n(a,d,s)):Fa.y,(0,sh.q)(1),e?I0(t):T0(()=>new ip))}function sp(n,t){return(0,ka.m)(t)?Mr(()=>n,t):Mr(()=>n)}var op=O(9468),Xo=O(5867);class Dc{constructor(t){return t}}class A0{constructor(){return(0,Xo.C6)()}}const ap=new l.OlP("angularfire2._apps"),Rb={provide:Dc,useFactory:function Pb(n){return n&&1===n.length?n[0]:new Dc((0,Xo.Mq)())},deps:[[new l.FiY,ap]]},M0={provide:A0,deps:[[new l.FiY,ap]]};function Ob(n){return(t,e)=>{const s=t.runOutsideAngular(()=>n(e));return new Dc(s)}}let x0=(()=>{class n{constructor(e){(0,Xo.KN)("angularfire",Nn.q4.full,"core"),(0,Xo.KN)("angularfire",Nn.q4.full,"app"),(0,Xo.KN)("angular",l.q4F.full,e.toString())}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.Lbi))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[Rb,M0]}),n})();function mD(n,...t){return{ngModule:x0,providers:[{provide:ap,useFactory:Ob(n),multi:!0,deps:[l.R0b,l.zs3,Nn.HU,...t]}]}}const Ic=(0,Nn.u3)(Xo.ZF,!0),Gm=new Map,Nb={activated:!1,tokenObservers:[]},kb={initialized:!1,enabled:!1};function wr(n){return Gm.get(n)||Nb}function As(n,t){Gm.set(n,t)}function oh(){return kb}class O0{constructor(t,e,s,a,d){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=s,this.lowerBound=a,this.upperBound=d,this.pending=null,this.nextErrorWaitInterval=a,a>d)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,Ho.Z)(function*(){e.stop();try{e.pending=new k.BH,yield function Fb(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new k.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(s){e.retryPolicy(s)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const ti=new k.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function N0(n){if(!wr(n).activated)throw ti.create("use-before-activation",{appName:n.name})}function Ya(n,t){return fp.apply(this,arguments)}function fp(){return(fp=(0,Ho.Z)(function*({url:n,body:t},e){const s={"Content-Type":"application/json"},a=e.getImmediate({optional:!0});if(a){const L=yield a.getHeartbeatsHeader();L&&(s["X-Firebase-Client"]=L)}const d={method:"POST",body:JSON.stringify(t),headers:s};let g,y;try{g=yield fetch(n,d)}catch(L){throw ti.create("fetch-network-error",{originalErrorMessage:L.message})}if(200!==g.status)throw ti.create("fetch-status-error",{httpStatus:g.status});try{y=yield g.json()}catch(L){throw ti.create("fetch-parse-error",{originalErrorMessage:L.message})}const w=y.ttl.match(/^([\d.]+)(s)$/);if(!w||!w[2]||isNaN(Number(w[1])))throw ti.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${y.ttl}`});const S=1e3*Number(w[1]),H=Date.now();return{token:y.token,expireTimeMillis:H+S,issuedAtTimeMillis:H}})).apply(this,arguments)}function k0(n,t){const{projectId:e,appId:s,apiKey:a}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${e}/apps/${s}:exchangeDebugToken?key=${a}`,body:{debug_token:t}}}const Sc="firebase-app-check-store";let lh=null;function pp(){return lh||(lh=new Promise((n,t)=>{try{const e=indexedDB.open("firebase-app-check-database",1);e.onsuccess=s=>{n(s.target.result)},e.onerror=s=>{var a;t(ti.create("storage-open",{originalErrorMessage:null===(a=s.target.error)||void 0===a?void 0:a.message}))},e.onupgradeneeded=s=>{0===s.oldVersion&&s.target.result.createObjectStore(Sc,{keyPath:"compositeKey"})}}catch(e){t(ti.create("storage-open",{originalErrorMessage:e.message}))}}),lh)}function Ym(){return(Ym=(0,Ho.Z)(function*(n,t){const s=(yield pp()).transaction(Sc,"readwrite"),d=s.objectStore(Sc).put({compositeKey:n,value:t});return new Promise((g,y)=>{d.onsuccess=w=>{g()},s.onerror=w=>{var S;y(ti.create("storage-set",{originalErrorMessage:null===(S=w.target.error)||void 0===S?void 0:S.message}))}})})).apply(this,arguments)}const uh=new vd.Yd("@firebase/app-check");function Qm(n,t){return(0,k.hl)()?function F0(n,t){return function L0(n,t){return Ym.apply(this,arguments)}(function V0(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{uh.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function Jm(){return oh().enabled}function Xm(){return e_.apply(this,arguments)}function e_(){return(e_=(0,Ho.Z)(function*(){const n=oh();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const $b={error:"UNKNOWN_ERROR"};function H0(n){return k.US.encodeString(JSON.stringify(n),!1)}function _p(n){return t_.apply(this,arguments)}function t_(){return(t_=(0,Ho.Z)(function*(n,t=!1){const e=n.app;N0(e);const s=wr(e);let d,a=s.token;if(!a){const w=yield s.cachedTokenPromise;w&&Mc(w)&&(a=w)}if(!t&&a&&Mc(a))return{token:a.token};let y,g=!1;if(Jm()){s.exchangeTokenPromise||(s.exchangeTokenPromise=Ya(k0(e,yield Xm()),n.heartbeatServiceProvider).then(S=>(s.exchangeTokenPromise=void 0,S)),g=!0);const w=yield s.exchangeTokenPromise;return yield Qm(e,w),As(e,Object.assign(Object.assign({},s),{token:w})),{token:w.token}}try{s.exchangeTokenPromise||(s.exchangeTokenPromise=s.provider.getToken().then(w=>(s.exchangeTokenPromise=void 0,w)),g=!0),a=yield s.exchangeTokenPromise}catch(w){"appCheck/throttled"===w.code?uh.warn(w.message):uh.error(w),d=w}return a?(y={token:a.token},As(e,Object.assign(Object.assign({},s),{token:a})),yield Qm(e,a)):y=dh(d),g&&$0(e,y),y})).apply(this,arguments)}function n_(n,t){const e=wr(n),s=e.tokenObservers.filter(a=>a.next!==t);0===s.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),As(n,Object.assign(Object.assign({},e),{tokenObservers:s}))}function yp(n){const{app:t}=n,e=wr(t);let s=e.tokenRefresher;s||(s=function co(n){const{app:t}=n;return new O0((0,Ho.Z)(function*(){let s;if(s=wr(t).token?yield _p(n,!0):yield _p(n),s.error)throw s.error}),()=>!0,()=>{const e=wr(t);if(e.token){let s=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return s=Math.min(s,e.token.expireTimeMillis-3e5),Math.max(0,s-Date.now())}return 0},3e4,96e4)}(n),As(t,Object.assign(Object.assign({},e),{tokenRefresher:s}))),!s.isRunning()&&e.isTokenAutoRefreshEnabled&&s.start()}function $0(n,t){const e=wr(n).tokenObservers;for(const s of e)try{"EXTERNAL"===s.type&&null!=t.error?s.error(t.error):s.next(t)}catch(a){}}function Mc(n){return n.expireTimeMillis-Date.now()>0}function dh(n){return{token:H0($b),error:n}}class Zb{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=wr(this.app);for(const e of t)n_(this.app,e.next);return Promise.resolve()}}const l_="app-check-internal";!function Qb(){(0,$i._registerComponent)(new La.wA("app-check",n=>function Wb(n,t){return new Zb(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(l_).initialize()})),(0,$i._registerComponent)(new La.wA(l_,n=>function Gb(n){return{getToken:t=>_p(n,t),addTokenListener:t=>function Kl(n,t,e,s){const{app:a}=n,d=wr(a),g={next:e,error:s,type:t};if(As(a,Object.assign(Object.assign({},d),{tokenObservers:[...d.tokenObservers,g]})),d.token&&Mc(d.token)){const y=d.token;Promise.resolve().then(()=>{e({token:y.token}),yp(n)}).catch(()=>{})}d.cachedTokenPromise.then(()=>yp(n))}(n,"INTERNAL",t),removeTokenListener:t=>n_(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,$i.registerVersion)("@firebase/app-check","0.5.7")}();class Ip{constructor(){return(0,Nn.vb)("app-check")}}"undefined"!=typeof window&&window;var J0=O(127);const hh=new l.OlP("angularfire2.auth.use-emulator"),Sp=new l.OlP("angularfire2.auth.settings"),tw=new l.OlP("angularfire2.auth.tenant-id"),d_=new l.OlP("angularfire2.auth.langugage-code"),eC=new l.OlP("angularfire2.auth.use-device-language"),h_=new l.OlP("angularfire.auth.persistence"),fh=(n,t,e,s,a,d,g,y)=>(0,vs.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const w=t.runOutsideAngular(()=>n.auth());if(e&&w.useEmulator(...e),s&&(w.tenantId=s),w.languageCode=a,d&&w.useDeviceLanguage(),g)for(const[S,H]of Object.entries(g))w.settings[S]=H;return y&&w.setPersistence(y),w},[e,s,a,d,g,y]);let Mp=(()=>{class n{constructor(e,s,a,d,g,y,w,S,H,L,Q,te){const Ie=new qa.x,at=Ye(void 0).pipe((0,rp.Q)(g.outsideAngular),Mr(()=>d.runOutsideAngular(()=>Promise.resolve().then(O.bind(O,5881)))),(0,ft.U)(()=>(0,vs.on)(e,d,s)),(0,ft.U)(vt=>fh(vt,d,y,S,H,L,w,Q)),Wm({bufferSize:1,refCount:!1}));if(function vo(n){return"server"===n}(a))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Ye(null);else{at.pipe(Jo()).subscribe();const Rt=at.pipe(Mr(nn=>nn.getRedirectResult().then(qi=>qi,()=>null)),Nn.iC,Wm({bufferSize:1,refCount:!1})),Dn=at.pipe(Mr(nn=>new Jt.y(qi=>({unsubscribe:d.runOutsideAngular(()=>nn.onAuthStateChanged(Dh=>qi.next(Dh),Dh=>qi.error(Dh),()=>qi.complete()))})))),Wn=at.pipe(Mr(nn=>new Jt.y(qi=>({unsubscribe:d.runOutsideAngular(()=>nn.onIdTokenChanged(Dh=>qi.next(Dh),Dh=>qi.error(Dh),()=>qi.complete()))}))));this.authState=Rt.pipe(sp(Dn),(0,op.R)(g.outsideAngular),(0,rp.Q)(g.insideAngular)),this.user=Rt.pipe(sp(Wn),(0,op.R)(g.outsideAngular),(0,rp.Q)(g.insideAngular)),this.idToken=this.user.pipe(Mr(nn=>nn?(0,Hn.D)(nn.getIdToken()):Ye(null))),this.idTokenResult=this.user.pipe(Mr(nn=>nn?(0,Hn.D)(nn.getIdTokenResult()):Ye(null))),this.credential=(0,Eg.T)(Rt,Ie,this.authState.pipe(Ei(nn=>!nn))).pipe((0,ft.U)(nn=>(null==nn?void 0:nn.user)?nn:null),(0,op.R)(g.outsideAngular),(0,rp.Q)(g.insideAngular))}return(0,vs.pX)(this,at,d,{spy:{apply:(vt,Rt,Dn)=>{(vt.startsWith("signIn")||vt.startsWith("createUser"))&&Dn.then(Wn=>Ie.next(Wn))}}})}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(vs.Dh),l.LFG(vs.xv,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(Nn.HU),l.LFG(hh,8),l.LFG(Sp,8),l.LFG(tw,8),l.LFG(d_,8),l.LFG(eC,8),l.LFG(h_,8),l.LFG(Ip,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function nw(n){return null==n}function tC(n){return"function"==typeof n.set}function nC(n,t){return tC(t)?t:n.ref(t)}function g_(n,t){if(function f_(n){return"string"==typeof n}(n))return t.stringCase();if(tC(n))return t.firebaseCase();if(function p_(n){return"function"==typeof n.exportVal}(n))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function Rc(n,t,e="on",s=zC.z){return new Jt.y(a=>{let d=null;return d=n[e](t,(g,y)=>{s.schedule(()=>{a.next({snapshot:g,prevKey:y})}),"once"===e&&s.schedule(()=>a.complete())},g=>{s.schedule(()=>a.error(g))}),"on"===e?{unsubscribe(){null!=d&&n.off(t,d)}}:{unsubscribe(){}}}).pipe((0,ft.U)(a=>{const{snapshot:d,prevKey:g}=a;let y=null;return d.exists()&&(y=d.key),{type:t,payload:d,prevKey:g,key:y}}),(0,hy.B)())}function m_(n,t){const e=n.length;for(let s=0;s<e;s++)if(n[s].payload.key===t)return s;return-1}function iw(n,t){const{payload:e,prevKey:s,key:a}=t,d=m_(n,a),g=function rC(n,t){if(nw(t))return 0;{const e=m_(n,t);return-1===e?n.length:e+1}}(n,s);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let y=null;t.payload.forEach(w=>{const S={payload:w,type:"value",prevKey:y,key:w.key};return y=w.key,n=[...n,S],!1})}return n;case"child_added":if(d>-1){const y=n[d-1];(y&&y.key||null)!==s&&(n=n.filter(w=>w.payload.key!==e.key)).splice(g,0,t)}else{if(null==s)return[t,...n];(n=n.slice()).splice(g,0,t)}return n;case"child_removed":return n.filter(y=>y.payload.key!==e.key);case"child_changed":return n.map(y=>y.payload.key===a?t:y);case"child_moved":if(d>-1){const y=n.splice(d,1)[0];return(n=n.slice()).splice(g,0,y),n}return n;default:return n}}function iC(n){return(nw(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function __(n,t,e){return function rw(n,t,e){return Rc(n,"value","once",e).pipe(Mr(s=>{const a=[Ye(s)];return t.forEach(d=>a.push(Rc(n,d,"on",e))),(0,Eg.T)(...a).pipe(yd(iw,[]))}),function fy(n,t=Fa.y){return n=null!=n?n:bg,(0,Sr.e)((e,s)=>{let a,d=!0;e.subscribe(new $n.Q(s,g=>{const y=t(g);(d||!n(a,y))&&(d=!1,a=y,s.next(g))}))})}())}(n,t=iC(t),e)}function sC(n,t,e){const s=(t=iC(t)).map(a=>Rc(n,a,"on",e));return(0,Eg.T)(...s)}function y_(n,t){return function(s,a){return g_(s,{stringCase:()=>n.child(s)[t](a),firebaseCase:()=>s[t](a),snapshotCase:()=>s.ref[t](a)})}}function sw(n){return function(e){return e?g_(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}}function aw(n,t){return function(){return Rc(n,"value","on",t)}}const OD=new l.OlP("angularfire2.realtimeDatabaseURL"),ND=new l.OlP("angularfire2.database.use-emulator");let cC=(()=>{class n{constructor(e,s,a,d,g,y,w,S,H,L,Q,te,Ie,at,vt){this.schedulers=y;const Rt=w,Dn=(0,vs.on)(e,g,s);S&&fh(Dn,g,H,Q,te,Ie,L,at),this.database=(0,vs.cc)(`${Dn.name}.database.${a}`,"AngularFireDatabase",Dn.name,()=>{const Wn=g.runOutsideAngular(()=>Dn.database(a||void 0));return Rt&&Wn.useEmulator(...Rt),Wn},[Rt])}list(e,s){const a=this.schedulers.ngZone.runOutsideAngular(()=>nC(this.database,e));let d=a;return s&&(d=s(a)),function ow(n,t){const e=t.schedulers.outsideAngular,s=t.schedulers.ngZone.run(()=>n.ref);return{query:n,update:y_(s,"update"),set:y_(s,"set"),push:a=>s.push(a),remove:sw(s),snapshotChanges:a=>__(n,a,e).pipe(Nn.iC),stateChanges:a=>sC(n,a,e).pipe(Nn.iC),auditTrail:a=>function oC(n,t,e){return function lC(n,t,e){return function aC(n,t){return Rc(n,"value","on",t).pipe((0,ft.U)(e=>{let s;return e.payload.forEach(a=>(s=a.key,!1)),{data:e,lastKeyToLoad:s}}))}(n,e).pipe(function KC(...n){const t=(0,yi.jO)(n);return(0,Sr.e)((e,s)=>{const a=n.length,d=new Array(a);let g=n.map(()=>!1),y=!1;for(let w=0;w<a;w++)(0,ki.Xf)(n[w]).subscribe(new $n.Q(s,S=>{d[w]=S,!y&&!g[w]&&(g[w]=!0,(y=g.every(Fa.y))&&(g=null))},YC.Z));e.subscribe(new $n.Q(s,w=>{if(y){const S=[w,...d];s.next(t?t(...S):S)}}))})}(t),(0,ft.U)(([a,d])=>{const g=a.lastKeyToLoad,y=d.map(w=>w.key);return{actions:d,lastKeyToLoad:g,loadedKeys:y}}),function py(n){return(0,Sr.e)((t,e)=>{let s=!1,a=0;t.subscribe(new $n.Q(e,d=>(s||(s=!n(d,a++)))&&e.next(d)))})}(a=>-1===a.loadedKeys.indexOf(a.lastKeyToLoad)),(0,ft.U)(a=>a.actions))}(n,sC(n,t).pipe(yd((a,d)=>[...a,d],[])),e)}(n,a,e).pipe(Nn.iC),valueChanges:(a,d)=>__(n,a,e).pipe((0,ft.U)(y=>y.map(w=>d&&d.idField?Object.assign(Object.assign({},w.payload.val()),{[d.idField]:w.key}):w.payload.val())),Nn.iC)}}(d,this)}object(e){return function uC(n,t){return{query:n,snapshotChanges:()=>aw(n,t.schedulers.outsideAngular)().pipe(Nn.iC),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>aw(n,t.schedulers.outsideAngular)().pipe(Nn.iC,(0,ft.U)(s=>s.payload.exists()?s.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>nC(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(vs.Dh),l.LFG(vs.xv,8),l.LFG(OD,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(Nn.HU),l.LFG(ND,8),l.LFG(Mp,8),l.LFG(hh,8),l.LFG(Sp,8),l.LFG(tw,8),l.LFG(d_,8),l.LFG(eC,8),l.LFG(h_,8),l.LFG(Ip,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),kD=(()=>{class n{constructor(){J0.Z.registerVersion("angularfire",Nn.q4.full,"rtdb-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[cC]}),n})();var Ti=O(8505),FD=O(9414);class ho extends qa.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:s}=this;if(t)throw e;return this._throwIfClosed(),s}next(t){super.next(this._value=t)}}var LD=O(9672);function Pp(n,t,e){n?(0,LD.f)(e,n,t):t()}var ea=O(8189);function v_(...n){return function dC(){return(0,ea.J)(1)}()((0,Hn.D)(n,(0,yi.yG)(n)))}function hC(n){return new Jt.y(t=>{(0,ki.Xf)(n()).subscribe(t)})}var Ka=O(515),C_=O(727);function E_(){return(0,Sr.e)((n,t)=>{let e=null;n._refCount++;const s=new $n.Q(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const a=n._connection,d=e;e=null,a&&(!d||a===d)&&a.unsubscribe(),t.unsubscribe()});n.subscribe(s),s.closed||(e=n.connect())})}class fC extends Jt.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,Sr.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,null==t||t.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new C_.w0;const e=this.getSubject();t.add(this.source.subscribe(new $n.Q(e,void 0,()=>{this._teardown(),e.complete()},s=>{this._teardown(),e.error(s)},()=>this._teardown()))),t.closed&&(this._connection=null,t=C_.w0.EMPTY)}return t}refCount(){return E_()(this)}}function ta(n){return(0,Sr.e)((t,e)=>{let d,s=null,a=!1;s=t.subscribe(new $n.Q(e,void 0,void 0,g=>{d=(0,ki.Xf)(n(g,ta(n)(t))),s?(s.unsubscribe(),s=null,d.subscribe(e)):a=!0})),a&&(s.unsubscribe(),s=null,d.subscribe(e))})}function Oc(n){return n<=0?()=>Ka.E:(0,Sr.e)((t,e)=>{let s=[];t.subscribe(new $n.Q(e,a=>{s.push(a),n<s.length&&s.shift()},()=>{for(const a of s)e.next(a);e.complete()},void 0,()=>{s=null}))})}class Qa{constructor(t,e){this.id=t,this.url=e}}class gC extends Qa{constructor(t,e,s="imperative",a=null){super(t,e),this.navigationTrigger=s,this.restoredState=a}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ph extends Qa{constructor(t,e,s){super(t,e),this.urlAfterRedirects=s}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Rp extends Qa{constructor(t,e,s){super(t,e),this.reason=s}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class lw extends Qa{constructor(t,e,s){super(t,e),this.error=s}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class jD extends Qa{constructor(t,e,s,a){super(t,e),this.urlAfterRedirects=s,this.state=a}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class uw extends Qa{constructor(t,e,s,a){super(t,e),this.urlAfterRedirects=s,this.state=a}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class b_ extends Qa{constructor(t,e,s,a,d){super(t,e),this.urlAfterRedirects=s,this.state=a,this.shouldActivate=d}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class cw extends Qa{constructor(t,e,s,a){super(t,e),this.urlAfterRedirects=s,this.state=a}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ai extends Qa{constructor(t,e,s,a){super(t,e),this.urlAfterRedirects=s,this.state=a}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mC{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Op{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class dw{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hw{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class w_{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _C{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class D_{constructor(t,e,s){this.routerEvent=t,this.position=e,this.anchor=s}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const kt="primary";class yC{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Ql(n){return new yC(n)}const vC="ngNavigationCancelingError";function I_(n){const t=Error("NavigationCancelingError: "+n);return t[vC]=!0,t}function Ss(n,t,e){const s=e.path.split("/");if(s.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||s.length<n.length))return null;const a={};for(let d=0;d<s.length;d++){const g=s[d],y=n[d];if(g.startsWith(":"))a[g.substring(1)]=y;else if(g!==y.path)return null}return{consumed:n.slice(0,s.length),posParams:a}}function na(n,t){const e=n?Object.keys(n):void 0,s=t?Object.keys(t):void 0;if(!e||!s||e.length!=s.length)return!1;let a;for(let d=0;d<e.length;d++)if(a=e[d],!CC(n[a],t[a]))return!1;return!0}function CC(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),s=[...t].sort();return e.every((a,d)=>s[d]===a)}return n===t}function A_(n){return Array.prototype.concat.apply([],n)}function EC(n){return n.length>0?n[n.length-1]:null}function Dr(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function fo(n){return(0,l.CqO)(n)?n:(0,l.QGY)(n)?(0,Hn.D)(Promise.resolve(n)):Ye(n)}const bC={exact:function M_(n,t,e){if(!Nc(n.segments,t.segments)||!kp(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const s in t.children)if(!n.children[s]||!M_(n.children[s],t.children[s],e))return!1;return!0},subset:Np},S_={exact:function pw(n,t){return na(n,t)},subset:function gh(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>CC(n[e],t[e]))},ignored:()=>!0};function wC(n,t,e){return bC[e.paths](n.root,t.root,e.matrixParams)&&S_[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function Np(n,t,e){return x_(n,t,t.segments,e)}function x_(n,t,e,s){if(n.segments.length>e.length){const a=n.segments.slice(0,e.length);return!(!Nc(a,e)||t.hasChildren()||!kp(a,e,s))}if(n.segments.length===e.length){if(!Nc(n.segments,e)||!kp(n.segments,e,s))return!1;for(const a in t.children)if(!n.children[a]||!Np(n.children[a],t.children[a],s))return!1;return!0}{const a=e.slice(0,n.segments.length),d=e.slice(n.segments.length);return!!(Nc(n.segments,a)&&kp(n.segments,a,s)&&n.children[kt])&&x_(n.children[kt],t,d,s)}}function kp(n,t,e){return t.every((s,a)=>S_[e](n[a].parameters,s.parameters))}class Ja{constructor(t,e,s){this.root=t,this.queryParams=e,this.fragment=s}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ql(this.queryParams)),this._queryParamMap}toString(){return mw.serialize(this)}}class Ft{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Dr(e,(s,a)=>s.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Fp(this)}}class mh{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Ql(this.parameters)),this._parameterMap}toString(){return TC(this)}}function Nc(n,t){return n.length===t.length&&n.every((e,s)=>e.path===t[s].path)}class P_{}class DC{parse(t){const e=new F_(t);return new Ja(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${Lp(t.root,!0)}`,s=function AC(n){const t=Object.keys(n).map(e=>{const s=n[e];return Array.isArray(s)?s.map(a=>`${R_(e)}=${R_(a)}`).join("&"):`${R_(e)}=${R_(s)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${s}${"string"==typeof t.fragment?`#${function WD(n){return encodeURI(n)}(t.fragment)}`:""}`}}const mw=new DC;function Fp(n){return n.segments.map(t=>TC(t)).join("/")}function Lp(n,t){if(!n.hasChildren())return Fp(n);if(t){const e=n.children[kt]?Lp(n.children[kt],!1):"",s=[];return Dr(n.children,(a,d)=>{d!==kt&&s.push(`${d}:${Lp(a,!1)}`)}),s.length>0?`${e}(${s.join("//")})`:e}{const e=function ZD(n,t){let e=[];return Dr(n.children,(s,a)=>{a===kt&&(e=e.concat(t(s,a)))}),Dr(n.children,(s,a)=>{a!==kt&&(e=e.concat(t(s,a)))}),e}(n,(s,a)=>a===kt?[Lp(n.children[kt],!1)]:[`${a}:${Lp(s,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[kt]?`${Fp(n)}/${e[0]}`:`${Fp(n)}/(${e.join("//")})`}}function _w(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function R_(n){return _w(n).replace(/%3B/gi,";")}function IC(n){return _w(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Up(n){return decodeURIComponent(n)}function _h(n){return Up(n.replace(/\+/g,"%20"))}function TC(n){return`${IC(n.path)}${function yw(n){return Object.keys(n).map(t=>`;${IC(t)}=${IC(n[t])}`).join("")}(n.parameters)}`}const Jl=/^[^\/()?;=#]+/;function yh(n){const t=n.match(Jl);return t?t[0]:""}const O_=/^[^=?&#]+/,vw=/^[^&#]+/;class F_{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ft([],{}):new Ft([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let s={};return this.peekStartsWith("(")&&(s=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(s[kt]=new Ft(t,e)),s}parseSegment(){const t=yh(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new mh(Up(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=yh(this.remaining);if(!e)return;this.capture(e);let s="";if(this.consumeOptional("=")){const a=yh(this.remaining);a&&(s=a,this.capture(s))}t[Up(e)]=Up(s)}parseQueryParam(t){const e=function N_(n){const t=n.match(O_);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let s="";if(this.consumeOptional("=")){const g=function k_(n){const t=n.match(vw);return t?t[0]:""}(this.remaining);g&&(s=g,this.capture(s))}const a=_h(e),d=_h(s);if(t.hasOwnProperty(a)){let g=t[a];Array.isArray(g)||(g=[g],t[a]=g),g.push(d)}else t[a]=d}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const s=yh(this.remaining),a=this.remaining[s.length];if("/"!==a&&")"!==a&&";"!==a)throw new Error(`Cannot parse url '${this.url}'`);let d;s.indexOf(":")>-1?(d=s.substr(0,s.indexOf(":")),this.capture(d),this.capture(":")):t&&(d=kt);const g=this.parseChildren();e[d]=1===Object.keys(g).length?g[kt]:new Ft([],g),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class L_{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Vp(t,this._root);return e?e.children.map(s=>s.value):[]}firstChild(t){const e=Vp(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=SC(t,this._root);return e.length<2?[]:e[e.length-2].children.map(a=>a.value).filter(a=>a!==t)}pathFromRoot(t){return SC(t,this._root).map(e=>e.value)}}function Vp(n,t){if(n===t.value)return t;for(const e of t.children){const s=Vp(n,e);if(s)return s}return null}function SC(n,t){if(n===t.value)return[t];for(const e of t.children){const s=SC(n,e);if(s.length)return s.unshift(t),s}return[]}class Xa{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function vh(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class Cw extends L_{constructor(t,e){super(t),this.snapshot=e,V_(this,t)}toString(){return this.snapshot.toString()}}function Ew(n,t){const e=function GD(n,t){const g=new Bp([],{},{},"",{},kt,t,null,n.root,-1,{});return new MC("",new Xa(g,[]))}(n,t),s=new ho([new mh("",{})]),a=new ho({}),d=new ho({}),g=new ho({}),y=new ho(""),w=new Ch(s,a,g,y,d,kt,t,e.root);return w.snapshot=e.root,new Cw(new Xa(w,[]),e)}class Ch{constructor(t,e,s,a,d,g,y,w){this.url=t,this.params=e,this.queryParams=s,this.fragment=a,this.data=d,this.outlet=g,this.component=y,this._futureSnapshot=w}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ft.U)(t=>Ql(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ft.U)(t=>Ql(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function U_(n,t="emptyOnly"){const e=n.pathFromRoot;let s=0;if("always"!==t)for(s=e.length-1;s>=1;){const a=e[s],d=e[s-1];if(a.routeConfig&&""===a.routeConfig.path)s--;else{if(d.component)break;s--}}return function bw(n){return n.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(s))}class Bp{constructor(t,e,s,a,d,g,y,w,S,H,L){this.url=t,this.params=e,this.queryParams=s,this.fragment=a,this.data=d,this.outlet=g,this.component=y,this.routeConfig=w,this._urlSegment=S,this._lastPathIndex=H,this._resolve=L}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ql(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ql(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(s=>s.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class MC extends L_{constructor(t,e){super(e),this.url=t,V_(this,e)}toString(){return B_(this._root)}}function V_(n,t){t.value._routerState=n,t.children.forEach(e=>V_(n,e))}function B_(n){const t=n.children.length>0?` { ${n.children.map(B_).join(", ")} } `:"";return`${n.value}${t}`}function jp(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,na(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),na(t.params,e.params)||n.params.next(e.params),function fw(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!na(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),na(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Hp(n,t){const e=na(n.params,t.params)&&function gw(n,t){return Nc(n,t)&&n.every((e,s)=>na(e.parameters,t[s].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||Hp(n.parent,t.parent))}function Eh(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const s=e.value;s._futureSnapshot=t.value;const a=function xC(n,t,e){return t.children.map(s=>{for(const a of e.children)if(n.shouldReuseRoute(s.value,a.value.snapshot))return Eh(n,s,a);return Eh(n,s)})}(n,t,e);return new Xa(s,a)}{if(n.shouldAttach(t.value)){const d=n.retrieve(t.value);if(null!==d){const g=d.route;return g.value._futureSnapshot=t.value,g.children=t.children.map(y=>Eh(n,y)),g}}const s=function $p(n){return new Ch(new ho(n.url),new ho(n.params),new ho(n.queryParams),new ho(n.fragment),new ho(n.data),n.outlet,n.component,n)}(t.value),a=t.children.map(d=>Eh(n,d));return new Xa(s,a)}}function bh(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function el(n){return"object"==typeof n&&null!=n&&n.outlets}function j_(n,t,e,s,a){let d={};return s&&Dr(s,(g,y)=>{d[y]=Array.isArray(g)?g.map(w=>`${w}`):`${g}`}),new Ja(e.root===n?t:PC(e.root,n,t),d,a)}function PC(n,t,e){const s={};return Dr(n.children,(a,d)=>{s[d]=a===t?e:PC(a,t,e)}),new Ft(n.segments,s)}class RC{constructor(t,e,s){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=s,t&&s.length>0&&bh(s[0]))throw new Error("Root segment cannot have matrix parameters");const a=s.find(el);if(a&&a!==EC(s))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class OC{constructor(t,e,s){this.segmentGroup=t,this.processChildren=e,this.index=s}}function NC(n,t,e){if(n||(n=new Ft([],{})),0===n.segments.length&&n.hasChildren())return Zp(n,t,e);const s=function Sw(n,t,e){let s=0,a=t;const d={match:!1,pathIndex:0,commandIndex:0};for(;a<n.segments.length;){if(s>=e.length)return d;const g=n.segments[a],y=e[s];if(el(y))break;const w=`${y}`,S=s<e.length-1?e[s+1]:null;if(a>0&&void 0===w)break;if(w&&S&&"object"==typeof S&&void 0===S.outlets){if(!Pw(w,S,g))return d;s+=2}else{if(!Pw(w,{},g))return d;s++}a++}return{match:!0,pathIndex:a,commandIndex:s}}(n,t,e),a=e.slice(s.commandIndex);if(s.match&&s.pathIndex<n.segments.length){const d=new Ft(n.segments.slice(0,s.pathIndex),{});return d.children[kt]=new Ft(n.segments.slice(s.pathIndex),n.children),Zp(d,0,a)}return s.match&&0===a.length?new Ft(n.segments,{}):s.match&&!n.hasChildren()?H_(n,t,e):s.match?Zp(n,0,a):H_(n,t,e)}function Zp(n,t,e){if(0===e.length)return new Ft(n.segments,{});{const s=function Aw(n){return el(n[0])?n[0].outlets:{[kt]:n}}(e),a={};return Dr(s,(d,g)=>{"string"==typeof d&&(d=[d]),null!==d&&(a[g]=NC(n.children[g],t,d))}),Dr(n.children,(d,g)=>{void 0===s[g]&&(a[g]=d)}),new Ft(n.segments,a)}}function H_(n,t,e){const s=n.segments.slice(0,t);let a=0;for(;a<e.length;){const d=e[a];if(el(d)){const w=Mw(d.outlets);return new Ft(s,w)}if(0===a&&bh(e[0])){s.push(new mh(n.segments[t].path,xw(e[0]))),a++;continue}const g=el(d)?d.outlets[kt]:`${d}`,y=a<e.length-1?e[a+1]:null;g&&y&&bh(y)?(s.push(new mh(g,xw(y))),a+=2):(s.push(new mh(g,{})),a++)}return new Ft(s,{})}function Mw(n){const t={};return Dr(n,(e,s)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[s]=H_(new Ft([],{}),0,e))}),t}function xw(n){const t={};return Dr(n,(e,s)=>t[s]=`${e}`),t}function Pw(n,t,e){return n==e.path&&na(t,e.parameters)}class YD{constructor(t,e,s,a){this.routeReuseStrategy=t,this.futureState=e,this.currState=s,this.forwardEvent=a}activate(t){const e=this.futureState._root,s=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,s,t),jp(this.futureState.root),this.activateChildRoutes(e,s,t)}deactivateChildRoutes(t,e,s){const a=vh(e);t.children.forEach(d=>{const g=d.value.outlet;this.deactivateRoutes(d,a[g],s),delete a[g]}),Dr(a,(d,g)=>{this.deactivateRouteAndItsChildren(d,s)})}deactivateRoutes(t,e,s){const a=t.value,d=e?e.value:null;if(a===d)if(a.component){const g=s.getContext(a.outlet);g&&this.deactivateChildRoutes(t,e,g.children)}else this.deactivateChildRoutes(t,e,s);else d&&this.deactivateRouteAndItsChildren(e,s)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const s=e.getContext(t.value.outlet),a=s&&t.value.component?s.children:e,d=vh(t);for(const g of Object.keys(d))this.deactivateRouteAndItsChildren(d[g],a);if(s&&s.outlet){const g=s.outlet.detach(),y=s.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:g,route:t,contexts:y})}}deactivateRouteAndOutlet(t,e){const s=e.getContext(t.value.outlet),a=s&&t.value.component?s.children:e,d=vh(t);for(const g of Object.keys(d))this.deactivateRouteAndItsChildren(d[g],a);s&&s.outlet&&(s.outlet.deactivate(),s.children.onOutletDeactivated(),s.attachRef=null,s.resolver=null,s.route=null)}activateChildRoutes(t,e,s){const a=vh(e);t.children.forEach(d=>{this.activateRoutes(d,a[d.value.outlet],s),this.forwardEvent(new _C(d.value.snapshot))}),t.children.length&&this.forwardEvent(new hw(t.value.snapshot))}activateRoutes(t,e,s){const a=t.value,d=e?e.value:null;if(jp(a),a===d)if(a.component){const g=s.getOrCreateContext(a.outlet);this.activateChildRoutes(t,e,g.children)}else this.activateChildRoutes(t,e,s);else if(a.component){const g=s.getOrCreateContext(a.outlet);if(this.routeReuseStrategy.shouldAttach(a.snapshot)){const y=this.routeReuseStrategy.retrieve(a.snapshot);this.routeReuseStrategy.store(a.snapshot,null),g.children.onOutletReAttached(y.contexts),g.attachRef=y.componentRef,g.route=y.route.value,g.outlet&&g.outlet.attach(y.componentRef,y.route.value),jp(y.route.value),this.activateChildRoutes(t,null,g.children)}else{const y=function KD(n){for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(a.snapshot),w=y?y.module.componentFactoryResolver:null;g.attachRef=null,g.route=a,g.resolver=w,g.outlet&&g.outlet.activateWith(a,w),this.activateChildRoutes(t,null,g.children)}}else this.activateChildRoutes(t,null,s)}}class $_{constructor(t,e){this.routes=t,this.module=e}}function Xl(n){return"function"==typeof n}function kc(n){return n instanceof Ja}const u=Symbol("INITIAL_VALUE");function c(){return Mr(n=>function xp(...n){const t=(0,yi.yG)(n),e=(0,yi.jO)(n),{args:s,keys:a}=Yc(n);if(0===s.length)return(0,Hn.D)([],t);const d=new Jt.y(function UD(n,t,e=Fa.y){return s=>{Pp(t,()=>{const{length:a}=n,d=new Array(a);let g=a,y=a;for(let w=0;w<a;w++)Pp(t,()=>{const S=(0,Hn.D)(n[w],t);let H=!1;S.subscribe(new $n.Q(s,L=>{d[w]=L,H||(H=!0,y--),y||s.next(e(d.slice()))},()=>{--g||s.complete()}))},s)},s)}}(s,t,a?g=>zs(a,g):Fa.y));return e?d.pipe(gu(e)):d}(n.map(t=>t.pipe((0,sh.q)(1),function VD(...n){const t=(0,yi.yG)(n);return(0,Sr.e)((e,s)=>{(t?v_(n,e,t):v_(n,e)).subscribe(s)})}(u)))).pipe(yd((t,e)=>{let s=!1;return e.reduce((a,d,g)=>a!==u?a:(d===u&&(s=!0),s||!1!==d&&g!==e.length-1&&!kc(d)?a:d),t)},u),Ei(t=>t!==u),(0,ft.U)(t=>kc(t)?t:!0===t),(0,sh.q)(1)))}class f{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new _,this.attachRef=null}}class _{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const s=this.getOrCreateContext(t);s.outlet=e,this.contexts.set(t,s)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new f,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}let C=(()=>{class n{constructor(e,s,a,d,g){this.parentContexts=e,this.location=s,this.resolver=a,this.changeDetector=g,this.activated=null,this._activatedRoute=null,this.activateEvents=new l.vpe,this.deactivateEvents=new l.vpe,this.attachEvents=new l.vpe,this.detachEvents=new l.vpe,this.name=d||kt,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,s){this.activated=e,this._activatedRoute=s,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,s){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const g=(s=s||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),y=this.parentContexts.getOrCreateContext(this.name).children,w=new E(e,y,this.location.injector);this.activated=this.location.createComponent(g,this.location.length,w),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(_),l.Y36(l.s_b),l.Y36(l._Vd),l.$8M("name"),l.Y36(l.sBO))},n.\u0275dir=l.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class E{constructor(t,e,s){this.route=t,this.childContexts=e,this.parent=s}get(t,e){return t===Ch?this.route:t===_?this.childContexts:this.parent.get(t,e)}}let I=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,s){1&e&&l._UZ(0,"router-outlet")},directives:[C],encapsulation:2}),n})();function A(n,t=""){for(let e=0;e<n.length;e++){const s=n[e];N(s,$(t,s))}}function N(n,t){n.children&&A(n.children,t)}function $(n,t){return t?n||t.path?n&&!t.path?`${n}/`:!n&&t.path?t.path:`${n}/${t.path}`:"":n}function K(n){const t=n.children&&n.children.map(K),e=t?Object.assign(Object.assign({},n),{children:t}):Object.assign({},n);return!e.component&&(t||e.loadChildren)&&e.outlet&&e.outlet!==kt&&(e.component=I),e}function le(n){return n.outlet||kt}function Oe(n,t){const e=n.filter(s=>le(s)===t);return e.push(...n.filter(s=>le(s)!==t)),e}const Ue={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function ze(n,t,e){var s;if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?Object.assign({},Ue):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const d=(t.matcher||Ss)(e,n,t);if(!d)return Object.assign({},Ue);const g={};Dr(d.posParams,(w,S)=>{g[S]=w.path});const y=d.consumed.length>0?Object.assign(Object.assign({},g),d.consumed[d.consumed.length-1].parameters):g;return{matched:!0,consumedSegments:d.consumed,lastChild:d.consumed.length,parameters:y,positionalParamSegments:null!==(s=d.posParams)&&void 0!==s?s:{}}}function ve(n,t,e,s,a="corrected"){if(e.length>0&&function un(n,t,e){return e.some(s=>po(n,t,s)&&le(s)!==kt)}(n,e,s)){const g=new Ft(t,function Lt(n,t,e,s){const a={};a[kt]=s,s._sourceSegment=n,s._segmentIndexShift=t.length;for(const d of e)if(""===d.path&&le(d)!==kt){const g=new Ft([],{});g._sourceSegment=n,g._segmentIndexShift=t.length,a[le(d)]=g}return a}(n,t,s,new Ft(e,n.children)));return g._sourceSegment=n,g._segmentIndexShift=t.length,{segmentGroup:g,slicedSegments:[]}}if(0===e.length&&function Si(n,t,e){return e.some(s=>po(n,t,s))}(n,e,s)){const g=new Ft(n.segments,function ut(n,t,e,s,a,d){const g={};for(const y of s)if(po(n,e,y)&&!a[le(y)]){const w=new Ft([],{});w._sourceSegment=n,w._segmentIndexShift="legacy"===d?n.segments.length:t.length,g[le(y)]=w}return Object.assign(Object.assign({},a),g)}(n,t,e,s,n.children,a));return g._sourceSegment=n,g._segmentIndexShift=t.length,{segmentGroup:g,slicedSegments:e}}const d=new Ft(n.segments,n.children);return d._sourceSegment=n,d._segmentIndexShift=t.length,{segmentGroup:d,slicedSegments:e}}function po(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function Wp(n,t,e,s){return!!(le(n)===s||s!==kt&&po(t,e,n))&&("**"===n.path||ze(t,n,e).matched)}function Gp(n,t,e){return 0===t.length&&!n.children[e]}class eu{constructor(t){this.segmentGroup=t||null}}class zp{constructor(t){this.urlTree=t}}function Fc(n){return new Jt.y(t=>t.error(new eu(n)))}function qp(n){return new Jt.y(t=>t.error(new zp(n)))}function Z_(n){return new Jt.y(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class DI{constructor(t,e,s,a,d){this.configLoader=e,this.urlSerializer=s,this.urlTree=a,this.config=d,this.allowRedirects=!0,this.ngModule=t.get(l.h0i)}apply(){const t=ve(this.urlTree.root,[],[],this.config).segmentGroup,e=new Ft(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,kt).pipe((0,ft.U)(d=>this.createUrlTree(Rw(d),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ta(d=>{if(d instanceof zp)return this.allowRedirects=!1,this.match(d.urlTree);throw d instanceof eu?this.noMatchError(d):d}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,kt).pipe((0,ft.U)(a=>this.createUrlTree(Rw(a),t.queryParams,t.fragment))).pipe(ta(a=>{throw a instanceof eu?this.noMatchError(a):a}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,s){const a=t.segments.length>0?new Ft([],{[kt]:t}):t;return new Ja(a,e,s)}expandSegmentGroup(t,e,s,a){return 0===s.segments.length&&s.hasChildren()?this.expandChildren(t,e,s).pipe((0,ft.U)(d=>new Ft([],d))):this.expandSegment(t,s,e,s.segments,a,!0)}expandChildren(t,e,s){const a=[];for(const d of Object.keys(s.children))"primary"===d?a.unshift(d):a.push(d);return(0,Hn.D)(a).pipe(Vo(d=>{const g=s.children[d],y=Oe(e,d);return this.expandSegmentGroup(t,y,g,d).pipe((0,ft.U)(w=>({segment:w,outlet:d})))}),yd((d,g)=>(d[g.outlet]=g.segment,d),{}),function pC(n,t){const e=arguments.length>=2;return s=>s.pipe(n?Ei((a,d)=>n(a,d,s)):Fa.y,Oc(1),e?I0(t):T0(()=>new ip))}())}expandSegment(t,e,s,a,d,g){return(0,Hn.D)(s).pipe(Vo(y=>this.expandSegmentAgainstRoute(t,e,s,y,a,d,g).pipe(ta(S=>{if(S instanceof eu)return Ye(null);throw S}))),Jo(y=>!!y),ta((y,w)=>{if(y instanceof ip||"EmptyError"===y.name){if(Gp(e,a,d))return Ye(new Ft([],{}));throw new eu(e)}throw y}))}expandSegmentAgainstRoute(t,e,s,a,d,g,y){return Wp(a,e,d,g)?void 0===a.redirectTo?this.matchSegmentAgainstRoute(t,e,a,d,g):y&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,s,a,d,g):Fc(e):Fc(e)}expandSegmentAgainstRouteUsingRedirect(t,e,s,a,d,g){return"**"===a.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,s,a,g):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,s,a,d,g)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,s,a){const d=this.applyRedirectCommands([],s.redirectTo,{});return s.redirectTo.startsWith("/")?qp(d):this.lineralizeSegments(s,d).pipe((0,Zn.z)(g=>{const y=new Ft(g,{});return this.expandSegment(t,y,e,g,a,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,s,a,d,g){const{matched:y,consumedSegments:w,lastChild:S,positionalParamSegments:H}=ze(e,a,d);if(!y)return Fc(e);const L=this.applyRedirectCommands(w,a.redirectTo,H);return a.redirectTo.startsWith("/")?qp(L):this.lineralizeSegments(a,L).pipe((0,Zn.z)(Q=>this.expandSegment(t,e,s,Q.concat(d.slice(S)),g,!1)))}matchSegmentAgainstRoute(t,e,s,a,d){if("**"===s.path)return s.loadChildren?(s._loadedConfig?Ye(s._loadedConfig):this.configLoader.load(t.injector,s)).pipe((0,ft.U)(Q=>(s._loadedConfig=Q,new Ft(a,{})))):Ye(new Ft(a,{}));const{matched:g,consumedSegments:y,lastChild:w}=ze(e,s,a);if(!g)return Fc(e);const S=a.slice(w);return this.getChildConfig(t,s,a).pipe((0,Zn.z)(L=>{const Q=L.module,te=L.routes,{segmentGroup:Ie,slicedSegments:at}=ve(e,y,S,te),vt=new Ft(Ie.segments,Ie.children);if(0===at.length&&vt.hasChildren())return this.expandChildren(Q,te,vt).pipe((0,ft.U)(nn=>new Ft(y,nn)));if(0===te.length&&0===at.length)return Ye(new Ft(y,{}));const Rt=le(s)===d;return this.expandSegment(Q,vt,te,at,Rt?kt:d,!0).pipe((0,ft.U)(Wn=>new Ft(y.concat(Wn.segments),Wn.children)))}))}getChildConfig(t,e,s){return e.children?Ye(new $_(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Ye(e._loadedConfig):this.runCanLoadGuards(t.injector,e,s).pipe((0,Zn.z)(a=>a?this.configLoader.load(t.injector,e).pipe((0,ft.U)(d=>(e._loadedConfig=d,d))):function W_(n){return new Jt.y(t=>t.error(I_(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`)))}(e))):Ye(new $_([],t))}runCanLoadGuards(t,e,s){const a=e.canLoad;return a&&0!==a.length?Ye(a.map(g=>{const y=t.get(g);let w;if(function JD(n){return n&&Xl(n.canLoad)}(y))w=y.canLoad(e,s);else{if(!Xl(y))throw new Error("Invalid CanLoad guard");w=y(e,s)}return fo(w)})).pipe(c(),(0,Ti.b)(g=>{if(!kc(g))return;const y=I_(`Redirecting to "${this.urlSerializer.serialize(g)}"`);throw y.url=g,y}),(0,ft.U)(g=>!0===g)):Ye(!0)}lineralizeSegments(t,e){let s=[],a=e.root;for(;;){if(s=s.concat(a.segments),0===a.numberOfChildren)return Ye(s);if(a.numberOfChildren>1||!a.children[kt])return Z_(t.redirectTo);a=a.children[kt]}}applyRedirectCommands(t,e,s){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,s)}applyRedirectCreatreUrlTree(t,e,s,a){const d=this.createSegmentGroup(t,e.root,s,a);return new Ja(d,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const s={};return Dr(t,(a,d)=>{if("string"==typeof a&&a.startsWith(":")){const y=a.substring(1);s[d]=e[y]}else s[d]=a}),s}createSegmentGroup(t,e,s,a){const d=this.createSegments(t,e.segments,s,a);let g={};return Dr(e.children,(y,w)=>{g[w]=this.createSegmentGroup(t,y,s,a)}),new Ft(d,g)}createSegments(t,e,s,a){return e.map(d=>d.path.startsWith(":")?this.findPosParam(t,d,a):this.findOrReturn(d,s))}findPosParam(t,e,s){const a=s[e.path.substring(1)];if(!a)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return a}findOrReturn(t,e){let s=0;for(const a of e){if(a.path===t.path)return e.splice(s),a;s++}return t}}function Rw(n){const t={};for(const s of Object.keys(n.children)){const d=Rw(n.children[s]);(d.segments.length>0||d.hasChildren())&&(t[s]=d)}return function II(n){if(1===n.numberOfChildren&&n.children[kt]){const t=n.children[kt];return new Ft(n.segments.concat(t.segments),t.children)}return n}(new Ft(n.segments,t))}class XD{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class kC{constructor(t,e){this.component=t,this.route=e}}function AI(n,t,e){const s=n._root;return z_(s,t?t._root:null,e,[s.value])}function FC(n,t,e){const s=function MI(n){if(!n)return null;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(s?s.module.injector:e).get(n)}function z_(n,t,e,s,a={canDeactivateChecks:[],canActivateChecks:[]}){const d=vh(t);return n.children.forEach(g=>{(function xI(n,t,e,s,a={canDeactivateChecks:[],canActivateChecks:[]}){const d=n.value,g=t?t.value:null,y=e?e.getContext(n.value.outlet):null;if(g&&d.routeConfig===g.routeConfig){const w=function PI(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!Nc(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Nc(n.url,t.url)||!na(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Hp(n,t)||!na(n.queryParams,t.queryParams);default:return!Hp(n,t)}}(g,d,d.routeConfig.runGuardsAndResolvers);w?a.canActivateChecks.push(new XD(s)):(d.data=g.data,d._resolvedData=g._resolvedData),z_(n,t,d.component?y?y.children:null:e,s,a),w&&y&&y.outlet&&y.outlet.isActivated&&a.canDeactivateChecks.push(new kC(y.outlet.component,g))}else g&&q_(t,y,a),a.canActivateChecks.push(new XD(s)),z_(n,null,d.component?y?y.children:null:e,s,a)})(g,d[g.value.outlet],e,s.concat([g.value]),a),delete d[g.value.outlet]}),Dr(d,(g,y)=>q_(g,e.getContext(y),a)),a}function q_(n,t,e){const s=vh(n),a=n.value;Dr(s,(d,g)=>{q_(d,a.component?t?t.children.getContext(g):null:t,e)}),e.canDeactivateChecks.push(new kC(a.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,a))}class BI{}function eI(n){return new Jt.y(t=>t.error(n))}class HI{constructor(t,e,s,a,d,g){this.rootComponentType=t,this.config=e,this.urlTree=s,this.url=a,this.paramsInheritanceStrategy=d,this.relativeLinkResolution=g}recognize(){const t=ve(this.urlTree.root,[],[],this.config.filter(g=>void 0===g.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,kt);if(null===e)return null;const s=new Bp([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},kt,this.rootComponentType,null,this.urlTree.root,-1,{}),a=new Xa(s,e),d=new MC(this.url,a);return this.inheritParamsAndData(d._root),d}inheritParamsAndData(t){const e=t.value,s=U_(e,this.paramsInheritanceStrategy);e.params=Object.freeze(s.params),e.data=Object.freeze(s.data),t.children.forEach(a=>this.inheritParamsAndData(a))}processSegmentGroup(t,e,s){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,s)}processChildren(t,e){const s=[];for(const d of Object.keys(e.children)){const g=e.children[d],y=Oe(t,d),w=this.processSegmentGroup(y,g,d);if(null===w)return null;s.push(...w)}const a=tI(s);return function $I(n){n.sort((t,e)=>t.value.outlet===kt?-1:e.value.outlet===kt?1:t.value.outlet.localeCompare(e.value.outlet))}(a),a}processSegment(t,e,s,a){for(const d of t){const g=this.processSegmentAgainstRoute(d,e,s,a);if(null!==g)return g}return Gp(e,s,a)?[]:null}processSegmentAgainstRoute(t,e,s,a){if(t.redirectTo||!Wp(t,e,s,a))return null;let d,g=[],y=[];if("**"===t.path){const te=s.length>0?EC(s).parameters:{};d=new Bp(s,te,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,iI(t),le(t),t.component,t,nI(e),rI(e)+s.length,sI(t))}else{const te=ze(e,t,s);if(!te.matched)return null;g=te.consumedSegments,y=s.slice(te.lastChild),d=new Bp(g,te.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,iI(t),le(t),t.component,t,nI(e),rI(e)+g.length,sI(t))}const w=function ZI(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(t),{segmentGroup:S,slicedSegments:H}=ve(e,g,y,w.filter(te=>void 0===te.redirectTo),this.relativeLinkResolution);if(0===H.length&&S.hasChildren()){const te=this.processChildren(w,S);return null===te?null:[new Xa(d,te)]}if(0===w.length&&0===H.length)return[new Xa(d,[])];const L=le(t)===a,Q=this.processSegment(w,S,H,L?kt:a);return null===Q?null:[new Xa(d,Q)]}}function WI(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function tI(n){const t=[],e=new Set;for(const s of n){if(!WI(s)){t.push(s);continue}const a=t.find(d=>s.value.routeConfig===d.value.routeConfig);void 0!==a?(a.children.push(...s.children),e.add(a)):t.push(s)}for(const s of e){const a=tI(s.children);t.push(new Xa(s.value,a))}return t.filter(s=>!e.has(s))}function nI(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function rI(n){let t=n,e=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift?t._segmentIndexShift:0;return e-1}function iI(n){return n.data||{}}function sI(n){return n.resolve||{}}function Ow(n){return Mr(t=>{const e=n(t);return e?(0,Hn.D)(e).pipe((0,ft.U)(()=>t)):Ye(t)})}class XI extends class JI{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Nw=new l.OlP("ROUTES");class oI{constructor(t,e,s,a){this.injector=t,this.compiler=e,this.onLoadStartListener=s,this.onLoadEndListener=a}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const a=this.loadModuleFactory(e.loadChildren).pipe((0,ft.U)(d=>{this.onLoadEndListener&&this.onLoadEndListener(e);const g=d.create(t);return new $_(A_(g.injector.get(Nw,void 0,l.XFs.Self|l.XFs.Optional)).map(K),g)}),ta(d=>{throw e._loader$=void 0,d}));return e._loader$=new fC(a,()=>new qa.x).pipe(E_()),e._loader$}loadModuleFactory(t){return fo(t()).pipe((0,Zn.z)(e=>e instanceof l.YKP?Ye(e):(0,Hn.D)(this.compiler.compileModuleAsync(e))))}}class tT{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function nT(n){throw n}function rT(n,t,e){return t.parse("/")}function aI(n,t){return Ye(null)}const iT={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},sT={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ni=(()=>{class n{constructor(e,s,a,d,g,y,w){this.rootComponentType=e,this.urlSerializer=s,this.rootContexts=a,this.location=d,this.config=w,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new qa.x,this.errorHandler=nT,this.malformedUriErrorHandler=rT,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:aI,afterPreactivation:aI},this.urlHandlingStrategy=new tT,this.routeReuseStrategy=new XI,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=g.get(l.h0i),this.console=g.get(l.c2e);const L=g.get(l.R0b);this.isNgZoneEnabled=L instanceof l.R0b&&l.R0b.isInAngularZone(),this.resetConfig(w),this.currentUrlTree=function $D(){return new Ja(new Ft([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new oI(g,y,Q=>this.triggerEvent(new mC(Q)),Q=>this.triggerEvent(new Op(Q))),this.routerState=Ew(this.currentUrlTree,this.rootComponentType),this.transitions=new ho({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const s=this.events;return e.pipe(Ei(a=>0!==a.id),(0,ft.U)(a=>Object.assign(Object.assign({},a),{extractedUrl:this.urlHandlingStrategy.extract(a.rawUrl)})),Mr(a=>{let d=!1,g=!1;return Ye(a).pipe((0,Ti.b)(y=>{this.currentNavigation={id:y.id,initialUrl:y.currentRawUrl,extractedUrl:y.extractedUrl,trigger:y.source,extras:y.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Mr(y=>{const w=this.browserUrlTree.toString(),S=!this.navigated||y.extractedUrl.toString()!==w||w!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||S)&&this.urlHandlingStrategy.shouldProcessUrl(y.rawUrl))return LC(y.source)&&(this.browserUrlTree=y.extractedUrl),Ye(y).pipe(Mr(L=>{const Q=this.transitions.getValue();return s.next(new gC(L.id,this.serializeUrl(L.extractedUrl),L.source,L.restoredState)),Q!==this.transitions.getValue()?Ka.E:Promise.resolve(L)}),function TI(n,t,e,s){return Mr(a=>function G_(n,t,e,s,a){return new DI(n,t,e,s,a).apply()}(n,t,e,a.extractedUrl,s).pipe((0,ft.U)(d=>Object.assign(Object.assign({},a),{urlAfterRedirects:d}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Ti.b)(L=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:L.urlAfterRedirects})}),function GI(n,t,e,s,a){return(0,Zn.z)(d=>function jI(n,t,e,s,a="emptyOnly",d="legacy"){try{const g=new HI(n,t,e,s,a,d).recognize();return null===g?eI(new BI):Ye(g)}catch(g){return eI(g)}}(n,t,d.urlAfterRedirects,e(d.urlAfterRedirects),s,a).pipe((0,ft.U)(g=>Object.assign(Object.assign({},d),{targetSnapshot:g}))))}(this.rootComponentType,this.config,L=>this.serializeUrl(L),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Ti.b)(L=>{if("eager"===this.urlUpdateStrategy){if(!L.extras.skipLocationChange){const te=this.urlHandlingStrategy.merge(L.urlAfterRedirects,L.rawUrl);this.setBrowserUrl(te,L)}this.browserUrlTree=L.urlAfterRedirects}const Q=new jD(L.id,this.serializeUrl(L.extractedUrl),this.serializeUrl(L.urlAfterRedirects),L.targetSnapshot);s.next(Q)}));if(S&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Q,extractedUrl:te,source:Ie,restoredState:at,extras:vt}=y,Rt=new gC(Q,this.serializeUrl(te),Ie,at);s.next(Rt);const Dn=Ew(te,this.rootComponentType).snapshot;return Ye(Object.assign(Object.assign({},y),{targetSnapshot:Dn,urlAfterRedirects:te,extras:Object.assign(Object.assign({},vt),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=y.rawUrl,y.resolve(null),Ka.E}),Ow(y=>{const{targetSnapshot:w,id:S,extractedUrl:H,rawUrl:L,extras:{skipLocationChange:Q,replaceUrl:te}}=y;return this.hooks.beforePreactivation(w,{navigationId:S,appliedUrlTree:H,rawUrlTree:L,skipLocationChange:!!Q,replaceUrl:!!te})}),(0,Ti.b)(y=>{const w=new uw(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(w)}),(0,ft.U)(y=>Object.assign(Object.assign({},y),{guards:AI(y.targetSnapshot,y.currentSnapshot,this.rootContexts)})),function RI(n,t){return(0,Zn.z)(e=>{const{targetSnapshot:s,currentSnapshot:a,guards:{canActivateChecks:d,canDeactivateChecks:g}}=e;return 0===g.length&&0===d.length?Ye(Object.assign(Object.assign({},e),{guardsResult:!0})):function OI(n,t,e,s){return(0,Hn.D)(n).pipe((0,Zn.z)(a=>function VI(n,t,e,s,a){const d=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return d&&0!==d.length?Ye(d.map(y=>{const w=FC(y,t,a);let S;if(function o(n){return n&&Xl(n.canDeactivate)}(w))S=fo(w.canDeactivate(n,t,e,s));else{if(!Xl(w))throw new Error("Invalid CanDeactivate guard");S=fo(w(n,t,e,s))}return S.pipe(Jo())})).pipe(c()):Ye(!0)}(a.component,a.route,e,t,s)),Jo(a=>!0!==a,!0))}(g,s,a,n).pipe((0,Zn.z)(y=>y&&function QD(n){return"boolean"==typeof n}(y)?function NI(n,t,e,s){return(0,Hn.D)(t).pipe(Vo(a=>v_(function FI(n,t){return null!==n&&t&&t(new dw(n)),Ye(!0)}(a.route.parent,s),function kI(n,t){return null!==n&&t&&t(new w_(n)),Ye(!0)}(a.route,s),function UI(n,t,e){const s=t[t.length-1],d=t.slice(0,t.length-1).reverse().map(g=>function SI(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(g)).filter(g=>null!==g).map(g=>hC(()=>Ye(g.guards.map(w=>{const S=FC(w,g.node,e);let H;if(function i(n){return n&&Xl(n.canActivateChild)}(S))H=fo(S.canActivateChild(s,n));else{if(!Xl(S))throw new Error("Invalid CanActivateChild guard");H=fo(S(s,n))}return H.pipe(Jo())})).pipe(c())));return Ye(d).pipe(c())}(n,a.path,e),function LI(n,t,e){const s=t.routeConfig?t.routeConfig.canActivate:null;if(!s||0===s.length)return Ye(!0);const a=s.map(d=>hC(()=>{const g=FC(d,t,e);let y;if(function r(n){return n&&Xl(n.canActivate)}(g))y=fo(g.canActivate(t,n));else{if(!Xl(g))throw new Error("Invalid CanActivate guard");y=fo(g(t,n))}return y.pipe(Jo())}));return Ye(a).pipe(c())}(n,a.route,e))),Jo(a=>!0!==a,!0))}(s,d,n,t):Ye(y)),(0,ft.U)(y=>Object.assign(Object.assign({},e),{guardsResult:y})))})}(this.ngModule.injector,y=>this.triggerEvent(y)),(0,Ti.b)(y=>{if(kc(y.guardsResult)){const S=I_(`Redirecting to "${this.serializeUrl(y.guardsResult)}"`);throw S.url=y.guardsResult,S}const w=new b_(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot,!!y.guardsResult);this.triggerEvent(w)}),Ei(y=>!!y.guardsResult||(this.restoreHistory(y),this.cancelNavigationTransition(y,""),!1)),Ow(y=>{if(y.guards.canActivateChecks.length)return Ye(y).pipe((0,Ti.b)(w=>{const S=new cw(w.id,this.serializeUrl(w.extractedUrl),this.serializeUrl(w.urlAfterRedirects),w.targetSnapshot);this.triggerEvent(S)}),Mr(w=>{let S=!1;return Ye(w).pipe(function zI(n,t){return(0,Zn.z)(e=>{const{targetSnapshot:s,guards:{canActivateChecks:a}}=e;if(!a.length)return Ye(e);let d=0;return(0,Hn.D)(a).pipe(Vo(g=>function qI(n,t,e,s){return function YI(n,t,e,s){const a=Object.keys(n);if(0===a.length)return Ye({});const d={};return(0,Hn.D)(a).pipe((0,Zn.z)(g=>function KI(n,t,e,s){const a=FC(n,t,s);return fo(a.resolve?a.resolve(t,e):a(t,e))}(n[g],t,e,s).pipe((0,Ti.b)(y=>{d[g]=y}))),Oc(1),(0,Zn.z)(()=>Object.keys(d).length===a.length?Ye(d):Ka.E))}(n._resolve,n,t,s).pipe((0,ft.U)(d=>(n._resolvedData=d,n.data=Object.assign(Object.assign({},n.data),U_(n,e).resolve),null)))}(g.route,s,n,t)),(0,Ti.b)(()=>d++),Oc(1),(0,Zn.z)(g=>d===a.length?Ye(e):Ka.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Ti.b)({next:()=>S=!0,complete:()=>{S||(this.restoreHistory(w),this.cancelNavigationTransition(w,"At least one route resolver didn't emit any value."))}}))}),(0,Ti.b)(w=>{const S=new Ai(w.id,this.serializeUrl(w.extractedUrl),this.serializeUrl(w.urlAfterRedirects),w.targetSnapshot);this.triggerEvent(S)}))}),Ow(y=>{const{targetSnapshot:w,id:S,extractedUrl:H,rawUrl:L,extras:{skipLocationChange:Q,replaceUrl:te}}=y;return this.hooks.afterPreactivation(w,{navigationId:S,appliedUrlTree:H,rawUrlTree:L,skipLocationChange:!!Q,replaceUrl:!!te})}),(0,ft.U)(y=>{const w=function ww(n,t,e){const s=Eh(n,t._root,e?e._root:void 0);return new Cw(s,t)}(this.routeReuseStrategy,y.targetSnapshot,y.currentRouterState);return Object.assign(Object.assign({},y),{targetRouterState:w})}),(0,Ti.b)(y=>{this.currentUrlTree=y.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(y.urlAfterRedirects,y.rawUrl),this.routerState=y.targetRouterState,"deferred"===this.urlUpdateStrategy&&(y.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,y),this.browserUrlTree=y.urlAfterRedirects)}),((n,t,e)=>(0,ft.U)(s=>(new YD(t,s.targetRouterState,s.currentRouterState,e).activate(n),s)))(this.rootContexts,this.routeReuseStrategy,y=>this.triggerEvent(y)),(0,Ti.b)({next(){d=!0},complete(){d=!0}}),function BD(n){return(0,Sr.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}(()=>{var y;d||g||this.cancelNavigationTransition(a,`Navigation ID ${a.id} is not equal to the current navigation id ${this.navigationId}`),(null===(y=this.currentNavigation)||void 0===y?void 0:y.id)===a.id&&(this.currentNavigation=null)}),ta(y=>{if(g=!0,function T_(n){return n&&n[vC]}(y)){const w=kc(y.url);w||(this.navigated=!0,this.restoreHistory(a,!0));const S=new Rp(a.id,this.serializeUrl(a.extractedUrl),y.message);s.next(S),w?setTimeout(()=>{const H=this.urlHandlingStrategy.merge(y.url,this.rawUrlTree),L={skipLocationChange:a.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||LC(a.source)};this.scheduleNavigation(H,"imperative",null,L,{resolve:a.resolve,reject:a.reject,promise:a.promise})},0):a.resolve(!1)}else{this.restoreHistory(a,!0);const w=new lw(a.id,this.serializeUrl(a.extractedUrl),y);s.next(w);try{a.resolve(this.errorHandler(y))}catch(S){a.reject(S)}}return Ka.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const s="popstate"===e.type?"popstate":"hashchange";"popstate"===s&&setTimeout(()=>{var a;const d={replaceUrl:!0},g=(null===(a=e.state)||void 0===a?void 0:a.navigationId)?e.state:null;if(g){const w=Object.assign({},g);delete w.navigationId,delete w.\u0275routerPageId,0!==Object.keys(w).length&&(d.state=w)}const y=this.parseUrl(e.url);this.scheduleNavigation(y,s,g,d)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){A(e),this.config=e.map(K),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,s={}){const{relativeTo:a,queryParams:d,fragment:g,queryParamsHandling:y,preserveFragment:w}=s,S=a||this.routerState.root,H=w?this.currentUrlTree.fragment:g;let L=null;switch(y){case"merge":L=Object.assign(Object.assign({},this.currentUrlTree.queryParams),d);break;case"preserve":L=this.currentUrlTree.queryParams;break;default:L=d||null}return null!==L&&(L=this.removeEmptyProps(L)),function zD(n,t,e,s,a){if(0===e.length)return j_(t.root,t.root,t,s,a);const d=function Dw(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new RC(!0,0,n);let t=0,e=!1;const s=n.reduce((a,d,g)=>{if("object"==typeof d&&null!=d){if(d.outlets){const y={};return Dr(d.outlets,(w,S)=>{y[S]="string"==typeof w?w.split("/"):w}),[...a,{outlets:y}]}if(d.segmentPath)return[...a,d.segmentPath]}return"string"!=typeof d?[...a,d]:0===g?(d.split("/").forEach((y,w)=>{0==w&&"."===y||(0==w&&""===y?e=!0:".."===y?t++:""!=y&&a.push(y))}),a):[...a,d]},[]);return new RC(e,t,s)}(e);if(d.toRoot())return j_(t.root,new Ft([],{}),t,s,a);const g=function Iw(n,t,e){if(n.isAbsolute)return new OC(t.root,!0,0);if(-1===e.snapshot._lastPathIndex){const d=e.snapshot._urlSegment;return new OC(d,d===t.root,0)}const s=bh(n.commands[0])?0:1;return function Tw(n,t,e){let s=n,a=t,d=e;for(;d>a;){if(d-=a,s=s.parent,!s)throw new Error("Invalid number of '../'");a=s.segments.length}return new OC(s,!1,a-d)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+s,n.numberOfDoubleDots)}(d,t,n),y=g.processChildren?Zp(g.segmentGroup,g.index,d.commands):NC(g.segmentGroup,g.index,d.commands);return j_(g.segmentGroup,y,t,s,a)}(S,this.currentUrlTree,e,L,null!=H?H:null)}navigateByUrl(e,s={skipLocationChange:!1}){const a=kc(e)?e:this.parseUrl(e),d=this.urlHandlingStrategy.merge(a,this.rawUrlTree);return this.scheduleNavigation(d,"imperative",null,s)}navigate(e,s={skipLocationChange:!1}){return function oT(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,s),s)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let s;try{s=this.urlSerializer.parse(e)}catch(a){s=this.malformedUriErrorHandler(a,this.urlSerializer,e)}return s}isActive(e,s){let a;if(a=!0===s?Object.assign({},iT):!1===s?Object.assign({},sT):s,kc(e))return wC(this.currentUrlTree,e,a);const d=this.parseUrl(e);return wC(this.currentUrlTree,d,a)}removeEmptyProps(e){return Object.keys(e).reduce((s,a)=>{const d=e[a];return null!=d&&(s[a]=d),s},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new ph(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,s,a,d,g){var y,w,S;if(this.disposed)return Promise.resolve(!1);const H=this.transitions.value,L=LC(s)&&H&&!LC(H.source),Q=H.rawUrl.toString()===e.toString(),te=H.id===(null===(y=this.currentNavigation)||void 0===y?void 0:y.id);if(L&&Q&&te)return Promise.resolve(!0);let at,vt,Rt;g?(at=g.resolve,vt=g.reject,Rt=g.promise):Rt=new Promise((nn,qi)=>{at=nn,vt=qi});const Dn=++this.navigationId;let Wn;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(a=this.location.getState()),Wn=a&&a.\u0275routerPageId?a.\u0275routerPageId:d.replaceUrl||d.skipLocationChange?null!==(w=this.browserPageId)&&void 0!==w?w:0:(null!==(S=this.browserPageId)&&void 0!==S?S:0)+1):Wn=0,this.setTransition({id:Dn,targetPageId:Wn,source:s,restoredState:a,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:d,resolve:at,reject:vt,promise:Rt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Rt.catch(nn=>Promise.reject(nn))}setBrowserUrl(e,s){const a=this.urlSerializer.serialize(e),d=Object.assign(Object.assign({},s.extras.state),this.generateNgRouterState(s.id,s.targetPageId));this.location.isCurrentPathEqualTo(a)||s.extras.replaceUrl?this.location.replaceState(a,"",d):this.location.go(a,"",d)}restoreHistory(e,s=!1){var a,d;if("computed"===this.canceledNavigationResolution){const g=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(a=this.currentNavigation)||void 0===a?void 0:a.finalUrl)||0===g?this.currentUrlTree===(null===(d=this.currentNavigation)||void 0===d?void 0:d.finalUrl)&&0===g&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(g)}else"replace"===this.canceledNavigationResolution&&(s&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,s){const a=new Rp(e.id,this.serializeUrl(e.extractedUrl),s);this.triggerEvent(a),e.resolve(!1)}generateNgRouterState(e,s){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:s}:{navigationId:e}}}return n.\u0275fac=function(e){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function LC(n){return"imperative"!==n}let UC=(()=>{class n{constructor(e,s,a,d,g){this.router=e,this.route=s,this.tabIndexAttribute=a,this.renderer=d,this.el=g,this.commands=null,this.onChanges=new qa.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){if(null!=this.tabIndexAttribute)return;const s=this.renderer,a=this.el.nativeElement;null!==e?s.setAttribute(a,"tabindex",e):s.removeAttribute(a,"tabindex")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const e={skipLocationChange:Yp(this.skipLocationChange),replaceUrl:Yp(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Yp(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(ni),l.Y36(Ch),l.$8M("tabindex"),l.Y36(l.Qsj),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,s){1&e&&l.NdJ("click",function(){return s.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[l.TTD]}),n})();function Yp(n){return""===n||!!n}class lI{}class uI{preload(t,e){return Ye(null)}}let cI=(()=>{class n{constructor(e,s,a,d){this.router=e,this.injector=a,this.preloadingStrategy=d,this.loader=new oI(a,s,w=>e.triggerEvent(new mC(w)),w=>e.triggerEvent(new Op(w)))}setUpPreloading(){this.subscription=this.router.events.pipe(Ei(e=>e instanceof ph),Vo(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(l.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,s){const a=[];for(const d of s)if(d.loadChildren&&!d.canLoad&&d._loadedConfig){const g=d._loadedConfig;a.push(this.processRoutes(g.module,g.routes))}else d.loadChildren&&!d.canLoad?a.push(this.preloadConfig(e,d)):d.children&&a.push(this.processRoutes(e,d.children));return(0,Hn.D)(a).pipe((0,ea.J)(),(0,ft.U)(d=>{}))}preloadConfig(e,s){return this.preloadingStrategy.preload(s,()=>(s._loadedConfig?Ye(s._loadedConfig):this.loader.load(e.injector,s)).pipe((0,Zn.z)(d=>(s._loadedConfig=d,this.processRoutes(d.module,d.routes)))))}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(ni),l.LFG(l.Sil),l.LFG(l.zs3),l.LFG(lI))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Fw=(()=>{class n{constructor(e,s,a={}){this.router=e,this.viewportScroller=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof gC?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof ph&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof D_&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,s){this.router.triggerEvent(new D_(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,s))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const wh=new l.OlP("ROUTER_CONFIGURATION"),dI=new l.OlP("ROUTER_FORROOT_GUARD"),cT=[Ge,{provide:P_,useClass:DC},{provide:ni,useFactory:function gT(n,t,e,s,a,d,g={},y,w){const S=new ni(null,n,t,e,s,a,A_(d));return y&&(S.urlHandlingStrategy=y),w&&(S.routeReuseStrategy=w),function mT(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(g,S),g.enableTracing&&S.events.subscribe(H=>{var L,Q;null===(L=console.group)||void 0===L||L.call(console,`Router Event: ${H.constructor.name}`),console.log(H.toString()),console.log(H),null===(Q=console.groupEnd)||void 0===Q||Q.call(console)}),S},deps:[P_,_,Ge,l.zs3,l.Sil,Nw,wh,[class eT{},new l.FiY],[class QI{},new l.FiY]]},_,{provide:Ch,useFactory:function _T(n){return n.routerState.root},deps:[ni]},cI,uI,class uT{preload(t,e){return e().pipe(ta(()=>Ye(null)))}},{provide:wh,useValue:{enableTracing:!1}}];function dT(){return new l.PXZ("Router",ni)}let Lw=(()=>{class n{constructor(e,s){}static forRoot(e,s){return{ngModule:n,providers:[cT,hI(e),{provide:dI,useFactory:pT,deps:[[ni,new l.FiY,new l.tp0]]},{provide:wh,useValue:s||{}},{provide:de,useFactory:fT,deps:[oe,[new l.tBr(Se),new l.FiY],wh]},{provide:Fw,useFactory:hT,deps:[ni,ll,wh]},{provide:lI,useExisting:s&&s.preloadingStrategy?s.preloadingStrategy:uI},{provide:l.PXZ,multi:!0,useFactory:dT},[Uw,{provide:l.ip1,multi:!0,useFactory:yT,deps:[Uw]},{provide:fI,useFactory:vT,deps:[Uw]},{provide:l.tb,multi:!0,useExisting:fI}]]}}static forChild(e){return{ngModule:n,providers:[hI(e)]}}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(dI,8),l.LFG(ni,8))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();function hT(n,t,e){return e.scrollOffset&&t.setOffset(e.scrollOffset),new Fw(n,t,e)}function fT(n,t,e={}){return e.useHash?new Ne(n,t):new Re(n,t)}function pT(n){return"guarded"}function hI(n){return[{provide:l.deG,multi:!0,useValue:n},{provide:Nw,multi:!0,useValue:n}]}let Uw=(()=>{class n{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new qa.x}appInitializer(){return this.injector.get(Z,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let s=null;const a=new Promise(y=>s=y),d=this.injector.get(ni),g=this.injector.get(wh);return"disabled"===g.initialNavigation?(d.setUpLocationChangeListener(),s(!0)):"enabled"===g.initialNavigation||"enabledBlocking"===g.initialNavigation?(d.hooks.afterPreactivation=()=>this.initNavigation?Ye(null):(this.initNavigation=!0,s(!0),this.resultOfPreactivationDone),d.initialNavigation()):s(!0),a})}bootstrapListener(e){const s=this.injector.get(wh),a=this.injector.get(cI),d=this.injector.get(Fw),g=this.injector.get(ni),y=this.injector.get(l.z2F);e===y.components[0]&&(("enabledNonBlocking"===s.initialNavigation||void 0===s.initialNavigation)&&g.initialNavigation(),a.setUpPreloading(),d.init(),g.resetRootComponentType(y.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.zs3))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function yT(n){return n.appInitializer.bind(n)}function vT(n){return n.bootstrapListener.bind(n)}const fI=new l.OlP("Router Initializer");let Vw=(()=>{class n{constructor(e,s,a){this.afAuth=e,this.db=s,this.router=a,this.userUid="",this.user$=this.afAuth.authState.pipe(Mr(d=>d?this.db.list(`users/${d.uid}`).snapshotChanges():Ye(null)))}googleSignin(){var e=this;return(0,Ho.Z)(function*(){const s=new FD.N,a=yield e.afAuth.signInWithPopup(s);return e.updateUserData(a.user)})()}updateUserData(e){this.userUid=e.uid,localStorage.setItem("uid",e.uid);const s=this.db.list(`users/${e.uid}`),a={uid:e.uid,email:e.email,transactionList:{}};let d=[];s.valueChanges().subscribe(g=>(g.forEach(y=>{d.push(Object.keys(y))}),d.flat().includes("uid")?null:s.push(a)))}signOut(){var e=this;return(0,Ho.Z)(function*(){delete localStorage.uid,yield e.afAuth.signOut().then(s=>console.log("success",s)).catch(s=>console.log(s)),e.router.navigate([""])})()}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Mp),l.LFG(cC),l.LFG(ni))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Y_=(()=>{class n{constructor(e,s){this.auth=e,this.router=s}canActivate(e,s){return this.auth.user$.pipe((0,sh.q)(1),(0,ft.U)(a=>!!a),(0,Ti.b)(a=>{a||(console.log("access denied"),this.router.navigate([""]))}))}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Vw),l.LFG(ni))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const ET=[];let bT=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Lw.forRoot(ET)],Lw]}),n})(),tu=(()=>{class n{constructor(e){this.db=e,this.dbTransactionPath="/transactionList",this.dbCategoriesPath="/categories",this.dbBalancePath="/balance",this.userUid=localStorage.uid}addTransaction(e){var s;this.transactionsRef=this.db.list(`users/${this.userUid}/${this.dbTransactionPath}`),null===(s=this.transactionsRef)||void 0===s||s.push(e)}setBalance(e){var s;this.balanceRef=this.db.object(`users/${this.userUid}/${this.dbBalancePath}`),null===(s=this.balanceRef)||void 0===s||s.set(e)}getBalance(){return this.balanceRef=this.db.object(`users/${this.userUid}/${this.dbBalancePath}`),this.balanceRef}getTransactions(){return this.transactionsRef=this.db.list(`users/${this.userUid}/${this.dbTransactionPath}`),this.transactionsRef}getCategories(){return this.transactionsRef=this.db.list(this.dbCategoriesPath),this.transactionsRef}getTransaction(e){return this.transactionRef=this.db.object(`users/${this.userUid}/${this.dbTransactionPath}/${e}`),this.transactionRef}deleteTransaction(e){return this.transactionRef=this.db.object(`users/${this.userUid}/${this.dbTransactionPath}/${e}`),this.transactionRef.remove()}setGoal(e){var s;this.transactionRef=this.db.object(`users/${this.userUid}/${this.dbTransactionPath}/${this.userUid}`),null===(s=this.transactionRef)||void 0===s||s.set(e)}getGoal(){return this.transactionsRef=this.db.list(`users/${this.userUid}/${this.dbTransactionPath}`),this.transactionsRef}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(cC))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function wT(n,t){1&n&&(l.TgZ(0,"div",19),l._uU(1,"SUBMIT SUCCESSFULLY"),l.qZA())}function DT(n,t){if(1&n&&(l.TgZ(0,"option",20),l._uU(1),l.qZA()),2&n){const e=t.$implicit;l.Q6J("ngValue",e),l.xp6(1),l.hij(" ",e.title," ")}}function IT(n,t){1&n&&(l.TgZ(0,"div",21),l._uU(1," Required field "),l.qZA())}function TT(n,t){if(1&n&&(l.TgZ(0,"option",20),l._uU(1),l.qZA()),2&n){const e=t.$implicit;l.Q6J("ngValue",e),l.xp6(1),l.hij(" ",e.title," ")}}function AT(n,t){1&n&&(l.TgZ(0,"div",21),l._uU(1," Required field "),l.qZA())}function ST(n,t){1&n&&(l.TgZ(0,"div",21),l._uU(1," Required field "),l.qZA())}function MT(n,t){if(1&n&&(l.TgZ(0,"option",20),l._uU(1),l.qZA()),2&n){const e=t.$implicit;l.Q6J("ngValue",e),l.xp6(1),l.hij(" ",e," ")}}function xT(n,t){1&n&&(l.TgZ(0,"div",21),l._uU(1," Required field "),l.qZA())}function PT(n,t){if(1&n&&(l.TgZ(0,"option",20),l._uU(1),l.qZA()),2&n){const e=t.$implicit;l.Q6J("ngValue",e),l.xp6(1),l.hij(" ",e," ")}}function RT(n,t){1&n&&(l.TgZ(0,"div",21),l._uU(1," Required field "),l.qZA())}function OT(n,t){1&n&&(l.TgZ(0,"div",21),l._uU(1," Required field "),l.qZA())}function NT(n,t){if(1&n&&(l.TgZ(0,"option",20),l._uU(1),l.qZA()),2&n){const e=t.$implicit;l.Q6J("ngValue",e),l.xp6(1),l.hij(" ",e.title," ")}}let kT=(()=>{class n{constructor(e,s){this.RestApiService=e,this.element=s,this.submitted=!1,this.isShow=!1,this.dataStorage=[],this.dataCategories=[],this.types=[{value:"costs",title:"consumption",id:0},{value:"income",title:"income",id:1}],this.expenses=[{value:"planned",title:"planned"},{value:"actual",title:"actual"}],this.currencies=[{value:29,title:"USD"},{value:30,title:"EUR"},{value:1,title:"UAH"}],this.form=new Ra({type:new Hi("",Vr.required),expense:new Hi(this.expenses[1],Vr.required),date:new Hi("",Vr.required),subCategoryName:new Hi("",Vr.required),categoryName:new Hi("",Vr.required),description:new Hi,amount:new Hi("",Vr.required),currency:new Hi(this.currencies[2],Vr.required)}),this.handleHide=new l.vpe}show(){this.isShow=!0,setTimeout(()=>this.hide(),1e3)}hide(){this.isShow=!1}handleHideClick(){this.handleHide.emit()}ngOnInit(){this.element.nativeElement.closest("body").style.overflow="hidden",this.RestApiService.getTransactions(),this.data=this.RestApiService.getCategories(),this.RestApiService.getCategories().snapshotChanges().subscribe(s=>{s.forEach(a=>{this.dataCategories.push(a.payload.toJSON())})});const e=document.querySelector("[data-date-input]");this.form.controls.expense.valueChanges.subscribe(({value:s})=>{"planned"===s?(e.type="month","costs"===this.form.controls.type.value.value&&(this.categories=this.getMainCategories(this.dataCategories[0]))):(e.type="date","costs"===this.form.controls.type.value.value&&(this.categories=this.getMainCategories(this.dataCategories[0])))}),this.form.controls.type.valueChanges.subscribe(({id:s})=>{!this.dataCategories||(this.categories=this.getMainCategories(this.dataCategories[s]),this.form.controls.categoryName.valueChanges.subscribe(a=>{this.subCategories=this.getSubCategories(this.dataCategories[s],a)}))})}submitForm(){this.submitted=!0,this.form.valid&&(this.RestApiService.addTransaction(this.form.value),this.show(),this.element.nativeElement.closest("body").style.overflow="auto",this.form.controls.categoryName.reset(),this.form.controls.subCategoryName.reset(),this.form.controls.description.reset(),this.form.controls.amount.reset())}get formControl(){return this.form.controls}getMainCategories(e){let s=[];return Object.values(e).forEach(a=>{"planned"===this.form.controls.expense.value.value?"Goals"!=Object.values(a)[0]&&s.push(Object.values(a)[0]):s.push(Object.values(a)[0])}),s.flat()}getSubCategories(e,s){return Object.values(e).forEach(a=>{a.categoryName===s&&(this.subCategories=Object.values(a.subCategories))}),this.subCategories}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(tu),l.Y36(l.SBq))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-popup-form"]],outputs:{handleHide:"handleHide"},decls:52,vars:13,consts:[[1,"popup__background",3,"click"],["class","modal-dialog",4,"ngIf"],[1,"popup-container"],[1,"btn-close",3,"click"],[1,"popup__form",3,"formGroup","ngSubmit"],[1,"column-container"],[1,"form__title"],["formControlName","type",1,"form__field","form__select"],[3,"ngValue",4,"ngFor","ngForOf"],["class","alert alert-danger",4,"ngIf"],["formControlName","expense",1,"form__field","form__select"],["type","date","formControlName","date","data-date-input","",1,"form__field","date"],["formControlName","categoryName",1,"form__field","form__select"],["formControlName","subCategoryName",1,"form__field","form__select"],["type","text","formControlName","description",1,"form__field"],[1,"row-container"],["type","number","formControlName","amount",1,"form__field"],["formControlName","currency",1,"form__field","form__select"],[1,"btn-submit"],[1,"modal-dialog"],[3,"ngValue"],[1,"alert","alert-danger"]],template:function(e,s){1&e&&(l.TgZ(0,"div",0),l.NdJ("click",function(){return s.handleHideClick()}),l.qZA(),l.YNc(1,wT,2,0,"div",1),l.TgZ(2,"div",2),l.TgZ(3,"button",3),l.NdJ("click",function(){return s.handleHideClick()}),l._uU(4,"X"),l.qZA(),l.TgZ(5,"form",4),l.NdJ("ngSubmit",function(){return s.submitForm()}),l.TgZ(6,"div",5),l.TgZ(7,"label",6),l._uU(8,"Type:"),l.qZA(),l.TgZ(9,"select",7),l.YNc(10,DT,2,2,"option",8),l.qZA(),l.YNc(11,IT,2,0,"div",9),l.qZA(),l.TgZ(12,"div",5),l.TgZ(13,"label",6),l._uU(14,"Actual/Planned"),l.qZA(),l.TgZ(15,"select",10),l.YNc(16,TT,2,2,"option",8),l.qZA(),l.YNc(17,AT,2,0,"div",9),l.qZA(),l.TgZ(18,"div",5),l.TgZ(19,"label",6),l._uU(20,"Date"),l.qZA(),l._UZ(21,"input",11),l.YNc(22,ST,2,0,"div",9),l.qZA(),l.TgZ(23,"div",5),l.TgZ(24,"label",6),l._uU(25,"Main category"),l.qZA(),l.TgZ(26,"select",12),l.YNc(27,MT,2,2,"option",8),l.qZA(),l.YNc(28,xT,2,0,"div",9),l.qZA(),l.TgZ(29,"div",5),l.TgZ(30,"label",6),l._uU(31,"Category"),l.qZA(),l.TgZ(32,"select",13),l.YNc(33,PT,2,2,"option",8),l.qZA(),l.YNc(34,RT,2,0,"div",9),l.qZA(),l.TgZ(35,"div",5),l.TgZ(36,"label",6),l._uU(37,"Description"),l.qZA(),l._UZ(38,"input",14),l.qZA(),l.TgZ(39,"div",15),l.TgZ(40,"div",5),l.TgZ(41,"label",6),l._uU(42,"Amount"),l.qZA(),l._UZ(43,"input",16),l.YNc(44,OT,2,0,"div",9),l.qZA(),l.TgZ(45,"div",5),l.TgZ(46,"label",6),l._uU(47,"Currency"),l.qZA(),l.TgZ(48,"select",17),l.YNc(49,NT,2,2,"option",8),l.qZA(),l.qZA(),l.qZA(),l.TgZ(50,"button",18),l._uU(51," Submit "),l.qZA(),l.qZA(),l.qZA()),2&e&&(l.xp6(1),l.Q6J("ngIf",s.isShow),l.xp6(4),l.Q6J("formGroup",s.form),l.xp6(5),l.Q6J("ngForOf",s.types),l.xp6(1),l.Q6J("ngIf",(s.formControl.type.touched||s.submitted)&&(null==s.formControl.type.errors?null:s.formControl.type.errors.required)),l.xp6(5),l.Q6J("ngForOf",s.expenses),l.xp6(1),l.Q6J("ngIf",(s.formControl.expense.touched||s.submitted)&&(null==s.formControl.expense.errors?null:s.formControl.expense.errors.required)),l.xp6(5),l.Q6J("ngIf",(s.formControl.date.touched||s.submitted)&&(null==s.formControl.date.errors?null:s.formControl.date.errors.required)),l.xp6(5),l.Q6J("ngForOf",s.categories),l.xp6(1),l.Q6J("ngIf",(s.formControl.categoryName.touched||s.submitted)&&(null==s.formControl.categoryName.errors?null:s.formControl.categoryName.errors.required)),l.xp6(5),l.Q6J("ngForOf",s.subCategories),l.xp6(1),l.Q6J("ngIf",(s.formControl.subCategoryName.touched||s.submitted)&&(null==s.formControl.subCategoryName.errors?null:s.formControl.subCategoryName.errors.required)),l.xp6(10),l.Q6J("ngIf",(s.formControl.amount.touched||s.submitted)&&(null==s.formControl.amount.errors?null:s.formControl.amount.errors.required)),l.xp6(5),l.Q6J("ngForOf",s.currencies))},directives:[tr,Ru,bl,Ou,_s,ds,ci,Sn,Nu,Oa,qs,Tl],styles:[".popup__background[_ngcontent-%COMP%]{width:100%;z-index:1;position:absolute;height:100%;filter:blur(8px)}.modal-dialog[_ngcontent-%COMP%]{top:0;left:20%;width:230px;height:100px;background-color:#08f26e;z-index:2000;position:absolute;font-size:19px;display:flex;justify-content:center;align-items:center}.popup-container[_ngcontent-%COMP%]{position:relative;z-index:1000;width:100%;min-height:100%;background-color:#fff;display:flex;justify-content:center;align-items:center}.popup__form[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:90%}.btn-close[_ngcontent-%COMP%]{position:absolute;top:0;right:0;border:none;border-radius:6px;background-color:#bc1010;padding:15px 20px;font-size:24px;font-weight:800;color:#fff}.btn-close[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.9}.column-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:90px}.row-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.form__field[_ngcontent-%COMP%]{background:#FFF;padding:9px 5px;border:1px solid #000;border-radius:6px;font-size:18px}.form__field[_ngcontent-%COMP%]:focus{outline:none}.form__select[_ngcontent-%COMP%]{scroll-behavior:smooth}.form__title[_ngcontent-%COMP%]{font-size:20px;font-weight:400}.btn-submit[_ngcontent-%COMP%]{width:160px;align-self:center;padding:15px;margin-top:10px;border:none;border-radius:3px;background-color:#25a779;font-size:18px;font-weight:600;color:#fff}.btn-submit[_ngcontent-%COMP%]:hover{opacity:.8;cursor:pointer}.alert[_ngcontent-%COMP%]{color:#bc1010}.date[_ngcontent-%COMP%]{width:auto}@media (min-width:1200px){.popup-container[_ngcontent-%COMP%]{width:90%;min-height:90%;border-radius:6px;box-shadow:#00000029 0 10px 36px,#0000000f 0 0 0 1px}.modal-dialog[_ngcontent-%COMP%]{left:40%}}@media (min-width: 600px){.btn-close[_ngcontent-%COMP%]{padding:10px 17px}.row-container[_ngcontent-%COMP%]{justify-content:left}.modal-dialog[_ngcontent-%COMP%]{left:40%}}@media (max-height: 740px){.popup__form[_ngcontent-%COMP%]{margin-top:50px}}"]}),n})(),Bw=(()=>{class n{constructor(){this.appColors={lastUsed:0,0:"#fd7fe2",1:"#D8BAFF",2:"#7D91F6",3:"#FC9999",4:"#DEFF80",5:"#A1FFC7",6:"#FDFF9F",7:"#A8D3FB",8:"#FBD5A8",9:"#A8F6FB",next(){this.lastUsed=(this.lastUsed+1)%10}}}takeNewColor(){return this.appColors.next(),this.appColors[this.appColors.lastUsed]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),VC=(()=>{class n{customReduce(e,s,a,d){let g=[];return g=d?e.filter(y=>y.expense.value===a).filter(y=>y.type.value===s).filter(y=>new Date(y.date).getMonth()===d.getMonth()).reduce((y,w)=>{const S=y.findIndex(H=>H.categoryName===w.categoryName);return S>=0?(y[S].amount+=w.amount,y):(y.push(w),y)},[]):e.filter(y=>y.expense.value===a).filter(y=>y.type.value===s).reduce((y,w)=>{const S=y.findIndex(H=>H.categoryName===w.categoryName);return S>=0?(y[S].amount+=w.amount,y):(y.push(w),y)},[]),g}reduceByCategory(e){let s=[];return e.reduce((a,d)=>{const g=a.findIndex(y=>y.categoryName===d.categoryName);return g>=0?(a[g].value+=d.amount,a):(a.push({categoryName:d.categoryName,value:d.amount,flow:d.type.value}),a)},s),s}customReduceByMonth(e){const s=[{title:"January",value:1,total:0},{title:"February",value:2,total:0},{title:"March",value:3,total:0},{title:"April",value:4,total:0},{title:"May",value:5,total:0},{title:"June",value:6,total:0},{title:"July",value:7,total:0},{title:"August",value:8,total:0},{title:"September",value:9,total:0},{title:"October",value:10,total:0},{title:"November",value:11,total:0},{title:"December",value:12,total:0}];return e.reduce((a,d)=>{const g=a.findIndex(y=>y.value===new Date(d.date).getMonth()+1);return g>=0&&(a[g].total+=d.amount),a},s),s}biggestCategoryAmount(e,s,a,d){const g=this.customReduce(e,s,a,d);return void 0===this.customSort(g)[0]?0:this.customSort(g)[0].amount}customSort(e){return e.sort((s,a)=>a.amount-s.amount)}filterByYear(e,s){return e.filter(a=>new Date(a.date).getFullYear()===s)}filterByMonth(e,s){return e.filter(a=>new Date(a.date).getMonth()+1===s)}filterByFlow(e,s){return e.filter(a=>a.type.value===s)}filterByPlanActual(e,s){return e.filter(a=>a.expense.value===s)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function FT(n,t){1&n&&l._UZ(0,"span")}function LT(n,t){if(1&n&&(l.TgZ(0,"span",11),l._uU(1),l.TgZ(2,"span",12),l._uU(3,"PRO ver."),l.qZA(),l._uU(4," )"),l.qZA()),2&n){const e=l.oxw().$implicit;l.xp6(1),l.hij(" ",e.title,"( ")}}function UT(n,t){if(1&n&&(l.TgZ(0,"span",13),l._uU(1),l.qZA()),2&n){const e=l.oxw().$implicit,s=l.oxw();l.ekj("header-menu__link_active",s.selected===e.title),l.xp6(1),l.Oqu(e.title)}}function VT(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"li",7),l.NdJ("click",function(){const d=l.CHM(e).$implicit;return l.oxw().select(d)}),l.YNc(1,FT,1,0,"span",8),l.YNc(2,LT,5,1,"ng-template",null,9,l.W1O),l.YNc(4,UT,2,3,"ng-template",null,10,l.W1O),l.qZA()}if(2&n){const e=t.$implicit,s=l.MAs(3),a=l.MAs(5);l.xp6(1),l.Q6J("ngIf","#"===e.url)("ngIfThen",s)("ngIfElse",a)}}let BT=(()=>{class n{constructor(e,s){this.router=e,this.element=s,this.selected="",this.status=!1,this.elements=[{title:"Main page",url:""},{title:"Costs analysis",url:"monitoring"},{title:"Categories",url:"#"},{title:"Last transaction",url:"archive"},{title:"Cash flow report",url:"report"},{title:"Goals",url:"goals"}]}toggle(){this.status=!this.status}ngOnInit(){}select(e){this.selected=e.title,this.router.navigateByUrl(e.url).then()}hideMenu(){}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(ni),l.Y36(l.SBq))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-menu"]],decls:7,vars:2,consts:[[1,"header-navigation"],[1,"header-menu",3,"ngClass","click"],["class","header-menu__item",3,"click",4,"ngFor","ngForOf"],["type","button","data-menu-switcher-btn","1",1,"header-menu__switcher","switcher",3,"click"],["data-cross-line-1","",1,"switcher__cross-line"],["data-cross-line-2","",1,"switcher__cross-line"],["data-cross-line-3","",1,"switcher__cross-line"],[1,"header-menu__item",3,"click"],[4,"ngIf","ngIfThen","ngIfElse"],["thenBlock",""],["elseBlock",""],[1,"header-menu__link","header-menu__link--disable"],[1,"purchase"],[1,"header-menu__link"]],template:function(e,s){1&e&&(l.TgZ(0,"nav",0),l.TgZ(1,"ul",1),l.NdJ("click",function(){return s.toggle()}),l.YNc(2,VT,6,3,"li",2),l.qZA(),l.TgZ(3,"button",3),l.NdJ("click",function(){return s.toggle()}),l._UZ(4,"span",4),l._UZ(5,"span",5),l._UZ(6,"span",6),l.qZA(),l.qZA()),2&e&&(l.xp6(1),l.Q6J("ngClass",s.status?"":"header-menu--hide"),l.xp6(1),l.Q6J("ngForOf",s.elements))},directives:[_i,Sn,tr],styles:[".header-menu[_ngcontent-%COMP%]{position:fixed;z-index:1;top:0;left:0;width:100%;height:100%;margin:0;padding:0;box-sizing:border-box;display:flex;justify-content:center;align-items:center;flex-flow:wrap;flex-direction:column;background-color:#0a0a0ab3}.header-menu--hide[_ngcontent-%COMP%]{display:none}.header-menu__item[_ngcontent-%COMP%]{list-style:none;padding:20px;cursor:pointer}.header-menu__link[_ngcontent-%COMP%]{color:#fff;text-decoration:none;font-family:Arial,Helvetica,sans-serif;font-size:30px}.header-menu__item[_ngcontent-%COMP%]:hover   .header-menu__link[_ngcontent-%COMP%]{color:#25a779}.header-menu__switcher[_ngcontent-%COMP%]{padding:10px 0;margin:0;height:50px;width:50px;display:flex;justify-content:space-around;align-items:center;flex-flow:column;border:2px solid #373737;border-radius:30px;background-color:#fff}.header-menu__switcher[_ngcontent-%COMP%]:hover{box-shadow:0 0 5px;cursor:pointer}.switcher__cross-line[_ngcontent-%COMP%]{display:inline-block;width:30px;height:3px;border-radius:2px;background-color:#373737}.purchase[_ngcontent-%COMP%]{color:#25a779}.header-menu__link--disable[_ngcontent-%COMP%]{color:#9e9e9e}"]}),n})();function jT(n,t){if(1&n){const e=l.EpF();l.O4$(),l.kcU(),l.TgZ(0,"div",10),l.TgZ(1,"h2",11),l._uU(2,"Set your start balance:"),l.qZA(),l.TgZ(3,"div",12),l.NdJ("click",function(){return l.CHM(e),l.oxw().showModalBalance=!1}),l._uU(4,"\xd7"),l.qZA(),l.TgZ(5,"div",13),l.TgZ(6,"label",14),l._uU(7,"date:"),l.qZA(),l.TgZ(8,"input",15),l.NdJ("ngModelChange",function(a){return l.CHM(e),l.oxw().selectedBalanceDate=a}),l.qZA(),l.qZA(),l.TgZ(9,"div",13),l.TgZ(10,"label",16),l._uU(11,"amount:"),l.qZA(),l.TgZ(12,"input",17),l.NdJ("ngModelChange",function(a){return l.CHM(e),l.oxw().selectedBalanceAmount=a}),l.qZA(),l.qZA(),l.TgZ(13,"div",13),l.TgZ(14,"label",18),l._uU(15,"currency:"),l.qZA(),l.TgZ(16,"select",19),l.NdJ("ngModelChange",function(a){return l.CHM(e),l.oxw().selectedBalanceCurr=a}),l.TgZ(17,"option",20),l._uU(18,"UAH"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(19,"button",21),l.NdJ("click",function(){return l.CHM(e),l.oxw().setBalance()}),l._uU(20,"save"),l.qZA(),l.qZA()}if(2&n){const e=l.oxw();l.xp6(8),l.Q6J("ngModel",e.selectedBalanceDate),l.xp6(4),l.Q6J("ngModel",e.selectedBalanceAmount),l.xp6(4),l.Q6J("ngModel",e.selectedBalanceCurr)}}let HT=(()=>{class n{constructor(e,s,a,d){this.choseHighlightColor=e,this.restApiService=s,this.transactionsService=a,this.auth=d,this.selectedBalanceAmount=NaN,this.selectedBalanceDate="",this.selectedBalanceCurr="UAH",this.transactions=[],this.data=[],this.startBalance={amount:NaN,currency:"",dateString:""},this.curBalance={amount:0,currency:"UAH",dateString:(new Date).toDateString()},this.color="",this.showModalBalance=!1,this.currDate=new Date}ngOnInit(){this.color=this.choseHighlightColor.takeNewColor(),this.restApiService.getTransactions().snapshotChanges().subscribe(e=>{this.restApiService.getBalance().snapshotChanges().subscribe(s=>{let a={amount:0,dateString:"",currency:""};s.payload.toJSON()&&(a=s.payload.toJSON()),this.startBalance=a,this.selectedBalanceDate=a.dateString,this.selectedBalanceAmount=a.amount,this.data=[],e.forEach(y=>{this.data.push(y.payload.toJSON())});const d=this.getTotalFilteringTransactions(this.data,"income",this.startBalance),g=this.getTotalFilteringTransactions(this.data,"costs",this.startBalance);this.curBalance.amount=this.startBalance.amount+d-g})})}getTotalFilteringTransactions(e,s,a){return this.transactionsService.customReduce(e,s,"actual").reduce((g,y)=>{const w=new Date(y.date);return w>=new Date(a.dateString)&&w<=this.currDate?g+=y.amount:g},0)}setBalance(){this.startBalance.amount=this.selectedBalanceAmount,this.startBalance.dateString=this.selectedBalanceDate,this.startBalance.currency=this.selectedBalanceCurr,this.restApiService.setBalance(this.startBalance),this.showModalBalance=!1}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Bw),l.Y36(tu),l.Y36(VC),l.Y36(Vw))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-header"]],decls:14,vars:6,consts:[[1,"header"],[1,"balance",3,"click"],[1,"balance__text"],[1,"balance__amount"],[1,"logout-user",3,"click"],["version","1.1","id","Capa_1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","x","0px","y","0px","viewBox","0 0 384.971 384.971",0,"xml","space","preserve",1,"svg--out",2,"enable-background","new 0 0 384.971 384.971"],["id","Sign_Out"],["d","M180.455,360.91H24.061V24.061h156.394c6.641,0,12.03-5.39,12.03-12.03s-5.39-12.03-12.03-12.03H12.03\n  C5.39,0.001,0,5.39,0,12.031V372.94c0,6.641,5.39,12.03,12.03,12.03h168.424c6.641,0,12.03-5.39,12.03-12.03\n  C192.485,366.299,187.095,360.91,180.455,360.91z"],["d","M381.481,184.088l-83.009-84.2c-4.704-4.752-12.319-4.74-17.011,0c-4.704,4.74-4.704,12.439,0,17.179l62.558,63.46H96.279\n  c-6.641,0-12.03,5.438-12.03,12.151c0,6.713,5.39,12.151,12.03,12.151h247.74l-62.558,63.46c-4.704,4.752-4.704,12.439,0,17.179\n  c4.704,4.752,12.319,4.752,17.011,0l82.997-84.2C386.113,196.588,386.161,188.756,381.481,184.088z"],["class","balance__modal form",4,"ngIf"],[1,"balance__modal","form"],[1,"form__title"],[1,"form__button-close",3,"click"],[1,"form__item"],["for","blDate",1,"form__label"],["type","date","id","blDate","name","blDate",1,"form__field",3,"ngModel","ngModelChange"],["for","blAmount",1,"form__label"],["type","number","id","blAmount","name","blAmount",1,"form__field",3,"ngModel","ngModelChange"],["for","blCurrency",1,"form__label"],["id","blCurrency","name","blCurrency",1,"form__field",3,"ngModel","ngModelChange"],["value","UAH"],["type","button",1,"form__submit",3,"click"]],template:function(e,s){1&e&&(l.TgZ(0,"header",0),l._UZ(1,"app-menu"),l.TgZ(2,"div",1),l.NdJ("click",function(){return s.showModalBalance=!0}),l.TgZ(3,"span",2),l._uU(4,"Balance:"),l.qZA(),l.TgZ(5,"span",3),l._uU(6),l.ALo(7,"currency"),l.qZA(),l.qZA(),l.TgZ(8,"div",4),l.NdJ("click",function(){return s.auth.signOut()}),l.O4$(),l.TgZ(9,"svg",5),l.TgZ(10,"g",6),l._UZ(11,"path",7),l._UZ(12,"path",8),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.YNc(13,jT,21,3,"div",9)),2&e&&(l.xp6(6),l.hij(" ",l.Dn7(7,2,s.curBalance.amount,"UAH","symbol-narrow")," "),l.xp6(7),l.Q6J("ngIf",s.showModalBalance))},directives:[BT,tr,qs,ds,Il,Tl,_s,Nu,Oa],pipes:[Ji],styles:[".header[_ngcontent-%COMP%]{position:relative;padding:15px;margin:auto;box-sizing:border-box;display:flex;justify-content:space-between;align-items:center}.balance[_ngcontent-%COMP%], .login-user[_ngcontent-%COMP%]{display:flex;flex-flow:column;justify-content:space-between;align-items:center;padding:5px}.balance[_ngcontent-%COMP%]{border:2px solid black;border-radius:7px;width:150px;font-size:20px;font-weight:500}.balance[_ngcontent-%COMP%]:hover, .login-user[_ngcontent-%COMP%]:hover{background-color:#28bc89;box-shadow:0 0 5px;cursor:pointer}.logout-user[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;background-color:#f2fbfa;padding:15px;border-radius:50%;border:2px solid black}.svg--out[_ngcontent-%COMP%]{height:20px;width:20px}.logout-user[_ngcontent-%COMP%]:hover{box-shadow:0 0 5px;cursor:pointer;opacity:.9}.balance__modal[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);width:340px;margin:auto;padding:5px;box-sizing:border-box;box-shadow:0 0 5px;border:1px solid black;background-color:#fff}.form__field[_ngcontent-%COMP%], .form__label[_ngcontent-%COMP%]{font-size:18px}.form__item[_ngcontent-%COMP%]{padding:10px}.form__label[_ngcontent-%COMP%]{display:inline-block;width:100px}.form__field[_ngcontent-%COMP%]{margin:0;padding:5px;width:180px;height:40px;box-sizing:border-box}.form__submit[_ngcontent-%COMP%]{display:block;margin:20px auto;padding:7px 30px;border-radius:5px;border:none;background-color:#25a779;font-size:18px}.form__submit[_ngcontent-%COMP%]:hover{box-shadow:0 0 2px;cursor:pointer;background-color:#08f26e}.form__title[_ngcontent-%COMP%]{width:100%;border-bottom:3px solid #25A779}.form__button-close[_ngcontent-%COMP%]{position:absolute;width:25px;height:25px;top:10px;right:10px;background-color:#bc1010;border-radius:5px;text-align:center;font-size:30px;line-height:25px}.form__button-close[_ngcontent-%COMP%]:hover{background-color:#ff1515;cursor:pointer}"]}),n})();function $T(n,t){1&n&&l._UZ(0,"div")}function ZT(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"div",3),l.O4$(),l.TgZ(1,"svg",4),l.TgZ(2,"g"),l.TgZ(3,"g"),l.TgZ(4,"g"),l._UZ(5,"path",5),l._UZ(6,"path",6),l._UZ(7,"path",7),l._UZ(8,"path",8),l._UZ(9,"path",9),l._UZ(10,"path",10),l._UZ(11,"path",11),l._UZ(12,"path",12),l._UZ(13,"path",13),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.kcU(),l.TgZ(14,"h2",14),l._uU(15,"Welcome to: "),l._UZ(16,"br"),l.TgZ(17,"span",15),l._uU(18,'"Cash flow control"'),l.qZA(),l.qZA(),l.TgZ(19,"div",16),l.TgZ(20,"q"),l._uU(21,"Monitoring and control"),l._UZ(22,"br"),l._uU(23," of your personal cash flow"),l.qZA(),l.qZA(),l.TgZ(24,"div",17),l._uU(25,"Login to get started"),l.qZA(),l.TgZ(26,"button",18),l.NdJ("click",function(){return l.CHM(e),l.oxw().auth.googleSignin()}),l.O4$(),l.TgZ(27,"svg",19),l._UZ(28,"path",20),l._UZ(29,"path",21),l._UZ(30,"path",22),l._UZ(31,"path",23),l.qZA(),l._uU(32," Login with Google "),l.qZA(),l.qZA()}}function WT(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"app-popup-form",29),l.NdJ("handleHide",function(){return l.CHM(e),l.oxw(2).hide()}),l.qZA()}}function GT(n,t){if(1&n){const e=l.EpF();l.YNc(0,WT,1,0,"app-popup-form",24),l.TgZ(1,"button",25),l.NdJ("click",function(){return l.CHM(e),l.oxw().show()}),l._uU(2,"+"),l.qZA(),l.TgZ(3,"header",26),l._UZ(4,"app-header",27),l.qZA(),l._UZ(5,"router-outlet",28)}if(2&n){const e=l.oxw();l.Q6J("ngIf",e.isShow)}}let zT=(()=>{class n{constructor(e,s){this.element=e,this.auth=s,this.title="my-finance-app",this.isShow=!1}show(){this.isShow=!0}hide(){this.isShow=!1,this.element.nativeElement.closest("body").style.overflow="auto"}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(Vw))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-root"]],decls:6,vars:5,consts:[[4,"ngIf","ngIfThen","ngIfElse"],["guest",""],["authenticated",""],[1,"main__login"],["version","1.1","id","Layer_1","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","x","0px","y","0px","viewBox","0 0 512 512",0,"xml","space","preserve",1,"login__svg",2,"enable-background","new 0 0 512 512"],["d","M344.277,343.424c-0.819,0.708-20.011,17.707-20.011,49.109V435.2c0,4.71,3.814,8.533,8.533,8.533\n                    c4.719,0,8.533-3.823,8.533-8.533v-42.667c0-23.33,13.594-35.738,14.566-36.634l59.733-59.733\n                    c3.388-3.388,7.612-5.35,11.895-5.521c4.352-0.188,8.09,1.382,11.204,4.488c3.106,3.115,4.668,6.989,4.489,11.204\n                    c-0.171,4.284-2.133,8.508-5.521,11.895L395.034,360.9c-3.337,3.337-3.337,8.73,0,12.066c3.336,3.337,8.73,3.337,12.066,0\n                    l42.667-42.658c6.426-6.426,10.155-14.694,10.513-23.279c0.367-8.969-2.995-17.485-9.481-23.962\n                    c-6.485-6.477-14.891-9.813-23.97-9.481c-8.576,0.358-16.845,4.087-23.262,10.513L344.277,343.424z"],["d","M93.867,435.2c2.185,0,4.369-0.836,6.033-2.5c3.337-3.337,3.337-8.73,0-12.066l-68.753-68.71\n                    c-0.572-0.503-14.08-12.553-14.08-36.19v-128c0-9.412,7.654-17.067,17.067-17.067c9.412,0,17.067,7.654,17.067,17.067v67.558\n                    c0,4.71,3.814,8.533,8.533,8.533s8.533-3.823,8.533-8.533v-67.558c0-18.825-15.309-34.133-34.133-34.133\n                    C15.309,153.6,0,168.909,0,187.733v128c0,31.863,19.277,48.495,19.567,48.7L87.834,432.7\n                    C89.498,434.364,91.682,435.2,93.867,435.2z"],["d","M51.721,307.029c0.358,8.585,4.087,16.853,10.513,23.27l42.667,42.667c3.337,3.337,8.73,3.337,12.066,0\n                    c3.336-3.337,3.336-8.73,0-12.066L74.3,318.225c-3.388-3.379-5.35-7.603-5.521-11.887c-0.179-4.215,1.382-8.09,4.489-11.204\n                    c3.115-3.106,6.878-4.676,11.204-4.488c4.284,0.171,8.508,2.133,11.895,5.521l60.134,60.109\n                    c0.572,0.521,14.165,12.928,14.165,36.258V435.2c0,4.71,3.814,8.533,8.533,8.533s8.533-3.823,8.533-8.533v-42.667\n                    c0-31.403-19.191-48.401-19.567-48.7L108.433,284.1c-6.417-6.426-14.686-10.155-23.262-10.513\n                    c-9.114-0.316-17.493,3.004-23.97,9.481C54.716,289.545,51.354,298.061,51.721,307.029z"],["d","M256,110.933c9.412,0,17.067,7.654,17.067,17.067c0,4.71,3.814,8.533,8.533,8.533c4.719,0,8.533-3.823,8.533-8.533\n                    c0-15.855-10.914-29.107-25.6-32.922v-1.212c0-4.71-3.814-8.533-8.533-8.533s-8.533,3.823-8.533,8.533v1.212\n                    c-14.686,3.814-25.6,17.067-25.6,32.922c0,18.825,15.309,34.133,34.133,34.133c9.412,0,17.067,7.654,17.067,17.067\n                    s-7.654,17.067-17.067,17.067c-9.412,0-17.067-7.654-17.067-17.067c0-4.71-3.814-8.533-8.533-8.533s-8.533,3.823-8.533,8.533\n                    c0,15.855,10.914,29.107,25.6,32.922v1.212c0,4.71,3.814,8.533,8.533,8.533s8.533-3.823,8.533-8.533v-1.212\n                    c14.686-3.814,25.6-17.067,25.6-32.922c0-18.825-15.309-34.133-34.133-34.133c-9.412,0-17.067-7.654-17.067-17.067\n                    C238.933,118.588,246.588,110.933,256,110.933z"],["d","M196.267,460.8H59.733c-4.719,0-8.533,3.823-8.533,8.533v34.133c0,4.71,3.814,8.533,8.533,8.533s8.533-3.823,8.533-8.533\n                    v-25.6h119.467v25.6c0,4.71,3.814,8.533,8.533,8.533s8.533-3.823,8.533-8.533v-34.133C204.8,464.623,200.986,460.8,196.267,460.8\n                    z"],["d","M452.267,460.8H315.733c-4.719,0-8.533,3.823-8.533,8.533v34.133c0,4.71,3.814,8.533,8.533,8.533\n                    s8.533-3.823,8.533-8.533v-25.6h119.467v25.6c0,4.71,3.814,8.533,8.533,8.533c4.719,0,8.533-3.823,8.533-8.533v-34.133\n                    C460.8,464.623,456.986,460.8,452.267,460.8z"],["d","M256,34.133c-65.877,0-119.467,53.589-119.467,119.467S190.123,273.067,256,273.067S375.467,219.477,375.467,153.6\n                    S321.877,34.133,256,34.133z M256,256c-56.465,0-102.4-45.935-102.4-102.4c0-56.465,45.935-102.4,102.4-102.4\n                    s102.4,45.935,102.4,102.4C358.4,210.065,312.465,256,256,256z"],["d","M477.867,153.6c-18.825,0-34.133,15.309-34.133,34.133v67.558c0,4.71,3.814,8.533,8.533,8.533\n                    c4.719,0,8.533-3.823,8.533-8.533v-67.558c0-9.412,7.654-17.067,17.067-17.067s17.067,7.654,17.067,17.067v128\n                    c0,23.637-13.508,35.686-14.566,36.634L412.1,420.634c-3.337,3.337-3.337,8.73,0,12.066c1.664,1.664,3.849,2.5,6.033,2.5\n                    c2.185,0,4.369-0.836,6.033-2.5l67.738-67.78c0.819-0.691,20.096-17.323,20.096-49.186v-128\n                    C512,168.909,496.691,153.6,477.867,153.6z"],["d","M409.6,153.6C409.6,68.907,340.693,0,256,0S102.4,68.907,102.4,153.6S171.307,307.2,256,307.2S409.6,238.293,409.6,153.6\n                    z M256,290.133c-75.281,0-136.533-61.252-136.533-136.533S180.719,17.067,256,17.067S392.533,78.319,392.533,153.6\n                    S331.281,290.133,256,290.133z"],[1,"title"],[1,"title__app-name"],[1,"sub__title"],[1,"login__title"],[1,"btn-login",3,"click"],["width","24px","height","24px","viewBox","0 0 24 24","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink",1,"btn-svg"],["fill","#EA4335 ","d","M5.26620003,9.76452941 C6.19878754,6.93863203 8.85444915,4.90909091 12,4.90909091 C13.6909091,4.90909091 15.2181818,5.50909091 16.4181818,6.49090909 L19.9090909,3 C17.7818182,1.14545455 15.0545455,0 12,0 C7.27006974,0 3.1977497,2.69829785 1.23999023,6.65002441 L5.26620003,9.76452941 Z"],["fill","#34A853","d","M16.0407269,18.0125889 C14.9509167,18.7163016 13.5660892,19.0909091 12,19.0909091 C8.86648613,19.0909091 6.21911939,17.076871 5.27698177,14.2678769 L1.23746264,17.3349879 C3.19279051,21.2936293 7.26500293,24 12,24 C14.9328362,24 17.7353462,22.9573905 19.834192,20.9995801 L16.0407269,18.0125889 Z"],["fill","#4A90E2","d","M19.834192,20.9995801 C22.0291676,18.9520994 23.4545455,15.903663 23.4545455,12 C23.4545455,11.2909091 23.3454545,10.5272727 23.1818182,9.81818182 L12,9.81818182 L12,14.4545455 L18.4363636,14.4545455 C18.1187732,16.013626 17.2662994,17.2212117 16.0407269,18.0125889 L19.834192,20.9995801 Z"],["fill","#FBBC05","d","M5.27698177,14.2678769 C5.03832634,13.556323 4.90909091,12.7937589 4.90909091,12 C4.90909091,11.2182781 5.03443647,10.4668121 5.26620003,9.76452941 L1.23999023,6.65002441 C0.43658717,8.26043162 0,10.0753848 0,12 C0,13.9195484 0.444780743,15.7301709 1.23746264,17.3349879 L5.27698177,14.2678769 Z"],["class","popup",3,"handleHide",4,"ngIf"],[1,"btn-add",3,"click"],[1,"header"],[1,"header__bar"],[1,"main"],[1,"popup",3,"handleHide"]],template:function(e,s){if(1&e&&(l.YNc(0,$T,1,0,"div",0),l.ALo(1,"async"),l.YNc(2,ZT,33,0,"ng-template",null,1,l.W1O),l.YNc(4,GT,6,1,"ng-template",null,2,l.W1O)),2&e){const a=l.MAs(3),d=l.MAs(5);l.Q6J("ngIf",l.lcZ(1,3,s.auth.user$))("ngIfThen",d)("ngIfElse",a)}},directives:[tr,kT,HT,C],pipes:[nl],styles:[".main__login[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;align-items:center;position:absolute;top:40%;left:50%;transform:translate(-50%,-50%);width:100%;height:55%}.btn-login[_ngcontent-%COMP%]{margin-top:10px;display:flex;align-items:center;justify-content:space-around;width:200px;border:1px solid #373737;border-radius:16px;background:transparent;padding:5px;font-size:16px}.btn-login[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.9}.title[_ngcontent-%COMP%]{text-align:center}.title__app-name[_ngcontent-%COMP%]{display:block;font-size:26px;color:#25a779}.sub__title[_ngcontent-%COMP%]{padding:20px 0;width:70%;text-align:center;font-size:20px}.login__title[_ngcontent-%COMP%]{padding:10px 0;font-size:22px}.login__svg[_ngcontent-%COMP%]{height:150px;width:150px;fill:#25a779}.header[_ngcontent-%COMP%]{position:sticky;top:0;background-color:#25a779;z-index:999}.btn-add[_ngcontent-%COMP%]{position:fixed;bottom:20px;right:20px;border:none;border-radius:50%;background-color:#25a779;padding:10px 17px;font-size:24px}.btn-add[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.9}.popup[_ngcontent-%COMP%]{position:fixed;overflow:auto;z-index:1000;top:0;left:0;height:100%;width:100%}@media only screen and (min-width: 1200px){.popup[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}}"]}),n})(),qT=(()=>{class n{constructor(){this.transitions=[]}monitoringInfo(e){return this.transitions=[],e.forEach(s=>{"actual"===s.expense.value&&this.transitions.push(s)}),this.transitions}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function YT(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"div",11),l.NdJ("click",function(){return l.CHM(e),l.oxw().hide()}),l.qZA()}}const pI=function(n){return{background:n}};function KT(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"div",12),l.TgZ(1,"button",13),l.NdJ("click",function(){return l.CHM(e),l.oxw().hide()}),l._uU(2,"x"),l.qZA(),l.TgZ(3,"div",14),l.TgZ(4,"div",15),l.TgZ(5,"div",16),l._UZ(6,"div",17),l.TgZ(7,"div",18),l._uU(8),l.qZA(),l.qZA(),l.TgZ(9,"div",19),l._uU(10),l.qZA(),l.TgZ(11,"div"),l._uU(12),l.qZA(),l.TgZ(13,"div",19),l._uU(14),l.qZA(),l.TgZ(15,"div",20),l.TgZ(16,"div",21),l._uU(17),l.qZA(),l.TgZ(18,"div",22),l._uU(19),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.TgZ(20,"button",23),l.NdJ("click",function(){l.CHM(e);const a=l.oxw();return a.delete(a.card.$key)}),l._uU(21,"Delete"),l.qZA(),l.qZA()}if(2&n){const e=l.oxw();l.xp6(6),l.Q6J("ngStyle",l.VKq(7,pI,"income"===e.card.type.title?"#2ABF8B":"#FD3A30")),l.xp6(2),l.hij(" ",e.card.type.title," "),l.xp6(2),l.hij(" Category: ",e.card.subCategoryName," "),l.xp6(2),l.hij(" Date: ",e.card.date," "),l.xp6(2),l.hij(" Description: ",e.card.description," "),l.xp6(3),l.hij(" Amount: ",e.card.amount," "),l.xp6(2),l.hij(" ",e.card.currency.title," ")}}let QT=(()=>{class n{constructor(e,s){this.RestApiService=e,this.element=s,this.isShow=!1}ngOnInit(){}show(){this.isShow=!0,this.element.nativeElement.closest("body").style.overflow="hidden"}hide(){this.isShow=!1,this.element.nativeElement.closest("body").style.overflow="auto"}delete(e){this.RestApiService.deleteTransaction(e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(tu),l.Y36(l.SBq))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-card"]],inputs:{card:"card"},decls:15,vars:9,consts:[[1,"card",3,"click"],[1,"card__group-one"],[1,"card__group-two"],[1,"card__indicator",3,"ngStyle"],[1,"card__money"],[1,"money__amount"],[1,"money__curency"],[1,"card__category"],[1,"card_date"],["class","modal__back",3,"click",4,"ngIf"],["class","card__modal",4,"ngIf"],[1,"modal__back",3,"click"],[1,"card__modal"],[1,"btn-close",3,"click"],[1,"modal__group"],[1,"group__info"],[1,"info__type"],[1,"modal__indicator",3,"ngStyle"],[1,"type__title"],[1,"row-container"],[1,"info__money","row-container"],[1,"info__amount"],[1,"info__curency"],[1,"btn-del",3,"click"]],template:function(e,s){1&e&&(l.TgZ(0,"div",0),l.NdJ("click",function(){return s.show()}),l._UZ(1,"div",1),l.TgZ(2,"div",2),l._UZ(3,"div",3),l.TgZ(4,"div",4),l.TgZ(5,"div",5),l._uU(6),l.qZA(),l.TgZ(7,"div",6),l._uU(8),l.qZA(),l.qZA(),l.qZA(),l.TgZ(9,"div",7),l._uU(10),l.qZA(),l.TgZ(11,"div",8),l._uU(12),l.qZA(),l.qZA(),l.YNc(13,YT,1,0,"div",9),l.YNc(14,KT,22,9,"div",10)),2&e&&(l.xp6(3),l.Q6J("ngStyle",l.VKq(7,pI,"income"===s.card.type.title?"#2ABF8B":"#FD3A30")),l.xp6(3),l.hij(" ",s.card.amount," "),l.xp6(2),l.hij(" ",s.card.currency.title," "),l.xp6(2),l.Oqu(s.card.subCategoryName),l.xp6(2),l.Oqu(s.card.date),l.xp6(1),l.Q6J("ngIf",s.isShow),l.xp6(1),l.Q6J("ngIf",s.isShow))},directives:[oa,tr],styles:[".card[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-around;width:100%;border:solid 1px #EFEFEF;box-shadow:0 0 5px .5px #ebe9e9;height:50px}.card__indicator[_ngcontent-%COMP%]{padding:10px;border-radius:50%}.card__group-two[_ngcontent-%COMP%]{display:flex;justify-content:space-around;width:35%}.card__money[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:50%;font-weight:600}.card__category[_ngcontent-%COMP%]{width:35%}.modal__back[_ngcontent-%COMP%]{position:absolute;top:0;width:100%;height:100%}.card__modal[_ngcontent-%COMP%]{position:absolute;display:flex;justify-content:center;align-items:center;top:30%;height:300px;width:90%;background:#FFF;border:1px solid #373737;z-index:500}.modal__group[_ngcontent-%COMP%]{position:relative;width:90%}.row-container[_ngcontent-%COMP%]{padding:5px 0}.info__type[_ngcontent-%COMP%]{display:flex;align-items:center;padding:10px 0}.modal__indicator[_ngcontent-%COMP%]{padding:20px;border-radius:50%}.type__title[_ngcontent-%COMP%]{padding:0 10px}.btn-close[_ngcontent-%COMP%]{position:absolute;top:0;right:0;background:#BC1010;padding:5px 14px;font-size:30px;color:#fff;border:none}.group__info[_ngcontent-%COMP%]{display:flex;flex-direction:column;font-size:20px}.info__money[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.btn-del[_ngcontent-%COMP%]{position:absolute;right:5px;bottom:5px;color:#bc1010;padding:10px 15px;background:#FFF;border:1px solid #373737;font-size:16px;font-weight:600;border-radius:18px}.btn-close[_ngcontent-%COMP%]:hover{cursor:pointer}@media (min-width:1200px){.card[_ngcontent-%COMP%]{flex-direction:row;justify-content:space-around;height:50px}.card__modal[_ngcontent-%COMP%]{width:55%}.card__group-two[_ngcontent-%COMP%], .card__category[_ngcontent-%COMP%]{width:35%}}@media (min-width:768px){.card[_ngcontent-%COMP%]{flex-direction:row;justify-content:space-around;height:50px}.card__group-two[_ngcontent-%COMP%], .card__category[_ngcontent-%COMP%]{width:35%}}@media (min-width:600px){.card[_ngcontent-%COMP%]{flex-direction:row;justify-content:space-around;height:50px}.card__group-two[_ngcontent-%COMP%], .card__category[_ngcontent-%COMP%]{width:35%}}@media (min-width:520px){.card[_ngcontent-%COMP%]{flex-direction:row;justify-content:space-around;height:50px}.card__group-two[_ngcontent-%COMP%], .card__category[_ngcontent-%COMP%]{width:35%}}"]}),n})();function JT(n,t){1&n&&l._UZ(0,"app-card",2),2&n&&l.Q6J("card",t.$implicit)}let XT=(()=>{class n{constructor(e,s){this.RestApiService=e,this.MonitoringInfoService=s,this.data=[],this.transactions=[]}getTransaction(){this.RestApiService.getTransactions().snapshotChanges().subscribe(e=>{this.data=[],e.forEach(s=>{let a;a=s.payload.toJSON(),a.$key=s.key,this.data.push(a)}),this.transactions=this.MonitoringInfoService.monitoringInfo(this.data)})}ngOnInit(){this.getTransaction()}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(tu),l.Y36(qT))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-transaction-archive"]],decls:2,vars:1,consts:[[1,"transaction"],["class","transaction-card",3,"card",4,"ngFor","ngForOf"],[1,"transaction-card",3,"card"]],template:function(e,s){1&e&&(l.TgZ(0,"div",0),l.YNc(1,JT,1,1,"app-card",1),l.qZA()),2&e&&(l.xp6(1),l.Q6J("ngForOf",s.transactions))},directives:[Sn,QT],styles:[".transaction[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.transaction-card[_ngcontent-%COMP%]{display:flex;justify-content:center;background-color:#fff;padding:5px 0;margin:5px 0;width:100%}@media (min-width:600px){.transaction-card[_ngcontent-%COMP%]{max-width:95%}}@media (min-width:769px){.transaction-card[_ngcontent-%COMP%]{max-width:65%}}@media (min-width:1200px){.transaction-card[_ngcontent-%COMP%]{max-width:60%}}"]}),n})(),eA=(()=>{class n{constructor(e){this.element=e,this.appFillAmount={name:"",value:0,total:0},this.curItemColor=""}ngOnInit(){this.highlight(this.curItemColor)}highlight(e){this.element.nativeElement.style.backgroundColor=e}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","appFillAmount",""]],inputs:{appFillAmount:"appFillAmount",curItemColor:"curItemColor"}}),n})();const tA=function(n){return{width:n}};let nA=(()=>{class n{constructor(e){this.choseHighlightColor=e,this.frontPageItem={name:"",value:0,total:0,progress:""},this.color=""}ngOnInit(){this.color=this.choseHighlightColor.takeNewColor()}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Bw))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-front-page-item"]],inputs:{frontPageItem:"frontPageItem"},decls:10,vars:16,consts:[[1,"progress-bar"],[1,"progress-bar__name"],[1,"progress-bar__line"],[1,"progress-bar__fill-value",3,"appFillAmount","curItemColor","ngStyle"],[1,"progress-bar__value-amount"]],template:function(e,s){1&e&&(l.TgZ(0,"span",0),l.TgZ(1,"span",1),l._uU(2),l.qZA(),l.TgZ(3,"div",2),l.TgZ(4,"span",3),l._uU(5),l.ALo(6,"currency"),l.qZA(),l.TgZ(7,"span",4),l._uU(8),l.ALo(9,"currency"),l.qZA(),l.qZA(),l.qZA()),2&e&&(l.xp6(2),l.Oqu(s.frontPageItem.name),l.xp6(2),l.s9C("curItemColor",s.color),l.Q6J("appFillAmount",s.frontPageItem)("ngStyle",l.VKq(14,tA,s.frontPageItem.progress)),l.xp6(1),l.hij(" ",l.Dn7(6,6,s.frontPageItem.value,"UAH","symbol-narrow")," "),l.xp6(3),l.hij(" ",l.Dn7(9,10,s.frontPageItem.total,"UAH","symbol-narrow")," "))},directives:[eA,oa],pipes:[Ji],styles:[".progress-bar__line[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:320px;height:20px;border:1px solid black;background-color:#ececec}.progress-bar__fill-value[_ngcontent-%COMP%]{display:inline-block;height:20px;border-right:1px solid black}@media only screen and (min-width: 600px){.progress-bar__line[_ngcontent-%COMP%]{width:400px}}@media only screen and (min-width: 768px){.progress-bar__line[_ngcontent-%COMP%]{width:500px}}@media only screen and (min-width: 992px){.progress-bar__line[_ngcontent-%COMP%]{width:700px}}@media only screen and (min-width: 1200px){.progress-bar__line[_ngcontent-%COMP%]{width:800px}}"]}),n})(),rA=(()=>{class n{constructor(e){this.element=e,this.appFillCost=0,this.curItemColor="",this.curItemTotal=""}ngOnInit(){const e=this.curItemColor,s=this.curItemTotal?Math.round(Number(this.curItemTotal)/this.appFillCost*100):0;this.highlight(e),this.fillAmount(s)}highlight(e){this.element.nativeElement.style.backgroundColor=e}fillAmount(e){this.element.nativeElement.style.width=`${e}%`}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","appFillCost",""]],inputs:{appFillCost:"appFillCost",curItemColor:"curItemColor",curItemTotal:"curItemTotal"}}),n})(),iA=(()=>{class n{constructor(e){this.choseHighlightColor=e,this.totalCostAmount=0,this.costByCategory={amount:0,categoryName:"",currency:{title:"",value:0},date:"",description:"",expense:{title:"",value:""},subCategoryName:"",type:{id:0,title:"",value:""},userId:0},this.color=""}ngOnInit(){this.color=this.choseHighlightColor.takeNewColor()}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Bw))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-field-cost-item"]],inputs:{totalCostAmount:"totalCostAmount",costByCategory:"costByCategory"},decls:8,vars:9,consts:[[1,"progress-bar"],[1,"progress-bar__name"],[1,"progress-bar__line"],[1,"progress-bar__fill-value",3,"appFillCost","curItemColor","curItemTotal"],[1,"progress-bar__value-amount"]],template:function(e,s){1&e&&(l.TgZ(0,"span",0),l.TgZ(1,"span",1),l._uU(2),l.qZA(),l.TgZ(3,"div",2),l._UZ(4,"span",3),l.TgZ(5,"span",4),l._uU(6),l.ALo(7,"currency"),l.qZA(),l.qZA(),l.qZA()),2&e&&(l.xp6(2),l.Oqu(s.costByCategory.subCategoryName),l.xp6(2),l.s9C("curItemColor",s.color),l.s9C("curItemTotal",s.costByCategory.amount),l.Q6J("appFillCost",s.totalCostAmount),l.xp6(2),l.hij(" ",l.Dn7(7,5,s.costByCategory.amount,"UAH","symbol-narrow")," "))},directives:[rA],pipes:[Ji],styles:[".progress-bar[_ngcontent-%COMP%]{padding:0;margin:0}.progress-bar__line[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:320px;height:20px;border:1px solid black;background-color:#ececec}.progress-bar__fill-value[_ngcontent-%COMP%]{display:inline-block;height:20px;border-right:1px solid black}.progress-bar__name[_ngcontent-%COMP%]{max-width:270px;max-height:17px;overflow:hidden}@media only screen and (min-width: 600px){.progress-bar__line[_ngcontent-%COMP%]{width:400px}}@media only screen and (min-width: 768px){.progress-bar__line[_ngcontent-%COMP%]{width:500px}}@media only screen and (min-width: 992px){.progress-bar__line[_ngcontent-%COMP%]{width:700px}}@media only screen and (min-width: 1200px){.progress-bar__line[_ngcontent-%COMP%]{width:800px}}"]}),n})();function sA(n,t){if(1&n&&(l.TgZ(0,"li",4),l._UZ(1,"app-field-cost-item",5),l.qZA()),2&n){const e=t.$implicit,s=l.oxw();l.xp6(1),l.Q6J("costByCategory",e)("totalCostAmount",s.biggestCostAmount)}}let oA=(()=>{class n{constructor(e,s){this.restService=e,this.customReduce=s,this.transactions=[],this.currDate=new Date,this.biggestCostAmount=0}ngOnInit(){this.restService.getTransactions().snapshotChanges().subscribe(e=>{const s=[];e.forEach(a=>{s.push(a.payload.toJSON())}),this.transactions=this.customReduce.customReduce(s,"costs","actual",this.currDate).sort((a,d)=>d.amount-a.amount).slice(0,6),this.biggestCostAmount=this.customReduce.biggestCategoryAmount(this.transactions,"costs","actual",this.currDate)})}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(tu),l.Y36(VC))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-field-cost"]],decls:5,vars:2,consts:[[1,"field-cost"],[1,"field-cost__name"],[1,"field-cost__list"],["class","field-cost__item",4,"ngFor","ngForOf"],[1,"field-cost__item"],[3,"costByCategory","totalCostAmount"]],template:function(e,s){1&e&&(l.TgZ(0,"div",0),l.TgZ(1,"span",1),l._uU(2),l.qZA(),l.TgZ(3,"ul",2),l.YNc(4,sA,2,2,"li",3),l.qZA(),l.qZA()),2&e&&(l.xp6(2),l.hij("Costs by categories ",s.currDate.getUTCMonth(),":"),l.xp6(2),l.Q6J("ngForOf",s.transactions))},directives:[Sn,iA],styles:[".field-cost[_ngcontent-%COMP%]{width:280px;display:flex;justify-content:center;align-items:center;flex-flow:column;padding-top:15px}.field-cost__name[_ngcontent-%COMP%]{font-weight:700;font-size:18px;text-decoration:underline;align-self:flex-start}.field-cost__list[_ngcontent-%COMP%]{margin:5px;padding:0}.field-cost__item[_ngcontent-%COMP%]{list-style:none;padding:5px 0}@media only screen and (min-width: 600px){.field-cost[_ngcontent-%COMP%]{width:400px}}@media only screen and (min-width: 768px){.field-cost[_ngcontent-%COMP%]{width:500px}}@media only screen and (min-width: 992px){.field-cost[_ngcontent-%COMP%]{width:700px}}@media only screen and (min-width: 1200px){.field-cost[_ngcontent-%COMP%]{width:800px}}"]}),n})(),aA=(()=>{class n{constructor(e,s){this.transactionsService=e,this.restService=s,this.transactionsList=[],this.currDate=new Date,this.income={name:"Income",value:0,total:0,progress:""},this.goal={name:"",value:0,total:0,progress:""},this.cost={name:"Costs",value:0,total:0,progress:""}}ngOnInit(){this.restService.getTransactions().snapshotChanges().subscribe(e=>{this.transactionsList=[],e.forEach(s=>{this.transactionsList.push(s.payload.toJSON())}),this.getTransactions(this.transactionsList,"income",this.income),this.getTransactions(this.transactionsList,"costs",this.cost),this.getGoals()})}getTransactions(e,s,a){a.value=0,a.total=0,a.progress="0";let d=this.transactionsService.customReduce(e,s,"actual",this.currDate);a.value=d.reduce((g,y)=>g+y.amount,0),d=this.transactionsService.customReduce(e,s,"planned",this.currDate),a.total=d.reduce((g,y)=>g+y.amount,0),a.progress=Math.round(a.value/a.total*100).toString()+"%"}getGoals(){const e=this.transactionsService.customReduce(this.transactionsList,"costs","planned");let s=e.findIndex(d=>"Goals"===d.categoryName);s>=0?(this.goal.name=e[s].subCategoryName,this.goal.total=e[s].amount):(this.goal.name="",this.goal.total=0);const a=this.transactionsService.customReduce(this.transactionsList,"costs","actual");s=a.findIndex(d=>"Goals"===d.categoryName),this.goal.value=s>=0?a[s].amount:0,this.goal.total&&(this.goal.progress=Math.round(this.goal.value/this.goal.total*100).toString()+"%")}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(VC),l.Y36(tu))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-main-page"]],decls:14,vars:3,consts:[[1,"app-main-page","main"],[1,"app-main-page__progress-bar-field"],[3,"frontPageItem"]],template:function(e,s){1&e&&(l.TgZ(0,"div",0),l.TgZ(1,"div",1),l.TgZ(2,"span"),l._uU(3,"Save up for: "),l.qZA(),l._UZ(4,"app-front-page-item",2),l.qZA(),l.TgZ(5,"div",1),l.TgZ(6,"span"),l._uU(7,"Current: "),l.qZA(),l._UZ(8,"app-front-page-item",2),l.qZA(),l.TgZ(9,"div",1),l.TgZ(10,"span"),l._uU(11,"Current: "),l.qZA(),l._UZ(12,"app-front-page-item",2),l.qZA(),l._UZ(13,"app-field-cost"),l.qZA()),2&e&&(l.xp6(4),l.Q6J("frontPageItem",s.goal),l.xp6(4),l.Q6J("frontPageItem",s.income),l.xp6(4),l.Q6J("frontPageItem",s.cost))},directives:[nA,oA],styles:[".main[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;flex-direction:column;margin:auto;min-height:100%;font-family:open sans,sans-serif;padding:5px;box-sizing:border-box}.app-main-page__progress-bar-field[_ngcontent-%COMP%]{padding:5px 0}"]}),n})();const jw_firebase={projectId:"courses-f0819",appId:"1:1017625874697:web:5360b51a249aa7baa983d8",databaseURL:"https://courses-f0819-default-rtdb.firebaseio.com",storageBucket:"courses-f0819.appspot.com",apiKey:"AIzaSyCJROoYyvqbOZAh_-F0iwU9Wd1GwMzGFL8",authDomain:"courses-f0819.firebaseapp.com",messagingSenderId:"1017625874697"};class mI{constructor(){return(0,Nn.vb)("auth")}}class Zw{constructor(t){return t}}const _I="database",Ww=new l.OlP("angularfire2.database-instances");function fA(n){return(t,e)=>{const s=t.runOutsideAngular(()=>n(e));return new Zw(s)}}const pA={provide:class dA{constructor(){return(0,Nn.vb)(_I)}},deps:[[new l.FiY,Ww]]},gA={provide:Zw,useFactory:function hA(n,t){const e=(0,Nn.JM)(_I,n,t);return e&&new Zw(e)},deps:[[new l.FiY,Ww],Dc]};let mA=(()=>{class n{constructor(){(0,Xo.KN)("angularfire",Nn.q4.full,"rtdb")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[gA,pA]}),n})();function _A(n,...t){return{ngModule:mA,providers:[{provide:Ww,useFactory:fA(n),multi:!0,deps:[l.R0b,l.zs3,Nn.HU,A0,[new l.FiY,mI],[new l.FiY,Ip],...t]}]}}const yA=(0,Nn.u3)(db,!0);let vA=(()=>{class n{constructor(){this.transitions=[]}costInfo(e){return this.transitions.length=0,e.forEach(s=>{"actual"===s.expense.value&&"costs"===s.type.value&&this.transitions.push(s)}),this.transitions}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),CA=(()=>{class n{constructor(e){this.ElementRef=e,this.pie={}}ngOnInit(){this.ElementRef.nativeElement.children[0].style.setProperty("background-color",this.pie.color),this.ElementRef.nativeElement.children[0].style.setProperty("height",3*this.pie.percentPart+"px")}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-diagram-bar"]],inputs:{pie:"pie"},decls:1,vars:0,consts:[[1,"bar"]],template:function(e,s){1&e&&l._UZ(0,"div",0)},styles:[""]}),n})();function EA(n,t){if(1&n&&(l.TgZ(0,"app-diagram-bar",2),l._uU(1),l.qZA()),2&n){const e=t.$implicit;l.Q6J("pie",e),l.xp6(1),l.Oqu(e.color)}}let bA=(()=>{class n{constructor(){this.notZeroCategories=[]}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-statistic-diagram"]],inputs:{notZeroCategories:"notZeroCategories"},decls:2,vars:1,consts:[[1,"diagram"],["class","diagram__pie",3,"pie",4,"ngFor","ngForOf"],[1,"diagram__pie",3,"pie"]],template:function(e,s){1&e&&(l.TgZ(0,"div",0),l.YNc(1,EA,2,2,"app-diagram-bar",1),l.qZA()),2&e&&(l.xp6(1),l.Q6J("ngForOf",s.notZeroCategories))},directives:[Sn,CA],styles:[".diagram[_ngcontent-%COMP%]{display:flex;align-items:flex-end;justify-content:center;border-bottom:2px solid #afacac;border-radius:2px;height:200px}.diagram__pie[_ngcontent-%COMP%]{margin:0 7px;width:5%}"]}),n})(),wA=(()=>{class n{constructor(e){this.ElementRef=e}ngOnInit(){this.key=Object.keys(this.field)[0],this.value=Object.values(this.field)[0],this.ElementRef.nativeElement.children[0].children[0].children[0].style.setProperty("background-color",this.field.color)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-statistic-field"]],inputs:{field:"field"},decls:7,vars:2,consts:[[1,"field"],[1,"group-one"],[1,"field__color"],[1,"field__name"],[1,"field__value"]],template:function(e,s){1&e&&(l.TgZ(0,"div",0),l.TgZ(1,"div",1),l._UZ(2,"div",2),l.TgZ(3,"div",3),l._uU(4),l.qZA(),l.qZA(),l.TgZ(5,"div",4),l._uU(6),l.qZA(),l.qZA()),2&e&&(l.xp6(4),l.hij("",s.key,":"),l.xp6(2),l.hij("",s.value," uah"))},styles:[".field[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin:10px 0;padding:0 10px}.group-one[_ngcontent-%COMP%]{display:flex;align-items:center}.field__color[_ngcontent-%COMP%]{align-self:flex-start;padding:8px 7px}.field__name[_ngcontent-%COMP%]{font-size:17px;font-weight:500}.field__value[_ngcontent-%COMP%]{font-size:18px;white-space:nowrap}@media (min-width:769px){.field__name[_ngcontent-%COMP%], .field__value[_ngcontent-%COMP%]{font-size:26px}.field__color[_ngcontent-%COMP%]{align-self:center}}@media (min-width:1200px){.field__name[_ngcontent-%COMP%], .field__value[_ngcontent-%COMP%]{font-size:28px}.field__color[_ngcontent-%COMP%]{align-self:center}}"]}),n})(),DA=(()=>{class n{transform(e){return e.sort((s,a)=>(console.log("b",Object.values(a)[0]),Object.values(s)[0]<Object.values(a)[0]?1:-1))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=l.Yjl({name:"costSort",type:n,pure:!0}),n})();function IA(n,t){1&n&&l._UZ(0,"app-statistic-field",5),2&n&&l.Q6J("field",t.$implicit)}let TA=(()=>{class n{constructor(){this.amount=0}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-statistic"]],inputs:{amount:"amount",notZeroCategories:"notZeroCategories"},decls:8,vars:4,consts:[[1,"transaction"],[1,"transaction__costs"],[1,"costs__amount"],[1,"transaction__fields"],["class","transaction-card",3,"field",4,"ngFor","ngForOf"],[1,"transaction-card",3,"field"]],template:function(e,s){1&e&&(l.TgZ(0,"div",0),l.TgZ(1,"div",1),l._uU(2,"General costs: "),l.TgZ(3,"span",2),l._uU(4),l.qZA(),l.qZA(),l.TgZ(5,"div",3),l.YNc(6,IA,1,1,"app-statistic-field",4),l.ALo(7,"costSort"),l.qZA(),l.qZA()),2&e&&(l.xp6(4),l.hij("",s.amount," uah"),l.xp6(2),l.Q6J("ngForOf",l.lcZ(7,2,s.notZeroCategories)))},directives:[Sn,wA],pipes:[DA],styles:[".transaction[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding-top:50px}.transaction__costs[_ngcontent-%COMP%]{position:absolute;top:100px;padding:0 50px;font-size:34px;font-weight:600}.costs__amount[_ngcontent-%COMP%]{font-size:36px;color:#25a779}@media (min-width:1000px){.transaction[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-self:center}.transaction-card[_ngcontent-%COMP%]{display:flex}.transaction__fields[_ngcontent-%COMP%]{display:flex;flex-direction:column}.transaction__costs[_ngcontent-%COMP%]{left:30%;padding:0 50px;font-size:30px;font-weight:600}}@media (min-width: 1200px){.transaction__costs[_ngcontent-%COMP%]{left:35%}}@media (max-width:540px){.transaction__costs[_ngcontent-%COMP%]{font-size:26px}.costs__amount[_ngcontent-%COMP%]{font-size:28px}}@media (max-width:480px){.transaction__costs[_ngcontent-%COMP%]{padding:0 40px;font-size:22px}.costs__amount[_ngcontent-%COMP%]{font-size:24px}}"]}),n})();const yI=[{title:"",value:0,total:NaN},{title:"January",value:1,total:0},{title:"February",value:2,total:0},{title:"March",value:3,total:0},{title:"April",value:4,total:0},{title:"May",value:5,total:0},{title:"June",value:6,total:0},{title:"July",value:7,total:0},{title:"August",value:8,total:0},{title:"September",value:9,total:0},{title:"October",value:10,total:0},{title:"November",value:11,total:0},{title:"December",value:12,total:0}];function SA(n,t){if(1&n&&(l.TgZ(0,"option",10),l._uU(1),l.qZA()),2&n){const e=t.$implicit;l.s9C("value",e),l.xp6(1),l.Oqu(e)}}function MA(n,t){if(1&n&&(l.TgZ(0,"option",10),l._uU(1),l.qZA()),2&n){const e=t.$implicit;l.s9C("value",e.value),l.xp6(1),l.Oqu(e.title)}}function xA(n,t){if(1&n&&(l.TgZ(0,"option",10),l._uU(1),l.qZA()),2&n){const e=t.$implicit;l.s9C("value",e),l.xp6(1),l.Oqu(e)}}function PA(n,t){1&n&&l._UZ(0,"table")}function RA(n,t){1&n&&l._UZ(0,"table")}function OA(n,t){if(1&n&&(l.TgZ(0,"tbody"),l.TgZ(1,"tr",15),l.TgZ(2,"th",16),l._uU(3),l.qZA(),l.TgZ(4,"td",17),l._uU(5,"income"),l.qZA(),l.TgZ(6,"td"),l._uU(7),l.ALo(8,"currency"),l.qZA(),l.TgZ(9,"td"),l._uU(10),l.ALo(11,"currency"),l.qZA(),l.qZA(),l.TgZ(12,"tr"),l.TgZ(13,"td",17),l._uU(14,"costs"),l.qZA(),l.TgZ(15,"td"),l._uU(16),l.ALo(17,"currency"),l.qZA(),l.TgZ(18,"td"),l._uU(19),l.ALo(20,"currency"),l.qZA(),l.qZA(),l.qZA()),2&n){const e=t.$implicit,s=t.index,a=l.oxw(3);l.xp6(3),l.Oqu(e.title),l.xp6(4),l.Oqu(l.Dn7(8,5,a.plannedIncomeTransByMonths[s].total,"UAH","symbol-narrow")),l.xp6(3),l.Oqu(l.Dn7(11,9,a.actualIncomeTransByMonths[s].total,"UAH","symbol-narrow")),l.xp6(6),l.Oqu(l.Dn7(17,13,a.plannedCostsTransByMonths[s].total,"UAH","symbol-narrow")),l.xp6(3),l.Oqu(l.Dn7(20,17,a.actualCostsTransByMonths[s].total,"UAH","symbol-narrow"))}}function NA(n,t){if(1&n&&(l.TgZ(0,"table",13),l.TgZ(1,"thead"),l.TgZ(2,"tr"),l.TgZ(3,"th"),l._uU(4,"Month"),l.qZA(),l.TgZ(5,"th"),l._uU(6,"Flow"),l.qZA(),l.TgZ(7,"th"),l._uU(8,"Plan"),l.qZA(),l.TgZ(9,"th"),l._uU(10,"Actual"),l.qZA(),l.qZA(),l.qZA(),l.YNc(11,OA,21,21,"tbody",14),l.qZA()),2&n){const e=l.oxw(2);l.xp6(11),l.Q6J("ngForOf",e.monthsForTable)}}function kA(n,t){1&n&&l._UZ(0,"td")}function FA(n,t){if(1&n&&(l.TgZ(0,"td",20),l._uU(1),l.ALo(2,"currency"),l.qZA(),l.TgZ(3,"td",20),l._uU(4),l.ALo(5,"currency"),l.qZA(),l.TgZ(6,"td",20),l._uU(7),l.ALo(8,"currency"),l.qZA()),2&n){const e=l.oxw().index,s=l.oxw(3);l.xp6(1),l.hij(" ",l.Dn7(2,3,s.plannedIncomeTransByCategory[e].value,"UAH","symbol-narrow")," "),l.xp6(3),l.hij(" ",l.Dn7(5,7,s.actualIncomeTransByCategory[e].value,"UAH","symbol-narrow")," "),l.xp6(3),l.hij(" ",l.Dn7(8,11,s.actualIncomeTransByCategory[e].value-s.plannedIncomeTransByCategory[e].value,"UAH","symbol-narrow")," ")}}function LA(n,t){if(1&n&&(l.TgZ(0,"td",20),l._uU(1),l.ALo(2,"currency"),l.qZA(),l.TgZ(3,"td",20),l._uU(4),l.ALo(5,"currency"),l.qZA(),l.TgZ(6,"td",20),l._uU(7),l.ALo(8,"currency"),l.qZA()),2&n){const e=l.oxw().index,s=l.oxw(3);l.xp6(1),l.hij(" ",l.Dn7(2,3,s.plannedCostsTransByCategory[e].value,"UAH","symbol-narrow")," "),l.xp6(3),l.hij(" ",l.Dn7(5,7,s.actualCostsTransByCategory[e].value,"UAH","symbol-narrow")," "),l.xp6(3),l.hij(" ",l.Dn7(8,11,s.actualCostsTransByCategory[e].value-s.plannedCostsTransByCategory[e].value,"UAH","symbol-narrow")," ")}}function UA(n,t){if(1&n&&(l.TgZ(0,"tbody"),l.TgZ(1,"tr",15),l.TgZ(2,"th"),l._uU(3),l.qZA(),l.YNc(4,kA,1,0,"td",7),l.YNc(5,FA,9,15,"ng-template",null,18,l.W1O),l.YNc(7,LA,9,15,"ng-template",null,19,l.W1O),l.qZA(),l.qZA()),2&n){const e=t.$implicit,s=l.MAs(6),a=l.MAs(8);l.xp6(3),l.Oqu(e.categoryName),l.xp6(1),l.Q6J("ngIf","income"==e.flow)("ngIfThen",s)("ngIfElse",a)}}function VA(n,t){if(1&n&&(l.TgZ(0,"table",13),l.TgZ(1,"thead"),l.TgZ(2,"tr"),l.TgZ(3,"th"),l._uU(4,"Category"),l.qZA(),l.TgZ(5,"th"),l._uU(6,"Plan"),l.qZA(),l.TgZ(7,"th"),l._uU(8,"Actual"),l.qZA(),l.TgZ(9,"th"),l._uU(10,"Deviation"),l.qZA(),l.qZA(),l.qZA(),l.YNc(11,UA,9,4,"tbody",14),l.qZA()),2&n){const e=l.oxw(2);l.xp6(11),l.Q6J("ngForOf",e.allNotEmptyCategories)}}function BA(n,t){if(1&n&&(l.YNc(0,RA,1,0,"table",7),l.YNc(1,NA,12,1,"ng-template",null,11,l.W1O),l.YNc(3,VA,12,1,"ng-template",null,12,l.W1O)),2&n){const e=l.MAs(2),s=l.MAs(4),a=l.oxw();l.Q6J("ngIf",0==a.selectedMonth)("ngIfThen",e)("ngIfElse",s)}}function jA(n,t){1&n&&l._UZ(0,"table")}function HA(n,t){1&n&&l._UZ(0,"th")}function $A(n,t){if(1&n&&(l.TgZ(0,"th"),l._uU(1),l.qZA(),l.TgZ(2,"td",23),l._uU(3,"income"),l.qZA(),l.TgZ(4,"td",24),l._uU(5),l.ALo(6,"currency"),l.qZA(),l.TgZ(7,"td",24),l._uU(8),l.ALo(9,"currency"),l.qZA()),2&n){const e=l.oxw(),s=e.$implicit,a=e.index,d=l.oxw(3);l.xp6(1),l.Oqu(s.title),l.xp6(4),l.hij(" ",l.Dn7(6,3,d.plannedIncomeTransByMonths[a].total,"UAH","symbol-narrow")," "),l.xp6(3),l.hij(" ",l.Dn7(9,7,d.actualIncomeTransByMonths[a].total,"UAH","symbol-narrow")," ")}}function ZA(n,t){if(1&n&&(l.TgZ(0,"th"),l._uU(1),l.qZA(),l.TgZ(2,"td",23),l._uU(3,"costs"),l.qZA(),l.TgZ(4,"td",24),l._uU(5),l.ALo(6,"currency"),l.qZA(),l.TgZ(7,"td",24),l._uU(8),l.ALo(9,"currency"),l.qZA()),2&n){const e=l.oxw(),s=e.$implicit,a=e.index,d=l.oxw(3);l.xp6(1),l.Oqu(s.title),l.xp6(4),l.hij(" ",l.Dn7(6,3,d.plannedCostsTransByMonths[a].total,"UAH","symbol-narrow")," "),l.xp6(3),l.hij(" ",l.Dn7(9,7,d.actualCostsTransByMonths[a].total,"UAH","symbol-narrow")," ")}}function WA(n,t){if(1&n&&(l.TgZ(0,"tbody"),l.TgZ(1,"tr",15),l.YNc(2,HA,1,0,"th",7),l.YNc(3,$A,10,11,"ng-template",null,21,l.W1O),l.YNc(5,ZA,10,11,"ng-template",null,22,l.W1O),l.qZA(),l.qZA()),2&n){const e=l.MAs(4),s=l.MAs(6),a=l.oxw(3);l.xp6(2),l.Q6J("ngIf","costs"==a.selectedFlowDirection)("ngIfThen",s)("ngIfElse",e)}}function GA(n,t){if(1&n&&(l.TgZ(0,"table",13),l.TgZ(1,"thead"),l.TgZ(2,"tr"),l.TgZ(3,"th"),l._uU(4,"Month"),l.qZA(),l.TgZ(5,"th"),l._uU(6,"Flow"),l.qZA(),l.TgZ(7,"th"),l._uU(8,"Plan"),l.qZA(),l.TgZ(9,"th"),l._uU(10,"Actual"),l.qZA(),l.qZA(),l.qZA(),l.YNc(11,WA,7,3,"tbody",14),l.qZA()),2&n){const e=l.oxw(2);l.xp6(11),l.Q6J("ngForOf",e.monthsForTable)}}function zA(n,t){1&n&&l._UZ(0,"th")}function qA(n,t){if(1&n&&(l.TgZ(0,"th"),l._uU(1),l.qZA(),l.TgZ(2,"td",20),l._uU(3),l.ALo(4,"currency"),l.qZA(),l.TgZ(5,"td",20),l._uU(6),l.ALo(7,"currency"),l.qZA(),l.TgZ(8,"td",20),l._uU(9),l.ALo(10,"currency"),l.qZA()),2&n){const e=l.oxw(),s=e.$implicit,a=e.index,d=l.oxw(3);l.xp6(1),l.Oqu(s.categoryName),l.xp6(2),l.hij(" ",l.Dn7(4,4,d.plannedCostsTransByCategory[a].value,"UAH","symbol-narrow")," "),l.xp6(3),l.hij(" ",l.Dn7(7,8,d.actualCostsTransByCategory[a].value,"UAH","symbol-narrow")," "),l.xp6(3),l.hij(" ",l.Dn7(10,12,d.actualCostsTransByCategory[a].value-d.plannedCostsTransByCategory[a].value,"UAH","symbol-narrow")," ")}}function YA(n,t){if(1&n&&(l.TgZ(0,"th"),l._uU(1),l.qZA(),l.TgZ(2,"td",20),l._uU(3),l.ALo(4,"currency"),l.qZA(),l.TgZ(5,"td",20),l._uU(6),l.ALo(7,"currency"),l.qZA(),l.TgZ(8,"td",20),l._uU(9),l.ALo(10,"currency"),l.qZA()),2&n){const e=l.oxw(),s=e.$implicit,a=e.index,d=l.oxw(3);l.xp6(1),l.Oqu(s.categoryName),l.xp6(2),l.hij(" ",l.Dn7(4,4,d.plannedIncomeTransByCategory[a].value,"UAH","symbol-narrow")," "),l.xp6(3),l.hij(" ",l.Dn7(7,8,d.actualIncomeTransByCategory[a].value,"UAH","symbol-narrow")," "),l.xp6(3),l.hij(" ",l.Dn7(10,12,d.actualIncomeTransByCategory[a].value-d.plannedIncomeTransByCategory[a].value,"UAH","symbol-narrow")," ")}}function KA(n,t){if(1&n&&(l.TgZ(0,"tbody"),l.TgZ(1,"tr",15),l.YNc(2,zA,1,0,"th",7),l.YNc(3,qA,11,16,"ng-template",null,22,l.W1O),l.YNc(5,YA,11,16,"ng-template",null,21,l.W1O),l.qZA(),l.qZA()),2&n){const e=l.MAs(4),s=l.MAs(6),a=l.oxw(3);l.xp6(2),l.Q6J("ngIf","costs"==a.selectedFlowDirection)("ngIfThen",e)("ngIfElse",s)}}function QA(n,t){if(1&n&&(l.TgZ(0,"table",13),l.TgZ(1,"thead"),l.TgZ(2,"tr"),l.TgZ(3,"th"),l._uU(4,"Category"),l.qZA(),l.TgZ(5,"th"),l._uU(6,"Plan"),l.qZA(),l.TgZ(7,"th"),l._uU(8,"Actual"),l.qZA(),l.TgZ(9,"th"),l._uU(10,"Deviation"),l.qZA(),l.qZA(),l.qZA(),l.YNc(11,KA,7,3,"tbody",14),l.qZA()),2&n){const e=l.oxw(2);l.xp6(11),l.Q6J("ngForOf",e.allNotEmptyCategories)}}function JA(n,t){if(1&n&&(l.YNc(0,jA,1,0,"table",7),l.YNc(1,GA,12,1,"ng-template",null,11,l.W1O),l.YNc(3,QA,12,1,"ng-template",null,12,l.W1O)),2&n){const e=l.MAs(2),s=l.MAs(4),a=l.oxw();l.Q6J("ngIf",0==a.selectedMonth)("ngIfThen",e)("ngIfElse",s)}}const XA=[{path:"archive",component:XT,canActivate:[Y_]},{path:"monitoring",component:(()=>{class n{constructor(e,s){this.RestApiService=e,this.CostInfoService=s,this.data=[],this.costs=[],this.arrCategories=[],this.costCategories=[],this.notZeroCategories=[],this.diagramCategories=[],this.amount=0}ngOnDestroy(){this.subscription1$.unsubscribe(),this.subscription2$.unsubscribe()}ngOnInit(){this.subscription1$=this.RestApiService.getCategories().snapshotChanges().subscribe(e=>{e.forEach(a=>{this.arrCategories.push(a.payload.toJSON())}),Object.values(this.arrCategories[0]).forEach(a=>{this.costCategories.push(Object.values(a.subCategories))}),this.costCategories=this.costCategories.flat(),this.subscription2$=this.RestApiService.getTransactions().snapshotChanges().subscribe(a=>{a.forEach(d=>{this.data.push(d.payload.toJSON())}),this.notZeroCategories=this.calculateCosts(this.CostInfoService.costInfo(this.data))})})}calculateCosts(e){let s={},a=[];return e.forEach(g=>{a.push({[g.subCategoryName]:+g.amount*g.currency.value})}),this.costCategories.forEach(g=>{s[g]=0,a.forEach(y=>{Object.keys(y).includes(g)&&(s[g]=s[g]+y[g])})}),Object.entries(s).forEach(g=>{0!=g[1]&&this.notZeroCategories.push({[g[0]]:g[1]})}),this.diagramInfo(this.notZeroCategories),this.diagramCategories}diagramInfo(e){e.forEach(s=>{let a=Object.values(s)[0];this.amount=this.amount+a}),e.forEach(s=>{let a=0;a=Object.values(s)[0]/this.amount*100,s.percentPart=+a.toFixed(2),s.color="#"+(Math.random().toString(16)+"00000").slice(2,8),this.diagramCategories.push(s)})}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(tu),l.Y36(vA))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-cost-monitoring"]],decls:2,vars:3,consts:[[3,"notZeroCategories"],[1,"statistic",3,"notZeroCategories","amount"]],template:function(e,s){1&e&&(l._UZ(0,"app-statistic-diagram",0),l._UZ(1,"app-statistic",1)),2&e&&(l.Q6J("notZeroCategories",s.notZeroCategories),l.xp6(1),l.Q6J("notZeroCategories",s.notZeroCategories)("amount",s.amount))},directives:[bA,TA],styles:[".statistic[_ngcontent-%COMP%]{display:flex;flex-direction:column}"]}),n})(),canActivate:[Y_]},{path:"report",component:(()=>{class n{constructor(e,s){this.restApiService=e,this.transactionsService=s,this.selectedFlowDirection="",this.selectedMonth=(new Date).getMonth()+1,this.selectedYear=(new Date).getFullYear(),this.flowDirection=["","costs","income"],this.monthsForSelect=[...yI],this.monthsForTable=[...yI],this.years=[(new Date).getFullYear()],this.data=[],this.transactionsByYear=[],this.plannedIncomeTransByMonths=Array(12).fill({title:"",value:0,total:0}),this.plannedCostsTransByMonths=Array(12).fill({title:"",value:0,total:0}),this.actualIncomeTransByMonths=Array(12).fill({title:"",value:0,total:0}),this.actualCostsTransByMonths=Array(12).fill({title:"",value:0,total:0}),this.plannedIncomeTransByCategory=[],this.plannedCostsTransByCategory=[],this.actualIncomeTransByCategory=[],this.actualCostsTransByCategory=[],this.allNotEmptyCategories=[]}ngOnInit(){this.monthsForTable.shift(),this.restApiService.getTransactions().snapshotChanges().subscribe(e=>{e.forEach(s=>{this.data.push(s.payload.toJSON())}),this.transactionsByYear=this.transactionsService.filterByYear(this.data,this.selectedYear),this.transactionsByYear.sort((s,a)=>s.amount-a.amount),this.plannedIncomeTransByMonths=this.setDataByMonth(this.transactionsByYear,"planned","income"),this.plannedCostsTransByMonths=this.setDataByMonth(this.transactionsByYear,"planned","costs"),this.actualIncomeTransByMonths=this.setDataByMonth(this.transactionsByYear,"actual","income"),this.actualCostsTransByMonths=this.setDataByMonth(this.transactionsByYear,"actual","costs"),this.selectedMonth&&this.setDataByCategory(this.selectedMonth,this.selectedFlowDirection)})}setDataByCategory(e,s){this.allNotEmptyCategories=this.transactionsService.filterByMonth(this.transactionsByYear,+this.selectedMonth).reduce((a,d)=>(a.findIndex(y=>y.categoryName===d.categoryName)>=0||a.push({categoryName:d.categoryName,value:0,flow:d.type.value}),a),[]),this.plannedIncomeTransByCategory=this.getDataByCategory(this.transactionsByYear,"planned","income",+e),this.plannedCostsTransByCategory=this.getDataByCategory(this.transactionsByYear,"planned","costs",+e),this.actualIncomeTransByCategory=this.getDataByCategory(this.transactionsByYear,"actual","income",+e),this.actualCostsTransByCategory=this.getDataByCategory(this.transactionsByYear,"actual","costs",+e)}getDataByCategory(e,s,a,d){const g=this.transactionsService.filterByPlanActual(e,s),y=this.transactionsService.filterByFlow(g,a),w=this.transactionsService.filterByMonth(y,d),S=this.transactionsService.reduceByCategory(w);let H=[...this.allNotEmptyCategories];return S.reduce((L,Q)=>{const te=H.findIndex(Ie=>Ie.categoryName===Q.categoryName);return te>=0&&(H[te]=Q),L},[]),H}setDataByMonth(e,s,a){const d=this.transactionsService.filterByPlanActual(e,s),g=this.transactionsService.filterByFlow(d,a);return this.transactionsService.customReduceByMonth(g)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(tu),l.Y36(VC))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-report-plan-actual"]],decls:15,vars:9,consts:[[1,"report"],[1,"report__title"],[1,"report__filter","filter"],["name","filter__month-from","id","filter__month-from",1,"filter__month",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["name","filter__month-till","id","filter__month-till",1,"filter__month",3,"ngModel","ngModelChange","change"],["name","filter__year","id","filter__year",1,"filter__year",3,"ngModel","ngModelChange"],[4,"ngIf","ngIfThen","ngIfElse"],["elseBlock",""],["thenBlock",""],[3,"value"],["thenBlockMonth",""],["elseBlockMonth",""],[1,"report__data-table","data-table"],[4,"ngFor","ngForOf"],[1,"data-table__row-header"],["rowspan","2"],[1,"data-table__flow"],["thenBlockData",""],["elseBlockData",""],[1,"data-table__flow--select"],["elseBlockFlow",""],["thenBlockFlow",""],[1,"data-table__flow","data-table__flow--select"],[1,"data-table__data","data-table__flow--select"]],template:function(e,s){if(1&e&&(l.TgZ(0,"div",0),l.TgZ(1,"h3",1),l._uU(2,"Report of planned and actual cash flow"),l.qZA(),l.TgZ(3,"div",2),l.TgZ(4,"select",3),l.NdJ("ngModelChange",function(d){return s.selectedFlowDirection=d}),l.YNc(5,SA,2,2,"option",4),l.qZA(),l.TgZ(6,"select",5),l.NdJ("ngModelChange",function(d){return s.selectedMonth=d})("change",function(){return s.setDataByCategory(s.selectedMonth,s.selectedFlowDirection)}),l.YNc(7,MA,2,2,"option",4),l.qZA(),l.TgZ(8,"select",6),l.NdJ("ngModelChange",function(d){return s.selectedYear=d}),l.YNc(9,xA,2,2,"option",4),l.qZA(),l.qZA(),l.YNc(10,PA,1,0,"table",7),l.YNc(11,BA,5,3,"ng-template",null,8,l.W1O),l.YNc(13,JA,5,3,"ng-template",null,9,l.W1O),l.qZA()),2&e){const a=l.MAs(12),d=l.MAs(14);l.xp6(4),l.Q6J("ngModel",s.selectedFlowDirection),l.xp6(1),l.Q6J("ngForOf",s.flowDirection),l.xp6(1),l.Q6J("ngModel",s.selectedMonth),l.xp6(1),l.Q6J("ngForOf",s.monthsForSelect),l.xp6(1),l.Q6J("ngModel",s.selectedYear),l.xp6(1),l.Q6J("ngForOf",s.years),l.xp6(1),l.Q6J("ngIf",s.selectedFlowDirection)("ngIfThen",d)("ngIfElse",a)}},directives:[_s,ds,Il,Sn,Nu,Oa,tr],pipes:[Ji],styles:[".report[_ngcontent-%COMP%]{width:100%;max-width:1024px;margin:auto;padding:5px;box-sizing:border-box;font-family:open sans,sans-serif}.report__filter[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:flex-start;padding-bottom:10px}.filter__month[_ngcontent-%COMP%], .filter__year[_ngcontent-%COMP%]{font-size:18px}.report__data-table[_ngcontent-%COMP%]{width:100%;border:1px solid black;border-collapse:collapse}tr[_ngcontent-%COMP%]{border-bottom:1px solid black}th[_ngcontent-%COMP%]{border:1px solid black}td[_ngcontent-%COMP%]{border-left:1px solid black;text-align:right}.data-table__row-header[_ngcontent-%COMP%]{border-bottom:none}.data-table__flow[_ngcontent-%COMP%]{text-align:center}.data-table__flow--select[_ngcontent-%COMP%]{border-bottom:1px solid black}"]}),n})(),canActivate:[Y_]},{path:"goals",component:(()=>{class n{constructor(e,s){this.RestApiService=e,this.router=s,this.goalName="",this.goalCurrency="UAH",this.goalDescription="",this.goalPrice=NaN,this.goalTillDate="",this.goal={amount:NaN,categoryName:"Goals",currency:{value:1,title:"UAH"},date:"",description:"",expense:{value:"planned",title:"planned"},subCategoryName:"",type:{value:"costs",title:"consumption",id:0}}}submitForm(){this.goal.subCategoryName=this.goalName,this.goal.currency.title=this.goalCurrency,this.goal.description=this.goalDescription,this.goal.amount=this.goalPrice,this.goal.date=this.goalTillDate,this.RestApiService.setGoal(this.goal),this.router.navigateByUrl("").then(e=>alert("success"))}ngOnInit(){this.RestApiService.getGoal().snapshotChanges().subscribe(e=>{let s=[],a=NaN;e.forEach(d=>{s.push(d.payload.toJSON())}),s=s.filter(d=>"Goals"===d.categoryName),a=s.findIndex(d=>"planned"===d.expense.value),a>=0&&(this.goal=s[a],this.goalName=this.goal.subCategoryName,this.goalDescription=this.goal.description,this.goalPrice=this.goal.amount,this.goalCurrency=this.goal.currency.title,this.goalTillDate=this.goal.date)})}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(tu),l.Y36(ni))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-goals"]],decls:28,vars:5,consts:[[1,"goals"],[1,"goals__wrapper"],[1,"goals__form",3,"ngSubmit"],[1,"column-container"],["for","goalName",1,"form__title"],["id","goalName","type","text","name","goalName","required","","placeholder","type your purchase goal",1,"form__field","form__select",3,"ngModel","ngModelChange"],["for","goalDescription",1,"form__title"],["name","goalDescription","id","goalDescription","rows","5","cols","25",1,"form__field",3,"ngModel","ngModelChange"],["for","goalAmount",1,"form__title"],["type","number","name","goalAmount","id","goalAmount","required","",1,"form__field","form__field--price",3,"ngModel","ngModelChange"],["name","goalCurrency","id","goalCurr","required","",1,"form__field","form__field--select","form__select",3,"ngModel","ngModelChange"],["value","UAH"],["for","goalDate",1,"form__title"],["type","date","name","goalDate","id","goalDate","required","",1,"form__field",3,"ngModel","ngModelChange"],[1,"buttons"],["routerLink","",1,"buttons__form-btn","buttons__form-btn--cancel"],["type","submit",1,"buttons__form-btn","buttons__form-btn--submit"]],template:function(e,s){1&e&&(l.TgZ(0,"div",0),l.TgZ(1,"div",1),l.TgZ(2,"form",2),l.NdJ("ngSubmit",function(){return s.submitForm()}),l.TgZ(3,"div",3),l.TgZ(4,"label",4),l._uU(5,"Goal:"),l.qZA(),l.TgZ(6,"input",5),l.NdJ("ngModelChange",function(d){return s.goalName=d}),l.qZA(),l.qZA(),l.TgZ(7,"div",3),l.TgZ(8,"label",6),l._uU(9,"Description:"),l.qZA(),l.TgZ(10,"textarea",7),l.NdJ("ngModelChange",function(d){return s.goalDescription=d}),l._uU(11,"        "),l.qZA(),l.qZA(),l.TgZ(12,"div",3),l.TgZ(13,"label",8),l._uU(14,"Price:"),l.qZA(),l.TgZ(15,"input",9),l.NdJ("ngModelChange",function(d){return s.goalPrice=d}),l.qZA(),l.TgZ(16,"select",10),l.NdJ("ngModelChange",function(d){return s.goalCurrency=d}),l.TgZ(17,"option",11),l._uU(18,"UAH"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(19,"div",3),l.TgZ(20,"label",12),l._uU(21,"Till date:"),l.qZA(),l.TgZ(22,"input",13),l.NdJ("ngModelChange",function(d){return s.goalTillDate=d}),l.qZA(),l.qZA(),l.TgZ(23,"div",14),l.TgZ(24,"button",15),l._uU(25,"Cancel"),l.qZA(),l.TgZ(26,"button",16),l._uU(27,"Submit"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&e&&(l.xp6(6),l.Q6J("ngModel",s.goalName),l.xp6(4),l.Q6J("ngModel",s.goalDescription),l.xp6(5),l.Q6J("ngModel",s.goalPrice),l.xp6(1),l.Q6J("ngModel",s.goalCurrency),l.xp6(6),l.Q6J("ngModel",s.goalTillDate))},directives:[Ru,bl,ms,qs,Na,ds,Il,Tl,_s,Nu,Oa,UC],styles:[".goals[_ngcontent-%COMP%]{padding:20px 10px}.goals__wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;box-sizing:border-box}.column-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;padding:10px 0}.form__field.form__field--select[_ngcontent-%COMP%]{width:60px;display:inline-block}.form__field.form__field--price[_ngcontent-%COMP%]{width:148px}.form__field[_ngcontent-%COMP%]{width:208px;box-sizing:border-box;padding:5px}.form__title[_ngcontent-%COMP%]{width:100px;display:inline-block;font-size:18px}.buttons[_ngcontent-%COMP%]{padding:40px 10px;display:flex;justify-content:space-around;align-items:center}.buttons__form-btn[_ngcontent-%COMP%]{padding:10px 30px;border:none;border-radius:4px;background-color:#25a779;font-size:18px}.buttons__form-btn[_ngcontent-%COMP%]:hover{background-color:#28bc89;box-shadow:0 0 5px;cursor:pointer}.buttons__form-btn--cancel[_ngcontent-%COMP%]{background-color:#b55959}.buttons__form-btn--cancel[_ngcontent-%COMP%]:hover{background-color:#fb7f7f}"]}),n})(),canActivate:[Y_]},{path:"",component:aA}];let eS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n,bootstrap:[zT]}),n.\u0275inj=l.cJS({providers:[Y_],imports:[[To,bT,tn,cy,Lw.forRoot(XA),mD(()=>Ic(jw_firebase)),_A(()=>yA()),vs.hO.initializeApp(jw_firebase),kD,Zt]]}),n})();(0,l.G48)(),Hs().bootstrapModule(eS).catch(n=>console.error(n))},5867:(Je,Ce,O)=>{O.d(Ce,{C6:()=>l.getApps,KN:()=>l.registerVersion,Mq:()=>l.getApp,ZF:()=>l.initializeApp});var l=O(9681);(0,l.registerVersion)("firebase","9.7.0","app")},127:(Je,Ce,O)=>{O.d(Ce,{Z:()=>l.Z});var l=O(3942);l.Z.registerVersion("firebase","9.7.0","app-compat")},5881:(Je,Ce,O)=>{O.r(Ce);var l=O(5861),j=O(3942),P=O(9414),ee=O(2090),se=(O(9681),O(1877),O(4859));function oe(){return window}function G(){return(G=(0,l.Z)(function*(R,F,U){var ie;const{BuildInfo:xe}=oe();(0,P.ap)(F.sessionId,"AuthEvent did not contain a session ID");const Be=yield he(F.sessionId),nt={};return(0,P.aq)()?nt.ibi=xe.packageName:(0,P.ar)()?nt.apn=xe.packageName:(0,P.as)(R,"operation-not-supported-in-this-environment"),xe.displayName&&(nt.appDisplayName=xe.displayName),nt.sessionId=Be,(0,P.at)(R,U,F.type,void 0,null!==(ie=F.eventId)&&void 0!==ie?ie:void 0,nt)})).apply(this,arguments)}function Fe(){return(Fe=(0,l.Z)(function*(R){const{BuildInfo:F}=oe(),U={};(0,P.aq)()?U.iosBundleId=F.packageName:(0,P.ar)()?U.androidPackageName=F.packageName:(0,P.as)(R,"operation-not-supported-in-this-environment"),yield(0,P.au)(R,U)})).apply(this,arguments)}function Pe(){return(Pe=(0,l.Z)(function*(R,F,U){const{cordova:ie}=oe();let xe=()=>{};try{yield new Promise((Be,nt)=>{let Ze=null;function mt(){var Dt;Be();const cr=null===(Dt=ie.plugins.browsertab)||void 0===Dt?void 0:Dt.close;"function"==typeof cr&&cr(),"function"==typeof(null==U?void 0:U.close)&&U.close()}function pn(){Ze||(Ze=window.setTimeout(()=>{nt((0,P.av)(R,"redirect-cancelled-by-user"))},2e3))}function Bn(){"visible"===(null==document?void 0:document.visibilityState)&&pn()}F.addPassiveListener(mt),document.addEventListener("resume",pn,!1),(0,P.ar)()&&document.addEventListener("visibilitychange",Bn,!1),xe=()=>{F.removePassiveListener(mt),document.removeEventListener("resume",pn,!1),document.removeEventListener("visibilitychange",Bn,!1),Ze&&window.clearTimeout(Ze)}})}finally{xe()}})).apply(this,arguments)}function he(R){return Se.apply(this,arguments)}function Se(){return(Se=(0,l.Z)(function*(R){const F=Re(R),U=yield crypto.subtle.digest("SHA-256",F);return Array.from(new Uint8Array(U)).map(xe=>xe.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Re(R){if((0,P.ap)(/[0-9a-zA-Z]+/.test(R),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(R);const F=new ArrayBuffer(R.length),U=new Uint8Array(F);for(let ie=0;ie<R.length;ie++)U[ie]=R.charCodeAt(ie);return U}class Ge extends P.az{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(F=>{this.resolveInialized=F})}addPassiveListener(F){this.passiveListeners.add(F)}removePassiveListener(F){this.passiveListeners.delete(F)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(F){return this.resolveInialized(),this.passiveListeners.forEach(U=>U(F)),super.onEvent(F)}initialized(){var F=this;return(0,l.Z)(function*(){yield F.initPromise})()}}function Ve(R){return it.apply(this,arguments)}function it(){return(it=(0,l.Z)(function*(R){const F=yield ge()._get(_e(R));return F&&(yield ge()._remove(_e(R))),F})).apply(this,arguments)}function pe(){const R=[],F="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let U=0;U<20;U++){const ie=Math.floor(Math.random()*F.length);R.push(F.charAt(ie))}return R.join("")}function ge(){return(0,P.ax)(P.b)}function _e(R){return(0,P.ay)("authEvent",R.config.apiKey,R.name)}function gt(R){if(!(null==R?void 0:R.includes("?")))return{};const[F,...U]=R.split("?");return(0,ee.zd)(U.join("?"))}function st(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,P.av)("no-auth-event")}}function ar(){var R;return(null===(R=null==self?void 0:self.location)||void 0===R?void 0:R.protocol)||null}function In(R=(0,ee.z$)()){return!("file:"!==ar()&&"ionic:"!==ar()||!R.toLowerCase().match(/iphone|ipad|ipod|android/))}function lr(){try{const R=self.localStorage,F=P.aG();if(R)return R.setItem(F,"1"),R.removeItem(F),!function mi(R=(0,ee.z$)()){return function zt(){return(0,ee.w1)()&&11===(null==document?void 0:document.documentMode)}()||function An(R=(0,ee.z$)()){return/Edge\/\d+/.test(R)}(R)}()||(0,ee.hl)()}catch(R){return Ln()&&(0,ee.hl)()}return!1}function Ln(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Te(){return(function Ir(){return"http:"===ar()||"https:"===ar()}()||(0,ee.ru)()||In())&&!function Fn(){return(0,ee.b$)()||(0,ee.UG)()}()&&lr()&&!Ln()}function Un(){return In()&&"undefined"!=typeof document}function ur(){return(ur=(0,l.Z)(function*(){return!!Un()&&new Promise(R=>{const F=setTimeout(()=>{R(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(F),R(!0)})})})).apply(this,arguments)}const Bt={LOCAL:"local",NONE:"none",SESSION:"session"},Gn=P.aw,Tr="persistence";function Cn(R){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,l.Z)(function*(R){yield R._initializationPromise;const F=Ct(),U=P.ay(Tr,R.config.apiKey,R.name);F&&F.setItem(U,R._getPersistence())})).apply(this,arguments)}function Ct(){var R;try{return(null===(R=function qt(){return"undefined"!=typeof window?window:null}())||void 0===R?void 0:R.sessionStorage)||null}catch(F){return null}}const Qe=P.aw;class et{constructor(){this.browserResolver=P.ax(P.k),this.cordovaResolver=P.ax(class Pn{constructor(){this._redirectPersistence=P.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=P.aA}_initialize(F){var U=this;return(0,l.Z)(function*(){const ie=F._key();let xe=U.eventManagers.get(ie);return xe||(xe=new Ge(F),U.eventManagers.set(ie,xe),U.attachCallbackListeners(F,xe)),xe})()}_openPopup(F){(0,P.as)(F,"operation-not-supported-in-this-environment")}_openRedirect(F,U,ie,xe){var Be=this;return(0,l.Z)(function*(){!function de(R){var F,U,ie,xe,Be,nt,Ze,mt,pn,Bn;const Dt=oe();(0,P.aw)("function"==typeof(null===(F=null==Dt?void 0:Dt.universalLinks)||void 0===F?void 0:F.subscribe),R,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,P.aw)(void 0!==(null===(U=null==Dt?void 0:Dt.BuildInfo)||void 0===U?void 0:U.packageName),R,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,P.aw)("function"==typeof(null===(Be=null===(xe=null===(ie=null==Dt?void 0:Dt.cordova)||void 0===ie?void 0:ie.plugins)||void 0===xe?void 0:xe.browsertab)||void 0===Be?void 0:Be.openUrl),R,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,P.aw)("function"==typeof(null===(mt=null===(Ze=null===(nt=null==Dt?void 0:Dt.cordova)||void 0===nt?void 0:nt.plugins)||void 0===Ze?void 0:Ze.browsertab)||void 0===mt?void 0:mt.isAvailable),R,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,P.aw)("function"==typeof(null===(Bn=null===(pn=null==Dt?void 0:Dt.cordova)||void 0===pn?void 0:pn.InAppBrowser)||void 0===Bn?void 0:Bn.open),R,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(F);const nt=yield Be._initialize(F);yield nt.initialized(),nt.resetRedirect(),(0,P.aB)(),yield Be._originValidation(F);const Ze=function be(R,F,U=null){return{type:F,eventId:U,urlResponse:null,sessionId:pe(),postBody:null,tenantId:R.tenantId,error:(0,P.av)(R,"no-auth-event")}}(F,ie,xe);yield function Ke(R,F){return ge()._set(_e(R),F)}(F,Ze);const mt=yield function Z(R,F,U){return G.apply(this,arguments)}(F,Ze,U),pn=yield function we(R){const{cordova:F}=oe();return new Promise(U=>{F.plugins.browsertab.isAvailable(ie=>{let xe=null;ie?F.plugins.browsertab.openUrl(R):xe=F.InAppBrowser.open(R,(0,P.ao)()?"_blank":"_system","location=yes"),U(xe)})})}(mt);return function Ae(R,F,U){return Pe.apply(this,arguments)}(F,nt,pn)})()}_isIframeWebStorageSupported(F,U){throw new Error("Method not implemented.")}_originValidation(F){const U=F._key();return this.originValidationPromises[U]||(this.originValidationPromises[U]=function X(R){return Fe.apply(this,arguments)}(F)),this.originValidationPromises[U]}attachCallbackListeners(F,U){const{universalLinks:ie,handleOpenURL:xe,BuildInfo:Be}=oe(),nt=setTimeout((0,l.Z)(function*(){yield Ve(F),U.onEvent(st())}),500),Ze=function(){var Bn=(0,l.Z)(function*(Dt){clearTimeout(nt);const cr=yield Ve(F);let $r=null;cr&&(null==Dt?void 0:Dt.url)&&($r=function J(R,F){var U,ie;const xe=function ae(R){const F=gt(R),U=F.link?decodeURIComponent(F.link):void 0,ie=gt(U).link,xe=F.deep_link_id?decodeURIComponent(F.deep_link_id):void 0;return gt(xe).link||xe||ie||U||R}(F);if(xe.includes("/__/auth/callback")){const Be=gt(xe),nt=Be.firebaseError?function Me(R){try{return JSON.parse(R)}catch(F){return null}}(decodeURIComponent(Be.firebaseError)):null,Ze=null===(ie=null===(U=null==nt?void 0:nt.code)||void 0===U?void 0:U.split("auth/"))||void 0===ie?void 0:ie[1],mt=Ze?(0,P.av)(Ze):null;return mt?{type:R.type,eventId:R.eventId,tenantId:R.tenantId,error:mt,urlResponse:null,sessionId:null,postBody:null}:{type:R.type,eventId:R.eventId,tenantId:R.tenantId,sessionId:R.sessionId,urlResponse:xe,postBody:null}}return null}(cr,Dt.url)),U.onEvent($r||st())});return function(cr){return Bn.apply(this,arguments)}}();void 0!==ie&&"function"==typeof ie.subscribe&&ie.subscribe(null,Ze);const mt=xe,pn=`${Be.packageName.toLowerCase()}://`;oe().handleOpenURL=function(){var Bn=(0,l.Z)(function*(Dt){if(Dt.toLowerCase().startsWith(pn)&&Ze({url:Dt}),"function"==typeof mt)try{mt(Dt)}catch(cr){console.error(cr)}});return function(Dt){return Bn.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=P.a,this._completeRedirectFn=P.aA}_initialize(F){var U=this;return(0,l.Z)(function*(){return yield U.selectUnderlyingResolver(),U.assertedUnderlyingResolver._initialize(F)})()}_openPopup(F,U,ie,xe){var Be=this;return(0,l.Z)(function*(){return yield Be.selectUnderlyingResolver(),Be.assertedUnderlyingResolver._openPopup(F,U,ie,xe)})()}_openRedirect(F,U,ie,xe){var Be=this;return(0,l.Z)(function*(){return yield Be.selectUnderlyingResolver(),Be.assertedUnderlyingResolver._openRedirect(F,U,ie,xe)})()}_isIframeWebStorageSupported(F,U){this.assertedUnderlyingResolver._isIframeWebStorageSupported(F,U)}_originValidation(F){return this.assertedUnderlyingResolver._originValidation(F)}get _shouldInitProactively(){return Un()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Qe(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var F=this;return(0,l.Z)(function*(){if(F.underlyingResolver)return;const U=yield function qe(){return ur.apply(this,arguments)}();F.underlyingResolver=U?F.cordovaResolver:F.browserResolver})()}}function Hr(R){return R.unwrap()}function rt(R){return Vn(R)}function Vn(R){const{_tokenResponse:F}=R instanceof ee.ZR?R.customData:R;if(!F)return null;if(!(R instanceof ee.ZR)&&"temporaryProof"in F&&"phoneNumber"in F)return P.P.credentialFromResult(R);const U=F.providerId;if(!U||U===P.o.PASSWORD)return null;let ie;switch(U){case P.o.GOOGLE:ie=P.N;break;case P.o.FACEBOOK:ie=P.M;break;case P.o.GITHUB:ie=P.Q;break;case P.o.TWITTER:ie=P.V;break;default:const{oauthIdToken:xe,oauthAccessToken:Be,oauthTokenSecret:nt,pendingToken:Ze,nonce:mt}=F;return Be||nt||xe||Ze?Ze?U.startsWith("saml.")?P.aJ._create(U,Ze):P.I._fromParams({providerId:U,signInMethod:U,pendingToken:Ze,idToken:xe,accessToken:Be}):new P.T(U).credential({idToken:xe,accessToken:Be,rawNonce:mt}):null}return R instanceof ee.ZR?ie.credentialFromError(R):ie.credentialFromResult(R)}function Yt(R,F){return F.catch(U=>{throw U instanceof ee.ZR&&function rn(R,F){var U;const ie=null===(U=F.customData)||void 0===U?void 0:U._tokenResponse;if("auth/multi-factor-auth-required"===F.code)F.resolver=new wt(R,P.am(R,F));else if(ie){const xe=Vn(F),Be=F;xe&&(Be.credential=xe,Be.tenantId=ie.tenantId||void 0,Be.email=ie.email||void 0,Be.phoneNumber=ie.phoneNumber||void 0)}}(R,U),U}).then(U=>{const xe=U.user;return{operationType:U.operationType,credential:rt(U),additionalUserInfo:P.ak(U),user:Le.getOrCreate(xe)}})}function tt(R,F){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,l.Z)(function*(R,F){const U=yield F;return{verificationId:U.verificationId,confirm:ie=>Yt(R,U.confirm(ie))}})).apply(this,arguments)}class wt{constructor(F,U){this.resolver=U,this.auth=function ri(R){return R.wrapped()}(F)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(F){return Yt(Hr(this.auth),this.resolver.resolveSignIn(F))}}class Le{constructor(F){this._delegate=F,this.multiFactor=P.an(F)}static getOrCreate(F){return Le.USER_MAP.has(F)||Le.USER_MAP.set(F,new Le(F)),Le.USER_MAP.get(F)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(F){return this._delegate.getIdTokenResult(F)}getIdToken(F){return this._delegate.getIdToken(F)}linkAndRetrieveDataWithCredential(F){return this.linkWithCredential(F)}linkWithCredential(F){var U=this;return(0,l.Z)(function*(){return Yt(U.auth,P.Y(U._delegate,F))})()}linkWithPhoneNumber(F,U){var ie=this;return(0,l.Z)(function*(){return tt(ie.auth,P.l(ie._delegate,F,U))})()}linkWithPopup(F){var U=this;return(0,l.Z)(function*(){return Yt(U.auth,P.d(U._delegate,F,et))})()}linkWithRedirect(F){var U=this;return(0,l.Z)(function*(){return yield Cn(P.aC(U.auth)),P.g(U._delegate,F,et)})()}reauthenticateAndRetrieveDataWithCredential(F){return this.reauthenticateWithCredential(F)}reauthenticateWithCredential(F){var U=this;return(0,l.Z)(function*(){return Yt(U.auth,P.Z(U._delegate,F))})()}reauthenticateWithPhoneNumber(F,U){return tt(this.auth,P.r(this._delegate,F,U))}reauthenticateWithPopup(F){return Yt(this.auth,P.e(this._delegate,F,et))}reauthenticateWithRedirect(F){var U=this;return(0,l.Z)(function*(){return yield Cn(P.aC(U.auth)),P.h(U._delegate,F,et)})()}sendEmailVerification(F){return P.aa(this._delegate,F)}unlink(F){var U=this;return(0,l.Z)(function*(){return yield P.aj(U._delegate,F),U})()}updateEmail(F){return P.af(this._delegate,F)}updatePassword(F){return P.ag(this._delegate,F)}updatePhoneNumber(F){return P.u(this._delegate,F)}updateProfile(F){return P.ae(this._delegate,F)}verifyBeforeUpdateEmail(F,U){return P.ab(this._delegate,F,U)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Le.USER_MAP=new WeakMap;const ye=P.aw;let He=(()=>{class R{constructor(U,ie){if(this.app=U,ie.isInitialized())return this._delegate=ie.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:xe}=U.options;ye(xe,"invalid-api-key",{appName:U.name}),ye(xe,"invalid-api-key",{appName:U.name});const Be="undefined"!=typeof window?et:void 0;this._delegate=ie.initialize({options:{persistence:At(xe,U.name),popupRedirectResolver:Be}}),this._delegate._updateErrorMap(P.z),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Le.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(U){this._delegate.languageCode=U}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(U){this._delegate.tenantId=U}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(U,ie){P.E(this._delegate,U,ie)}applyActionCode(U){return P.a1(this._delegate,U)}checkActionCode(U){return P.a2(this._delegate,U)}confirmPasswordReset(U,ie){return P.a0(this._delegate,U,ie)}createUserWithEmailAndPassword(U,ie){var xe=this;return(0,l.Z)(function*(){return Yt(xe._delegate,P.a4(xe._delegate,U,ie))})()}fetchProvidersForEmail(U){return this.fetchSignInMethodsForEmail(U)}fetchSignInMethodsForEmail(U){return P.a9(this._delegate,U)}isSignInWithEmailLink(U){return P.a7(this._delegate,U)}getRedirectResult(){var U=this;return(0,l.Z)(function*(){ye(Te(),U._delegate,"operation-not-supported-in-this-environment");const ie=yield P.j(U._delegate,et);return ie?Yt(U._delegate,Promise.resolve(ie)):{credential:null,user:null}})()}addFrameworkForLogging(U){!function cn(R,F){(0,P.aC)(R)._logFramework(F)}(this._delegate,U)}onAuthStateChanged(U,ie,xe){const{next:Be,error:nt,complete:Ze}=ot(U,ie,xe);return this._delegate.onAuthStateChanged(Be,nt,Ze)}onIdTokenChanged(U,ie,xe){const{next:Be,error:nt,complete:Ze}=ot(U,ie,xe);return this._delegate.onIdTokenChanged(Be,nt,Ze)}sendSignInLinkToEmail(U,ie){return P.a6(this._delegate,U,ie)}sendPasswordResetEmail(U,ie){return P.$(this._delegate,U,ie||void 0)}setPersistence(U){var ie=this;return(0,l.Z)(function*(){let xe;switch(function dn(R,F){Gn(Object.values(Bt).includes(F),R,"invalid-persistence-type"),(0,ee.b$)()?Gn(F!==Bt.SESSION,R,"unsupported-persistence-type"):(0,ee.UG)()?Gn(F===Bt.NONE,R,"unsupported-persistence-type"):Ln()?Gn(F===Bt.NONE||F===Bt.LOCAL&&(0,ee.hl)(),R,"unsupported-persistence-type"):Gn(F===Bt.NONE||lr(),R,"unsupported-persistence-type")}(ie._delegate,U),U){case Bt.SESSION:xe=P.a;break;case Bt.LOCAL:xe=(yield P.ax(P.i)._isAvailable())?P.i:P.b;break;case Bt.NONE:xe=P.K;break;default:return P.as("argument-error",{appName:ie._delegate.name})}return ie._delegate.setPersistence(xe)})()}signInAndRetrieveDataWithCredential(U){return this.signInWithCredential(U)}signInAnonymously(){return Yt(this._delegate,P.W(this._delegate))}signInWithCredential(U){return Yt(this._delegate,P.X(this._delegate,U))}signInWithCustomToken(U){return Yt(this._delegate,P._(this._delegate,U))}signInWithEmailAndPassword(U,ie){return Yt(this._delegate,P.a5(this._delegate,U,ie))}signInWithEmailLink(U,ie){return Yt(this._delegate,P.a8(this._delegate,U,ie))}signInWithPhoneNumber(U,ie){return tt(this._delegate,P.s(this._delegate,U,ie))}signInWithPopup(U){var ie=this;return(0,l.Z)(function*(){return ye(Te(),ie._delegate,"operation-not-supported-in-this-environment"),Yt(ie._delegate,P.c(ie._delegate,U,et))})()}signInWithRedirect(U){var ie=this;return(0,l.Z)(function*(){return ye(Te(),ie._delegate,"operation-not-supported-in-this-environment"),yield Cn(ie._delegate),P.f(ie._delegate,U,et)})()}updateCurrentUser(U){return this._delegate.updateCurrentUser(U)}verifyPasswordResetCode(U){return P.a3(this._delegate,U)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return R.Persistence=Bt,R})();function ot(R,F,U){let ie=R;"function"!=typeof R&&({next:ie,error:F,complete:U}=R);const xe=ie;return{next:nt=>xe(nt&&Le.getOrCreate(nt)),error:F,complete:U}}function At(R,F){const U=function Ms(R,F){const U=Ct();if(!U)return[];const ie=P.ay(Tr,R,F);switch(U.getItem(ie)){case Bt.NONE:return[P.K];case Bt.LOCAL:return[P.i,P.a];case Bt.SESSION:return[P.a];default:return[]}}(R,F);if("undefined"!=typeof self&&!U.includes(P.i)&&U.push(P.i),"undefined"!=typeof window)for(const ie of[P.b,P.a])U.includes(ie)||U.push(ie);return U.includes(P.K)||U.push(P.K),U}class xt{constructor(){this.providerId="phone",this._delegate=new P.P(Hr(j.Z.auth()))}static credential(F,U){return P.P.credential(F,U)}verifyPhoneNumber(F,U){return this._delegate.verifyPhoneNumber(F,U)}unwrap(){return this._delegate}}xt.PHONE_SIGN_IN_METHOD=P.P.PHONE_SIGN_IN_METHOD,xt.PROVIDER_ID=P.P.PROVIDER_ID;const W=P.aw;class B{constructor(F,U,ie=j.Z.app()){var xe;W(null===(xe=ie.options)||void 0===xe?void 0:xe.apiKey,"invalid-api-key",{appName:ie.name}),this._delegate=new P.R(F,U,ie.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function ue(R){R.INTERNAL.registerComponent(new se.wA("auth-compat",F=>{const U=F.getProvider("app-compat").getImmediate(),ie=F.getProvider("auth");return new He(U,ie)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:P.A.EMAIL_SIGNIN,PASSWORD_RESET:P.A.PASSWORD_RESET,RECOVER_EMAIL:P.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:P.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:P.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:P.A.VERIFY_EMAIL}},EmailAuthProvider:P.L,FacebookAuthProvider:P.M,GithubAuthProvider:P.Q,GoogleAuthProvider:P.N,OAuthProvider:P.T,SAMLAuthProvider:P.U,PhoneAuthProvider:xt,PhoneMultiFactorGenerator:P.m,RecaptchaVerifier:B,TwitterAuthProvider:P.V,Auth:He,AuthCredential:P.G,Error:ee.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),R.registerVersion("@firebase/auth-compat","0.2.12")}(j.Z)},8306:(Je,Ce,O)=>{O.d(Ce,{y:()=>Z});var l=O(930),j=O(727),P=O(8822),ee=O(4671);var se=O(2416),oe=O(576),ce=O(2806);let Z=(()=>{class we{constructor(Pe){Pe&&(this._subscribe=Pe)}lift(Pe){const de=new we;return de.source=this,de.operator=Pe,de}subscribe(Pe,de,he){const Se=function Fe(we){return we&&we instanceof l.Lv||function X(we){return we&&(0,oe.m)(we.next)&&(0,oe.m)(we.error)&&(0,oe.m)(we.complete)}(we)&&(0,j.Nn)(we)}(Pe)?Pe:new l.Hp(Pe,de,he);return(0,ce.x)(()=>{const{operator:Re,source:Ne}=this;Se.add(Re?Re.call(Se,Ne):Ne?this._subscribe(Se):this._trySubscribe(Se))}),Se}_trySubscribe(Pe){try{return this._subscribe(Pe)}catch(de){Pe.error(de)}}forEach(Pe,de){return new(de=G(de))((he,Se)=>{let Re;Re=this.subscribe(Ne=>{try{Pe(Ne)}catch(Ge){Se(Ge),null==Re||Re.unsubscribe()}},Se,he)})}_subscribe(Pe){var de;return null===(de=this.source)||void 0===de?void 0:de.subscribe(Pe)}[P.L](){return this}pipe(...Pe){return function me(we){return 0===we.length?ee.y:1===we.length?we[0]:function(Pe){return we.reduce((de,he)=>he(de),Pe)}}(Pe)(this)}toPromise(Pe){return new(Pe=G(Pe))((de,he)=>{let Se;this.subscribe(Re=>Se=Re,Re=>he(Re),()=>de(Se))})}}return we.create=Ae=>new we(Ae),we})();function G(we){var Ae;return null!==(Ae=null!=we?we:se.v.Promise)&&void 0!==Ae?Ae:Promise}},7579:(Je,Ce,O)=>{O.d(Ce,{x:()=>se});var l=O(8306),j=O(727);const ee=(0,O(3888).d)(ce=>function(){ce(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var re=O(8737),me=O(2806);let se=(()=>{class ce extends l.y{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(G){const X=new oe(this,this);return X.operator=G,X}_throwIfClosed(){if(this.closed)throw new ee}next(G){(0,me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){const X=this.observers.slice();for(const Fe of X)Fe.next(G)}})}error(G){(0,me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=G;const{observers:X}=this;for(;X.length;)X.shift().error(G)}})}complete(){(0,me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:G}=this;for(;G.length;)G.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var G;return(null===(G=this.observers)||void 0===G?void 0:G.length)>0}_trySubscribe(G){return this._throwIfClosed(),super._trySubscribe(G)}_subscribe(G){return this._throwIfClosed(),this._checkFinalizedStatuses(G),this._innerSubscribe(G)}_innerSubscribe(G){const{hasError:X,isStopped:Fe,observers:we}=this;return X||Fe?j.Lc:(we.push(G),new j.w0(()=>(0,re.P)(we,G)))}_checkFinalizedStatuses(G){const{hasError:X,thrownError:Fe,isStopped:we}=this;X?G.error(Fe):we&&G.complete()}asObservable(){const G=new l.y;return G.source=this,G}}return ce.create=(Z,G)=>new oe(Z,G),ce})();class oe extends se{constructor(Z,G){super(),this.destination=Z,this.source=G}next(Z){var G,X;null===(X=null===(G=this.destination)||void 0===G?void 0:G.next)||void 0===X||X.call(G,Z)}error(Z){var G,X;null===(X=null===(G=this.destination)||void 0===G?void 0:G.error)||void 0===X||X.call(G,Z)}complete(){var Z,G;null===(G=null===(Z=this.destination)||void 0===Z?void 0:Z.complete)||void 0===G||G.call(Z)}_subscribe(Z){var G,X;return null!==(X=null===(G=this.source)||void 0===G?void 0:G.subscribe(Z))&&void 0!==X?X:j.Lc}}},930:(Je,Ce,O)=>{O.d(Ce,{Hp:()=>Fe,Lv:()=>X});var l=O(576),j=O(727),P=O(2416),ee=O(7849),re=O(5032);const me=ce("C",void 0,void 0);function ce(he,Se,Re){return{kind:he,value:Se,error:Re}}var Z=O(3410),G=O(2806);class X extends j.w0{constructor(Se){super(),this.isStopped=!1,Se?(this.destination=Se,(0,j.Nn)(Se)&&Se.add(this)):this.destination=de}static create(Se,Re,Ne){return new Fe(Se,Re,Ne)}next(Se){this.isStopped?Pe(function oe(he){return ce("N",he,void 0)}(Se),this):this._next(Se)}error(Se){this.isStopped?Pe(function se(he){return ce("E",void 0,he)}(Se),this):(this.isStopped=!0,this._error(Se))}complete(){this.isStopped?Pe(me,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Se){this.destination.next(Se)}_error(Se){try{this.destination.error(Se)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class Fe extends X{constructor(Se,Re,Ne){let Ge;if(super(),(0,l.m)(Se))Ge=Se;else if(Se){let be;({next:Ge,error:Re,complete:Ne}=Se),this&&P.v.useDeprecatedNextContext?(be=Object.create(Se),be.unsubscribe=()=>this.unsubscribe()):be=Se,Ge=null==Ge?void 0:Ge.bind(be),Re=null==Re?void 0:Re.bind(be),Ne=null==Ne?void 0:Ne.bind(be)}this.destination={next:Ge?we(Ge):re.Z,error:we(null!=Re?Re:Ae),complete:Ne?we(Ne):re.Z}}}function we(he,Se){return(...Re)=>{try{he(...Re)}catch(Ne){P.v.useDeprecatedSynchronousErrorHandling?(0,G.O)(Ne):(0,ee.h)(Ne)}}}function Ae(he){throw he}function Pe(he,Se){const{onStoppedNotification:Re}=P.v;Re&&Z.z.setTimeout(()=>Re(he,Se))}const de={closed:!0,next:re.Z,error:Ae,complete:re.Z}},727:(Je,Ce,O)=>{O.d(Ce,{Lc:()=>me,w0:()=>re,Nn:()=>se});var l=O(576);const P=(0,O(3888).d)(ce=>function(G){ce(this),this.message=G?`${G.length} errors occurred during unsubscription:\n${G.map((X,Fe)=>`${Fe+1}) ${X.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=G});var ee=O(8737);class re{constructor(Z){this.initialTeardown=Z,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let Z;if(!this.closed){this.closed=!0;const{_parentage:G}=this;if(G)if(this._parentage=null,Array.isArray(G))for(const we of G)we.remove(this);else G.remove(this);const{initialTeardown:X}=this;if((0,l.m)(X))try{X()}catch(we){Z=we instanceof P?we.errors:[we]}const{_teardowns:Fe}=this;if(Fe){this._teardowns=null;for(const we of Fe)try{oe(we)}catch(Ae){Z=null!=Z?Z:[],Ae instanceof P?Z=[...Z,...Ae.errors]:Z.push(Ae)}}if(Z)throw new P(Z)}}add(Z){var G;if(Z&&Z!==this)if(this.closed)oe(Z);else{if(Z instanceof re){if(Z.closed||Z._hasParent(this))return;Z._addParent(this)}(this._teardowns=null!==(G=this._teardowns)&&void 0!==G?G:[]).push(Z)}}_hasParent(Z){const{_parentage:G}=this;return G===Z||Array.isArray(G)&&G.includes(Z)}_addParent(Z){const{_parentage:G}=this;this._parentage=Array.isArray(G)?(G.push(Z),G):G?[G,Z]:Z}_removeParent(Z){const{_parentage:G}=this;G===Z?this._parentage=null:Array.isArray(G)&&(0,ee.P)(G,Z)}remove(Z){const{_teardowns:G}=this;G&&(0,ee.P)(G,Z),Z instanceof re&&Z._removeParent(this)}}re.EMPTY=(()=>{const ce=new re;return ce.closed=!0,ce})();const me=re.EMPTY;function se(ce){return ce instanceof re||ce&&"closed"in ce&&(0,l.m)(ce.remove)&&(0,l.m)(ce.add)&&(0,l.m)(ce.unsubscribe)}function oe(ce){(0,l.m)(ce)?ce():ce.unsubscribe()}},2416:(Je,Ce,O)=>{O.d(Ce,{v:()=>l});const l={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(Je,Ce,O)=>{O.d(Ce,{E:()=>j});const j=new(O(8306).y)(re=>re.complete())},8996:(Je,Ce,O)=>{O.d(Ce,{D:()=>Ge});var l=O(8421),j=O(5363),P=O(9468),me=O(8306),oe=O(2202),ce=O(576),Z=O(9672);function X(be,Ke){if(!be)throw new Error("Iterable cannot be null");return new me.y(Ve=>{(0,Z.f)(Ve,Ke,()=>{const it=be[Symbol.asyncIterator]();(0,Z.f)(Ve,Ke,()=>{it.next().then(J=>{J.done?Ve.complete():Ve.next(J.value)})},0,!0)})})}var Fe=O(3670),we=O(8239),Ae=O(1144),Pe=O(6495),de=O(2206),he=O(4532),Se=O(3260);function Ge(be,Ke){return Ke?function Ne(be,Ke){if(null!=be){if((0,Fe.c)(be))return function ee(be,Ke){return(0,l.Xf)(be).pipe((0,P.R)(Ke),(0,j.Q)(Ke))}(be,Ke);if((0,Ae.z)(be))return function se(be,Ke){return new me.y(Ve=>{let it=0;return Ke.schedule(function(){it===be.length?Ve.complete():(Ve.next(be[it++]),Ve.closed||this.schedule())})})}(be,Ke);if((0,we.t)(be))return function re(be,Ke){return(0,l.Xf)(be).pipe((0,P.R)(Ke),(0,j.Q)(Ke))}(be,Ke);if((0,de.D)(be))return X(be,Ke);if((0,Pe.T)(be))return function G(be,Ke){return new me.y(Ve=>{let it;return(0,Z.f)(Ve,Ke,()=>{it=be[oe.h](),(0,Z.f)(Ve,Ke,()=>{let J,pe;try{({value:J,done:pe}=it.next())}catch(ge){return void Ve.error(ge)}pe?Ve.complete():Ve.next(J)},0,!0)}),()=>(0,ce.m)(null==it?void 0:it.return)&&it.return()})}(be,Ke);if((0,Se.L)(be))return function Re(be,Ke){return X((0,Se.Q)(be),Ke)}(be,Ke)}throw(0,he.z)(be)}(be,Ke):(0,l.Xf)(be)}},8421:(Je,Ce,O)=>{O.d(Ce,{Xf:()=>Fe});var l=O(5987),j=O(1144),P=O(8239),ee=O(8306),re=O(3670),me=O(2206),se=O(4532),oe=O(6495),ce=O(3260),Z=O(576),G=O(7849),X=O(8822);function Fe(Ne){if(Ne instanceof ee.y)return Ne;if(null!=Ne){if((0,re.c)(Ne))return function we(Ne){return new ee.y(Ge=>{const be=Ne[X.L]();if((0,Z.m)(be.subscribe))return be.subscribe(Ge);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ne);if((0,j.z)(Ne))return function Ae(Ne){return new ee.y(Ge=>{for(let be=0;be<Ne.length&&!Ge.closed;be++)Ge.next(Ne[be]);Ge.complete()})}(Ne);if((0,P.t)(Ne))return function Pe(Ne){return new ee.y(Ge=>{Ne.then(be=>{Ge.closed||(Ge.next(be),Ge.complete())},be=>Ge.error(be)).then(null,G.h)})}(Ne);if((0,me.D)(Ne))return he(Ne);if((0,oe.T)(Ne))return function de(Ne){return new ee.y(Ge=>{for(const be of Ne)if(Ge.next(be),Ge.closed)return;Ge.complete()})}(Ne);if((0,ce.L)(Ne))return function Se(Ne){return he((0,ce.Q)(Ne))}(Ne)}throw(0,se.z)(Ne)}function he(Ne){return new ee.y(Ge=>{(function Re(Ne,Ge){var be,Ke,Ve,it;return(0,l.mG)(this,void 0,void 0,function*(){try{for(be=(0,l.KL)(Ne);!(Ke=yield be.next()).done;)if(Ge.next(Ke.value),Ge.closed)return}catch(J){Ve={error:J}}finally{try{Ke&&!Ke.done&&(it=be.return)&&(yield it.call(be))}finally{if(Ve)throw Ve.error}}Ge.complete()})})(Ne,Ge).catch(be=>Ge.error(be))})}},6451:(Je,Ce,O)=>{O.d(Ce,{T:()=>me});var l=O(8189),j=O(8421),P=O(515),ee=O(7669),re=O(8996);function me(...se){const oe=(0,ee.yG)(se),ce=(0,ee._6)(se,1/0),Z=se;return Z.length?1===Z.length?(0,j.Xf)(Z[0]):(0,l.J)(ce)((0,re.D)(Z,oe)):P.E}},5403:(Je,Ce,O)=>{O.d(Ce,{Q:()=>j});var l=O(930);class j extends l.Lv{constructor(ee,re,me,se,oe){super(ee),this.onFinalize=oe,this._next=re?function(ce){try{re(ce)}catch(Z){ee.error(Z)}}:super._next,this._error=se?function(ce){try{se(ce)}catch(Z){ee.error(Z)}finally{this.unsubscribe()}}:super._error,this._complete=me?function(){try{me()}catch(ce){ee.error(ce)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ee;const{closed:re}=this;super.unsubscribe(),!re&&(null===(ee=this.onFinalize)||void 0===ee||ee.call(this))}}},4004:(Je,Ce,O)=>{O.d(Ce,{U:()=>P});var l=O(4482),j=O(5403);function P(ee,re){return(0,l.e)((me,se)=>{let oe=0;me.subscribe(new j.Q(se,ce=>{se.next(ee.call(re,ce,oe++))}))})}},8189:(Je,Ce,O)=>{O.d(Ce,{J:()=>P});var l=O(5577),j=O(4671);function P(ee=1/0){return(0,l.z)(j.y,ee)}},5577:(Je,Ce,O)=>{O.d(Ce,{z:()=>oe});var l=O(4004),j=O(8421),P=O(4482),ee=O(9672),re=O(5403),se=O(576);function oe(ce,Z,G=1/0){return(0,se.m)(Z)?oe((X,Fe)=>(0,l.U)((we,Ae)=>Z(X,we,Fe,Ae))((0,j.Xf)(ce(X,Fe))),G):("number"==typeof Z&&(G=Z),(0,P.e)((X,Fe)=>function me(ce,Z,G,X,Fe,we,Ae,Pe){const de=[];let he=0,Se=0,Re=!1;const Ne=()=>{Re&&!de.length&&!he&&Z.complete()},Ge=Ke=>he<X?be(Ke):de.push(Ke),be=Ke=>{we&&Z.next(Ke),he++;let Ve=!1;(0,j.Xf)(G(Ke,Se++)).subscribe(new re.Q(Z,it=>{null==Fe||Fe(it),we?Ge(it):Z.next(it)},()=>{Ve=!0},void 0,()=>{if(Ve)try{for(he--;de.length&&he<X;){const it=de.shift();Ae?(0,ee.f)(Z,Ae,()=>be(it)):be(it)}Ne()}catch(it){Z.error(it)}}))};return ce.subscribe(new re.Q(Z,Ge,()=>{Re=!0,Ne()})),()=>{null==Pe||Pe()}}(X,Fe,ce,G)))}},5363:(Je,Ce,O)=>{O.d(Ce,{Q:()=>ee});var l=O(9672),j=O(4482),P=O(5403);function ee(re,me=0){return(0,j.e)((se,oe)=>{se.subscribe(new P.Q(oe,ce=>(0,l.f)(oe,re,()=>oe.next(ce),me),()=>(0,l.f)(oe,re,()=>oe.complete(),me),ce=>(0,l.f)(oe,re,()=>oe.error(ce),me)))})}},3099:(Je,Ce,O)=>{O.d(Ce,{B:()=>me});var l=O(8996),j=O(5698),P=O(7579),ee=O(930),re=O(4482);function me(oe={}){const{connector:ce=(()=>new P.x),resetOnError:Z=!0,resetOnComplete:G=!0,resetOnRefCountZero:X=!0}=oe;return Fe=>{let we=null,Ae=null,Pe=null,de=0,he=!1,Se=!1;const Re=()=>{null==Ae||Ae.unsubscribe(),Ae=null},Ne=()=>{Re(),we=Pe=null,he=Se=!1},Ge=()=>{const be=we;Ne(),null==be||be.unsubscribe()};return(0,re.e)((be,Ke)=>{de++,!Se&&!he&&Re();const Ve=Pe=null!=Pe?Pe:ce();Ke.add(()=>{de--,0===de&&!Se&&!he&&(Ae=se(Ge,X))}),Ve.subscribe(Ke),we||(we=new ee.Hp({next:it=>Ve.next(it),error:it=>{Se=!0,Re(),Ae=se(Ne,Z,it),Ve.error(it)},complete:()=>{he=!0,Re(),Ae=se(Ne,G),Ve.complete()}}),(0,l.D)(be).subscribe(we))})(Fe)}}function se(oe,ce,...Z){return!0===ce?(oe(),null):!1===ce?null:ce(...Z).pipe((0,j.q)(1)).subscribe(()=>oe())}},9468:(Je,Ce,O)=>{O.d(Ce,{R:()=>j});var l=O(4482);function j(P,ee=0){return(0,l.e)((re,me)=>{me.add(P.schedule(()=>re.subscribe(me),ee))})}},5698:(Je,Ce,O)=>{O.d(Ce,{q:()=>ee});var l=O(515),j=O(4482),P=O(5403);function ee(re){return re<=0?()=>l.E:(0,j.e)((me,se)=>{let oe=0;me.subscribe(new P.Q(se,ce=>{++oe<=re&&(se.next(ce),re<=oe&&se.complete())}))})}},8505:(Je,Ce,O)=>{O.d(Ce,{b:()=>re});var l=O(576),j=O(4482),P=O(5403),ee=O(4671);function re(me,se,oe){const ce=(0,l.m)(me)||se||oe?{next:me,error:se,complete:oe}:me;return ce?(0,j.e)((Z,G)=>{var X;null===(X=ce.subscribe)||void 0===X||X.call(ce);let Fe=!0;Z.subscribe(new P.Q(G,we=>{var Ae;null===(Ae=ce.next)||void 0===Ae||Ae.call(ce,we),G.next(we)},()=>{var we;Fe=!1,null===(we=ce.complete)||void 0===we||we.call(ce),G.complete()},we=>{var Ae;Fe=!1,null===(Ae=ce.error)||void 0===Ae||Ae.call(ce,we),G.error(we)},()=>{var we,Ae;Fe&&(null===(we=ce.unsubscribe)||void 0===we||we.call(ce)),null===(Ae=ce.finalize)||void 0===Ae||Ae.call(ce)}))}):ee.y}},4408:(Je,Ce,O)=>{O.d(Ce,{o:()=>re});var l=O(727);class j extends l.w0{constructor(se,oe){super()}schedule(se,oe=0){return this}}const P={setInterval(...me){const{delegate:se}=P;return((null==se?void 0:se.setInterval)||setInterval)(...me)},clearInterval(me){const{delegate:se}=P;return((null==se?void 0:se.clearInterval)||clearInterval)(me)},delegate:void 0};var ee=O(8737);class re extends j{constructor(se,oe){super(se,oe),this.scheduler=se,this.work=oe,this.pending=!1}schedule(se,oe=0){if(this.closed)return this;this.state=se;const ce=this.id,Z=this.scheduler;return null!=ce&&(this.id=this.recycleAsyncId(Z,ce,oe)),this.pending=!0,this.delay=oe,this.id=this.id||this.requestAsyncId(Z,this.id,oe),this}requestAsyncId(se,oe,ce=0){return P.setInterval(se.flush.bind(se,this),ce)}recycleAsyncId(se,oe,ce=0){if(null!=ce&&this.delay===ce&&!1===this.pending)return oe;P.clearInterval(oe)}execute(se,oe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ce=this._execute(se,oe);if(ce)return ce;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(se,oe){let Z,ce=!1;try{this.work(se)}catch(G){ce=!0,Z=G||new Error("Scheduled action threw falsy error")}if(ce)return this.unsubscribe(),Z}unsubscribe(){if(!this.closed){const{id:se,scheduler:oe}=this,{actions:ce}=oe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ee.P)(ce,this),null!=se&&(this.id=this.recycleAsyncId(oe,se,null)),this.delay=null,super.unsubscribe()}}}},7565:(Je,Ce,O)=>{O.d(Ce,{v:()=>P});var l=O(6063);class j{constructor(re,me=j.now){this.schedulerActionCtor=re,this.now=me}schedule(re,me=0,se){return new this.schedulerActionCtor(this,re).schedule(se,me)}}j.now=l.l.now;class P extends j{constructor(re,me=j.now){super(re,me),this.actions=[],this._active=!1,this._scheduled=void 0}flush(re){const{actions:me}=this;if(this._active)return void me.push(re);let se;this._active=!0;do{if(se=re.execute(re.state,re.delay))break}while(re=me.shift());if(this._active=!1,se){for(;re=me.shift();)re.unsubscribe();throw se}}}},4986:(Je,Ce,O)=>{O.d(Ce,{z:()=>P});var l=O(4408);const P=new(O(7565).v)(l.o)},6063:(Je,Ce,O)=>{O.d(Ce,{l:()=>l});const l={now:()=>(l.delegate||Date).now(),delegate:void 0}},3410:(Je,Ce,O)=>{O.d(Ce,{z:()=>l});const l={setTimeout(...j){const{delegate:P}=l;return((null==P?void 0:P.setTimeout)||setTimeout)(...j)},clearTimeout(j){const{delegate:P}=l;return((null==P?void 0:P.clearTimeout)||clearTimeout)(j)},delegate:void 0}},2202:(Je,Ce,O)=>{O.d(Ce,{h:()=>j});const j=function l(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Je,Ce,O)=>{O.d(Ce,{L:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(Je,Ce,O)=>{O.d(Ce,{_6:()=>me,jO:()=>ee,yG:()=>re});var l=O(576);function P(se){return se[se.length-1]}function ee(se){return(0,l.m)(P(se))?se.pop():void 0}function re(se){return function j(se){return se&&(0,l.m)(se.schedule)}(P(se))?se.pop():void 0}function me(se,oe){return"number"==typeof P(se)?se.pop():oe}},8737:(Je,Ce,O)=>{function l(j,P){if(j){const ee=j.indexOf(P);0<=ee&&j.splice(ee,1)}}O.d(Ce,{P:()=>l})},3888:(Je,Ce,O)=>{function l(j){const ee=j(re=>{Error.call(re),re.stack=(new Error).stack});return ee.prototype=Object.create(Error.prototype),ee.prototype.constructor=ee,ee}O.d(Ce,{d:()=>l})},2806:(Je,Ce,O)=>{O.d(Ce,{O:()=>ee,x:()=>P});var l=O(2416);let j=null;function P(re){if(l.v.useDeprecatedSynchronousErrorHandling){const me=!j;if(me&&(j={errorThrown:!1,error:null}),re(),me){const{errorThrown:se,error:oe}=j;if(j=null,se)throw oe}}else re()}function ee(re){l.v.useDeprecatedSynchronousErrorHandling&&j&&(j.errorThrown=!0,j.error=re)}},9672:(Je,Ce,O)=>{function l(j,P,ee,re=0,me=!1){const se=P.schedule(function(){ee(),me?j.add(this.schedule(null,re)):this.unsubscribe()},re);if(j.add(se),!me)return se}O.d(Ce,{f:()=>l})},4671:(Je,Ce,O)=>{function l(j){return j}O.d(Ce,{y:()=>l})},1144:(Je,Ce,O)=>{O.d(Ce,{z:()=>l});const l=j=>j&&"number"==typeof j.length&&"function"!=typeof j},2206:(Je,Ce,O)=>{O.d(Ce,{D:()=>j});var l=O(576);function j(P){return Symbol.asyncIterator&&(0,l.m)(null==P?void 0:P[Symbol.asyncIterator])}},576:(Je,Ce,O)=>{function l(j){return"function"==typeof j}O.d(Ce,{m:()=>l})},3670:(Je,Ce,O)=>{O.d(Ce,{c:()=>P});var l=O(8822),j=O(576);function P(ee){return(0,j.m)(ee[l.L])}},6495:(Je,Ce,O)=>{O.d(Ce,{T:()=>P});var l=O(2202),j=O(576);function P(ee){return(0,j.m)(null==ee?void 0:ee[l.h])}},8239:(Je,Ce,O)=>{O.d(Ce,{t:()=>j});var l=O(576);function j(P){return(0,l.m)(null==P?void 0:P.then)}},3260:(Je,Ce,O)=>{O.d(Ce,{L:()=>ee,Q:()=>P});var l=O(5987),j=O(576);function P(re){return(0,l.FC)(this,arguments,function*(){const se=re.getReader();try{for(;;){const{value:oe,done:ce}=yield(0,l.qq)(se.read());if(ce)return yield(0,l.qq)(void 0);yield yield(0,l.qq)(oe)}}finally{se.releaseLock()}})}function ee(re){return(0,j.m)(null==re?void 0:re.getReader)}},4482:(Je,Ce,O)=>{O.d(Ce,{A:()=>j,e:()=>P});var l=O(576);function j(ee){return(0,l.m)(null==ee?void 0:ee.lift)}function P(ee){return re=>{if(j(re))return re.lift(function(me){try{return ee(me,this)}catch(se){this.error(se)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(Je,Ce,O)=>{function l(){}O.d(Ce,{Z:()=>l})},7849:(Je,Ce,O)=>{O.d(Ce,{h:()=>P});var l=O(2416),j=O(3410);function P(ee){j.z.setTimeout(()=>{const{onUnhandledError:re}=l.v;if(!re)throw ee;re(ee)})}},4532:(Je,Ce,O)=>{function l(j){return new TypeError(`You provided ${null!==j&&"object"==typeof j?"an invalid object":`'${j}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}O.d(Ce,{z:()=>l})},5987:(Je,Ce,O)=>{function oe(J,pe,ge,_e){return new(ge||(ge=Promise))(function(ae,gt){function Vt(st){try{Xe(_e.next(st))}catch(cn){gt(cn)}}function Pn(st){try{Xe(_e.throw(st))}catch(cn){gt(cn)}}function Xe(st){st.done?ae(st.value):function Me(ae){return ae instanceof ge?ae:new ge(function(gt){gt(ae)})}(st.value).then(Vt,Pn)}Xe((_e=_e.apply(J,pe||[])).next())})}function de(J){return this instanceof de?(this.v=J,this):new de(J)}function he(J,pe,ge){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Me,_e=ge.apply(J,pe||[]),ae=[];return Me={},gt("next"),gt("throw"),gt("return"),Me[Symbol.asyncIterator]=function(){return this},Me;function gt(Gt){_e[Gt]&&(Me[Gt]=function(Rr){return new Promise(function(Ut,ar){ae.push([Gt,Rr,Ut,ar])>1||Vt(Gt,Rr)})})}function Vt(Gt,Rr){try{!function Pn(Gt){Gt.value instanceof de?Promise.resolve(Gt.value.v).then(Xe,st):cn(ae[0][2],Gt)}(_e[Gt](Rr))}catch(Ut){cn(ae[0][3],Ut)}}function Xe(Gt){Vt("next",Gt)}function st(Gt){Vt("throw",Gt)}function cn(Gt,Rr){Gt(Rr),ae.shift(),ae.length&&Vt(ae[0][0],ae[0][1])}}function Re(J){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ge,pe=J[Symbol.asyncIterator];return pe?pe.call(J):(J=function X(J){var pe="function"==typeof Symbol&&Symbol.iterator,ge=pe&&J[pe],_e=0;if(ge)return ge.call(J);if(J&&"number"==typeof J.length)return{next:function(){return J&&_e>=J.length&&(J=void 0),{value:J&&J[_e++],done:!J}}};throw new TypeError(pe?"Object is not iterable.":"Symbol.iterator is not defined.")}(J),ge={},_e("next"),_e("throw"),_e("return"),ge[Symbol.asyncIterator]=function(){return this},ge);function _e(ae){ge[ae]=J[ae]&&function(gt){return new Promise(function(Vt,Pn){!function Me(ae,gt,Vt,Pn){Promise.resolve(Pn).then(function(Xe){ae({value:Xe,done:Vt})},gt)}(Vt,Pn,(gt=J[ae](gt)).done,gt.value)})}}}O.d(Ce,{FC:()=>he,KL:()=>Re,mG:()=>oe,qq:()=>de})},5e3:(Je,Ce,O)=>{O.d(Ce,{$8M:()=>Ui,$Z:()=>mm,AFp:()=>dC,ALo:()=>Xm,AaK:()=>oe,CHM:()=>Ls,CRH:()=>l_,CZH:()=>ea,CqO:()=>Rf,Dn7:()=>H0,EJc:()=>pC,EpF:()=>Tv,F4k:()=>Av,FYo:()=>Gm,FiY:()=>en,G48:()=>gw,GfV:()=>oh,Gpc:()=>G,JOm:()=>jo,LFG:()=>Y,LSH:()=>v,Lbi:()=>E_,MAs:()=>cv,NdJ:()=>Em,O4$:()=>fu,OlP:()=>Xt,Oqu:()=>xm,PXZ:()=>EC,Q6J:()=>oo,QGY:()=>Cm,Qsj:()=>Nb,R0b:()=>Ai,RDi:()=>Sh,Rgc:()=>dh,SBq:()=>up,Sil:()=>Rp,Suo:()=>K0,TTD:()=>Ps,TgZ:()=>_m,VKq:()=>F0,VLi:()=>I_,W1O:()=>Tp,X6Q:()=>mh,XFs:()=>qe,Xpm:()=>xt,Y36:()=>cc,YKP:()=>fp,YNc:()=>cm,Yjl:()=>xe,Yz7:()=>Ut,ZZ4:()=>$p,_Bn:()=>ap,_UZ:()=>Dv,_Vd:()=>lp,_c5:()=>Iw,_uU:()=>qv,aQg:()=>el,c2e:()=>ta,cJS:()=>Ir,cg1:()=>vc,dDg:()=>yC,deG:()=>Ys,dqk:()=>rt,eFA:()=>Dr,ekj:()=>Tm,g9A:()=>C_,h0i:()=>Ya,hGG:()=>Mw,hij:()=>Zf,iGM:()=>wp,ifc:()=>Ct,ip1:()=>Pp,kL8:()=>Xd,kcU:()=>pu,lG2:()=>ie,lcZ:()=>j0,n5z:()=>En,oAB:()=>R,oxw:()=>bm,q4F:()=>cp,qLn:()=>pd,qOj:()=>om,qZA:()=>ym,s9C:()=>hc,sBO:()=>DC,sIi:()=>ln,s_b:()=>Cp,soG:()=>Oc,tBr:()=>On,tb:()=>fC,tp0:()=>vr,uIk:()=>Za,vHH:()=>Ae,vpe:()=>co,wAp:()=>ht,xp6:()=>by,z2F:()=>gh,zSh:()=>Jg,zs3:()=>Gi});var l=O(7579),j=O(727),P=O(8306),ee=O(6451),re=O(3099);function me(r){for(let i in r)if(r[i]===me)return i;throw Error("Could not find renamed property on target object.")}function se(r,i){for(const o in i)i.hasOwnProperty(o)&&!r.hasOwnProperty(o)&&(r[o]=i[o])}function oe(r){if("string"==typeof r)return r;if(Array.isArray(r))return"["+r.map(oe).join(", ")+"]";if(null==r)return""+r;if(r.overriddenName)return`${r.overriddenName}`;if(r.name)return`${r.name}`;const i=r.toString();if(null==i)return""+i;const o=i.indexOf("\n");return-1===o?i:i.substring(0,o)}function ce(r,i){return null==r||""===r?null===i?"":i:null==i||""===i?r:r+" "+i}const Z=me({__forward_ref__:me});function G(r){return r.__forward_ref__=G,r.toString=function(){return oe(this())},r}function X(r){return Fe(r)?r():r}function Fe(r){return"function"==typeof r&&r.hasOwnProperty(Z)&&r.__forward_ref__===G}class Ae extends Error{constructor(i,o){super(function Pe(r,i){return`NG0${Math.abs(r)}${i?": "+i:""}`}(i,o)),this.code=i}}function de(r){return"string"==typeof r?r:null==r?"":String(r)}function he(r){return"function"==typeof r?r.name||r.toString():"object"==typeof r&&null!=r&&"function"==typeof r.type?r.type.name||r.type.toString():de(r)}function Ge(r,i){const o=i?` in ${i}`:"";throw new Ae(-201,`No provider for ${he(r)} found${o}`)}function Xe(r,i){null==r&&function st(r,i,o,u){throw new Error(`ASSERTION ERROR: ${r}`+(null==u?"":` [Expected=> ${o} ${u} ${i} <=Actual]`))}(i,r,null,"!=")}function Ut(r){return{token:r.token,providedIn:r.providedIn||null,factory:r.factory,value:void 0}}function Ir(r){return{providers:r.providers||[],imports:r.imports||[]}}function In(r){return Fn(r,lr)||Fn(r,Te)}function Fn(r,i){return r.hasOwnProperty(i)?r[i]:null}function mi(r){return r&&(r.hasOwnProperty(Ln)||r.hasOwnProperty(Un))?r[Ln]:null}const lr=me({\u0275prov:me}),Ln=me({\u0275inj:me}),Te=me({ngInjectableDef:me}),Un=me({ngInjectorDef:me});var qe=(()=>((qe=qe||{})[qe.Default=0]="Default",qe[qe.Host=1]="Host",qe[qe.Self=2]="Self",qe[qe.SkipSelf=4]="SkipSelf",qe[qe.Optional=8]="Optional",qe))();let ur;function Bt(r){const i=ur;return ur=r,i}function Gn(r,i,o){const u=In(r);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:o&qe.Optional?null:void 0!==i?i:void Ge(oe(r),"Injector")}function dn(r){return{toString:r}.toString()}var Cn=(()=>((Cn=Cn||{})[Cn.OnPush=0]="OnPush",Cn[Cn.Default=1]="Default",Cn))(),Ct=(()=>{return(r=Ct||(Ct={}))[r.Emulated=0]="Emulated",r[r.None=2]="None",r[r.ShadowDom=3]="ShadowDom",Ct;var r})();const Qe="undefined"!=typeof globalThis&&globalThis,et="undefined"!=typeof window&&window,Hr="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,rt=Qe||"undefined"!=typeof global&&global||et||Hr,Yt={},tt=[],Qt=me({\u0275cmp:me}),wt=me({\u0275dir:me}),Le=me({\u0275pipe:me}),ye=me({\u0275mod:me}),He=me({\u0275fac:me}),ot=me({__NG_ELEMENT_ID__:me});let At=0;function xt(r){return dn(()=>{const o={},u={type:r.type,providersResolver:null,decls:r.decls,vars:r.vars,factory:null,template:r.template||null,consts:r.consts||null,ngContentSelectors:r.ngContentSelectors,hostBindings:r.hostBindings||null,hostVars:r.hostVars||0,hostAttrs:r.hostAttrs||null,contentQueries:r.contentQueries||null,declaredInputs:o,inputs:null,outputs:null,exportAs:r.exportAs||null,onPush:r.changeDetection===Cn.OnPush,directiveDefs:null,pipeDefs:null,selectors:r.selectors||tt,viewQuery:r.viewQuery||null,features:r.features||null,data:r.data||{},encapsulation:r.encapsulation||Ct.Emulated,id:"c",styles:r.styles||tt,_:null,setInput:null,schemas:r.schemas||null,tView:null},c=r.directives,f=r.features,_=r.pipes;return u.id+=At++,u.inputs=U(r.inputs,o),u.outputs=U(r.outputs),f&&f.forEach(C=>C(u)),u.directiveDefs=c?()=>("function"==typeof c?c():c).map(B):null,u.pipeDefs=_?()=>("function"==typeof _?_():_).map(z):null,u})}function B(r){return Be(r)||function nt(r){return r[wt]||null}(r)}function z(r){return function Ze(r){return r[Le]||null}(r)}const ue={};function R(r){return dn(()=>{const i={type:r.type,bootstrap:r.bootstrap||tt,declarations:r.declarations||tt,imports:r.imports||tt,exports:r.exports||tt,transitiveCompileScopes:null,schemas:r.schemas||null,id:r.id||null};return null!=r.id&&(ue[r.id]=r.type),i})}function U(r,i){if(null==r)return Yt;const o={};for(const u in r)if(r.hasOwnProperty(u)){let c=r[u],f=c;Array.isArray(c)&&(f=c[1],c=c[0]),o[c]=u,i&&(i[c]=f)}return o}const ie=xt;function xe(r){return{type:r.type,name:r.name,factory:null,pure:!1!==r.pure,onDestroy:r.type.prototype.ngOnDestroy||null}}function Be(r){return r[Qt]||null}function mt(r,i){const o=r[ye]||null;if(!o&&!0===i)throw new Error(`Type ${oe(r)} does not have '\u0275mod' property.`);return o}function Wr(r){return Array.isArray(r)&&"object"==typeof r[1]}function Gr(r){return Array.isArray(r)&&!0===r[1]}function nu(r){return 0!=(8&r.flags)}function Mn(r){return 2==(2&r.flags)}function go(r){return 1==(1&r.flags)}function zr(r){return null!==r.template}function oa(r){return 0!=(512&r[2])}function xi(r,i){return r.hasOwnProperty(He)?r[He]:null}class Ji{constructor(i,o,u){this.previousValue=i,this.currentValue=o,this.firstChange=u}isFirstChange(){return this.firstChange}}function Ps(){return Rs}function Rs(r){return r.type.prototype.ngOnChanges&&(r.setInput=Pi),_o}function _o(){const r=Ri(this),i=null==r?void 0:r.current;if(i){const o=r.previous;if(o===Yt)r.previous=i;else for(let u in i)o[u]=i[u];r.current=null,this.ngOnChanges(i)}}function Pi(r,i,o,u){const c=Ri(r)||function zn(r,i){return r[ol]=i}(r,{previous:Yt,current:null}),f=c.current||(c.current={}),_=c.previous,C=this.declaredInputs[o],E=_[C];f[C]=new Ji(E&&E.currentValue,i,_===Yt),r[u]=i}Ps.ngInherit=!0;const ol="__ngSimpleChanges__";function Ri(r){return r[ol]||null}const vo="http://www.w3.org/2000/svg";let Os;function Sh(r){Os=r}function Pt(r){return!!r.listen}const la={createRenderer:(r,i)=>function ll(){return void 0!==Os?Os:"undefined"!=typeof document?document:void 0}()};function on(r){for(;Array.isArray(r);)r=r[0];return r}function qn(r,i){return on(i[r])}function nr(r,i){return on(i[r.index])}function Co(r,i){return r.data[i]}function Xi(r,i){return r[i]}function Ht(r,i){const o=i[r];return Wr(o)?o:o[0]}function du(r){return 4==(4&r[2])}function kr(r){return 128==(128&r[2])}function dr(r,i){return null==i?null:r[i]}function ks(r){r[18]=0}function es(r,i){r[5]+=i;let o=r,u=r[3];for(;null!==u&&(1===i&&1===o[5]||-1===i&&0===o[5]);)u[5]+=i,o=u,u=u[3]}const lt={lFrame:pa(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Fs(){return lt.bindingsEnabled}function Ee(){return lt.lFrame.lView}function St(){return lt.lFrame.tView}function Ls(r){return lt.lFrame.contextLView=r,r[8]}function hn(){let r=Oi();for(;null!==r&&64===r.type;)r=r.parent;return r}function Oi(){return lt.lFrame.currentTNode}function mr(r,i){const o=lt.lFrame;o.currentTNode=r,o.isParent=i}function ts(){return lt.lFrame.isParent}function Vs(){return lt.isInCheckNoChangesMode}function Io(r){lt.isInCheckNoChangesMode=r}function jn(){const r=lt.lFrame;let i=r.bindingRootIndex;return-1===i&&(i=r.bindingRootIndex=r.tView.bindingStartIndex),i}function ns(){return lt.lFrame.bindingIndex++}function js(r,i){const o=lt.lFrame;o.bindingIndex=o.bindingRootIndex=r,Ni(i)}function Ni(r){lt.lFrame.currentDirectiveIndex=r}function Hs(){return lt.lFrame.currentQueryIndex}function fl(r){lt.lFrame.currentQueryIndex=r}function To(r){const i=r[1];return 2===i.type?i.declTNode:1===i.type?r[6]:null}function $c(r,i,o){if(o&qe.SkipSelf){let c=i,f=r;for(;!(c=c.parent,null!==c||o&qe.Host||(c=To(f),null===c||(f=f[15],10&c.type))););if(null===c)return!1;i=c,r=f}const u=lt.lFrame=fa();return u.currentTNode=i,u.lView=r,!0}function $s(r){const i=fa(),o=r[1];lt.lFrame=i,i.currentTNode=o.firstChild,i.lView=r,i.tView=o,i.contextLView=r,i.bindingIndex=o.bindingStartIndex,i.inI18n=!1}function fa(){const r=lt.lFrame,i=null===r?null:r.child;return null===i?pa(r):i}function pa(r){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:r,child:null,inI18n:!1};return null!==r&&(r.child=i),i}function pl(){const r=lt.lFrame;return lt.lFrame=r.parent,r.currentTNode=null,r.lView=null,r}const ga=pl;function ma(){const r=pl();r.isParent=!0,r.tView=null,r.selectedIndex=-1,r.contextLView=null,r.elementDepthCount=0,r.currentDirectiveIndex=-1,r.currentNamespace=null,r.bindingRootIndex=-1,r.bindingIndex=-1,r.currentQueryIndex=0}function Yn(){return lt.lFrame.selectedIndex}function ir(r){lt.lFrame.selectedIndex=r}function mn(){const r=lt.lFrame;return Co(r.tView,r.selectedIndex)}function fu(){lt.lFrame.currentNamespace=vo}function pu(){!function ya(){lt.lFrame.currentNamespace=null}()}function rs(r,i){for(let o=i.directiveStart,u=i.directiveEnd;o<u;o++){const f=r.data[o].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:C,ngAfterViewInit:E,ngAfterViewChecked:I,ngOnDestroy:A}=f;_&&(r.contentHooks||(r.contentHooks=[])).push(-o,_),C&&((r.contentHooks||(r.contentHooks=[])).push(o,C),(r.contentCheckHooks||(r.contentCheckHooks=[])).push(o,C)),E&&(r.viewHooks||(r.viewHooks=[])).push(-o,E),I&&((r.viewHooks||(r.viewHooks=[])).push(o,I),(r.viewCheckHooks||(r.viewCheckHooks=[])).push(o,I)),null!=A&&(r.destroyHooks||(r.destroyHooks=[])).push(o,A)}}function Ao(r,i,o){Gc(r,i,3,o)}function va(r,i,o,u){(3&r[2])===o&&Gc(r,i,o,u)}function Ca(r,i){let o=r[2];(3&o)===i&&(o&=2047,o+=1,r[2]=o)}function Gc(r,i,o,u){const f=null!=u?u:-1,_=i.length-1;let C=0;for(let E=void 0!==u?65535&r[18]:0;E<_;E++)if("number"==typeof i[E+1]){if(C=i[E],null!=u&&C>=u)break}else i[E]<0&&(r[18]+=65536),(C<f||-1==f)&&(gl(r,o,i,E),r[18]=(4294901760&r[18])+E+2),E++}function gl(r,i,o,u){const c=o[u]<0,f=o[u+1],C=r[c?-o[u]:o[u]];if(c){if(r[2]>>11<r[18]>>16&&(3&r[2])===i){r[2]+=2048;try{f.call(C)}finally{}}}else try{f.call(C)}finally{}}class is{constructor(i,o,u){this.factory=i,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=u}}function ml(r,i,o){const u=Pt(r);let c=0;for(;c<o.length;){const f=o[c];if("number"==typeof f){if(0!==f)break;c++;const _=o[c++],C=o[c++],E=o[c++];u?r.setAttribute(i,C,E,_):i.setAttributeNS(_,C,E)}else{const _=f,C=o[++c];Jt(_)?u&&r.setProperty(i,_,C):u?r.setAttribute(i,_,C):i.setAttribute(_,C),c++}}return c}function Hn(r){return 3===r||4===r||6===r}function Jt(r){return 64===r.charCodeAt(0)}function Ea(r,i){if(null!==i&&0!==i.length)if(null===r||0===r.length)r=i.slice();else{let o=-1;for(let u=0;u<i.length;u++){const c=i[u];"number"==typeof c?o=c:0===o||zc(r,o,c,null,-1===o||2===o?i[++u]:null)}}return r}function zc(r,i,o,u,c){let f=0,_=r.length;if(-1===i)_=-1;else for(;f<r.length;){const C=r[f++];if("number"==typeof C){if(C===i){_=-1;break}if(C>i){_=f-1;break}}}for(;f<r.length;){const C=r[f];if("number"==typeof C)break;if(C===o){if(null===u)return void(null!==c&&(r[f+1]=c));if(u===r[f+1])return void(r[f+2]=c)}f++,null!==u&&f++,null!==c&&f++}-1!==_&&(r.splice(_,0,i),f=_+1),r.splice(f++,0,o),null!==u&&r.splice(f++,0,u),null!==c&&r.splice(f++,0,c)}function qc(r){return-1!==r}function Ws(r){return 32767&r}function Mo(r,i){let o=function Yc(r){return r>>16}(r),u=i;for(;o>0;)u=u[15],o--;return u}let ki=!0;function yi(r){const i=ki;return ki=r,i}let Kc=0;function zs(r,i){const o=Fi(r,i);if(-1!==o)return o;const u=i[1];u.firstCreatePass&&(r.injectorIndex=i.length,_l(u.data,r),_l(i,null),_l(u.blueprint,null));const c=Lr(r,i),f=r.injectorIndex;if(qc(c)){const _=Ws(c),C=Mo(c,i),E=C[1].data;for(let I=0;I<8;I++)i[f+I]=C[_+I]|E[_+I]}return i[f+8]=c,f}function _l(r,i){r.push(0,0,0,0,0,0,0,0,i)}function Fi(r,i){return-1===r.injectorIndex||r.parent&&r.parent.injectorIndex===r.injectorIndex||null===i[r.injectorIndex+8]?-1:r.injectorIndex}function Lr(r,i){if(r.parent&&-1!==r.parent.injectorIndex)return r.parent.injectorIndex;let o=0,u=null,c=i;for(;null!==c;){const f=c[1],_=f.type;if(u=2===_?f.declTNode:1===_?c[6]:null,null===u)return-1;if(o++,c=c[15],-1!==u.injectorIndex)return u.injectorIndex|o<<16}return-1}function _r(r,i,o){!function gu(r,i,o){let u;"string"==typeof o?u=o.charCodeAt(0)||0:o.hasOwnProperty(ot)&&(u=o[ot]),null==u&&(u=o[ot]=Kc++);const c=255&u;i.data[r+(c>>5)]|=1<<c}(r,i,o)}function Ur(r,i,o){if(o&qe.Optional)return r;Ge(i,"NodeInjector")}function yl(r,i,o,u){if(o&qe.Optional&&void 0===u&&(u=null),0==(o&(qe.Self|qe.Host))){const c=r[9],f=Bt(void 0);try{return c?c.get(i,u,o&qe.Optional):Gn(i,u,o&qe.Optional)}finally{Bt(f)}}return Ur(u,i,o)}function vl(r,i,o,u=qe.Default,c){if(null!==r){const f=function os(r){if("string"==typeof r)return r.charCodeAt(0)||0;const i=r.hasOwnProperty(ot)?r[ot]:void 0;return"number"==typeof i?i>=0?255&i:qs:i}(o);if("function"==typeof f){if(!$c(i,r,u))return u&qe.Host?Ur(c,o,u):yl(i,o,u,c);try{const _=f(u);if(null!=_||u&qe.Optional)return _;Ge(o)}finally{ga()}}else if("number"==typeof f){let _=null,C=Fi(r,i),E=-1,I=u&qe.Host?i[16][6]:null;for((-1===C||u&qe.SkipSelf)&&(E=-1===C?Lr(r,i):i[C+8],-1!==E&&Vr(u,!1)?(_=i[1],C=Ws(E),i=Mo(E,i)):C=-1);-1!==C;){const A=i[1];if(mu(f,C,A.data)){const N=ai(C,i,o,_,u,I);if(N!==xo)return N}E=i[C+8],-1!==E&&Vr(u,i[1].data[C+8]===I)&&mu(f,C,i)?(_=A,C=Ws(E),i=Mo(E,i)):C=-1}}}return yl(i,o,u,c)}const xo={};function qs(){return new as(hn(),Ee())}function ai(r,i,o,u,c,f){const _=i[1],C=_.data[r+8],A=Li(C,_,o,null==u?Mn(C)&&ki:u!=_&&0!=(3&C.type),c&qe.Host&&f===C);return null!==A?yn(i,_,A,C):xo}function Li(r,i,o,u,c){const f=r.providerIndexes,_=i.data,C=1048575&f,E=r.directiveStart,A=f>>20,$=c?C+A:r.directiveEnd;for(let K=u?C:C+A;K<$;K++){const le=_[K];if(K<E&&o===le||K>=E&&le.type===o)return K}if(c){const K=_[E];if(K&&zr(K)&&K.type===o)return E}return null}function yn(r,i,o,u){let c=r[o];const f=i.data;if(function Mh(r){return r instanceof is}(c)){const _=c;_.resolving&&function Se(r,i){const o=i?`. Dependency path: ${i.join(" > ")} > ${r}`:"";throw new Ae(-200,`Circular dependency in DI detected for ${r}${o}`)}(he(f[o]));const C=yi(_.canSeeViewProviders);_.resolving=!0;const E=_.injectImpl?Bt(_.injectImpl):null;$c(r,u,qe.Default);try{c=r[o]=_.factory(void 0,f,r,u),i.firstCreatePass&&o>=u.directiveStart&&function Wc(r,i,o){const{ngOnChanges:u,ngOnInit:c,ngDoCheck:f}=i.type.prototype;if(u){const _=Rs(i);(o.preOrderHooks||(o.preOrderHooks=[])).push(r,_),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(r,_)}c&&(o.preOrderHooks||(o.preOrderHooks=[])).push(0-r,c),f&&((o.preOrderHooks||(o.preOrderHooks=[])).push(r,f),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(r,f))}(o,f[o],i)}finally{null!==E&&Bt(E),yi(C),_.resolving=!1,ga()}}return c}function mu(r,i,o){return!!(o[i+(r>>5)]&1<<r)}function Vr(r,i){return!(r&qe.Self||r&qe.Host&&i)}class as{constructor(i,o){this._tNode=i,this._lView=o}get(i,o,u){return vl(this._tNode,this._lView,i,u,o)}}function En(r){return dn(()=>{const i=r.prototype.constructor,o=i[He]||wa(i),u=Object.prototype;let c=Object.getPrototypeOf(r.prototype).constructor;for(;c&&c!==u;){const f=c[He]||wa(c);if(f&&f!==o)return f;c=Object.getPrototypeOf(c)}return f=>new f})}function wa(r){return Fe(r)?()=>{const i=wa(X(r));return i&&i()}:xi(r)}function Ui(r){return function ba(r,i){if("class"===i)return r.classes;if("style"===i)return r.styles;const o=r.attrs;if(o){const u=o.length;let c=0;for(;c<u;){const f=o[c];if(Hn(f))break;if(0===f)c+=2;else if("number"==typeof f)for(c++;c<u&&"string"==typeof o[c];)c++;else{if(f===i)return o[c+1];c+=2}}}return null}(hn(),r)}const Kr="__parameters__";function vi(r,i,o){return dn(()=>{const u=function Vi(r){return function(...o){if(r){const u=r(...o);for(const c in u)this[c]=u[c]}}}(i);function c(...f){if(this instanceof c)return u.apply(this,f),this;const _=new c(...f);return C.annotation=_,C;function C(E,I,A){const N=E.hasOwnProperty(Kr)?E[Kr]:Object.defineProperty(E,Kr,{value:[]})[Kr];for(;N.length<=A;)N.push(null);return(N[A]=N[A]||[]).push(_),E}}return o&&(c.prototype=Object.create(o.prototype)),c.prototype.ngMetadataName=r,c.annotationCls=c,c})}class Xt{constructor(i,o){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=Ut({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Ys=new Xt("AnalyzeForEntryComponents");function Kn(r,i){void 0===i&&(i=r);for(let o=0;o<r.length;o++){let u=r[o];Array.isArray(u)?(i===r&&(i=r.slice(0,o)),Kn(u,i)):i!==r&&i.push(u)}return i}function an(r,i){r.forEach(o=>Array.isArray(o)?an(o,i):i(o))}function Ia(r,i,o){i>=r.length?r.push(o):r.splice(i,0,o)}function Ta(r,i){return i>=r.length-1?r.pop():r.splice(i,1)[0]}function sr(r,i,o){let u=hs(r,i);return u>=0?r[1|u]=o:(u=~u,function ji(r,i,o,u){let c=r.length;if(c==i)r.push(o,u);else if(1===c)r.push(u,r[0]),r[0]=o;else{for(c--,r.push(r[c-1],r[c]);c>i;)r[c]=r[c-2],c--;r[i]=o,r[i+1]=u}}(r,u,i,o)),u}function Aa(r,i){const o=hs(r,i);if(o>=0)return r[1|o]}function hs(r,i){return function kh(r,i,o){let u=0,c=r.length>>o;for(;c!==u;){const f=u+(c-u>>1),_=r[f<<o];if(i===_)return f<<o;_>i?c=f:u=f+1}return~(c<<o)}(r,i,1)}const hr={},No="__NG_DI_FLAG__",ko="ngTempTokenPath",Js=/\n/gm,xa="__source",b=me({provide:String,useValue:me});let D;function M(r){const i=D;return D=r,i}function V(r,i=qe.Default){if(void 0===D)throw new Ae(203,"");return null===D?Gn(r,void 0,i):D.get(r,i&qe.Optional?null:void 0,i)}function Y(r,i=qe.Default){return(function qt(){return ur}()||V)(X(r),i)}function We(r){const i=[];for(let o=0;o<r.length;o++){const u=X(r[o]);if(Array.isArray(u)){if(0===u.length)throw new Ae(900,"");let c,f=qe.Default;for(let _=0;_<u.length;_++){const C=u[_],E=pt(C);"number"==typeof E?-1===E?c=C.token:f|=E:c=C}i.push(Y(c,f))}else i.push(Y(u))}return i}function dt(r,i){return r[No]=i,r.prototype[No]=i,r}function pt(r){return r[No]}const On=dt(vi("Inject",r=>({token:r})),-1),en=dt(vi("Optional"),8),vr=dt(vi("SkipSelf"),4);class Pu{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Lo(r){return r instanceof Pu?r.changingThisBreaksApplicationSecurity:r}const od=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,ad=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var m=(()=>((m=m||{})[m.NONE=0]="NONE",m[m.HTML=1]="HTML",m[m.STYLE=2]="STYLE",m[m.SCRIPT=3]="SCRIPT",m[m.URL=4]="URL",m[m.RESOURCE_URL=5]="RESOURCE_URL",m))();function v(r){const i=function Zt(){const r=Ee();return r&&r[12]}();return i?i.sanitize(m.URL,r)||"":function to(r,i){const o=function rg(r){return r instanceof Pu&&r.getTypeName()||null}(r);if(null!=o&&o!==i){if("ResourceURL"===o&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${o} (see https://g.co/ng/security#xss)`)}return o===i}(r,"URL")?Lo(r):function Uo(r){return(r=String(r)).match(od)||r.match(ad)?r:"unsafe:"+r}(de(r))}const dd="__ngContext__";function Ye(r,i){r[dd]=i}function ka(r){const i=function Zn(r){return r[dd]||null}(r);return i?Array.isArray(i)?i:i.lView:null}function no(r){return r.ngOriginalError}function HC(r,...i){r.error(...i)}class pd{constructor(){this._console=console}handleError(i){const o=this._findOriginalError(i),u=function Gw(r){return r&&r.ngErrorLogger||HC}(i);u(this._console,"ERROR",i),o&&u(this._console,"ORIGINAL ERROR",o)}_findOriginalError(i){let o=i&&no(i);for(;o&&no(o);)o=no(o);return o||null}}const Gh=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(rt))();function Bo(r){return r instanceof Function?r():r}var jo=(()=>((jo=jo||{})[jo.Important=1]="Important",jo[jo.DashCase=2]="DashCase",jo))();function mg(r,i){return undefined(r,i)}function Pl(r){const i=r[3];return Gr(i)?i[3]:i}function vg(r){return uy(r[13])}function md(r){return uy(r[4])}function uy(r){for(;null!==r&&!Gr(r);)r=r[4];return r}function _d(r,i,o,u,c){if(null!=u){let f,_=!1;Gr(u)?f=u:Wr(u)&&(_=!0,u=u[0]);const C=on(u);0===r&&null!==o?null==c?gy(i,o,C):ju(i,o,C,c||null,!0):1===r&&null!==o?ju(i,o,C,c||null,!0):2===r?function Kh(r,i,o){const u=$i(r,i);u&&function Ho(r,i,o,u){Pt(r)?r.removeChild(i,o,u):i.removeChild(o)}(r,u,i,o)}(i,C,_):3===r&&i.destroyNode(C),null!=f&&function Rl(r,i,o,u,c){const f=o[7];f!==on(o)&&_d(i,r,u,f,c);for(let C=10;C<o.length;C++){const E=o[C];Hu(E[1],E,r,i,u,f)}}(i,r,f,o,c)}}function dy(r,i,o){return Pt(r)?r.createElement(i,o):null===o?r.createElement(i):r.createElementNS(o,i)}function yd(r,i){const o=r[9],u=o.indexOf(i),c=i[3];1024&i[2]&&(i[2]&=-1025,es(c,-1)),o.splice(u,1)}function Fa(r,i){if(r.length<=10)return;const o=10+i,u=r[o];if(u){const c=u[17];null!==c&&c!==r&&yd(c,u),i>0&&(r[o-1][4]=u[4]);const f=Ta(r,10+i);!function vs(r,i){Hu(r,i,i[11],2,null,null),i[0]=null,i[6]=null}(u[1],u);const _=f[19];null!==_&&_.detachView(f[1]),u[3]=null,u[4]=null,u[2]&=-129}return u}function fy(r,i){if(!(256&i[2])){const o=i[11];Pt(o)&&o.destroyNode&&Hu(r,i,o,3,null,null),function hy(r){let i=r[13];if(!i)return bg(r[1],r);for(;i;){let o=null;if(Wr(i))o=i[13];else{const u=i[10];u&&(o=u)}if(!o){for(;i&&!i[4]&&i!==r;)Wr(i)&&bg(i[1],i),i=i[3];null===i&&(i=r),Wr(i)&&bg(i[1],i),o=i&&i[4]}i=o}}(i)}}function bg(r,i){if(!(256&i[2])){i[2]&=-129,i[2]|=256,function KC(r,i){let o;if(null!=r&&null!=(o=r.destroyHooks))for(let u=0;u<o.length;u+=2){const c=i[o[u]];if(!(c instanceof is)){const f=o[u+1];if(Array.isArray(f))for(let _=0;_<f.length;_+=2){const C=c[f[_]],E=f[_+1];try{E.call(C)}finally{}}else try{f.call(c)}finally{}}}}(r,i),function YC(r,i){const o=r.cleanup,u=i[7];let c=-1;if(null!==o)for(let f=0;f<o.length-1;f+=2)if("string"==typeof o[f]){const _=o[f+1],C="function"==typeof _?_(i):on(i[_]),E=u[c=o[f+2]],I=o[f+3];"boolean"==typeof I?C.removeEventListener(o[f],E,I):I>=0?u[c=I]():u[c=-I].unsubscribe(),f+=2}else{const _=u[c=o[f+1]];o[f].call(_)}if(null!==u){for(let f=c+1;f<u.length;f++)u[f]();i[7]=null}}(r,i),1===i[1].type&&Pt(i[11])&&i[11].destroy();const o=i[17];if(null!==o&&Gr(i[3])){o!==i[3]&&yd(o,i);const u=i[19];null!==u&&u.detachView(r)}}}function py(r,i,o){return function Nn(r,i,o){let u=i;for(;null!==u&&40&u.type;)u=(i=u).parent;if(null===u)return o[0];if(2&u.flags){const c=r.data[u.directiveStart].encapsulation;if(c===Ct.None||c===Ct.Emulated)return null}return nr(u,o)}(r,i.parent,o)}function ju(r,i,o,u,c){Pt(r)?r.insertBefore(i,o,u,c):i.insertBefore(o,u,c)}function gy(r,i,o){Pt(r)?r.appendChild(i,o):i.appendChild(o)}function La(r,i,o,u,c){null!==u?ju(r,i,o,u,c):gy(r,i,o)}function $i(r,i){return Pt(r)?r.parentNode(i):i.parentNode}let Dg=function wg(r,i,o){return 40&r.type?nr(r,o):null};function qh(r,i,o,u){const c=py(r,u,i),f=i[11],C=function vd(r,i,o){return Dg(r,i,o)}(u.parent||i[6],u,i);if(null!=c)if(Array.isArray(o))for(let E=0;E<o.length;E++)La(f,c,o[E],C,!1);else La(f,c,o,C,!1)}function Yh(r,i){if(null!==i){const o=i.type;if(3&o)return nr(i,r);if(4&o)return $o(-1,r[i.index]);if(8&o){const u=i.child;if(null!==u)return Yh(r,u);{const c=r[i.index];return Gr(c)?$o(-1,c):on(c)}}if(32&o)return mg(i,r)()||on(r[i.index]);{const u=Tg(r,i);return null!==u?Array.isArray(u)?u[0]:Yh(Pl(r[16]),u):Yh(r,i.next)}}return null}function Tg(r,i){return null!==i?r[16][6].projection[i.projection]:null}function $o(r,i){const o=10+r+1;if(o<i.length){const u=i[o],c=u[1].firstChild;if(null!==c)return Yh(u,c)}return i[7]}function Ua(r,i,o,u,c,f,_){for(;null!=o;){const C=u[o.index],E=o.type;if(_&&0===i&&(C&&Ye(on(C),u),o.flags|=4),64!=(64&o.flags))if(8&E)Ua(r,i,o.child,u,c,f,!1),_d(i,r,c,C,f);else if(32&E){const I=mg(o,u);let A;for(;A=I();)_d(i,r,c,A,f);_d(i,r,c,C,f)}else 16&E?$u(r,i,u,o,c,f):_d(i,r,c,C,f);o=_?o.projectionNext:o.next}}function Hu(r,i,o,u,c,f){Ua(o,u,r.firstChild,i,c,f,!1)}function $u(r,i,o,u,c,f){const _=o[16],E=_[6].projection[u.projection];if(Array.isArray(E))for(let I=0;I<E.length;I++)_d(i,r,c,E[I],f);else Ua(r,i,E,_[3],c,f,!0)}function Ag(r,i,o){Pt(r)?r.setAttribute(i,"style",o):i.style.cssText=o}function fr(r,i,o){Pt(r)?""===o?r.removeAttribute(i,"class"):r.setAttribute(i,"class",o):i.className=o}function Zu(r,i,o){let u=r.length;for(;;){const c=r.indexOf(i,o);if(-1===c)return c;if(0===c||r.charCodeAt(c-1)<=32){const f=i.length;if(c+f===u||r.charCodeAt(c+f)<=32)return c}o=c+1}}const Cs="ng-template";function Jr(r,i,o){let u=0;for(;u<r.length;){let c=r[u++];if(o&&"class"===c){if(c=r[u],-1!==Zu(c.toLowerCase(),i,0))return!0}else if(1===c){for(;u<r.length&&"string"==typeof(c=r[u++]);)if(c.toLowerCase()===i)return!0;return!1}}return!1}function vy(r){return 4===r.type&&r.value!==Cs}function Qh(r,i,o){return i===(4!==r.type||o?r.value:Cs)}function QC(r,i,o){let u=4;const c=r.attrs||[],f=function Ed(r){for(let i=0;i<r.length;i++)if(Hn(r[i]))return i;return r.length}(c);let _=!1;for(let C=0;C<i.length;C++){const E=i[C];if("number"!=typeof E){if(!_)if(4&u){if(u=2|1&u,""!==E&&!Qh(r,E,o)||""===E&&1===i.length){if(Cr(u))return!1;_=!0}}else{const I=8&u?E:i[++C];if(8&u&&null!==r.attrs){if(!Jr(r.attrs,I,o)){if(Cr(u))return!1;_=!0}continue}const N=ro(8&u?"class":E,c,vy(r),o);if(-1===N){if(Cr(u))return!1;_=!0;continue}if(""!==I){let $;$=N>f?"":c[N+1].toLowerCase();const K=8&u?$:null;if(K&&-1!==Zu(K,I,0)||2&u&&I!==$){if(Cr(u))return!1;_=!0}}}}else{if(!_&&!Cr(u)&&!Cr(E))return!1;if(_&&Cr(E))continue;_=!1,u=E|1&u}}return Cr(u)||_}function Cr(r){return 0==(1&r)}function ro(r,i,o,u){if(null===i)return-1;let c=0;if(u||!o){let f=!1;for(;c<i.length;){const _=i[c];if(_===r)return c;if(3===_||6===_)f=!0;else{if(1===_||2===_){let C=i[++c];for(;"string"==typeof C;)C=i[++c];continue}if(4===_)break;if(0===_){c+=4;continue}}c+=f?1:2}return-1}return function Sg(r,i){let o=r.indexOf(4);if(o>-1)for(o++;o<r.length;){const u=r[o];if("number"==typeof u)return-1;if(u===i)return o;o++}return-1}(i,r)}function Va(r,i,o=!1){for(let u=0;u<i.length;u++)if(QC(r,i[u],o))return!0;return!1}function Er(r,i){return r?":not("+i.trim()+")":i}function Ey(r){let i=r[0],o=1,u=2,c="",f=!1;for(;o<r.length;){let _=r[o];if("string"==typeof _)if(2&u){const C=r[++o];c+="["+_+(C.length>0?'="'+C+'"':"")+"]"}else 8&u?c+="."+_:4&u&&(c+=" "+_);else""!==c&&!Cr(_)&&(i+=Er(f,c),c=""),u=_,f=f||!Cr(u);o++}return""!==c&&(i+=Er(f,c)),i}const bt={};function by(r){Mg(St(),Ee(),Yn()+r,Vs())}function Mg(r,i,o,u){if(!u)if(3==(3&i[2])){const f=r.preOrderCheckHooks;null!==f&&Ao(i,f,o)}else{const f=r.preOrderHooks;null!==f&&va(i,f,0,o)}ir(o)}function Ol(r,i){return r<<17|i<<2}function Br(r){return r>>17&32767}function xg(r){return 2|r}function Zo(r){return(131068&r)>>2}function Nl(r,i){return-131069&r|i<<2}function Xh(r){return 1|r}function Sy(r,i){const o=r.contentQueries;if(null!==o)for(let u=0;u<o.length;u+=2){const c=o[u],f=o[u+1];if(-1!==f){const _=r.data[f];fl(c),_.contentQueries(2,i[f],f)}}}function Gu(r,i,o,u,c,f,_,C,E,I){const A=i.blueprint.slice();return A[0]=c,A[2]=140|u,ks(A),A[3]=A[15]=r,A[8]=o,A[10]=_||r&&r[10],A[11]=C||r&&r[11],A[12]=E||r&&r[12]||null,A[9]=I||r&&r[9]||null,A[6]=f,A[16]=2==i.type?r[16]:A,A}function zu(r,i,o,u,c){let f=r.data[i];if(null===f)f=function rf(r,i,o,u,c){const f=Oi(),_=ts(),E=r.data[i]=function ja(r,i,o,u,c,f){return{type:o,index:u,insertBeforeIndex:null,injectorIndex:i?i.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:c,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?f:f&&f.parent,o,i,u,c);return null===r.firstChild&&(r.firstChild=E),null!==f&&(_?null==f.child&&null!==E.parent&&(f.child=E):null===f.next&&(f.next=E)),E}(r,i,o,u,c),function dl(){return lt.lFrame.inI18n}()&&(f.flags|=64);else if(64&f.type){f.type=o,f.value=u,f.attrs=c;const _=function Us(){const r=lt.lFrame,i=r.currentTNode;return r.isParent?i:i.parent}();f.injectorIndex=null===_?-1:_.injectorIndex}return mr(f,!0),f}function qu(r,i,o,u){if(0===o)return-1;const c=i.length;for(let f=0;f<o;f++)i.push(u),r.blueprint.push(u),r.data.push(null);return c}function Yu(r,i,o){$s(i);try{const u=r.viewQuery;null!==u&&hf(1,u,o);const c=r.template;null!==c&&Hg(r,i,c,1,o),r.firstCreatePass&&(r.firstCreatePass=!1),r.staticContentQueries&&Sy(r,i),r.staticViewQueries&&hf(2,r.viewQuery,o);const f=r.components;null!==f&&function jg(r,i){for(let o=0;o<i.length;o++)hi(r,i[o])}(i,f)}catch(u){throw r.firstCreatePass&&(r.incompleteFirstPass=!0,r.firstCreatePass=!1),u}finally{i[2]&=-5,ma()}}function kl(r,i,o,u){const c=i[2];if(256==(256&c))return;$s(i);const f=Vs();try{ks(i),function Bs(r){return lt.lFrame.bindingIndex=r}(r.bindingStartIndex),null!==o&&Hg(r,i,o,2,u);const _=3==(3&c);if(!f)if(_){const I=r.preOrderCheckHooks;null!==I&&Ao(i,I,null)}else{const I=r.preOrderHooks;null!==I&&va(i,I,0,null),Ca(i,0)}if(function uf(r){for(let i=vg(r);null!==i;i=md(i)){if(!i[2])continue;const o=i[9];for(let u=0;u<o.length;u++){const c=o[u],f=c[3];0==(1024&c[2])&&es(f,1),c[2]|=1024}}}(i),function io(r){for(let i=vg(r);null!==i;i=md(i))for(let o=10;o<i.length;o++){const u=i[o],c=u[1];kr(u)&&kl(c,u,c.template,u[8])}}(i),null!==r.contentQueries&&Sy(r,i),!f)if(_){const I=r.contentCheckHooks;null!==I&&Ao(i,I)}else{const I=r.contentHooks;null!==I&&va(i,I,1),Ca(i,1)}!function fE(r,i){const o=r.hostBindingOpCodes;if(null!==o)try{for(let u=0;u<o.length;u++){const c=o[u];if(c<0)ir(~c);else{const f=c,_=o[++u],C=o[++u];js(_,f),C(2,i[f])}}}finally{ir(-1)}}(r,i);const C=r.components;null!==C&&function pE(r,i){for(let o=0;o<i.length;o++)bs(r,i[o])}(i,C);const E=r.viewQuery;if(null!==E&&hf(2,E,u),!f)if(_){const I=r.viewCheckHooks;null!==I&&Ao(i,I)}else{const I=r.viewHooks;null!==I&&va(i,I,2),Ca(i,2)}!0===r.firstUpdatePass&&(r.firstUpdatePass=!1),f||(i[2]&=-73),1024&i[2]&&(i[2]&=-1025,es(i[3],-1))}finally{ma()}}function My(r,i,o,u){const c=i[10],f=!Vs(),_=du(i);try{f&&!_&&c.begin&&c.begin(),_&&Yu(r,i,u),kl(r,i,o,u)}finally{f&&!_&&c.end&&c.end()}}function Hg(r,i,o,u,c){const f=Yn(),_=2&u;try{ir(-1),_&&i.length>20&&Mg(r,i,20,Vs()),o(u,c)}finally{ir(f)}}function sf(r,i,o){!Fs()||(function Fy(r,i,o,u){const c=o.directiveStart,f=o.directiveEnd;r.firstCreatePass||zs(o,i),Ye(u,i);const _=o.initialInputs;for(let C=c;C<f;C++){const E=r.data[C],I=zr(E);I&&yE(i,o,E);const A=yn(i,r,C,o);Ye(A,i),null!==_&&Nt(0,C-c,A,E,0,_),I&&(Ht(o.index,i)[8]=A)}}(r,i,o,nr(o,i)),128==(128&o.flags)&&function Ll(r,i,o){const u=o.directiveStart,c=o.directiveEnd,_=o.index,C=function hl(){return lt.lFrame.currentDirectiveIndex}();try{ir(_);for(let E=u;E<c;E++){const I=r.data[E],A=i[E];Ni(E),(null!==I.hostBindings||0!==I.hostVars||null!==I.hostAttrs)&&af(I,A)}}finally{ir(-1),Ni(C)}}(r,i,o))}function of(r,i,o=nr){const u=i.localNames;if(null!==u){let c=i.index+1;for(let f=0;f<u.length;f+=2){const _=u[f+1],C=-1===_?o(i,r):r[_];r[c++]=C}}}function $g(r){const i=r.tView;return null===i||i.incompleteFirstPass?r.tView=Fl(1,null,r.template,r.decls,r.vars,r.directiveDefs,r.pipeDefs,r.viewQuery,r.schemas,r.consts):i}function Fl(r,i,o,u,c,f,_,C,E,I){const A=20+u,N=A+c,$=function Py(r,i){const o=[];for(let u=0;u<i;u++)o.push(u<r?null:bt);return o}(A,N),K="function"==typeof I?I():I;return $[1]={type:r,blueprint:$,template:o,queries:null,viewQuery:C,declTNode:i,data:$.slice().fill(null,A),bindingStartIndex:A,expandoStartIndex:N,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:E,consts:K,incompleteFirstPass:!1}}function Mt(r,i,o,u){const c=Hy(i);null===o?c.push(u):(c.push(o),r.firstCreatePass&&bn(r).push(u,c.length-1))}function vn(r,i,o){for(let u in r)if(r.hasOwnProperty(u)){const c=r[u];(o=null===o?{}:o).hasOwnProperty(u)?o[u].push(i,c):o[u]=[i,c]}return o}function xr(r,i,o,u,c,f,_,C){const E=nr(i,o);let A,I=i.inputs;!C&&null!=I&&(A=I[u])?(Md(r,o,A,u,c),Mn(i)&&function Ry(r,i){const o=Ht(i,r);16&o[2]||(o[2]|=64)}(o,i.index)):3&i.type&&(u=function gE(r){return"class"===r?"className":"for"===r?"htmlFor":"formaction"===r?"formAction":"innerHtml"===r?"innerHTML":"readonly"===r?"readOnly":"tabindex"===r?"tabIndex":r}(u),c=null!=_?_(c,i.value||"",u):c,Pt(f)?f.setProperty(E,u,c):Jt(u)||(E.setProperty?E.setProperty(u,c):E[u]=c))}function Gg(r,i,o,u){let c=!1;if(Fs()){const f=function Ad(r,i,o){const u=r.directiveRegistry;let c=null;if(u)for(let f=0;f<u.length;f++){const _=u[f];Va(o,_.selectors,!1)&&(c||(c=[]),_r(zs(o,i),r,_.type),zr(_)?(Ly(r,o),c.unshift(_)):c.push(_))}return c}(r,i,o),_=null===u?null:{"":-1};if(null!==f){c=!0,Vy(o,r.data.length,f.length);for(let A=0;A<f.length;A++){const N=f[A];N.providersResolver&&N.providersResolver(N)}let C=!1,E=!1,I=qu(r,i,f.length,null);for(let A=0;A<f.length;A++){const N=f[A];o.mergedAttrs=Ea(o.mergedAttrs,N.hostAttrs),By(r,o,i,I,N),Uy(I,N,_),null!==N.contentQueries&&(o.flags|=8),(null!==N.hostBindings||null!==N.hostAttrs||0!==N.hostVars)&&(o.flags|=128);const $=N.type.prototype;!C&&($.ngOnChanges||$.ngOnInit||$.ngDoCheck)&&((r.preOrderHooks||(r.preOrderHooks=[])).push(o.index),C=!0),!E&&($.ngOnChanges||$.ngDoCheck)&&((r.preOrderCheckHooks||(r.preOrderCheckHooks=[])).push(o.index),E=!0),I++}!function Wg(r,i){const u=i.directiveEnd,c=r.data,f=i.attrs,_=[];let C=null,E=null;for(let I=i.directiveStart;I<u;I++){const A=c[I],N=A.inputs,$=null===f||vy(i)?null:lf(N,f);_.push($),C=vn(N,I,C),E=vn(A.outputs,I,E)}null!==C&&(C.hasOwnProperty("class")&&(i.flags|=16),C.hasOwnProperty("style")&&(i.flags|=32)),i.initialInputs=_,i.inputs=C,i.outputs=E}(r,o)}_&&function _E(r,i,o){if(i){const u=r.localNames=[];for(let c=0;c<i.length;c+=2){const f=o[i[c+1]];if(null==f)throw new Ae(-301,`Export of name '${i[c+1]}' not found!`);u.push(i[c],f)}}}(o,u,_)}return o.mergedAttrs=Ea(o.mergedAttrs,o.attrs),c}function ky(r,i,o,u,c,f){const _=f.hostBindings;if(_){let C=r.hostBindingOpCodes;null===C&&(C=r.hostBindingOpCodes=[]);const E=~i.index;(function mE(r){let i=r.length;for(;i>0;){const o=r[--i];if("number"==typeof o&&o<0)return o}return 0})(C)!=E&&C.push(E),C.push(u,c,_)}}function af(r,i){null!==r.hostBindings&&r.hostBindings(1,i)}function Ly(r,i){i.flags|=2,(r.components||(r.components=[])).push(i.index)}function Uy(r,i,o){if(o){if(i.exportAs)for(let u=0;u<i.exportAs.length;u++)o[i.exportAs[u]]=r;zr(i)&&(o[""]=r)}}function Vy(r,i,o){r.flags|=1,r.directiveStart=i,r.directiveEnd=i+o,r.providerIndexes=i}function By(r,i,o,u,c){r.data[u]=c;const f=c.factory||(c.factory=xi(c.type)),_=new is(f,zr(c),null);r.blueprint[u]=_,o[u]=_,ky(r,i,0,u,qu(r,o,c.hostVars,bt),c)}function yE(r,i,o){const u=nr(i,r),c=$g(o),f=r[10],_=Ku(r,Gu(r,c,null,o.onPush?64:16,u,i,f,f.createRenderer(u,o),null,null));r[i.index]=_}function Es(r,i,o,u,c,f){const _=nr(r,i);!function Go(r,i,o,u,c,f,_){if(null==f)Pt(r)?r.removeAttribute(i,c,o):i.removeAttribute(c);else{const C=null==_?de(f):_(f,u||"",c);Pt(r)?r.setAttribute(i,c,C,o):o?i.setAttributeNS(o,c,C):i.setAttribute(c,C)}}(i[11],_,f,r.value,o,u,c)}function Nt(r,i,o,u,c,f){const _=f[i];if(null!==_){const C=u.setInput;for(let E=0;E<_.length;){const I=_[E++],A=_[E++],N=_[E++];null!==C?u.setInput(o,N,I,A):o[A]=N}}}function lf(r,i){let o=null,u=0;for(;u<i.length;){const c=i[u];if(0!==c)if(5!==c){if("number"==typeof c)break;r.hasOwnProperty(c)&&(null===o&&(o=[]),o.push(c,r[c],i[u+1])),u+=2}else u+=2;else u+=4}return o}function qg(r,i,o,u){return new Array(r,!0,!1,i,null,0,u,o,null,null)}function bs(r,i){const o=Ht(i,r);if(kr(o)){const u=o[1];80&o[2]?kl(u,o,u.template,o[8]):o[5]>0&&Yg(o)}}function Yg(r){for(let u=vg(r);null!==u;u=md(u))for(let c=10;c<u.length;c++){const f=u[c];if(1024&f[2]){const _=f[1];kl(_,f,_.template,f[8])}else f[5]>0&&Yg(f)}const o=r[1].components;if(null!==o)for(let u=0;u<o.length;u++){const c=Ht(o[u],r);kr(c)&&c[5]>0&&Yg(c)}}function hi(r,i){const o=Ht(i,r),u=o[1];(function vE(r,i){for(let o=i.length;o<r.blueprint.length;o++)i.push(r.blueprint[o])})(u,o),Yu(u,o,o[8])}function Ku(r,i){return r[13]?r[14][4]=i:r[13]=i,r[14]=i,i}function Sd(r){for(;r;){r[2]|=64;const i=Pl(r);if(oa(r)&&!i)return r;r=i}return null}function df(r,i,o){const u=i[10];u.begin&&u.begin();try{kl(r,i,r.template,o)}catch(c){throw Zy(i,c),c}finally{u.end&&u.end()}}function Kg(r){!function cf(r){for(let i=0;i<r.components.length;i++){const o=r.components[i],u=ka(o),c=u[1];My(c,u,c.template,o)}}(r[8])}function hf(r,i,o){fl(0),i(r,o)}const EE=(()=>Promise.resolve(null))();function Hy(r){return r[7]||(r[7]=[])}function bn(r){return r.cleanup||(r.cleanup=[])}function Zy(r,i){const o=r[9],u=o?o.get(pd,null):null;u&&u.handleError(i)}function Md(r,i,o,u,c){for(let f=0;f<o.length;){const _=o[f++],C=o[f++],E=i[_],I=r.data[_];null!==I.setInput?I.setInput(E,c,u,C):E[C]=c}}function ws(r,i,o){const u=qn(i,r);!function cy(r,i,o){Pt(r)?r.setValue(i,o):i.textContent=o}(r[11],u,o)}function zo(r,i,o){let u=o?r.styles:null,c=o?r.classes:null,f=0;if(null!==i)for(let _=0;_<i.length;_++){const C=i[_];"number"==typeof C?f=C:1==f?c=ce(c,C):2==f&&(u=ce(u,C+": "+i[++_]+";"))}o?r.styles=u:r.stylesWithoutHost=u,o?r.classes=c:r.classesWithoutHost=c}const Qg=new Xt("INJECTOR",-1);class Ju{get(i,o=hr){if(o===hr){const u=new Error(`NullInjectorError: No provider for ${oe(i)}!`);throw u.name="NullInjectorError",u}return o}}const Jg=new Xt("Set Injector scope."),wn={},Xg={};let em;function ff(){return void 0===em&&(em=new Ju),em}function Ul(r,i=null,o=null,u){const c=pf(r,i,o,u);return c._resolveInjectorDefTypes(),c}function pf(r,i=null,o=null,u){return new Wy(r,o,i||ff(),u)}class Wy{constructor(i,o,u,c=null){this.parent=u,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const f=[];o&&an(o,C=>this.processProvider(C,i,o)),an([i],C=>this.processInjectorType(C,[],f)),this.records.set(Qg,Vl(void 0,this));const _=this.records.get(Jg);this.scope=null!=_?_.value:null,this.source=c||("object"==typeof i?null:oe(i))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(i=>i.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(i,o=hr,u=qe.Default){this.assertNotDestroyed();const c=M(this),f=Bt(void 0);try{if(!(u&qe.SkipSelf)){let C=this.records.get(i);if(void 0===C){const E=function mf(r){return"function"==typeof r||"object"==typeof r&&r instanceof Xt}(i)&&In(i);C=E&&this.injectableDefInScope(E)?Vl(gf(i),wn):null,this.records.set(i,C)}if(null!=C)return this.hydrate(i,C)}return(u&qe.Self?ff():this.parent).get(i,o=u&qe.Optional&&o===hr?null:o)}catch(_){if("NullInjectorError"===_.name){if((_[ko]=_[ko]||[]).unshift(oe(i)),c)throw _;return function Tt(r,i,o,u){const c=r[ko];throw i[xa]&&c.unshift(i[xa]),r.message=function yt(r,i,o,u=null){r=r&&"\n"===r.charAt(0)&&"\u0275"==r.charAt(1)?r.substr(2):r;let c=oe(i);if(Array.isArray(i))c=i.map(oe).join(" -> ");else if("object"==typeof i){let f=[];for(let _ in i)if(i.hasOwnProperty(_)){let C=i[_];f.push(_+":"+("string"==typeof C?JSON.stringify(C):oe(C)))}c=`{${f.join(", ")}}`}return`${o}${u?"("+u+")":""}[${c}]: ${r.replace(Js,"\n  ")}`}("\n"+r.message,c,o,u),r.ngTokenPath=c,r[ko]=null,r}(_,i,"R3InjectorError",this.source)}throw _}finally{Bt(f),M(c)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(i=>this.get(i))}toString(){const i=[];return this.records.forEach((u,c)=>i.push(oe(c))),`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ae(205,"")}processInjectorType(i,o,u){if(!(i=X(i)))return!1;let c=mi(i);const f=null==c&&i.ngModule||void 0,_=void 0===f?i:f,C=-1!==u.indexOf(_);if(void 0!==f&&(c=mi(f)),null==c)return!1;if(null!=c.imports&&!C){let A;u.push(_);try{an(c.imports,N=>{this.processInjectorType(N,o,u)&&(void 0===A&&(A=[]),A.push(N))})}finally{}if(void 0!==A)for(let N=0;N<A.length;N++){const{ngModule:$,providers:K}=A[N];an(K,le=>this.processProvider(le,$,K||tt))}}this.injectorDefTypes.add(_);const E=xi(_)||(()=>new _);this.records.set(_,Vl(E,wn));const I=c.providers;if(null!=I&&!C){const A=i;an(I,N=>this.processProvider(N,A,I))}return void 0!==f&&void 0!==i.providers}processProvider(i,o,u){let c=Xu(i=X(i))?i:X(i&&i.provide);const f=function Gy(r,i,o){return Bl(r)?Vl(void 0,r.useValue):Vl(tm(r),wn)}(i);if(Xu(i)||!0!==i.multi)this.records.get(c);else{let _=this.records.get(c);_||(_=Vl(void 0,wn,!0),_.factory=()=>We(_.multi),this.records.set(c,_)),c=i,_.multi.push(i)}this.records.set(c,f)}hydrate(i,o){return o.value===wn&&(o.value=Xg,o.value=o.factory()),"object"==typeof o.value&&o.value&&function wE(r){return null!==r&&"object"==typeof r&&"function"==typeof r.ngOnDestroy}(o.value)&&this.onDestroy.add(o.value),o.value}injectableDefInScope(i){if(!i.providedIn)return!1;const o=X(i.providedIn);return"string"==typeof o?"any"===o||o===this.scope:this.injectorDefTypes.has(o)}}function gf(r){const i=In(r),o=null!==i?i.factory:xi(r);if(null!==o)return o;if(r instanceof Xt)throw new Ae(204,"");if(r instanceof Function)return function bE(r){const i=r.length;if(i>0)throw function Ks(r,i){const o=[];for(let u=0;u<r;u++)o.push(i);return o}(i,"?"),new Ae(204,"");const o=function zt(r){const i=r&&(r[lr]||r[Te]);if(i){const o=function An(r){if(r.hasOwnProperty("name"))return r.name;const i=(""+r).match(/^function\s*([^\s(]+)/);return null===i?"":i[1]}(r);return console.warn(`DEPRECATED: DI is instantiating a token "${o}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${o}" class.`),i}return null}(r);return null!==o?()=>o.factory(r):()=>new r}(r);throw new Ae(204,"")}function tm(r,i,o){let u;if(Xu(r)){const c=X(r);return xi(c)||gf(c)}if(Bl(r))u=()=>X(r.useValue);else if(function Rd(r){return!(!r||!r.useFactory)}(r))u=()=>r.useFactory(...We(r.deps||[]));else if(function Pd(r){return!(!r||!r.useExisting)}(r))u=()=>Y(X(r.useExisting));else{const c=X(r&&(r.useClass||r.provide));if(!function Od(r){return!!r.deps}(r))return xi(c)||gf(c);u=()=>new c(...We(r.deps))}return u}function Vl(r,i,o=!1){return{factory:r,value:i,multi:o?[]:void 0}}function Bl(r){return null!==r&&"object"==typeof r&&b in r}function Xu(r){return"function"==typeof r}let Gi=(()=>{class r{static create(o,u){var c;if(Array.isArray(o))return Ul({name:""},u,o,"");{const f=null!==(c=o.name)&&void 0!==c?c:"";return Ul({name:f},o.parent,o.providers,f)}}}return r.THROW_IF_NOT_FOUND=hr,r.NULL=new Ju,r.\u0275prov=Ut({token:r,providedIn:"any",factory:()=>Y(Qg)}),r.__NG_ELEMENT_ID__=-1,r})();function jl(r,i){rs(ka(r)[1],hn())}function om(r){let i=function Yo(r){return Object.getPrototypeOf(r.prototype).constructor}(r.type),o=!0;const u=[r];for(;i;){let c;if(zr(r))c=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new Ae(903,"");c=i.\u0275dir}if(c){if(o){u.push(c);const _=r;_.inputs=Hl(r.inputs),_.declaredInputs=Hl(r.declaredInputs),_.outputs=Hl(r.outputs);const C=c.hostBindings;C&&Ef(r,C);const E=c.viewQuery,I=c.contentQueries;if(E&&TE(r,E),I&&AE(r,I),se(r.inputs,c.inputs),se(r.declaredInputs,c.declaredInputs),se(r.outputs,c.outputs),zr(c)&&c.data.animation){const A=r.data;A.animation=(A.animation||[]).concat(c.data.animation)}}const f=c.features;if(f)for(let _=0;_<f.length;_++){const C=f[_];C&&C.ngInherit&&C(r),C===om&&(o=!1)}}i=Object.getPrototypeOf(i)}!function IE(r){let i=0,o=null;for(let u=r.length-1;u>=0;u--){const c=r[u];c.hostVars=i+=c.hostVars,c.hostAttrs=Ea(c.hostAttrs,o=Ea(o,c.hostAttrs))}}(u)}function Hl(r){return r===Yt?{}:r===tt?[]:r}function TE(r,i){const o=r.viewQuery;r.viewQuery=o?(u,c)=>{i(u,c),o(u,c)}:i}function AE(r,i){const o=r.contentQueries;r.contentQueries=o?(u,c,f)=>{i(u,c,f),o(u,c,f)}:i}function Ef(r,i){const o=r.hostBindings;r.hostBindings=o?(u,c)=>{i(u,c),o(u,c)}:i}let so=null;function Ha(){if(!so){const r=rt.Symbol;if(r&&r.iterator)so=r.iterator;else{const i=Object.getOwnPropertyNames(Map.prototype);for(let o=0;o<i.length;++o){const u=i[o];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(so=u)}}}return so}function ln(r){return!!Bd(r)&&(Array.isArray(r)||!(r instanceof Map)&&Ha()in r)}function Bd(r){return null!==r&&("function"==typeof r||"object"==typeof r)}function Is(r,i,o){return r[i]=o}function Jn(r,i,o){return!Object.is(r[i],o)&&(r[i]=o,!0)}function Ts(r,i,o,u,c){const f=function $a(r,i,o,u){const c=Jn(r,i,o);return Jn(r,i+1,u)||c}(r,i,o,u);return Jn(r,i+2,c)||f}function Za(r,i,o,u){const c=Ee();return Jn(c,ns(),i)&&(St(),Es(mn(),c,r,i,o,u)),Za}function Ko(r,i,o,u){return Jn(r,ns(),o)?i+de(o)+u:bt}function cm(r,i,o,u,c,f,_,C){const E=Ee(),I=St(),A=r+20,N=I.firstCreatePass?function um(r,i,o,u,c,f,_,C,E){const I=i.consts,A=zu(i,r,4,_||null,dr(I,C));Gg(i,o,A,dr(I,E)),rs(i,A);const N=A.tViews=Fl(2,A,u,c,f,i.directiveRegistry,i.pipeRegistry,null,i.schemas,I);return null!==i.queries&&(i.queries.template(i,A),N.queries=i.queries.embeddedTView(A)),A}(A,I,E,i,o,u,c,f,_):I.data[A];mr(N,!1);const $=E[11].createComment("");qh(I,E,$,N),Ye($,E),Ku(E,E[A]=qg($,E,$,N)),go(N)&&sf(I,E,N),null!=_&&of(E,N,C)}function cv(r){return Xi(function ca(){return lt.lFrame.contextLView}(),20+r)}function cc(r,i=qe.Default){const o=Ee();return null===o?Y(r,i):vl(hn(),o,X(r),i)}function mm(){throw new Error("invalid")}function oo(r,i,o){const u=Ee();return Jn(u,ns(),i)&&xr(St(),mn(),u,r,i,u[11],o,!1),oo}function dc(r,i,o,u,c){const _=c?"class":"style";Md(r,o,i.inputs[_],_,u)}function _m(r,i,o,u){const c=Ee(),f=St(),_=20+r,C=c[11],E=c[_]=dy(C,i,function Qp(){return lt.lFrame.currentNamespace}()),I=f.firstCreatePass?function Pf(r,i,o,u,c,f,_){const C=i.consts,I=zu(i,r,2,c,dr(C,f));return Gg(i,o,I,dr(C,_)),null!==I.attrs&&zo(I,I.attrs,!1),null!==I.mergedAttrs&&zo(I,I.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,I),I}(_,f,c,0,i,o,u):f.data[_];mr(I,!0);const A=I.mergedAttrs;null!==A&&ml(C,E,A);const N=I.classes;null!==N&&fr(C,E,N);const $=I.styles;null!==$&&Ag(C,E,$),64!=(64&I.flags)&&qh(f,c,E,I),0===function Eo(){return lt.lFrame.elementDepthCount}()&&Ye(E,c),function ua(){lt.lFrame.elementDepthCount++}(),go(I)&&(sf(f,c,I),function xy(r,i,o){if(nu(i)){const c=i.directiveEnd;for(let f=i.directiveStart;f<c;f++){const _=r.data[f];_.contentQueries&&_.contentQueries(1,o[f],f)}}}(f,I,c)),null!==u&&of(c,I)}function ym(){let r=hn();ts()?function Do(){lt.lFrame.isParent=!1}():(r=r.parent,mr(r,!1));const i=r;!function bo(){lt.lFrame.elementDepthCount--}();const o=St();o.firstCreatePass&&(rs(o,r),nu(r)&&o.queries.elementEnd(r)),null!=i.classesWithoutHost&&function Ph(r){return 0!=(16&r.flags)}(i)&&dc(o,i,Ee(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function ss(r){return 0!=(32&r.flags)}(i)&&dc(o,i,Ee(),i.stylesWithoutHost,!1)}function Dv(r,i,o,u){_m(r,i,o,u),ym()}function Tv(){return Ee()}function Cm(r){return!!r&&"function"==typeof r.then}function Av(r){return!!r&&"function"==typeof r.subscribe}const Rf=Av;function Em(r,i,o,u){const c=Ee(),f=St(),_=hn();return function Zd(r,i,o,u,c,f,_,C){const E=go(u),A=r.firstCreatePass&&bn(r),N=i[8],$=Hy(i);let K=!0;if(3&u.type||C){const Ue=nr(u,i),ze=C?C(Ue):Ue,ve=$.length,ut=C?Lt=>C(on(Lt[u.index])):u.index;if(Pt(o)){let Lt=null;if(!C&&E&&(Lt=function Mv(r,i,o,u){const c=r.cleanup;if(null!=c)for(let f=0;f<c.length-1;f+=2){const _=c[f];if(_===o&&c[f+1]===u){const C=i[7],E=c[f+2];return C.length>E?C[E]:null}"string"==typeof _&&(f+=2)}return null}(r,i,c,u.index)),null!==Lt)(Lt.__ngLastListenerFn__||Lt).__ngNextListenerFn__=f,Lt.__ngLastListenerFn__=f,K=!1;else{f=Wa(u,i,N,f,!1);const un=o.listen(ze,c,f);$.push(f,un),A&&A.push(c,ut,ve,ve+1)}}else f=Wa(u,i,N,f,!0),ze.addEventListener(c,f,_),$.push(f),A&&A.push(c,ut,ve,_)}else f=Wa(u,i,N,f,!1);const le=u.outputs;let Oe;if(K&&null!==le&&(Oe=le[c])){const Ue=Oe.length;if(Ue)for(let ze=0;ze<Ue;ze+=2){const Si=i[Oe[ze]][Oe[ze+1]].subscribe(f),po=$.length;$.push(f,Si),A&&A.push(c,u.index,po,-(po+1))}}}(f,c,c[11],_,r,i,!!o,u),Em}function xv(r,i,o,u){try{return!1!==o(u)}catch(c){return Zy(r,c),!1}}function Wa(r,i,o,u,c){return function f(_){if(_===Function)return u;const C=2&r.flags?Ht(r.index,i):i;0==(32&i[2])&&Sd(C);let E=xv(i,0,u,_),I=f.__ngNextListenerFn__;for(;I;)E=xv(i,0,I,_)&&E,I=I.__ngNextListenerFn__;return c&&!1===E&&(_.preventDefault(),_.returnValue=!1),E}}function bm(r=1){return function hu(r){return(lt.lFrame.contextLView=function Zc(r,i){for(;r>0;)i=i[15],r--;return i}(r,lt.lFrame.contextLView))[8]}(r)}function hc(r,i,o){return Wd(r,"",i,"",o),hc}function Wd(r,i,o,u,c){const f=Ee(),_=Ko(f,i,o,u);return _!==bt&&xr(St(),mn(),f,r,_,f[11],c,!1),Wd}function Vv(r,i,o,u,c){const f=r[o+1],_=null===i;let C=u?Br(f):Zo(f),E=!1;for(;0!==C&&(!1===E||_);){const A=r[C+1];jE(r[C],i)&&(E=!0,r[C+1]=u?Xh(A):xg(A)),C=u?Br(A):Zo(A)}E&&(r[o+1]=u?xg(f):Xh(f))}function jE(r,i){return null===r||null==i||(Array.isArray(r)?r[1]:r)===i||!(!Array.isArray(r)||"string"!=typeof i)&&hs(r,i)>=0}function Tm(r,i){return function Xr(r,i,o,u){const c=Ee(),f=St(),_=function Fr(r){const i=lt.lFrame,o=i.bindingIndex;return i.bindingIndex=i.bindingIndex+r,o}(2);f.firstUpdatePass&&function Zv(r,i,o,u){const c=r.data;if(null===c[o+1]){const f=c[Yn()],_=function gc(r,i){return i>=r.expandoStartIndex}(r,o);(function Mm(r,i){return 0!=(r.flags&(i?16:32))})(f,u)&&null===i&&!_&&(i=!1),i=function Wv(r,i,o,u){const c=function ha(r){const i=lt.lFrame.currentDirectiveIndex;return-1===i?null:r[i]}(r);let f=u?i.residualClasses:i.residualStyles;if(null===c)0===(u?i.classBindings:i.styleBindings)&&(o=jr(o=Sm(null,r,i,o,u),i.attrs,u),f=null);else{const _=i.directiveStylingLast;if(-1===_||r[_]!==c)if(o=Sm(c,r,i,o,u),null===f){let E=function Am(r,i,o){const u=o?i.classBindings:i.styleBindings;if(0!==Zo(u))return r[Br(u)]}(r,i,u);void 0!==E&&Array.isArray(E)&&(E=Sm(null,r,i,E[1],u),E=jr(E,i.attrs,u),function qd(r,i,o,u){r[Br(o?i.classBindings:i.styleBindings)]=u}(r,i,u,E))}else f=function Yd(r,i,o){let u;const c=i.directiveEnd;for(let f=1+i.directiveStylingLast;f<c;f++)u=jr(u,r[f].hostAttrs,o);return jr(u,i.attrs,o)}(r,i,u)}return void 0!==f&&(u?i.residualClasses=f:i.residualStyles=f),o}(c,f,i,u),function BE(r,i,o,u,c,f){let _=f?i.classBindings:i.styleBindings,C=Br(_),E=Zo(_);r[u]=o;let A,I=!1;if(Array.isArray(o)){const N=o;A=N[1],(null===A||hs(N,A)>0)&&(I=!0)}else A=o;if(c)if(0!==E){const $=Br(r[C+1]);r[u+1]=Ol($,C),0!==$&&(r[$+1]=Nl(r[$+1],u)),r[C+1]=function bd(r,i){return 131071&r|i<<17}(r[C+1],u)}else r[u+1]=Ol(C,0),0!==C&&(r[C+1]=Nl(r[C+1],u)),C=u;else r[u+1]=Ol(E,0),0===C?C=u:r[E+1]=Nl(r[E+1],u),E=u;I&&(r[u+1]=xg(r[u+1])),Vv(r,A,u,!0),Vv(r,A,u,!1),function Uv(r,i,o,u,c){const f=c?r.residualClasses:r.residualStyles;null!=f&&"string"==typeof i&&hs(f,i)>=0&&(o[u+1]=Xh(o[u+1]))}(i,A,r,u,f),_=Ol(C,E),f?i.classBindings=_:i.styleBindings=_}(c,f,i,o,_,u)}}(f,r,_,u),i!==bt&&Jn(c,_,i)&&function $f(r,i,o,u,c,f,_,C){if(!(3&i.type))return;const E=r.data,I=E[C+1];Kd(function wd(r){return 1==(1&r)}(I)?wi(E,i,o,c,Zo(I),_):void 0)||(Kd(f)||function wy(r){return 2==(2&r)}(I)&&(f=wi(E,null,o,c,C,_)),function _y(r,i,o,u,c){const f=Pt(r);if(i)c?f?r.addClass(o,u):o.classList.add(u):f?r.removeClass(o,u):o.classList.remove(u);else{let _=-1===u.indexOf("-")?void 0:jo.DashCase;if(null==c)f?r.removeStyle(o,u,_):o.style.removeProperty(u);else{const C="string"==typeof c&&c.endsWith("!important");C&&(c=c.slice(0,-10),_|=jo.Important),f?r.setStyle(o,u,c,_):o.style.setProperty(u,c,C?"important":"")}}}(u,_,qn(Yn(),o),c,f))}(f,f.data[Yn()],c,c[11],r,c[_+1]=function HE(r,i){return null==r||("string"==typeof i?r+=i:"object"==typeof r&&(r=oe(Lo(r)))),r}(i,o),u,_)}(r,i,null,!0),Tm}function Sm(r,i,o,u,c){let f=null;const _=o.directiveEnd;let C=o.directiveStylingLast;for(-1===C?C=o.directiveStart:C++;C<_&&(f=i[C],u=jr(u,f.hostAttrs,c),f!==r);)C++;return null!==r&&(o.directiveStylingLast=C),u}function jr(r,i,o){const u=o?1:2;let c=-1;if(null!==i)for(let f=0;f<i.length;f++){const _=i[f];"number"==typeof _?c=_:c===u&&(Array.isArray(r)||(r=void 0===r?[]:["",r]),sr(r,_,!!o||i[++f]))}return void 0===r?null:r}function wi(r,i,o,u,c,f){const _=null===i;let C;for(;c>0;){const E=r[c],I=Array.isArray(E),A=I?E[1]:E,N=null===A;let $=o[c+1];$===bt&&($=N?tt:void 0);let K=N?Aa($,u):A===u?$:void 0;if(I&&!Kd(K)&&(K=Aa(E,u)),Kd(K)&&(C=K,_))return C;const le=r[c+1];c=_?Br(le):Zo(le)}if(null!==i){let E=f?i.residualClasses:i.residualStyles;null!=E&&(C=Aa(E,u))}return C}function Kd(r){return void 0!==r}function qv(r,i=""){const o=Ee(),u=St(),c=r+20,f=u.firstCreatePass?zu(u,c,1,i,null):u.data[c],_=o[c]=function Cg(r,i){return Pt(r)?r.createText(i):r.createTextNode(i)}(o[11],i);qh(u,o,_,f),mr(f,!1)}function xm(r){return Zf("",r,""),xm}function Zf(r,i,o){const u=Ee(),c=Ko(u,r,i,o);return c!==bt&&ws(u,Yn(),c),Zf}const za=void 0;var s0=["en",[["a","p"],["AM","PM"],za],[["AM","PM"],za,za],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],za,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],za,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",za,"{1} 'at' {0}",za],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function r0(r){const o=Math.floor(Math.abs(r)),u=r.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===u?1:5}];let zl={};function vc(r){const i=function o0(r){return r.toLowerCase().replace(/_/g,"-")}(r);let o=Ii(i);if(o)return o;const u=i.split("-")[0];if(o=Ii(u),o)return o;if("en"===u)return s0;throw new Error(`Missing locale data for the locale "${r}".`)}function Xd(r){return vc(r)[ht.PluralCase]}function Ii(r){return r in zl||(zl[r]=rt.ng&&rt.ng.common&&rt.ng.common.locales&&rt.ng.common.locales[r]),zl[r]}var ht=(()=>((ht=ht||{})[ht.LocaleId=0]="LocaleId",ht[ht.DayPeriodsFormat=1]="DayPeriodsFormat",ht[ht.DayPeriodsStandalone=2]="DayPeriodsStandalone",ht[ht.DaysFormat=3]="DaysFormat",ht[ht.DaysStandalone=4]="DaysStandalone",ht[ht.MonthsFormat=5]="MonthsFormat",ht[ht.MonthsStandalone=6]="MonthsStandalone",ht[ht.Eras=7]="Eras",ht[ht.FirstDayOfWeek=8]="FirstDayOfWeek",ht[ht.WeekendRange=9]="WeekendRange",ht[ht.DateFormat=10]="DateFormat",ht[ht.TimeFormat=11]="TimeFormat",ht[ht.DateTimeFormat=12]="DateTimeFormat",ht[ht.NumberSymbols=13]="NumberSymbols",ht[ht.NumberFormats=14]="NumberFormats",ht[ht.CurrencyCode=15]="CurrencyCode",ht[ht.CurrencySymbol=16]="CurrencySymbol",ht[ht.CurrencyName=17]="CurrencyName",ht[ht.Currencies=18]="Currencies",ht[ht.Directionality=19]="Directionality",ht[ht.PluralCase=20]="PluralCase",ht[ht.ExtraData=21]="ExtraData",ht))();const Kf="en-US";let a0=Kf;function Jo(r,i,o,u,c){if(r=X(r),Array.isArray(r))for(let f=0;f<r.length;f++)Jo(r[f],i,o,u,c);else{const f=St(),_=Ee();let C=Xu(r)?r:X(r.provide),E=tm(r);const I=hn(),A=1048575&I.providerIndexes,N=I.directiveStart,$=I.providerIndexes>>20;if(Xu(r)||!r.multi){const K=new is(E,c,cc),le=Xo(C,i,c?A:A+$,N);-1===le?(_r(zs(I,_),f,C),sp(f,r,i.length),i.push(C),I.directiveStart++,I.directiveEnd++,c&&(I.providerIndexes+=1048576),o.push(K),_.push(K)):(o[le]=K,_[le]=K)}else{const K=Xo(C,i,A+$,N),le=Xo(C,i,A,A+$),Oe=K>=0&&o[K],Ue=le>=0&&o[le];if(c&&!Ue||!c&&!Oe){_r(zs(I,_),f,C);const ze=function Pb(r,i,o,u,c){const f=new is(r,o,cc);return f.multi=[],f.index=i,f.componentProviders=0,op(f,c,u&&!o),f}(c?A0:Dc,o.length,c,u,E);!c&&Ue&&(o[le].providerFactory=ze),sp(f,r,i.length,0),i.push(C),I.directiveStart++,I.directiveEnd++,c&&(I.providerIndexes+=1048576),o.push(ze),_.push(ze)}else sp(f,r,K>-1?K:le,op(o[c?le:K],E,!c&&u));!c&&u&&Ue&&o[le].componentProviders++}}}function sp(r,i,o,u){const c=Xu(i),f=function nm(r){return!!r.useClass}(i);if(c||f){const E=(f?X(i.useClass):i).prototype.ngOnDestroy;if(E){const I=r.destroyHooks||(r.destroyHooks=[]);if(!c&&i.multi){const A=I.indexOf(o);-1===A?I.push(o,[u,E]):I[A+1].push(u,E)}else I.push(o,E)}}}function op(r,i,o){return o&&r.componentProviders++,r.multi.push(i)-1}function Xo(r,i,o,u){for(let c=o;c<u;c++)if(i[c]===r)return c;return-1}function Dc(r,i,o,u){return S0(this.multi,[])}function A0(r,i,o,u){const c=this.multi;let f;if(this.providerFactory){const _=this.providerFactory.componentProviders,C=yn(o,o[1],this.providerFactory.index,u);f=C.slice(0,_),S0(c,f);for(let E=_;E<C.length;E++)f.push(C[E])}else f=[],S0(c,f);return f}function S0(r,i){for(let o=0;o<r.length;o++)i.push((0,r[o])());return i}function ap(r,i=[]){return o=>{o.providersResolver=(u,c)=>function xb(r,i,o){const u=St();if(u.firstCreatePass){const c=zr(r);Jo(o,u.data,u.blueprint,c,!0),Jo(i,u.data,u.blueprint,c,!1)}}(u,c?c(r):r,i)}}class M0{}class _D{resolveComponentFactory(i){throw function Ob(r){const i=Error(`No component factory found for ${oe(r)}. Did you add it to @NgModule.entryComponents?`);return i.ngComponent=r,i}(i)}}let lp=(()=>{class r{}return r.NULL=new _D,r})();function yD(){return Ic(hn(),Ee())}function Ic(r,i){return new up(nr(r,i))}let up=(()=>{class r{constructor(o){this.nativeElement=o}}return r.__NG_ELEMENT_ID__=yD,r})();function vD(r){return r instanceof up?r.nativeElement:r}class Gm{}let Nb=(()=>{class r{}return r.__NG_ELEMENT_ID__=()=>function wr(){const r=Ee(),o=Ht(hn().index,r);return function kb(r){return r[11]}(Wr(o)?o:r)}(),r})(),As=(()=>{class r{}return r.\u0275prov=Ut({token:r,providedIn:"root",factory:()=>null}),r})();class oh{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const cp=new oh("13.1.3"),zm={};function dp(r,i,o,u,c=!1){for(;null!==o;){const f=i[o.index];if(null!==f&&u.push(on(f)),Gr(f))for(let C=10;C<f.length;C++){const E=f[C],I=E[1].firstChild;null!==I&&dp(E[1],E,I,u)}const _=o.type;if(8&_)dp(r,i,o.child,u);else if(32&_){const C=mg(o,i);let E;for(;E=C();)u.push(E)}else if(16&_){const C=Tg(i,o);if(Array.isArray(C))u.push(...C);else{const E=Pl(i[16]);dp(E[1],E,C,u,!0)}}o=c?o.projectionNext:o.next}return u}class ah{constructor(i,o){this._lView=i,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const i=this._lView,o=i[1];return dp(o,i,o.firstChild,[])}get context(){return this._lView[8]}set context(i){this._lView[8]=i}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[3];if(Gr(i)){const o=i[8],u=o?o.indexOf(this):-1;u>-1&&(Fa(i,u),Ta(o,u))}this._attachedToViewContainer=!1}fy(this._lView[1],this._lView)}onDestroy(i){Mt(this._lView[1],this._lView,null,i)}markForCheck(){Sd(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){df(this._lView[1],this._lView,this.context)}checkNoChanges(){!function Qu(r,i,o){Io(!0);try{df(r,i,o)}finally{Io(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Ae(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Eg(r,i){Hu(r,i,i[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new Ae(902,"");this._appRef=i}}class P0 extends ah{constructor(i){super(i),this._view=i}detectChanges(){Kg(this._view)}checkNoChanges(){!function jy(r){Io(!0);try{Kg(r)}finally{Io(!1)}}(this._view)}get context(){return null}}class R0 extends lp{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const o=Be(i);return new Tc(o,this.ngModule)}}function O0(r){const i=[];for(let o in r)r.hasOwnProperty(o)&&i.push({propName:r[o],templateName:o});return i}const Lb=new Xt("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Gh});class Tc extends M0{constructor(i,o){super(),this.componentDef=i,this.ngModule=o,this.componentType=i.type,this.selector=function XC(r){return r.map(Ey).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!o}get inputs(){return O0(this.componentDef.inputs)}get outputs(){return O0(this.componentDef.outputs)}create(i,o,u,c){const f=(c=c||this.ngModule)?function ti(r,i){return{get:(o,u,c)=>{const f=r.get(o,zm,c);return f!==zm||u===zm?f:i.get(o,u,c)}}}(i,c.injector):i,_=f.get(Gm,la),C=f.get(As,null),E=_.createRenderer(null,this.componentDef),I=this.componentDef.selectors[0][0]||"div",A=u?function Wt(r,i,o){if(Pt(r))return r.selectRootElement(i,o===Ct.ShadowDom);let u="string"==typeof i?r.querySelector(i):i;return u.textContent="",u}(E,u,this.componentDef.encapsulation):dy(_.createRenderer(null,this.componentDef),I,function Fb(r){const i=r.toLowerCase();return"svg"===i?vo:"math"===i?"http://www.w3.org/1998/MathML/":null}(I)),N=this.componentDef.onPush?576:528,$=function tc(r,i){return{components:[],scheduler:r||Gh,clean:EE,playerHandler:i||null,flags:0}}(),K=Fl(0,null,null,1,0,null,null,null,null,null),le=Gu(null,K,$,N,null,null,_,E,C,f);let Oe,Ue;$s(le);try{const ze=function Cf(r,i,o,u,c,f){const _=o[1];o[20]=r;const E=zu(_,20,2,"#host",null),I=E.mergedAttrs=i.hostAttrs;null!==I&&(zo(E,I,!0),null!==r&&(ml(c,r,I),null!==E.classes&&fr(c,r,E.classes),null!==E.styles&&Ag(c,r,E.styles)));const A=u.createRenderer(r,i),N=Gu(o,$g(i),null,i.onPush?64:16,o[20],E,u,A,f||null,null);return _.firstCreatePass&&(_r(zs(E,o),_,i.type),Ly(_,E),Vy(E,o.length,1)),Ku(o,N),o[20]=N}(A,this.componentDef,le,_,E);if(A)if(u)ml(E,A,["ng-version",cp.full]);else{const{attrs:ve,classes:ut}=function eE(r){const i=[],o=[];let u=1,c=2;for(;u<r.length;){let f=r[u];if("string"==typeof f)2===c?""!==f&&i.push(f,r[++u]):8===c&&o.push(f);else{if(!Cr(c))break;c=f}u++}return{attrs:i,classes:o}}(this.componentDef.selectors[0]);ve&&ml(E,A,ve),ut&&ut.length>0&&fr(E,A,ut.join(" "))}if(Ue=Co(K,20),void 0!==o){const ve=Ue.projection=[];for(let ut=0;ut<this.ngContentSelectors.length;ut++){const Lt=o[ut];ve.push(null!=Lt?Array.from(Lt):null)}}Oe=function Fd(r,i,o,u,c){const f=o[1],_=function Wi(r,i,o){const u=hn();r.firstCreatePass&&(o.providersResolver&&o.providersResolver(o),By(r,u,i,qu(r,i,1,null),o));const c=yn(i,r,u.directiveStart,u);Ye(c,i);const f=nr(u,i);return f&&Ye(f,i),c}(f,o,i);if(u.components.push(_),r[8]=_,c&&c.forEach(E=>E(_,i)),i.contentQueries){const E=hn();i.contentQueries(1,_,E.directiveStart)}const C=hn();return!f.firstCreatePass||null===i.hostBindings&&null===i.hostAttrs||(ir(C.index),ky(o[1],C,0,C.directiveStart,C.directiveEnd,i),af(i,_)),_}(ze,this.componentDef,le,$,[jl]),Yu(K,le,null)}finally{ma()}return new qm(this.componentType,Oe,Ic(Ue,le),le,Ue)}}class qm extends class Rb{}{constructor(i,o,u,c,f){super(),this.location=u,this._rootLView=c,this._tNode=f,this.instance=o,this.hostView=this.changeDetectorRef=new P0(c),this.componentType=i}get injector(){return new as(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}class Ya{}class fp{}const Ac=new Map;class lh extends Ya{constructor(i,o){super(),this._parent=o,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new R0(this);const u=mt(i);this._bootstrapComponents=Bo(u.bootstrap),this._r3Injector=pf(i,o,[{provide:Ya,useValue:this},{provide:lp,useValue:this.componentFactoryResolver}],oe(i)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(i)}get(i,o=Gi.THROW_IF_NOT_FOUND,u=qe.Default){return i===Gi||i===Ya||i===Qg?this:this._r3Injector.get(i,o,u)}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class pp extends fp{constructor(i){super(),this.moduleType=i,null!==mt(i)&&function Ub(r){const i=new Set;!function o(u){const c=mt(u,!0),f=c.id;null!==f&&(function k0(r,i,o){if(i&&i!==o)throw new Error(`Duplicate module registered for ${r} - ${oe(i)} vs ${oe(i.name)}`)}(f,Ac.get(f),u),Ac.set(f,u));const _=Bo(c.imports);for(const C of _)i.has(C)||(i.add(C),o(C))}(r)}(i)}create(i){return new lh(this.moduleType,i)}}function F0(r,i,o,u){return gp(Ee(),jn(),r,i,o,u)}function ch(r,i){const o=r[i];return o===bt?void 0:o}function gp(r,i,o,u,c,f){const _=i+o;return Jn(r,_,c)?Is(r,_+1,f?u.call(f,c):u(c)):ch(r,_+1)}function Xm(r,i){const o=St();let u;const c=r+20;o.firstCreatePass?(u=function e_(r,i){if(i)for(let o=i.length-1;o>=0;o--){const u=i[o];if(r===u.name)return u}}(i,o.pipeRegistry),o.data[c]=u,u.onDestroy&&(o.destroyHooks||(o.destroyHooks=[])).push(c,u.onDestroy)):u=o.data[c];const f=u.factory||(u.factory=xi(u.type)),_=Bt(cc);try{const C=yi(!1),E=f();return yi(C),function wf(r,i,o,u){o>=r.data.length&&(r.data[o]=null,r.blueprint[o]=null),i[o]=u}(o,Ee(),c,E),E}finally{Bt(_)}}function j0(r,i,o){const u=r+20,c=Ee(),f=Xi(c,u);return Kl(c,u)?gp(c,jn(),i,f.transform,o,f):f.transform(o)}function H0(r,i,o,u,c){const f=r+20,_=Ee(),C=Xi(_,f);return Kl(_,f)?function B0(r,i,o,u,c,f,_,C){const E=i+o;return Ts(r,E,c,f,_)?Is(r,E+3,C?u.call(C,c,f,_):u(c,f,_)):ch(r,E+3)}(_,jn(),i,C.transform,o,u,c,C):C.transform(o,u,c)}function Kl(r,i){return r[1].data[i].pure}function yp(r){return i=>{setTimeout(r,void 0,i)}}const co=class n_ extends l.x{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,o,u){var c,f,_;let C=i,E=o||(()=>null),I=u;if(i&&"object"==typeof i){const N=i;C=null===(c=N.next)||void 0===c?void 0:c.bind(N),E=null===(f=N.error)||void 0===f?void 0:f.bind(N),I=null===(_=N.complete)||void 0===_?void 0:_.bind(N)}this.__isAsync&&(E=yp(E),C&&(C=yp(C)),I&&(I=yp(I)));const A=super.subscribe({next:C,error:E,complete:I});return i instanceof j.w0&&i.add(A),A}};function $0(){return this._results[Ha()]()}class Mc{constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=Ha(),u=Mc.prototype;u[o]||(u[o]=$0)}get changes(){return this._changes||(this._changes=new co)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,o){return this._results.reduce(i,o)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,o){const u=this;u.dirty=!1;const c=Kn(i);(this._changesDetected=!function Eu(r,i,o){if(r.length!==i.length)return!1;for(let u=0;u<r.length;u++){let c=r[u],f=i[u];if(o&&(c=o(c),f=o(f)),f!==c)return!1}return!0}(u._results,c,o))&&(u._results=c,u.length=c.length,u.last=c[this.length-1],u.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let dh=(()=>{class r{}return r.__NG_ELEMENT_ID__=Gb,r})();const Zb=dh,Wb=class extends Zb{constructor(i,o,u){super(),this._declarationLView=i,this._declarationTContainer=o,this.elementRef=u}createEmbeddedView(i){const o=this._declarationTContainer.tViews,u=Gu(this._declarationLView,o,i,16,null,o.declTNode,null,null,null,null);u[17]=this._declarationLView[this._declarationTContainer.index];const f=this._declarationLView[19];return null!==f&&(u[19]=f.createEmbeddedView(o)),Yu(o,u,i),new ah(u)}};function Gb(){return vp(hn(),Ee())}function vp(r,i){return 4&r.type?new Wb(i,r,Ic(r,i)):null}let Cp=(()=>{class r{}return r.__NG_ELEMENT_ID__=zb,r})();function zb(){return r_(hn(),Ee())}const qb=Cp,Z0=class extends qb{constructor(i,o,u){super(),this._lContainer=i,this._hostTNode=o,this._hostLView=u}get element(){return Ic(this._hostTNode,this._hostLView)}get injector(){return new as(this._hostTNode,this._hostLView)}get parentInjector(){const i=Lr(this._hostTNode,this._hostLView);if(qc(i)){const o=Mo(i,this._hostLView),u=Ws(i);return new as(o[1].data[u+8],o)}return new as(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const o=W0(this._lContainer);return null!==o&&o[i]||null}get length(){return this._lContainer.length-10}createEmbeddedView(i,o,u){const c=i.createEmbeddedView(o||{});return this.insert(c,u),c}createComponent(i,o,u,c,f){const _=i&&!function cs(r){return"function"==typeof r}(i);let C;if(_)C=o;else{const N=o||{};C=N.index,u=N.injector,c=N.projectableNodes,f=N.ngModuleRef}const E=_?i:new Tc(Be(i)),I=u||this.parentInjector;if(!f&&null==E.ngModule&&I){const N=I.get(Ya,null);N&&(f=N)}const A=E.create(I,c,void 0,f);return this.insert(A.hostView,C),A}insert(i,o){const u=i._lView,c=u[1];if(function Hc(r){return Gr(r[3])}(u)){const A=this.indexOf(i);if(-1!==A)this.detach(A);else{const N=u[3],$=new Z0(N,N[6],N[3]);$.detach($.indexOf(i))}}const f=this._adjustIndex(o),_=this._lContainer;!function Mr(r,i,o,u){const c=10+u,f=o.length;u>0&&(o[c-1][4]=i),u<f-10?(i[4]=o[c],Ia(o,10+u,i)):(o.push(i),i[4]=null),i[3]=o;const _=i[17];null!==_&&o!==_&&function qC(r,i){const o=r[9];i[16]!==i[3][3][16]&&(r[2]=!0),null===o?r[9]=[i]:o.push(i)}(_,i);const C=i[19];null!==C&&C.insertView(r),i[2]|=128}(c,u,_,f);const C=$o(f,_),E=u[11],I=$i(E,_[7]);return null!==I&&function zC(r,i,o,u,c,f){u[0]=c,u[6]=i,Hu(r,u,o,1,c,f)}(c,_[6],E,u,I,C),i.attachToViewContainerRef(),Ia(xc(_),f,i),i}move(i,o){return this.insert(i,o)}indexOf(i){const o=W0(this._lContainer);return null!==o?o.indexOf(i):-1}remove(i){const o=this._adjustIndex(i,-1),u=Fa(this._lContainer,o);u&&(Ta(xc(this._lContainer),o),fy(u[1],u))}detach(i){const o=this._adjustIndex(i,-1),u=Fa(this._lContainer,o);return u&&null!=Ta(xc(this._lContainer),o)?new ah(u):null}_adjustIndex(i,o=0){return null==i?this.length+o:i}};function W0(r){return r[8]}function xc(r){return r[8]||(r[8]=[])}function r_(r,i){let o;const u=i[r.index];if(Gr(u))o=u;else{let c;if(8&r.type)c=on(u);else{const f=i[11];c=f.createComment("");const _=nr(r,i);ju(f,$i(f,_),c,function k(r,i){return Pt(r)?r.nextSibling(i):i.nextSibling}(f,_),!1)}i[r.index]=o=qg(u,i,c,r),Ku(i,o)}return new Z0(o,r,i)}class s_{constructor(i){this.queryList=i,this.matches=null}clone(){return new s_(this.queryList)}setDirty(){this.queryList.setDirty()}}class o_{constructor(i=[]){this.queries=i}createEmbeddedView(i){const o=i.queries;if(null!==o){const u=null!==i.contentQueries?i.contentQueries[0]:o.length,c=[];for(let f=0;f<u;f++){const _=o.getByIndex(f);c.push(this.queries[_.indexInDeclarationView].clone())}return new o_(c)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let o=0;o<this.queries.length;o++)null!==Jb(i,o).matches&&this.queries[o].setDirty()}}class a_{constructor(i,o,u=null){this.predicate=i,this.flags=o,this.read=u}}class Ep{constructor(i=[]){this.queries=i}elementStart(i,o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(i,o)}elementEnd(i){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(i)}embeddedTView(i){let o=null;for(let u=0;u<this.length;u++){const c=null!==o?o.length:0,f=this.getByIndex(u).embeddedTView(i,c);f&&(f.indexInDeclarationView=u,null!==o?o.push(f):o=[f])}return null!==o?new Ep(o):null}template(i,o){for(let u=0;u<this.queries.length;u++)this.queries[u].template(i,o)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class bp{constructor(i,o=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(i,o){this.isApplyingToNode(o)&&this.matchTNode(i,o)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,o){this.elementStart(i,o)}embeddedTView(i,o){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,o),new bp(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let u=i.parent;for(;null!==u&&8&u.type&&u.index!==o;)u=u.parent;return o===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(i,o){const u=this.metadata.predicate;if(Array.isArray(u))for(let c=0;c<u.length;c++){const f=u[c];this.matchTNodeWithReadOption(i,o,z0(o,f)),this.matchTNodeWithReadOption(i,o,Li(o,i,f,!1,!1))}else u===dh?4&o.type&&this.matchTNodeWithReadOption(i,o,-1):this.matchTNodeWithReadOption(i,o,Li(o,i,u,!1,!1))}matchTNodeWithReadOption(i,o,u){if(null!==u){const c=this.metadata.read;if(null!==c)if(c===up||c===Cp||c===dh&&4&o.type)this.addMatch(o.index,-2);else{const f=Li(o,i,c,!1,!1);null!==f&&this.addMatch(o.index,f)}else this.addMatch(o.index,u)}}addMatch(i,o){null===this.matches?this.matches=[i,o]:this.matches.push(i,o)}}function z0(r,i){const o=r.localNames;if(null!==o)for(let u=0;u<o.length;u+=2)if(o[u]===i)return o[u+1];return null}function DD(r,i,o,u){return-1===o?function q0(r,i){return 11&r.type?Ic(r,i):4&r.type?vp(r,i):null}(i,r):-2===o?function Yb(r,i,o){return o===up?Ic(i,r):o===dh?vp(i,r):o===Cp?r_(i,r):void 0}(r,i,u):yn(r,r[1],o,i)}function Kb(r,i,o,u){const c=i[19].queries[u];if(null===c.matches){const f=r.data,_=o.matches,C=[];for(let E=0;E<_.length;E+=2){const I=_[E];C.push(I<0?null:DD(i,f[I],_[E+1],o.metadata.read))}c.matches=C}return c.matches}function Y0(r,i,o,u){const c=r.queries.getByIndex(o),f=c.matches;if(null!==f){const _=Kb(r,i,c,o);for(let C=0;C<f.length;C+=2){const E=f[C];if(E>0)u.push(_[C/2]);else{const I=f[C+1],A=i[-E];for(let N=10;N<A.length;N++){const $=A[N];$[17]===$[3]&&Y0($[1],$,I,u)}if(null!==A[9]){const N=A[9];for(let $=0;$<N.length;$++){const K=N[$];Y0(K[1],K,I,u)}}}}}return u}function wp(r){const i=Ee(),o=St(),u=Hs();fl(u+1);const c=Jb(o,u);if(r.dirty&&du(i)===(2==(2&c.metadata.flags))){if(null===c.matches)r.reset([]);else{const f=c.crossesNgTemplate?Y0(o,i,u,[]):Kb(o,i,c,u);r.reset(f,vD),r.notifyOnChanges()}return!0}return!1}function K0(r,i,o,u){const c=St();if(c.firstCreatePass){const f=hn();(function Dp(r,i,o){null===r.queries&&(r.queries=new Ep),r.queries.track(new bp(i,o))})(c,new a_(i,o,u),f.index),function Ip(r,i){const o=r.contentQueries||(r.contentQueries=[]);i!==(o.length?o[o.length-1]:-1)&&o.push(r.queries.length-1,i)}(c,r),2==(2&o)&&(c.staticContentQueries=!0)}!function u_(r,i,o){const u=new Mc(4==(4&o));Mt(r,i,u,u.destroy),null===i[19]&&(i[19]=new o_),i[19].queries.push(new s_(u))}(c,Ee(),o)}function l_(){return function Qb(r,i){return r[19].queries[i].queryList}(Ee(),Hs())}function Jb(r,i){return r.queries.getByIndex(i)}function Tp(r,i){return vp(r,i)}function xp(...r){}const Pp=new Xt("Application Initializer");let ea=(()=>{class r{constructor(o){this.appInits=o,this.resolve=xp,this.reject=xp,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,c)=>{this.resolve=u,this.reject=c})}runInitializers(){if(this.initialized)return;const o=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let c=0;c<this.appInits.length;c++){const f=this.appInits[c]();if(Cm(f))o.push(f);else if(Rf(f)){const _=new Promise((C,E)=>{f.subscribe({complete:C,error:E})});o.push(_)}}Promise.all(o).then(()=>{u()}).catch(c=>{this.reject(c)}),0===o.length&&u(),this.initialized=!0}}return r.\u0275fac=function(o){return new(o||r)(Y(Pp,8))},r.\u0275prov=Ut({token:r,factory:r.\u0275fac}),r})();const dC=new Xt("AppId"),hC={provide:dC,useFactory:function v_(){return`${Ka()}${Ka()}${Ka()}`},deps:[]};function Ka(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const C_=new Xt("Platform Initializer"),E_=new Xt("Platform ID"),fC=new Xt("appBootstrapListener");let ta=(()=>{class r{log(o){console.log(o)}warn(o){console.warn(o)}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=Ut({token:r,factory:r.\u0275fac}),r})();const Oc=new Xt("LocaleId"),pC=new Xt("DefaultCurrencyCode");class ph{constructor(i,o){this.ngModuleFactory=i,this.componentFactories=o}}let Rp=(()=>{class r{compileModuleSync(o){return new pp(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const u=this.compileModuleSync(o),f=Bo(mt(o).declarations).reduce((_,C)=>{const E=Be(C);return E&&_.push(new Tc(E)),_},[]);return new ph(u,f)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=Ut({token:r,factory:r.\u0275fac}),r})();const uw=(()=>Promise.resolve(0))();function b_(r){"undefined"==typeof Zone?uw.then(()=>{r&&r.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",r)}class Ai{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new co(!1),this.onMicrotaskEmpty=new co(!1),this.onStable=new co(!1),this.onError=new co(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!u&&o,c.shouldCoalesceRunChangeDetection=u,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function cw(){let r=rt.requestAnimationFrame,i=rt.cancelAnimationFrame;if("undefined"!=typeof Zone&&r&&i){const o=r[Zone.__symbol__("OriginalDelegate")];o&&(r=o);const u=i[Zone.__symbol__("OriginalDelegate")];u&&(i=u)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function hw(r){const i=()=>{!function dw(r){r.isCheckStableRunning||-1!==r.lastRequestAnimationFrameId||(r.lastRequestAnimationFrameId=r.nativeRequestAnimationFrame.call(rt,()=>{r.fakeTopEventTask||(r.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{r.lastRequestAnimationFrameId=-1,w_(r),r.isCheckStableRunning=!0,Op(r),r.isCheckStableRunning=!1},void 0,()=>{},()=>{})),r.fakeTopEventTask.invoke()}),w_(r))}(r)};r._inner=r._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,u,c,f,_,C)=>{try{return _C(r),o.invokeTask(c,f,_,C)}finally{(r.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||r.shouldCoalesceRunChangeDetection)&&i(),D_(r)}},onInvoke:(o,u,c,f,_,C,E)=>{try{return _C(r),o.invoke(c,f,_,C,E)}finally{r.shouldCoalesceRunChangeDetection&&i(),D_(r)}},onHasTask:(o,u,c,f)=>{o.hasTask(c,f),u===c&&("microTask"==f.change?(r._hasPendingMicrotasks=f.microTask,w_(r),Op(r)):"macroTask"==f.change&&(r.hasPendingMacrotasks=f.macroTask))},onHandleError:(o,u,c,f)=>(o.handleError(c,f),r.runOutsideAngular(()=>r.onError.emit(f)),!1)})}(c)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ai.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Ai.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(i,o,u){return this._inner.run(i,o,u)}runTask(i,o,u,c){const f=this._inner,_=f.scheduleEventTask("NgZoneEvent: "+c,i,mC,xp,xp);try{return f.runTask(_,o,u)}finally{f.cancelTask(_)}}runGuarded(i,o,u){return this._inner.runGuarded(i,o,u)}runOutsideAngular(i){return this._outer.run(i)}}const mC={};function Op(r){if(0==r._nesting&&!r.hasPendingMicrotasks&&!r.isStable)try{r._nesting++,r.onMicrotaskEmpty.emit(null)}finally{if(r._nesting--,!r.hasPendingMicrotasks)try{r.runOutsideAngular(()=>r.onStable.emit(null))}finally{r.isStable=!0}}}function w_(r){r.hasPendingMicrotasks=!!(r._hasPendingMicrotasks||(r.shouldCoalesceEventChangeDetection||r.shouldCoalesceRunChangeDetection)&&-1!==r.lastRequestAnimationFrameId)}function _C(r){r._nesting++,r.isStable&&(r.isStable=!1,r.onUnstable.emit(null))}function D_(r){r._nesting--,Op(r)}class kt{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new co,this.onMicrotaskEmpty=new co,this.onStable=new co,this.onError=new co}run(i,o,u){return i.apply(o,u)}runGuarded(i,o,u){return i.apply(o,u)}runOutsideAngular(i){return i()}runTask(i,o,u,c){return i.apply(o,u)}}let yC=(()=>{class r{constructor(o){this._ngZone=o,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ai.assertNotInAngularZone(),b_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())b_(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(o)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,u,c){let f=-1;u&&u>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==f),o(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:o,timeoutId:f,updateCb:c})}whenStable(o,u,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,u,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(o,u,c){return[]}}return r.\u0275fac=function(o){return new(o||r)(Y(Ai))},r.\u0275prov=Ut({token:r,factory:r.\u0275fac}),r})(),Ql=(()=>{class r{constructor(){this._applications=new Map,T_.addToWindow(this)}registerApplication(o,u){this._applications.set(o,u)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,u=!0){return T_.findTestabilityInTree(this,o,u)}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=Ut({token:r,factory:r.\u0275fac}),r})();class vC{addToWindow(i){}findTestabilityInTree(i,o,u){return null}}function I_(r){T_=r}let Ss,T_=new vC;const A_=new Xt("AllowMultipleToken");class EC{constructor(i,o){this.name=i,this.token=o}}function Dr(r,i,o=[]){const u=`Platform: ${i}`,c=new Xt(u);return(f=[])=>{let _=bC();if(!_||_.injector.get(A_,!1))if(r)r(o.concat(f).concat({provide:c,useValue:!0}));else{const C=o.concat(f).concat({provide:c,useValue:!0},{provide:Jg,useValue:"platform"});!function HD(r){if(Ss&&!Ss.destroyed&&!Ss.injector.get(A_,!1))throw new Ae(400,"");Ss=r.get(S_);const i=r.get(C_,null);i&&i.forEach(o=>o())}(Gi.create({providers:C,name:u}))}return function fo(r){const i=bC();if(!i)throw new Ae(401,"");return i}()}}function bC(){return Ss&&!Ss.destroyed?Ss:null}let S_=(()=>{class r{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,u){const C=function wC(r,i){let o;return o="noop"===r?new kt:("zone.js"===r?void 0:r)||new Ai({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==i?void 0:i.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==i?void 0:i.ngZoneRunCoalescing)}),o}(u?u.ngZone:void 0,{ngZoneEventCoalescing:u&&u.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:u&&u.ngZoneRunCoalescing||!1}),E=[{provide:Ai,useValue:C}];return C.run(()=>{const I=Gi.create({providers:E,parent:this.injector,name:o.moduleType.name}),A=o.create(I),N=A.injector.get(pd,null);if(!N)throw new Ae(402,"");return C.runOutsideAngular(()=>{const $=C.onError.subscribe({next:K=>{N.handleError(K)}});A.onDestroy(()=>{Np(this._modules,A),$.unsubscribe()})}),function pw(r,i,o){try{const u=o();return Cm(u)?u.catch(c=>{throw i.runOutsideAngular(()=>r.handleError(c)),c}):u}catch(u){throw i.runOutsideAngular(()=>r.handleError(u)),u}}(N,C,()=>{const $=A.injector.get(ea);return $.runInitializers(),$.donePromise.then(()=>(function Jf(r){Xe(r,"Expected localeId to be defined"),"string"==typeof r&&(a0=r.toLowerCase().replace(/_/g,"-"))}(A.injector.get(Oc,Kf)||Kf),this._moduleDoBootstrap(A),A))})})}bootstrapModule(o,u=[]){const c=M_({},u);return function fw(r,i,o){const u=new pp(o);return Promise.resolve(u)}(0,0,o).then(f=>this.bootstrapModuleFactory(f,c))}_moduleDoBootstrap(o){const u=o.injector.get(gh);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(c=>u.bootstrap(c));else{if(!o.instance.ngDoBootstrap)throw new Ae(403,"");o.instance.ngDoBootstrap(u)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ae(404,"");this._modules.slice().forEach(o=>o.destroy()),this._destroyListeners.forEach(o=>o()),this._destroyed=!0}get destroyed(){return this._destroyed}}return r.\u0275fac=function(o){return new(o||r)(Y(Gi))},r.\u0275prov=Ut({token:r,factory:r.\u0275fac}),r})();function M_(r,i){return Array.isArray(i)?i.reduce(M_,r):Object.assign(Object.assign({},r),i)}let gh=(()=>{class r{constructor(o,u,c,f,_){this._zone=o,this._injector=u,this._exceptionHandler=c,this._componentFactoryResolver=f,this._initStatus=_,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const C=new P.y(I=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{I.next(this._stable),I.complete()})}),E=new P.y(I=>{let A;this._zone.runOutsideAngular(()=>{A=this._zone.onStable.subscribe(()=>{Ai.assertNotInAngularZone(),b_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,I.next(!0))})})});const N=this._zone.onUnstable.subscribe(()=>{Ai.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{I.next(!1)}))});return()=>{A.unsubscribe(),N.unsubscribe()}});this.isStable=(0,ee.T)(C,E.pipe((0,re.B)()))}bootstrap(o,u){if(!this._initStatus.done)throw new Ae(405,"");let c;c=o instanceof M0?o:this._componentFactoryResolver.resolveComponentFactory(o),this.componentTypes.push(c.componentType);const f=function CC(r){return r.isBoundToModule}(c)?void 0:this._injector.get(Ya),C=c.create(Gi.NULL,[],u||c.selector,f),E=C.location.nativeElement,I=C.injector.get(yC,null),A=I&&C.injector.get(Ql);return I&&A&&A.registerApplication(E,I),C.onDestroy(()=>{this.detachView(C.hostView),Np(this.components,C),A&&A.unregisterApplication(E)}),this._loadComponent(C),C}tick(){if(this._runningTick)throw new Ae(101,"");try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const u=o;this._views.push(u),u.attachToAppRef(this)}detachView(o){const u=o;Np(this._views,u),u.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o),this._injector.get(fC,[]).concat(this._bootstrapListeners).forEach(c=>c(o))}ngOnDestroy(){this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return r.\u0275fac=function(o){return new(o||r)(Y(Ai),Y(Gi),Y(pd),Y(lp),Y(ea))},r.\u0275prov=Ut({token:r,factory:r.\u0275fac}),r})();function Np(r,i){const o=r.indexOf(i);o>-1&&r.splice(o,1)}let Ja=!0,Ft=!1;function mh(){return Ft=!0,Ja}function gw(){if(Ft)throw new Error("Cannot enable prod mode after platform setup.");Ja=!1}let DC=(()=>{class r{}return r.__NG_ELEMENT_ID__=mw,r})();function mw(r){return function Fp(r,i,o){if(Mn(r)&&!o){const u=Ht(r.index,i);return new ah(u,u)}return 47&r.type?new ah(i[16],i):null}(hn(),Ee(),16==(16&r))}class U_{constructor(){}supports(i){return ln(i)}create(i){return new Bp(i)}}const bw=(r,i)=>i;class Bp{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||bw}forEachItem(i){let o;for(o=this._itHead;null!==o;o=o._next)i(o)}forEachOperation(i){let o=this._itHead,u=this._removalsHead,c=0,f=null;for(;o||u;){const _=!u||o&&o.currentIndex<jp(u,c,f)?o:u,C=jp(_,c,f),E=_.currentIndex;if(_===u)c--,u=u._nextRemoved;else if(o=o._next,null==_.previousIndex)c++;else{f||(f=[]);const I=C-c,A=E-c;if(I!=A){for(let $=0;$<I;$++){const K=$<f.length?f[$]:f[$]=0,le=K+$;A<=le&&le<I&&(f[$]=K+1)}f[_.previousIndex]=A-I}}C!==E&&i(_,C,E)}}forEachPreviousItem(i){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachMovedItem(i){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}forEachIdentityChange(i){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)i(o)}diff(i){if(null==i&&(i=[]),!ln(i))throw new Ae(900,"");return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let c,f,_,o=this._itHead,u=!1;if(Array.isArray(i)){this.length=i.length;for(let C=0;C<this.length;C++)f=i[C],_=this._trackByFn(C,f),null!==o&&Object.is(o.trackById,_)?(u&&(o=this._verifyReinsertion(o,f,_,C)),Object.is(o.item,f)||this._addIdentityChange(o,f)):(o=this._mismatch(o,f,_,C),u=!0),o=o._next}else c=0,function Vd(r,i){if(Array.isArray(r))for(let o=0;o<r.length;o++)i(r[o]);else{const o=r[Ha()]();let u;for(;!(u=o.next()).done;)i(u.value)}}(i,C=>{_=this._trackByFn(c,C),null!==o&&Object.is(o.trackById,_)?(u&&(o=this._verifyReinsertion(o,C,_,c)),Object.is(o.item,C)||this._addIdentityChange(o,C)):(o=this._mismatch(o,C,_,c),u=!0),o=o._next,c++}),this.length=c;return this._truncate(o),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,o,u,c){let f;return null===i?f=this._itTail:(f=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._reinsertAfter(i,f,c)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(u,c))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._moveAfter(i,f,c)):i=this._addAfter(new MC(o,u),f,c),i}_verifyReinsertion(i,o,u,c){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==f?i=this._reinsertAfter(f,i._prev,c):i.currentIndex!=c&&(i.currentIndex=c,this._addToMoves(i,c)),i}_truncate(i){for(;null!==i;){const o=i._next;this._addToRemovals(this._unlink(i)),i=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,o,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const c=i._prevRemoved,f=i._nextRemoved;return null===c?this._removalsHead=f:c._nextRemoved=f,null===f?this._removalsTail=c:f._prevRemoved=c,this._insertAfter(i,o,u),this._addToMoves(i,u),i}_moveAfter(i,o,u){return this._unlink(i),this._insertAfter(i,o,u),this._addToMoves(i,u),i}_addAfter(i,o,u){return this._insertAfter(i,o,u),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,o,u){const c=null===o?this._itHead:o._next;return i._next=c,i._prev=o,null===c?this._itTail=i:c._prev=i,null===o?this._itHead=i:o._next=i,null===this._linkedRecords&&(this._linkedRecords=new B_),this._linkedRecords.put(i),i.currentIndex=u,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const o=i._prev,u=i._next;return null===o?this._itHead=u:o._next=u,null===u?this._itTail=o:u._prev=o,i}_addToMoves(i,o){return i.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new B_),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,o){return i.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class MC{constructor(i,o){this.item=i,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class V_{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,o){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===o||o<=u.currentIndex)&&Object.is(u.trackById,i))return u;return null}remove(i){const o=i._prevDup,u=i._nextDup;return null===o?this._head=u:o._nextDup=u,null===u?this._tail=o:u._prevDup=o,null===this._head}}class B_{constructor(){this.map=new Map}put(i){const o=i.trackById;let u=this.map.get(o);u||(u=new V_,this.map.set(o,u)),u.add(i)}get(i,o){const c=this.map.get(i);return c?c.get(i,o):null}remove(i){const o=i.trackById;return this.map.get(o).remove(i)&&this.map.delete(o),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function jp(r,i,o){const u=r.previousIndex;if(null===u)return u;let c=0;return o&&u<o.length&&(c=o[u]),u+i+c}class Hp{constructor(){}supports(i){return i instanceof Map||Bd(i)}create(){return new ww}}class ww{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let o;for(o=this._mapHead;null!==o;o=o._next)i(o)}forEachPreviousItem(i){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)i(o)}forEachChangedItem(i){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}diff(i){if(i){if(!(i instanceof Map||Bd(i)))throw new Ae(900,"")}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(i,(u,c)=>{if(o&&o.key===c)this._maybeAddToChanges(o,u),this._appendAfter=o,o=o._next;else{const f=this._getOrCreateRecordForKey(c,u);o=this._insertBeforeOrAppend(o,f)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let u=o;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,o){if(i){const u=i._prev;return o._next=i,o._prev=u,i._prev=o,u&&(u._next=o),i===this._mapHead&&(this._mapHead=o),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(i,o){if(this._records.has(i)){const c=this._records.get(i);this._maybeAddToChanges(c,o);const f=c._prev,_=c._next;return f&&(f._next=_),_&&(_._prev=f),c._next=null,c._prev=null,c}const u=new Eh(i);return this._records.set(i,u),u.currentValue=o,this._addToAdditions(u),u}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,o){Object.is(o,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=o,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,o){i instanceof Map?i.forEach(o):Object.keys(i).forEach(u=>o(i[u],u))}}class Eh{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function xC(){return new $p([new U_])}let $p=(()=>{class r{constructor(o){this.factories=o}static create(o,u){if(null!=u){const c=u.factories.slice();o=o.concat(c)}return new r(o)}static extend(o){return{provide:r,useFactory:u=>r.create(o,u||xC()),deps:[[r,new vr,new en]]}}find(o){const u=this.factories.find(c=>c.supports(o));if(null!=u)return u;throw new Ae(901,"")}}return r.\u0275prov=Ut({token:r,providedIn:"root",factory:xC}),r})();function bh(){return new el([new Hp])}let el=(()=>{class r{constructor(o){this.factories=o}static create(o,u){if(u){const c=u.factories.slice();o=o.concat(c)}return new r(o)}static extend(o){return{provide:r,useFactory:u=>r.create(o,u||bh()),deps:[[r,new vr,new en]]}}find(o){const u=this.factories.find(f=>f.supports(o));if(u)return u;throw new Ae(901,"")}}return r.\u0275prov=Ut({token:r,providedIn:"root",factory:bh}),r})();const j_=[new Hp],RC=new $p([new U_]),Dw=new el(j_),Iw=Dr(null,"core",[{provide:E_,useValue:"unknown"},{provide:S_,deps:[Gi]},{provide:Ql,deps:[]},{provide:ta,deps:[]}]),Sw=[{provide:gh,useClass:gh,deps:[Ai,Gi,pd,lp,ea]},{provide:Lb,deps:[Ai],useFactory:function H_(r){let i=[];return r.onStable.subscribe(()=>{for(;i.length;)i.pop()()}),function(o){i.push(o)}}},{provide:ea,useClass:ea,deps:[[new en,Pp]]},{provide:Rp,useClass:Rp,deps:[]},hC,{provide:$p,useFactory:function Tw(){return RC},deps:[]},{provide:el,useFactory:function Aw(){return Dw},deps:[]},{provide:Oc,useFactory:function NC(r){return r||function Zp(){return"undefined"!=typeof $localize&&$localize.locale||Kf}()},deps:[[new On(Oc),new en,new vr]]},{provide:pC,useValue:"USD"}];let Mw=(()=>{class r{constructor(o){}}return r.\u0275fac=function(o){return new(o||r)(Y(gh))},r.\u0275mod=R({type:r}),r.\u0275inj=Ir({providers:Sw}),r})()},3942:(Je,Ce,O)=>{O.d(Ce,{Z:()=>Ae});var l=O(2090),j=O(4859),P=O(9681),ee=O(1877);class re{constructor(de,he){this._delegate=de,this.firebase=he,(0,P._addComponent)(de,new j.wA("app-compat",()=>this,"PUBLIC")),this.container=de.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(de){this._delegate.automaticDataCollectionEnabled=de}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(de=>{this._delegate.checkDestroyed(),de()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,P.deleteApp)(this._delegate)))}_getService(de,he=P._DEFAULT_ENTRY_NAME){var Se;this._delegate.checkDestroyed();const Re=this._delegate.container.getProvider(de);return!Re.isInitialized()&&"EXPLICIT"===(null===(Se=Re.getComponent())||void 0===Se?void 0:Se.instantiationMode)&&Re.initialize(),Re.getImmediate({identifier:he})}_removeServiceInstance(de,he=P._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(de).clearInstance(he)}_addComponent(de){(0,P._addComponent)(this._delegate,de)}_addOrOverwriteComponent(de){(0,P._addOrOverwriteComponent)(this._delegate,de)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const se=new l.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Z=function ce(){const Pe=function oe(Pe){const de={},he={__esModule:!0,initializeApp:function Ne(Ve,it={}){const J=P.initializeApp(Ve,it);if((0,l.r3)(de,J.name))return de[J.name];const pe=new Pe(J,he);return de[J.name]=pe,pe},app:Re,registerVersion:P.registerVersion,setLogLevel:P.setLogLevel,onLog:P.onLog,apps:null,SDK_VERSION:P.SDK_VERSION,INTERNAL:{registerComponent:function be(Ve){const it=Ve.name,J=it.replace("-compat","");if(P._registerComponent(Ve)&&"PUBLIC"===Ve.type){const pe=(ge=Re())=>{if("function"!=typeof ge[J])throw se.create("invalid-app-argument",{appName:it});return ge[J]()};void 0!==Ve.serviceProps&&(0,l.ZB)(pe,Ve.serviceProps),he[J]=pe,Pe.prototype[J]=function(...ge){return this._getService.bind(this,it).apply(this,Ve.multipleInstances?ge:[])}}return"PUBLIC"===Ve.type?he[J]:null},removeApp:function Se(Ve){delete de[Ve]},useAsService:function Ke(Ve,it){return"serverAuth"===it?null:it},modularAPIs:P}};function Re(Ve){if(!(0,l.r3)(de,Ve=Ve||P._DEFAULT_ENTRY_NAME))throw se.create("no-app",{appName:Ve});return de[Ve]}return he.default=he,Object.defineProperty(he,"apps",{get:function Ge(){return Object.keys(de).map(Ve=>de[Ve])}}),Re.App=Pe,he}(re);return Pe.INTERNAL=Object.assign(Object.assign({},Pe.INTERNAL),{createFirebaseNamespace:ce,extendNamespace:function de(he){(0,l.ZB)(Pe,he)},createSubscribe:l.ne,ErrorFactory:l.LL,deepExtend:l.ZB}),Pe}(),G=new ee.Yd("@firebase/app-compat");if((0,l.jU)()&&void 0!==self.firebase){G.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Pe=self.firebase.SDK_VERSION;Pe&&Pe.indexOf("LITE")>=0&&G.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ae=Z;!function we(Pe){(0,P.registerVersion)("@firebase/app-compat","0.1.23",Pe)}()},9681:(Je,Ce,O)=>{O.r(Ce),O.d(Ce,{FirebaseError:()=>ee.ZR,SDK_VERSION:()=>mi,_DEFAULT_ENTRY_NAME:()=>Pn,_addComponent:()=>Gt,_addOrOverwriteComponent:()=>Rr,_apps:()=>st,_clearComponents:()=>In,_components:()=>cn,_getProvider:()=>ar,_registerComponent:()=>Ut,_removeServiceInstance:()=>Ir,deleteApp:()=>Un,getApp:()=>Ln,getApps:()=>Te,initializeApp:()=>lr,onLog:()=>qt,registerVersion:()=>ur,setLogLevel:()=>Bt});var l=O(5861),j=O(4859),P=O(1877),ee=O(2090);class re{constructor(ye){this.container=ye}getPlatformInfoString(){return this.container.getProviders().map(He=>{if(function me(Le){const ye=Le.getComponent();return"VERSION"===(null==ye?void 0:ye.type)}(He)){const ot=He.getImmediate();return`${ot.library}/${ot.version}`}return null}).filter(He=>He).join(" ")}}const se="@firebase/app",ce=new P.Yd("@firebase/app"),Pn="[DEFAULT]",Xe={[se]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},st=new Map,cn=new Map;function Gt(Le,ye){try{Le.container.addComponent(ye)}catch(He){ce.debug(`Component ${ye.name} failed to register with FirebaseApp ${Le.name}`,He)}}function Rr(Le,ye){Le.container.addOrOverwriteComponent(ye)}function Ut(Le){const ye=Le.name;if(cn.has(ye))return ce.debug(`There were multiple attempts to register component ${ye}.`),!1;cn.set(ye,Le);for(const He of st.values())Gt(He,Le);return!0}function ar(Le,ye){const He=Le.container.getProvider("heartbeat").getImmediate({optional:!0});return He&&He.triggerHeartbeat(),Le.container.getProvider(ye)}function Ir(Le,ye,He=Pn){ar(Le,ye).clearInstance(He)}function In(){cn.clear()}const zt=new ee.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class An{constructor(ye,He,ot){this._isDeleted=!1,this._options=Object.assign({},ye),this._config=Object.assign({},He),this._name=He.name,this._automaticDataCollectionEnabled=He.automaticDataCollectionEnabled,this._container=ot,this.container.addComponent(new j.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ye){this.checkDestroyed(),this._automaticDataCollectionEnabled=ye}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ye){this._isDeleted=ye}checkDestroyed(){if(this.isDeleted)throw zt.create("app-deleted",{appName:this._name})}}const mi="9.7.0";function lr(Le,ye={}){"object"!=typeof ye&&(ye={name:ye});const He=Object.assign({name:Pn,automaticDataCollectionEnabled:!1},ye),ot=He.name;if("string"!=typeof ot||!ot)throw zt.create("bad-app-name",{appName:String(ot)});const At=st.get(ot);if(At){if((0,ee.vZ)(Le,At.options)&&(0,ee.vZ)(He,At.config))return At;throw zt.create("duplicate-app",{appName:ot})}const xt=new j.H0(ot);for(const B of cn.values())xt.addComponent(B);const W=new An(Le,He,xt);return st.set(ot,W),W}function Ln(Le=Pn){const ye=st.get(Le);if(!ye)throw zt.create("no-app",{appName:Le});return ye}function Te(){return Array.from(st.values())}function Un(Le){return qe.apply(this,arguments)}function qe(){return(qe=(0,l.Z)(function*(Le){const ye=Le.name;st.has(ye)&&(st.delete(ye),yield Promise.all(Le.container.getProviders().map(He=>He.delete())),Le.isDeleted=!0)})).apply(this,arguments)}function ur(Le,ye,He){var ot;let At=null!==(ot=Xe[Le])&&void 0!==ot?ot:Le;He&&(At+=`-${He}`);const xt=At.match(/\s|\//),W=ye.match(/\s|\//);if(xt||W){const B=[`Unable to register library "${At}" with version "${ye}":`];return xt&&B.push(`library name "${At}" contains illegal characters (whitespace or "/")`),xt&&W&&B.push("and"),W&&B.push(`version name "${ye}" contains illegal characters (whitespace or "/")`),void ce.warn(B.join(" "))}Ut(new j.wA(`${At}-version`,()=>({library:At,version:ye}),"VERSION"))}function qt(Le,ye){if(null!==Le&&"function"!=typeof Le)throw zt.create("invalid-log-argument");(0,P.Am)(Le,ye)}function Bt(Le){(0,P.Ub)(Le)}const dn="firebase-heartbeat-store";let Cn=null;function Ar(){return Cn||(Cn=(0,ee.X3)("firebase-heartbeat-database",1,(Le,ye)=>{0===ye&&Le.createObjectStore(dn)}).catch(Le=>{throw zt.create("storage-open",{originalErrorMessage:Le.message})})),Cn}function Ct(){return(Ct=(0,l.Z)(function*(Le){try{return(yield Ar()).transaction(dn).objectStore(dn).get(Hr(Le))}catch(ye){throw zt.create("storage-get",{originalErrorMessage:ye.message})}})).apply(this,arguments)}function Qe(Le,ye){return et.apply(this,arguments)}function et(){return(et=(0,l.Z)(function*(Le,ye){try{const ot=(yield Ar()).transaction(dn,"readwrite");return yield ot.objectStore(dn).put(ye,Hr(Le)),ot.complete}catch(He){throw zt.create("storage-set",{originalErrorMessage:He.message})}})).apply(this,arguments)}function Hr(Le){return`${Le.name}!${Le.options.appId}`}class rn{constructor(ye){this.container=ye,this._heartbeatsCache=null;const He=this.container.getProvider("app").getImmediate();this._storage=new tt(He),this._heartbeatsCachePromise=this._storage.read().then(ot=>(this._heartbeatsCache=ot,ot))}triggerHeartbeat(){var ye=this;return(0,l.Z)(function*(){const ot=ye.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),At=Vn();if(null===ye._heartbeatsCache&&(ye._heartbeatsCache=yield ye._heartbeatsCachePromise),ye._heartbeatsCache.lastSentHeartbeatDate!==At&&!ye._heartbeatsCache.heartbeats.some(xt=>xt.date===At))return ye._heartbeatsCache.heartbeats.push({date:At,agent:ot}),ye._heartbeatsCache.heartbeats=ye._heartbeatsCache.heartbeats.filter(xt=>{const W=new Date(xt.date).valueOf();return Date.now()-W<=2592e6}),ye._storage.overwrite(ye._heartbeatsCache)})()}getHeartbeatsHeader(){var ye=this;return(0,l.Z)(function*(){if(null===ye._heartbeatsCache&&(yield ye._heartbeatsCachePromise),null===ye._heartbeatsCache||0===ye._heartbeatsCache.heartbeats.length)return"";const He=Vn(),{heartbeatsToSend:ot,unsentEntries:At}=function Yt(Le,ye=1024){const He=[];let ot=Le.slice();for(const At of Le){const xt=He.find(W=>W.agent===At.agent);if(xt){if(xt.dates.push(At.date),Qt(He)>ye){xt.dates.pop();break}}else if(He.push({agent:At.agent,dates:[At.date]}),Qt(He)>ye){He.pop();break}ot=ot.slice(1)}return{heartbeatsToSend:He,unsentEntries:ot}}(ye._heartbeatsCache.heartbeats),xt=(0,ee.L)(JSON.stringify({version:2,heartbeats:ot}));return ye._heartbeatsCache.lastSentHeartbeatDate=He,At.length>0?(ye._heartbeatsCache.heartbeats=At,yield ye._storage.overwrite(ye._heartbeatsCache)):(ye._heartbeatsCache.heartbeats=[],ye._storage.overwrite(ye._heartbeatsCache)),xt})()}}function Vn(){return(new Date).toISOString().substring(0,10)}class tt{constructor(ye){this.app=ye,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,l.Z)(function*(){return!!(0,ee.hl)()&&(0,ee.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ye=this;return(0,l.Z)(function*(){return(yield ye._canUseIndexedDBPromise)&&(yield function Ms(Le){return Ct.apply(this,arguments)}(ye.app))||{heartbeats:[]}})()}overwrite(ye){var He=this;return(0,l.Z)(function*(){var ot;if(yield He._canUseIndexedDBPromise){const xt=yield He.read();return Qe(He.app,{lastSentHeartbeatDate:null!==(ot=ye.lastSentHeartbeatDate)&&void 0!==ot?ot:xt.lastSentHeartbeatDate,heartbeats:ye.heartbeats})}})()}add(ye){var He=this;return(0,l.Z)(function*(){var ot;if(yield He._canUseIndexedDBPromise){const xt=yield He.read();return Qe(He.app,{lastSentHeartbeatDate:null!==(ot=ye.lastSentHeartbeatDate)&&void 0!==ot?ot:xt.lastSentHeartbeatDate,heartbeats:[...xt.heartbeats,...ye.heartbeats]})}})()}}function Qt(Le){return(0,ee.L)(JSON.stringify({version:2,heartbeats:Le})).length}!function wt(Le){Ut(new j.wA("platform-logger",ye=>new re(ye),"PRIVATE")),Ut(new j.wA("heartbeat",ye=>new rn(ye),"PRIVATE")),ur(se,"0.7.22",Le),ur(se,"0.7.22","esm2017"),ur("fire-js","")}("")},4859:(Je,Ce,O)=>{O.d(Ce,{H0:()=>oe,wA:()=>P,zt:()=>re});var l=O(5861),j=O(2090);class P{constructor(Z,G,X){this.name=Z,this.instanceFactory=G,this.type=X,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Z){return this.instantiationMode=Z,this}setMultipleInstances(Z){return this.multipleInstances=Z,this}setServiceProps(Z){return this.serviceProps=Z,this}setInstanceCreatedCallback(Z){return this.onInstanceCreated=Z,this}}const ee="[DEFAULT]";class re{constructor(Z,G){this.name=Z,this.container=G,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Z){const G=this.normalizeInstanceIdentifier(Z);if(!this.instancesDeferred.has(G)){const X=new j.BH;if(this.instancesDeferred.set(G,X),this.isInitialized(G)||this.shouldAutoInitialize())try{const Fe=this.getOrInitializeService({instanceIdentifier:G});Fe&&X.resolve(Fe)}catch(Fe){}}return this.instancesDeferred.get(G).promise}getImmediate(Z){var G;const X=this.normalizeInstanceIdentifier(null==Z?void 0:Z.identifier),Fe=null!==(G=null==Z?void 0:Z.optional)&&void 0!==G&&G;if(!this.isInitialized(X)&&!this.shouldAutoInitialize()){if(Fe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:X})}catch(we){if(Fe)return null;throw we}}getComponent(){return this.component}setComponent(Z){if(Z.name!==this.name)throw Error(`Mismatching Component ${Z.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Z,this.shouldAutoInitialize()){if(function se(ce){return"EAGER"===ce.instantiationMode}(Z))try{this.getOrInitializeService({instanceIdentifier:ee})}catch(G){}for(const[G,X]of this.instancesDeferred.entries()){const Fe=this.normalizeInstanceIdentifier(G);try{const we=this.getOrInitializeService({instanceIdentifier:Fe});X.resolve(we)}catch(we){}}}}clearInstance(Z=ee){this.instancesDeferred.delete(Z),this.instancesOptions.delete(Z),this.instances.delete(Z)}delete(){var Z=this;return(0,l.Z)(function*(){const G=Array.from(Z.instances.values());yield Promise.all([...G.filter(X=>"INTERNAL"in X).map(X=>X.INTERNAL.delete()),...G.filter(X=>"_delete"in X).map(X=>X._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Z=ee){return this.instances.has(Z)}getOptions(Z=ee){return this.instancesOptions.get(Z)||{}}initialize(Z={}){const{options:G={}}=Z,X=this.normalizeInstanceIdentifier(Z.instanceIdentifier);if(this.isInitialized(X))throw Error(`${this.name}(${X}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Fe=this.getOrInitializeService({instanceIdentifier:X,options:G});for(const[we,Ae]of this.instancesDeferred.entries())X===this.normalizeInstanceIdentifier(we)&&Ae.resolve(Fe);return Fe}onInit(Z,G){var X;const Fe=this.normalizeInstanceIdentifier(G),we=null!==(X=this.onInitCallbacks.get(Fe))&&void 0!==X?X:new Set;we.add(Z),this.onInitCallbacks.set(Fe,we);const Ae=this.instances.get(Fe);return Ae&&Z(Ae,Fe),()=>{we.delete(Z)}}invokeOnInitCallbacks(Z,G){const X=this.onInitCallbacks.get(G);if(X)for(const Fe of X)try{Fe(Z,G)}catch(we){}}getOrInitializeService({instanceIdentifier:Z,options:G={}}){let X=this.instances.get(Z);if(!X&&this.component&&(X=this.component.instanceFactory(this.container,{instanceIdentifier:(ce=Z,ce===ee?void 0:ce),options:G}),this.instances.set(Z,X),this.instancesOptions.set(Z,G),this.invokeOnInitCallbacks(X,Z),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Z,X)}catch(Fe){}var ce;return X||null}normalizeInstanceIdentifier(Z=ee){return this.component?this.component.multipleInstances?Z:ee:Z}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class oe{constructor(Z){this.name=Z,this.providers=new Map}addComponent(Z){const G=this.getProvider(Z.name);if(G.isComponentSet())throw new Error(`Component ${Z.name} has already been registered with ${this.name}`);G.setComponent(Z)}addOrOverwriteComponent(Z){this.getProvider(Z.name).isComponentSet()&&this.providers.delete(Z.name),this.addComponent(Z)}getProvider(Z){if(this.providers.has(Z))return this.providers.get(Z);const G=new re(Z,this);return this.providers.set(Z,G),G}getProviders(){return Array.from(this.providers.values())}}},1877:(Je,Ce,O)=>{O.d(Ce,{Am:()=>ce,Ub:()=>oe,Yd:()=>se,in:()=>j});const l=[];var j=(()=>{return(Z=j||(j={}))[Z.DEBUG=0]="DEBUG",Z[Z.VERBOSE=1]="VERBOSE",Z[Z.INFO=2]="INFO",Z[Z.WARN=3]="WARN",Z[Z.ERROR=4]="ERROR",Z[Z.SILENT=5]="SILENT",j;var Z})();const P={debug:j.DEBUG,verbose:j.VERBOSE,info:j.INFO,warn:j.WARN,error:j.ERROR,silent:j.SILENT},ee=j.INFO,re={[j.DEBUG]:"log",[j.VERBOSE]:"log",[j.INFO]:"info",[j.WARN]:"warn",[j.ERROR]:"error"},me=(Z,G,...X)=>{if(G<Z.logLevel)return;const Fe=(new Date).toISOString(),we=re[G];if(!we)throw new Error(`Attempted to log a message with an invalid logType (value: ${G})`);console[we](`[${Fe}]  ${Z.name}:`,...X)};class se{constructor(G){this.name=G,this._logLevel=ee,this._logHandler=me,this._userLogHandler=null,l.push(this)}get logLevel(){return this._logLevel}set logLevel(G){if(!(G in j))throw new TypeError(`Invalid value "${G}" assigned to \`logLevel\``);this._logLevel=G}setLogLevel(G){this._logLevel="string"==typeof G?P[G]:G}get logHandler(){return this._logHandler}set logHandler(G){if("function"!=typeof G)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=G}get userLogHandler(){return this._userLogHandler}set userLogHandler(G){this._userLogHandler=G}debug(...G){this._userLogHandler&&this._userLogHandler(this,j.DEBUG,...G),this._logHandler(this,j.DEBUG,...G)}log(...G){this._userLogHandler&&this._userLogHandler(this,j.VERBOSE,...G),this._logHandler(this,j.VERBOSE,...G)}info(...G){this._userLogHandler&&this._userLogHandler(this,j.INFO,...G),this._logHandler(this,j.INFO,...G)}warn(...G){this._userLogHandler&&this._userLogHandler(this,j.WARN,...G),this._logHandler(this,j.WARN,...G)}error(...G){this._userLogHandler&&this._userLogHandler(this,j.ERROR,...G),this._logHandler(this,j.ERROR,...G)}}function oe(Z){l.forEach(G=>{G.setLogLevel(Z)})}function ce(Z,G){for(const X of l){let Fe=null;G&&G.level&&(Fe=P[G.level]),X.userLogHandler=null===Z?null:(we,Ae,...Pe)=>{const de=Pe.map(he=>{if(null==he)return null;if("string"==typeof he)return he;if("number"==typeof he||"boolean"==typeof he)return he.toString();if(he instanceof Error)return he.message;try{return JSON.stringify(he)}catch(Se){return null}}).filter(he=>he).join(" ");Ae>=(null!=Fe?Fe:we.logLevel)&&Z({level:j[Ae].toLowerCase(),message:de,args:Pe,type:we.name})}}}},5861:(Je,Ce,O)=>{function l(P,ee,re,me,se,oe,ce){try{var Z=P[oe](ce),G=Z.value}catch(X){return void re(X)}Z.done?ee(G):Promise.resolve(G).then(me,se)}function j(P){return function(){var ee=this,re=arguments;return new Promise(function(me,se){var oe=P.apply(ee,re);function ce(G){l(oe,me,se,ce,Z,"next",G)}function Z(G){l(oe,me,se,ce,Z,"throw",G)}ce(void 0)})}}O.d(Ce,{Z:()=>j})}},Je=>{Je(Je.s=9079)}]);
"use strict";(self.webpackChunkmy_finance_app=self.webpackChunkmy_finance_app||[]).push([[179],{2011:(Je,ve,x)=>{x.d(ve,{Dh:()=>oe,GT:()=>me,cc:()=>we,hO:()=>Fe,on:()=>W,pX:()=>re,xv:()=>ue});var d=x(5e3),j=x(127),P=x(5813);Je=x.hmd(Je);const ee=["ngOnDestroy"],re=(de,Se,Oe,Ne={})=>new Proxy(de,{get:(ze,be)=>Oe.runOutsideAngular(()=>{var Ye;if(de[be])return(null===(Ye=null==Ne?void 0:Ne.spy)||void 0===Ye?void 0:Ye.get)&&Ne.spy.get(be,de[be]),de[be];if(ee.indexOf(be)>-1)return()=>{};const Ue=Se.toPromise().then(it=>{const J=it&&it[be];return"function"==typeof J?J.bind(it):J&&J.then?J.then(fe=>Oe.run(()=>fe)):Oe.run(()=>J)});return new Proxy(()=>{},{get:(it,J)=>Ue[J],apply:(it,J,fe)=>Ue.then(pe=>{var _e;const Me=pe&&pe(...fe);return(null===(_e=null==Ne?void 0:Ne.spy)||void 0===_e?void 0:_e.apply)&&Ne.spy.apply(be,fe,Me),Me})})})}),me=(de,Se)=>{Se.forEach(Oe=>{Object.getOwnPropertyNames(Oe.prototype||Oe).forEach(Ne=>{Object.defineProperty(de.prototype,Ne,Object.getOwnPropertyDescriptor(Oe.prototype||Oe,Ne))})})};class se{constructor(Se){return Se}}const oe=new d.OlP("angularfire2.app.options"),ue=new d.OlP("angularfire2.app.name");function W(de,Se,Oe){const ze="object"==typeof Oe&&Oe||{};ze.name=ze.name||"string"==typeof Oe&&Oe||"[DEFAULT]";const Ye=j.Z.apps.filter(Ue=>Ue&&Ue.name===ze.name)[0]||Se.runOutsideAngular(()=>j.Z.initializeApp(de,ze));try{JSON.stringify(de)!==JSON.stringify(Ye.options)&&z("error",`${Ye.name} Firebase App already initialized with different options${Je.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Ue){}return new se(Ye)}const z=(de,...Se)=>{(0,d.X6Q)()&&"undefined"!=typeof console&&console[de](...Se)},X={provide:se,useFactory:W,deps:[oe,d.R0b,[new d.FiY,ue]]};let Fe=(()=>{class de{constructor(Oe){j.Z.registerVersion("angularfire",P.q4.full,"core"),j.Z.registerVersion("angularfire",P.q4.full,"app-compat"),j.Z.registerVersion("angular",d.q4F.full,Oe.toString())}static initializeApp(Oe,Ne){return{ngModule:de,providers:[{provide:oe,useValue:Oe},{provide:ue,useValue:Ne}]}}}return de.\u0275fac=function(Oe){return new(Oe||de)(d.LFG(d.Lbi))},de.\u0275mod=d.oAB({type:de}),de.\u0275inj=d.cJS({providers:[X]}),de})();function we(de,Se,Oe,Ne,ze){const[,be,Ye]=globalThis.\u0275AngularfireInstanceCache.find(Ue=>Ue[0]===de)||[];if(be)return function Ae(de,Se){try{return de.toString()===Se.toString()}catch(Oe){return de===Se}}(ze,Ye)||(ce("error",`${Se} was already initialized on the ${Oe} Firebase App with different settings.${Pe?" You may need to reload as Firebase is not HMR aware.":""}`),ce("warn",{is:ze,was:Ye})),be;{const Ue=Ne();return globalThis.\u0275AngularfireInstanceCache.push([de,Ue,ze]),Ue}}const Pe=!!Je.hot,ce=(de,...Se)=>{(0,d.X6Q)()&&"undefined"!=typeof console&&console[de](...Se)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(Je,ve,x)=>{x.d(ve,{q4:()=>pu,iC:()=>hs,HU:()=>_l,vb:()=>Yc,JM:()=>Kc,u3:()=>Aa});var d=x(5e3),j=x(5867),P=x(5861),ee=x(9681),re=x(2090),me=x(4859),se=x(1877);const oe="@firebase/installations",z="w:0.5.8",X="FIS_v2",de=new re.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Se(b){return b instanceof re.ZR&&b.code.includes("request-failed")}function Oe({projectId:b}){return`https://firebaseinstallations.googleapis.com/v1/projects/${b}/installations`}function Ne(b){return{token:b.token,requestStatus:2,expiresIn:fe(b.expiresIn),creationTime:Date.now()}}function ze(b,D){return be.apply(this,arguments)}function be(){return(be=(0,P.Z)(function*(b,D){const U=(yield D.json()).error;return de.create("request-failed",{requestName:b,serverCode:U.code,serverMessage:U.message,serverStatus:U.status})})).apply(this,arguments)}function Ye({apiKey:b}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":b})}function Ue(b,{refreshToken:D}){const M=Ye(b);return M.append("Authorization",function pe(b){return`${X} ${b}`}(D)),M}function it(b){return J.apply(this,arguments)}function J(){return(J=(0,P.Z)(function*(b){const D=yield b();return D.status>=500&&D.status<600?b():D})).apply(this,arguments)}function fe(b){return Number(b.replace("s","000"))}function _e(b,D){return Me.apply(this,arguments)}function Me(){return(Me=(0,P.Z)(function*({appConfig:b,heartbeatServiceProvider:D},{fid:M}){const U=Oe(b),K=Ye(b),te=D.getImmediate({optional:!0});if(te){const ft=yield te.getHeartbeatsHeader();ft&&K.append("x-firebase-client",ft)}const Ge={method:"POST",headers:K,body:JSON.stringify({fid:M,authVersion:X,appId:b.appId,sdkVersion:z})},dt=yield it(()=>fetch(U,Ge));if(dt.ok){const ft=yield dt.json();return{fid:ft.fid||M,registrationStatus:2,refreshToken:ft.refreshToken,authToken:Ne(ft.authToken)}}throw yield ze("Create Installation",dt)})).apply(this,arguments)}function ae(b){return new Promise(D=>{setTimeout(D,b)})}const Ut=/^[cdef][\w-]{21}$/;function Xe(){try{const b=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(b),b[0]=112+b[0]%16;const M=function st(b){return function gt(b){return btoa(String.fromCharCode(...b)).replace(/\+/g,"-").replace(/\//g,"_")}(b).substr(0,22)}(b);return Ut.test(M)?M:""}catch(b){return""}}function cn(b){return`${b.appName}!${b.appId}`}const Wt=new Map;function Rr(b,D){const M=cn(b);wr(M,D),function In(b,D){const M=function Gt(){return!Fn&&"BroadcastChannel"in self&&(Fn=new BroadcastChannel("[Firebase] FID Change"),Fn.onmessage=b=>{wr(b.data.key,b.data.fid)}),Fn}();M&&M.postMessage({key:b,fid:D}),function An(){0===Wt.size&&Fn&&(Fn.close(),Fn=null)}()}(M,D)}function wr(b,D){const M=Wt.get(b);if(M)for(const U of M)U(D)}let Fn=null;const Ln="firebase-installations-store";let Ie=null;function Vn(){return Ie||(Ie=(0,re.X3)("firebase-installations-database",1,(b,D)=>{0===D&&b.createObjectStore(Ln)})),Ie}function qe(b,D){return lr.apply(this,arguments)}function lr(){return(lr=(0,P.Z)(function*(b,D){const M=cn(b),K=(yield Vn()).transaction(Ln,"readwrite"),te=K.objectStore(Ln),De=yield te.get(M);return yield te.put(D,M),yield K.complete,(!De||De.fid!==D.fid)&&Rr(b,D.fid),D})).apply(this,arguments)}function zt(b){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,P.Z)(function*(b){const D=cn(b),U=(yield Vn()).transaction(Ln,"readwrite");yield U.objectStore(Ln).delete(D),yield U.complete})).apply(this,arguments)}function zn(b,D){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,P.Z)(function*(b,D){const M=cn(b),K=(yield Vn()).transaction(Ln,"readwrite"),te=K.objectStore(Ln),De=yield te.get(M),Ge=D(De);return void 0===Ge?yield te.delete(M):yield te.put(Ge,M),yield K.complete,Ge&&(!De||De.fid!==Ge.fid)&&Rr(b,Ge.fid),Ge})).apply(this,arguments)}function dn(b){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,P.Z)(function*(b){let D;const M=yield zn(b.appConfig,U=>{const K=Ir(U),te=Ts(b,K);return D=te.registrationPromise,te.installationEntry});return""===M.fid?{installationEntry:yield D}:{installationEntry:M,registrationPromise:D}})).apply(this,arguments)}function Ir(b){return rt(b||{fid:Xe(),registrationStatus:0})}function Ts(b,D){if(0===D.registrationStatus){if(!navigator.onLine)return{installationEntry:D,registrationPromise:Promise.reject(de.create("app-offline"))};const M={fid:D.fid,registrationStatus:1,registrationTime:Date.now()},U=function Ct(b,D){return Qe.apply(this,arguments)}(b,M);return{installationEntry:M,registrationPromise:U}}return 1===D.registrationStatus?{installationEntry:D,registrationPromise:et(b)}:{installationEntry:D}}function Qe(){return(Qe=(0,P.Z)(function*(b,D){try{const M=yield _e(b,D);return qe(b.appConfig,M)}catch(M){throw Se(M)&&409===M.customData.serverCode?yield zt(b.appConfig):yield qe(b.appConfig,{fid:D.fid,registrationStatus:0}),M}})).apply(this,arguments)}function et(b){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,P.Z)(function*(b){let D=yield ii(b.appConfig);for(;1===D.registrationStatus;)yield ae(100),D=yield ii(b.appConfig);if(0===D.registrationStatus){const{installationEntry:M,registrationPromise:U}=yield dn(b);return U||M}return D})).apply(this,arguments)}function ii(b){return zn(b,D=>{if(!D)throw de.create("installation-not-found");return rt(D)})}function rt(b){return function rn(b){return 1===b.registrationStatus&&b.registrationTime+1e4<Date.now()}(b)?{fid:b.fid,registrationStatus:0}:b}function Un(b,D){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,P.Z)(function*({appConfig:b,heartbeatServiceProvider:D},M){const U=tt(b,M),K=Ue(b,M),te=D.getImmediate({optional:!0});if(te){const ft=yield te.getHeartbeatsHeader();ft&&K.append("x-firebase-client",ft)}const Ge={method:"POST",headers:K,body:JSON.stringify({installation:{sdkVersion:z,appId:b.appId}})},dt=yield it(()=>fetch(U,Ge));if(dt.ok)return Ne(yield dt.json());throw yield ze("Generate Auth Token",dt)})).apply(this,arguments)}function tt(b,{fid:D}){return`${Oe(b)}/${D}/authTokens:generate`}function Qt(b){return wt.apply(this,arguments)}function wt(){return(wt=(0,P.Z)(function*(b,D=!1){let M;const U=yield zn(b.appConfig,te=>{if(!Rt(te))throw de.create("not-registered");const De=te.authToken;if(!D&&G(De))return te;if(1===De.requestStatus)return M=Ve(b,D),te;{if(!navigator.onLine)throw de.create("app-offline");const Ge=Z(te);return M=ot(b,Ge),Ge}});return M?yield M:U.authToken})).apply(this,arguments)}function Ve(b,D){return ye.apply(this,arguments)}function ye(){return(ye=(0,P.Z)(function*(b,D){let M=yield He(b.appConfig);for(;1===M.authToken.requestStatus;)yield ae(100),M=yield He(b.appConfig);const U=M.authToken;return 0===U.requestStatus?Qt(b,D):U})).apply(this,arguments)}function He(b){return zn(b,D=>{if(!Rt(D))throw de.create("not-registered");return function le(b){return 1===b.requestStatus&&b.requestTime+1e4<Date.now()}(D.authToken)?Object.assign(Object.assign({},D),{authToken:{requestStatus:0}}):D})}function ot(b,D){return At.apply(this,arguments)}function At(){return(At=(0,P.Z)(function*(b,D){try{const M=yield Un(b,D),U=Object.assign(Object.assign({},D),{authToken:M});return yield qe(b.appConfig,U),M}catch(M){if(!Se(M)||401!==M.customData.serverCode&&404!==M.customData.serverCode){const U=Object.assign(Object.assign({},D),{authToken:{requestStatus:0}});yield qe(b.appConfig,U)}else yield zt(b.appConfig);throw M}})).apply(this,arguments)}function Rt(b){return void 0!==b&&2===b.registrationStatus}function G(b){return 2===b.requestStatus&&!function B(b){const D=Date.now();return D<b.creationTime||b.creationTime+b.expiresIn<D+36e5}(b)}function Z(b){const D={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},b),{authToken:D})}function F(){return(F=(0,P.Z)(function*(b){const D=b,{installationEntry:M,registrationPromise:U}=yield dn(D);return U?U.catch(console.error):Qt(D).catch(console.error),M.fid})).apply(this,arguments)}function ie(){return(ie=(0,P.Z)(function*(b,D=!1){const M=b;return yield Re(M),(yield Qt(M,D)).token})).apply(this,arguments)}function Re(b){return Be.apply(this,arguments)}function Be(){return(Be=(0,P.Z)(function*(b){const{registrationPromise:D}=yield dn(b);D&&(yield D)})).apply(this,arguments)}function Pn(b){return de.create("missing-app-config-values",{valueName:b})}const Jo="installations",je=b=>{const D=b.getProvider("app").getImmediate(),M=function Gr(b){if(!b||!b.options)throw Pn("App Configuration");if(!b.name)throw Pn("App Name");const D=["projectId","apiKey","appId"];for(const M of D)if(!b.options[M])throw Pn(M);return{appName:b.name,projectId:b.options.projectId,apiKey:b.options.apiKey,appId:b.options.appId}}(D);return{app:D,appConfig:M,heartbeatServiceProvider:(0,ee._getProvider)(D,"heartbeat"),_delete:()=>Promise.resolve()}},Et=b=>{const D=b.getProvider("app").getImmediate(),M=(0,ee._getProvider)(D,Jo).getImmediate();return{getId:()=>function O(b){return F.apply(this,arguments)}(M),getToken:K=>function V(b){return ie.apply(this,arguments)}(M,K)}};(function jt(){(0,ee._registerComponent)(new me.wA(Jo,je,"PUBLIC")),(0,ee._registerComponent)(new me.wA("installations-internal",Et,"PRIVATE"))})(),(0,ee.registerVersion)(oe,"0.5.8"),(0,ee.registerVersion)(oe,"0.5.8","esm2017");const Tn="@firebase/remote-config",gn=new re.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class ta{constructor(D,M,U,K){this.client=D,this.storage=M,this.storageCache=U,this.logger=K}isCachedDataFresh(D,M){if(!M)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const U=Date.now()-M,K=U<=D;return this.logger.debug(`Config fetch cache check. Cache age millis: ${U}. Cache max age millis (minimumFetchIntervalMillis setting): ${D}. Is cache hit: ${K}.`),K}fetch(D){var M=this;return(0,P.Z)(function*(){const[U,K]=yield Promise.all([M.storage.getLastSuccessfulFetchTimestampMillis(),M.storage.getLastSuccessfulFetchResponse()]);if(K&&M.isCachedDataFresh(D.cacheMaxAgeMillis,U))return K;D.eTag=K&&K.eTag;const te=yield M.client.fetch(D),De=[M.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===te.status&&De.push(M.storage.setLastSuccessfulFetchResponse(te)),yield Promise.all(De),te})()}}function Ch(b=navigator){return b.languages&&b.languages[0]||b.language}class Pc{constructor(D,M,U,K,te,De){this.firebaseInstallations=D,this.sdkVersion=M,this.namespace=U,this.projectId=K,this.apiKey=te,this.appId=De}fetch(D){var M=this;return(0,P.Z)(function*(){const[U,K]=yield Promise.all([M.firebaseInstallations.getId(),M.firebaseInstallations.getToken()]),De=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${M.projectId}/namespaces/${M.namespace}:fetch?key=${M.apiKey}`,Ge={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":D.eTag||"*"},dt={sdk_version:M.sdkVersion,app_instance_id:U,app_instance_id_token:K,app_id:M.appId,language_code:Ch()},ft={method:"POST",headers:Ge,body:JSON.stringify(dt)},Tt=fetch(De,ft),yt=new Promise((Xr,ci)=>{D.signal.addEventListener(()=>{const Ys=new Error("The operation was aborted.");Ys.name="AbortError",ci(Ys)})});let xn;try{yield Promise.race([Tt,yt]),xn=yield Tt}catch(Xr){let ci="fetch-client-network";throw"AbortError"===Xr.name&&(ci="fetch-timeout"),gn.create(ci,{originalErrorMessage:Xr.message})}let en=xn.status;const ui=xn.headers.get("ETag")||void 0;let yr,bi;if(200===xn.status){let Xr;try{Xr=yield xn.json()}catch(ci){throw gn.create("fetch-client-parse",{originalErrorMessage:ci.message})}yr=Xr.entries,bi=Xr.state}if("INSTANCE_STATE_UNSPECIFIED"===bi?en=500:"NO_CHANGE"===bi?en=304:("NO_TEMPLATE"===bi||"EMPTY_CONFIG"===bi)&&(yr={}),304!==en&&200!==en)throw gn.create("fetch-status",{httpStatus:en});return{status:en,eTag:ui,config:yr}})()}}class Oc{constructor(D,M){this.client=D,this.storage=M}fetch(D){var M=this;return(0,P.Z)(function*(){const U=(yield M.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return M.attemptFetch(D,U)})()}attemptFetch(D,{throttleEndTimeMillis:M,backoffCount:U}){var K=this;return(0,P.Z)(function*(){yield function Yr(b,D){return new Promise((M,U)=>{const K=Math.max(D-Date.now(),0),te=setTimeout(M,K);b.addEventListener(()=>{clearTimeout(te),U(gn.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}(D.signal,M);try{const te=yield K.client.fetch(D);return yield K.storage.deleteThrottleMetadata(),te}catch(te){if(!function po(b){if(!(b instanceof re.ZR&&b.customData))return!1;const D=Number(b.customData.httpStatus);return 429===D||500===D||503===D||504===D}(te))throw te;const De={throttleEndTimeMillis:Date.now()+(0,re.$s)(U),backoffCount:U+1};return yield K.storage.setThrottleMetadata(De),K.attemptFetch(D,De)}})()}}class Ql{constructor(D,M,U,K,te){this.app=D,this._client=M,this._storageCache=U,this._storage=K,this._logger=te,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ja(b,D){const M=b.target.error||void 0;return gn.create(D,{originalErrorMessage:M&&M.message})}const Si="app_namespace_store";class Xl{constructor(D,M,U,K=function Xa(){return new Promise((b,D)=>{try{const M=indexedDB.open("firebase_remote_config",1);M.onerror=U=>{D(Ja(U,"storage-open"))},M.onsuccess=U=>{b(U.target.result)},M.onupgradeneeded=U=>{0===U.oldVersion&&U.target.result.createObjectStore(Si,{keyPath:"compositeKey"})}}catch(M){D(gn.create("storage-open",{originalErrorMessage:M}))}})}()){this.appId=D,this.appName=M,this.namespace=U,this.openDbPromise=K}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(D){return this.set("last_fetch_status",D)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(D){return this.set("last_successful_fetch_timestamp_millis",D)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(D){return this.set("last_successful_fetch_response",D)}getActiveConfig(){return this.get("active_config")}setActiveConfig(D){return this.set("active_config",D)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(D){return this.set("active_config_etag",D)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(D){return this.set("throttle_metadata",D)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(D){var M=this;return(0,P.Z)(function*(){const U=yield M.openDbPromise;return new Promise((K,te)=>{const Ge=U.transaction([Si],"readonly").objectStore(Si),dt=M.createCompositeKey(D);try{const ft=Ge.get(dt);ft.onerror=Tt=>{te(Ja(Tt,"storage-get"))},ft.onsuccess=Tt=>{const yt=Tt.target.result;K(yt?yt.value:void 0)}}catch(ft){te(gn.create("storage-get",{originalErrorMessage:ft&&ft.message}))}})})()}set(D,M){var U=this;return(0,P.Z)(function*(){const K=yield U.openDbPromise;return new Promise((te,De)=>{const dt=K.transaction([Si],"readwrite").objectStore(Si),ft=U.createCompositeKey(D);try{const Tt=dt.put({compositeKey:ft,value:M});Tt.onerror=yt=>{De(Ja(yt,"storage-set"))},Tt.onsuccess=()=>{te()}}catch(Tt){De(gn.create("storage-set",{originalErrorMessage:Tt&&Tt.message}))}})})()}delete(D){var M=this;return(0,P.Z)(function*(){const U=yield M.openDbPromise;return new Promise((K,te)=>{const Ge=U.transaction([Si],"readwrite").objectStore(Si),dt=M.createCompositeKey(D);try{const ft=Ge.delete(dt);ft.onerror=Tt=>{te(Ja(Tt,"storage-delete"))},ft.onsuccess=()=>{K()}}catch(ft){te(gn.create("storage-delete",{originalErrorMessage:ft&&ft.message}))}})})()}createCompositeKey(D){return[this.appId,this.appName,this.namespace,D].join()}}class bh{constructor(D){this.storage=D}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var D=this;return(0,P.Z)(function*(){const M=D.storage.getLastFetchStatus(),U=D.storage.getLastSuccessfulFetchTimestampMillis(),K=D.storage.getActiveConfig(),te=yield M;te&&(D.lastFetchStatus=te);const De=yield U;De&&(D.lastSuccessfulFetchTimestampMillis=De);const Ge=yield K;Ge&&(D.activeConfig=Ge)})()}setLastFetchStatus(D){return this.lastFetchStatus=D,this.storage.setLastFetchStatus(D)}setLastSuccessfulFetchTimestampMillis(D){return this.lastSuccessfulFetchTimestampMillis=D,this.storage.setLastSuccessfulFetchTimestampMillis(D)}setActiveConfig(D){return this.activeConfig=D,this.storage.setActiveConfig(D)}}function el(){return na.apply(this,arguments)}function na(){return(na=(0,P.Z)(function*(){if(!(0,re.hl)())return!1;try{return yield(0,re.eu)()}catch(b){return!1}})).apply(this,arguments)}!function eu(){(0,ee._registerComponent)(new me.wA("remote-config",function b(D,{instanceIdentifier:M}){const U=D.getProvider("app").getImmediate(),K=D.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw gn.create("registration-window");if(!(0,re.hl)())throw gn.create("indexed-db-unavailable");const{projectId:te,apiKey:De,appId:Ge}=U.options;if(!te)throw gn.create("registration-project-id");if(!De)throw gn.create("registration-api-key");if(!Ge)throw gn.create("registration-app-id");const dt=new Xl(Ge,U.name,M=M||"firebase"),ft=new bh(dt),Tt=new se.Yd(Tn);Tt.logLevel=se.in.ERROR;const yt=new Pc(K,ee.SDK_VERSION,M,te,De,Ge),xn=new Oc(yt,dt),en=new ta(xn,dt,ft,Tt),ui=new Ql(U,en,ft,dt,Tt);return function xr(b){const D=(0,re.m9)(b);D._initializePromise||(D._initializePromise=D._storageCache.loadFromStorage().then(()=>{D._isInitializationComplete=!0}))}(ui),ui},"PUBLIC").setMultipleInstances(!0)),(0,ee.registerVersion)(Tn,"0.3.7"),(0,ee.registerVersion)(Tn,"0.3.7","esm2017")}();const Nc="/firebase-messaging-sw.js",tu="/firebase-cloud-messaging-push-scope",Mi="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ms="google.c.a.c_id",Rs="google.c.a.c_l",go="google.c.a.ts",Ri="google.c.a.e";var Pi=(()=>{return(b=Pi||(Pi={})).PUSH_RECEIVED="push-received",b.NOTIFICATION_CLICKED="notification-clicked",Pi;var b})();function Zn(b){const D=new Uint8Array(b);return btoa(String.fromCharCode(...D)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function nl(b){const M=(b+"=".repeat((4-b.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),U=atob(M),K=new Uint8Array(U.length);for(let te=0;te<U.length;++te)K[te]=U.charCodeAt(te);return K}const mo="fcm_token_details_db",_o="fcm_token_object_Store";function kc(b){return Ps.apply(this,arguments)}function Ps(){return Ps=(0,P.Z)(function*(b){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(te=>te.name).includes(mo))return null;let D=null;return(yield(0,re.X3)(mo,5,function(){var U=(0,P.Z)(function*(K,te,De,Ge){var dt;if(te<2||!K.objectStoreNames.contains(_o))return;const ft=Ge.objectStore(_o),Tt=yield ft.index("fcmSenderId").get(b);if(yield ft.clear(),Tt)if(2===te){const yt=Tt;if(!yt.auth||!yt.p256dh||!yt.endpoint)return;D={token:yt.fcmToken,createTime:null!==(dt=yt.createTime)&&void 0!==dt?dt:Date.now(),subscriptionOptions:{auth:yt.auth,p256dh:yt.p256dh,endpoint:yt.endpoint,swScope:yt.swScope,vapidKey:"string"==typeof yt.vapidKey?yt.vapidKey:Zn(yt.vapidKey)}}}else if(3===te){const yt=Tt;D={token:yt.fcmToken,createTime:yt.createTime,subscriptionOptions:{auth:Zn(yt.auth),p256dh:Zn(yt.p256dh),endpoint:yt.endpoint,swScope:yt.swScope,vapidKey:Zn(yt.vapidKey)}}}else if(4===te){const yt=Tt;D={token:yt.fcmToken,createTime:yt.createTime,subscriptionOptions:{auth:Zn(yt.auth),p256dh:Zn(yt.p256dh),endpoint:yt.endpoint,swScope:yt.swScope,vapidKey:Zn(yt.vapidKey)}}}});return function(K,te,De,Ge){return U.apply(this,arguments)}}())).close(),yield(0,re.Lj)(mo),yield(0,re.Lj)("fcm_vapid_details_db"),yield(0,re.Lj)("undefined"),wh(D)?D:null}),Ps.apply(this,arguments)}function wh(b){if(!b||!b.subscriptionOptions)return!1;const{subscriptionOptions:D}=b;return"number"==typeof b.createTime&&b.createTime>0&&"string"==typeof b.token&&b.token.length>0&&"string"==typeof D.auth&&D.auth.length>0&&"string"==typeof D.p256dh&&D.p256dh.length>0&&"string"==typeof D.endpoint&&D.endpoint.length>0&&"string"==typeof D.swScope&&D.swScope.length>0&&"string"==typeof D.vapidKey&&D.vapidKey.length>0}const Pt="firebase-messaging-store";let ra=null;function ru(){return ra||(ra=(0,re.X3)("firebase-messaging-database",1,(b,D)=>{0===D&&b.createObjectStore(Pt)})),ra}function on(b){return iu.apply(this,arguments)}function iu(){return(iu=(0,P.Z)(function*(b){const D=yo(b),U=yield(yield ru()).transaction(Pt).objectStore(Pt).get(D);if(U)return U;{const K=yield kc(b.appConfig.senderId);if(K)return yield Os(b,K),K}})).apply(this,arguments)}function Os(b,D){return qn.apply(this,arguments)}function qn(){return(qn=(0,P.Z)(function*(b,D){const M=yo(b),K=(yield ru()).transaction(Pt,"readwrite");return yield K.objectStore(Pt).put(D,M),yield K.complete,D})).apply(this,arguments)}function tr(b){return oi.apply(this,arguments)}function oi(){return(oi=(0,P.Z)(function*(b){const D=yo(b),U=(yield ru()).transaction(Pt,"readwrite");yield U.objectStore(Pt).delete(D),yield U.complete})).apply(this,arguments)}function yo({appConfig:b}){return b.appId}const Ht=new re.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function su(b,D){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,P.Z)(function*(b,D){const M=yield nr(b),U=ia(D),K={method:"POST",headers:M,body:JSON.stringify(U)};let te;try{te=yield(yield fetch(lt(b.appConfig),K)).json()}catch(De){throw Ht.create("token-subscribe-failed",{errorInfo:De})}if(te.error)throw Ht.create("token-subscribe-failed",{errorInfo:te.error.message});if(!te.token)throw Ht.create("token-subscribe-no-token");return te.token})).apply(this,arguments)}function Fc(b,D){return cr.apply(this,arguments)}function cr(){return(cr=(0,P.Z)(function*(b,D){const M=yield nr(b),U=ia(D.subscriptionOptions),K={method:"PATCH",headers:M,body:JSON.stringify(U)};let te;try{te=yield(yield fetch(`${lt(b.appConfig)}/${D.token}`,K)).json()}catch(De){throw Ht.create("token-update-failed",{errorInfo:De})}if(te.error)throw Ht.create("token-update-failed",{errorInfo:te.error.message});if(!te.token)throw Ht.create("token-update-no-token");return te.token})).apply(this,arguments)}function xs(b,D){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,P.Z)(function*(b,D){const U={method:"DELETE",headers:yield nr(b)};try{const te=yield(yield fetch(`${lt(b.appConfig)}/${D}`,U)).json();if(te.error)throw Ht.create("token-unsubscribe-failed",{errorInfo:te.error.message})}catch(K){throw Ht.create("token-unsubscribe-failed",{errorInfo:K})}})).apply(this,arguments)}function lt({projectId:b}){return`https://fcmregistrations.googleapis.com/v1/projects/${b}/registrations`}function nr(b){return vo.apply(this,arguments)}function vo(){return(vo=(0,P.Z)(function*({appConfig:b,installations:D}){const M=yield D.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":b.apiKey,"x-goog-firebase-installations-auth":`FIS ${M}`})})).apply(this,arguments)}function ia({p256dh:b,auth:D,endpoint:M,vapidKey:U}){const K={web:{endpoint:M,auth:D,p256dh:b}};return U!==Mi&&(K.web.applicationPubKey=U),K}const Co=6048e5;function Ns(b){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,P.Z)(function*(b){const D=yield Fs(b.swRegistration,b.vapidKey),M={vapidKey:b.vapidKey,swScope:b.swRegistration.scope,endpoint:D.endpoint,auth:Zn(D.getKey("auth")),p256dh:Zn(D.getKey("p256dh"))},U=yield on(b.firebaseDependencies);if(U){if(es(U.subscriptionOptions,M))return Date.now()>=U.createTime+Co?St(b,{token:U.token,createTime:Date.now(),subscriptionOptions:M}):U.token;try{yield xs(b.firebaseDependencies,U.token)}catch(K){console.warn(K)}return hn(b.firebaseDependencies,M)}return hn(b.firebaseDependencies,M)})).apply(this,arguments)}function il(b){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,P.Z)(function*(b){const D=yield on(b.firebaseDependencies);D&&(yield xs(b.firebaseDependencies,D.token),yield tr(b.firebaseDependencies));const M=yield b.swRegistration.pushManager.getSubscription();return!M||M.unsubscribe()})).apply(this,arguments)}function St(b,D){return ks.apply(this,arguments)}function ks(){return(ks=(0,P.Z)(function*(b,D){try{const M=yield Fc(b.firebaseDependencies,D),U=Object.assign(Object.assign({},D),{token:M,createTime:Date.now()});return yield Os(b.firebaseDependencies,U),M}catch(M){throw yield il(b),M}})).apply(this,arguments)}function hn(b,D){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,P.Z)(function*(b,D){const U={token:yield su(b,D),createTime:Date.now(),subscriptionOptions:D};return yield Os(b,U),U.token})).apply(this,arguments)}function Fs(b,D){return gr.apply(this,arguments)}function gr(){return(gr=(0,P.Z)(function*(b,D){return(yield b.pushManager.getSubscription())||b.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:nl(D)})})).apply(this,arguments)}function es(b,D){return D.vapidKey===b.vapidKey&&D.endpoint===b.endpoint&&D.auth===b.auth&&D.p256dh===b.p256dh}function bo(b){const D={from:b.from,collapseKey:b.collapse_key,messageId:b.fcmMessageId};return function sl(b,D){if(!D.notification)return;b.notification={};const M=D.notification.title;M&&(b.notification.title=M);const U=D.notification.body;U&&(b.notification.body=U);const K=D.notification.image;K&&(b.notification.image=K)}(D,b),function sa(b,D){!D.data||(b.data=D.data)}(D,b),function Ls(b,D){if(!D.fcmOptions)return;b.fcmOptions={};const M=D.fcmOptions.link;M&&(b.fcmOptions.link=M);const U=D.fcmOptions.analytics_label;U&&(b.fcmOptions.analyticsLabel=U)}(D,b),D}function wo(b){return"object"==typeof b&&!!b&&Ms in b}function jn(b,D){const M=[];for(let U=0;U<b.length;U++)M.push(b.charAt(U)),U<D.length&&M.push(D.charAt(U));return M.join("")}function Vs(b){return Ht.create("missing-app-config-values",{valueName:b})}jn("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),jn("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class ts{constructor(D,M,U){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const K=function ai(b){if(!b||!b.options)throw Vs("App Configuration Object");if(!b.name)throw Vs("App Name");const D=["projectId","apiKey","appId","messagingSenderId"],{options:M}=b;for(const U of D)if(!M[U])throw Vs(U);return{appName:b.name,projectId:M.projectId,apiKey:M.apiKey,appId:M.appId,senderId:M.messagingSenderId}}(D);this.firebaseDependencies={app:D,appConfig:K,installations:M,analyticsProvider:U}}_delete(){return Promise.resolve()}}function kr(b){return ol.apply(this,arguments)}function ol(){return(ol=(0,P.Z)(function*(b){try{b.swRegistration=yield navigator.serviceWorker.register(Nc,{scope:tu}),b.swRegistration.update().catch(()=>{})}catch(D){throw Ht.create("failed-service-worker-registration",{browserErrorMessage:D.message})}})).apply(this,arguments)}function oa(b,D){return Us.apply(this,arguments)}function Us(){return(Us=(0,P.Z)(function*(b,D){if(!D&&!b.swRegistration&&(yield kr(b)),D||!b.swRegistration){if(!(D instanceof ServiceWorkerRegistration))throw Ht.create("invalid-sw-registration");b.swRegistration=D}})).apply(this,arguments)}function al(b,D){return xi.apply(this,arguments)}function xi(){return(xi=(0,P.Z)(function*(b,D){D?b.vapidKey=D:b.vapidKey||(b.vapidKey=Mi)})).apply(this,arguments)}function Bs(){return(Bs=(0,P.Z)(function*(b,D){if(!navigator)throw Ht.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Ht.create("permission-blocked");return yield al(b,null==D?void 0:D.vapidKey),yield oa(b,null==D?void 0:D.serviceWorkerRegistration),Ns(b)})).apply(this,arguments)}function ll(b,D,M){return Do.apply(this,arguments)}function Do(){return(Do=(0,P.Z)(function*(b,D,M){const U=Lc(D);(yield b.firebaseDependencies.analyticsProvider.get()).logEvent(U,{message_id:M[Ms],message_name:M[Rs],message_time:M[go],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Lc(b){switch(b){case Pi.NOTIFICATION_CLICKED:return"notification_open";case Pi.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function la(){return(la=(0,P.Z)(function*(b,D){const M=D.data;if(!M.isFirebaseMessaging)return;b.onMessageHandler&&M.messageType===Pi.PUSH_RECEIVED&&("function"==typeof b.onMessageHandler?b.onMessageHandler(bo(M)):b.onMessageHandler.next(bo(M)));const U=M.data;wo(U)&&"1"===U[Ri]&&(yield ll(b,M.messageType,U))})).apply(this,arguments)}const ua="@firebase/messaging",ca=b=>{const D=new ts(b.getProvider("app").getImmediate(),b.getProvider("installations-internal").getImmediate(),b.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",M=>function js(b,D){return la.apply(this,arguments)}(D,M)),D},da=b=>{const D=b.getProvider("messaging").getImmediate();return{getToken:U=>function aa(b,D){return Bs.apply(this,arguments)}(D,U)}};function Vc(){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,P.Z)(function*(){try{yield(0,re.eu)()}catch(b){return!1}return"undefined"!=typeof window&&(0,re.hl)()&&(0,re.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function ou(){(0,ee._registerComponent)(new me.wA("messaging",ca,"PUBLIC")),(0,ee._registerComponent)(new me.wA("messaging-internal",da,"PRIVATE")),(0,ee.registerVersion)(ua,"0.9.12"),(0,ee.registerVersion)(ua,"0.9.12","esm2017")}();const ns="analytics",Io="firebase_id",Hc="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",cl="https://www.googletagmanager.com/gtag/js",_n=new se.Yd("@firebase/analytics");function rs(b){return Promise.all(b.map(D=>D.catch(M=>M)))}function Dh(b,D){const M=document.createElement("script");M.src=`${cl}?l=${b}&id=${D}`,M.async=!0,document.head.appendChild(M)}function To(b,D,M,U,K,te){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,P.Z)(function*(b,D,M,U,K,te){const De=U[K];try{if(De)yield D[De];else{const dt=(yield rs(M)).find(ft=>ft.measurementId===K);dt&&(yield D[dt.appId])}}catch(Ge){_n.error(Ge)}b("config",K,te)})).apply(this,arguments)}function Th(b,D,M,U,K){return is.apply(this,arguments)}function is(){return(is=(0,P.Z)(function*(b,D,M,U,K){try{let te=[];if(K&&K.send_to){let De=K.send_to;Array.isArray(De)||(De=[De]);const Ge=yield rs(M);for(const dt of De){const ft=Ge.find(yt=>yt.measurementId===dt),Tt=ft&&D[ft.appId];if(!Tt){te=[];break}te.push(Tt)}}0===te.length&&(te=Object.values(D)),yield Promise.all(te),b("event",U,K||{})}catch(te){_n.error(te)}})).apply(this,arguments)}function dl(){const b=window.document.getElementsByTagName("script");for(const D of Object.values(b))if(D.src&&D.src.includes(cl))return D;return null}const Jt=new re.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),$s=new class Wc{constructor(D={},M=1e3){this.throttleMetadata=D,this.intervalMillis=M}getThrottleMetadata(D){return this.throttleMetadata[D]}setThrottleMetadata(D,M){this.throttleMetadata[D]=M}deleteThrottleMetadata(D){delete this.throttleMetadata[D]}};function Gc(b){return new Headers({Accept:"application/json","x-goog-api-key":b})}function Ao(b){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,P.Z)(function*(b){var D;const{appId:M,apiKey:U}=b,K={method:"GET",headers:Gc(U)},te=Hc.replace("{app-id}",M),De=yield fetch(te,K);if(200!==De.status&&304!==De.status){let Ge="";try{const dt=yield De.json();(null===(D=dt.error)||void 0===D?void 0:D.message)&&(Ge=dt.error.message)}catch(dt){}throw Jt.create("config-fetch-failed",{httpStatus:De.status,responseMessage:Ge})}return De.json()})).apply(this,arguments)}function Ci(b){return $n.apply(this,arguments)}function $n(){return($n=(0,P.Z)(function*(b,D=$s,M){const{appId:U,apiKey:K,measurementId:te}=b.options;if(!U)throw Jt.create("no-app-id");if(!K){if(te)return{measurementId:te,appId:U};throw Jt.create("no-api-key")}const De=D.getThrottleMetadata(U)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ge=new Gs;return setTimeout((0,P.Z)(function*(){Ge.abort()}),void 0!==M?M:6e4),pt({appId:U,apiKey:K,measurementId:te},De,Ge,D)})).apply(this,arguments)}function pt(b,D,M){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,P.Z)(function*(b,{throttleEndTimeMillis:D,backoffCount:M},U,K=$s){const{appId:te,measurementId:De}=b;try{yield zc(U,D)}catch(Ge){if(De)return _n.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${De} provided in the "measurementId" field in the local Firebase config. [${Ge.message}]`),{appId:te,measurementId:De};throw Ge}try{const Ge=yield Ao(b);return K.deleteThrottleMetadata(te),Ge}catch(Ge){if(!au(Ge)){if(K.deleteThrottleMetadata(te),De)return _n.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${De} provided in the "measurementId" field in the local Firebase config. [${Ge.message}]`),{appId:te,measurementId:De};throw Ge}const dt=503===Number(Ge.customData.httpStatus)?(0,re.$s)(M,K.intervalMillis,30):(0,re.$s)(M,K.intervalMillis),ft={throttleEndTimeMillis:Date.now()+dt,backoffCount:M+1};return K.setThrottleMetadata(te,ft),_n.debug(`Calling attemptFetch again in ${dt} millis`),pt(b,ft,U,K)}})).apply(this,arguments)}function zc(b,D){return new Promise((M,U)=>{const K=Math.max(D-Date.now(),0),te=setTimeout(M,K);b.addEventListener(()=>{clearTimeout(te),U(Jt.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}function au(b){if(!(b instanceof re.ZR&&b.customData))return!1;const D=Number(b.customData.httpStatus);return 429===D||500===D||503===D||504===D}class Gs{constructor(){this.listeners=[]}addEventListener(D){this.listeners.push(D)}abort(){this.listeners.forEach(D=>D())}}function hl(){return ki.apply(this,arguments)}function ki(){return(ki=(0,P.Z)(function*(){if(!(0,re.hl)())return _n.warn(Jt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,re.eu)()}catch(b){return _n.warn(Jt.create("indexeddb-unavailable",{errorInfo:b}).message),!1}return!0})).apply(this,arguments)}function mr(){return(mr=(0,P.Z)(function*(b,D,M,U,K,te,De){var Ge;const dt=Ci(b);dt.then(en=>{M[en.measurementId]=en.appId,b.options.measurementId&&en.measurementId!==b.options.measurementId&&_n.warn(`The measurement ID in the local Firebase config (${b.options.measurementId}) does not match the measurement ID fetched from the server (${en.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(en=>_n.error(en)),D.push(dt);const ft=hl().then(en=>{if(en)return U.getId()}),[Tt,yt]=yield Promise.all([dt,ft]);dl()||Dh(te,Tt.measurementId),K("js",new Date);const xn=null!==(Ge=null==De?void 0:De.config)&&void 0!==Ge?Ge:{};return xn.origin="firebase",xn.update=!0,null!=yt&&(xn[Io]=yt),K("config",Tt.measurementId,xn),Tt.measurementId})).apply(this,arguments)}class _a{constructor(D){this.app=D}_delete(){return delete Lr[this.app.options.appId],Promise.resolve()}}let Lr={},fl=[];const pl={};let li,Fi,So="dataLayer",yn=!1;function Vr(b,D,M){!function lu(){const b=[];if((0,re.ru)()&&b.push("This is a browser extension environment."),(0,re.zI)()||b.push("Cookies are not available."),b.length>0){const D=b.map((U,K)=>`(${K+1}) ${U}`).join(" "),M=Jt.create("invalid-analytics-context",{errorInfo:D});_n.warn(M.message)}}();const U=b.options.appId;if(!U)throw Jt.create("no-app-id");if(!b.options.apiKey){if(!b.options.measurementId)throw Jt.create("no-api-key");_n.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${b.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Lr[U])throw Jt.create("already-exists",{id:U});if(!yn){!function Ih(b){let D=[];Array.isArray(window[b])?D=window[b]:window[b]=D}(So);const{wrappedGtag:te,gtagCore:De}=function Sh(b,D,M,U,K){let te=function(...De){window[U].push(arguments)};return window[K]&&"function"==typeof window[K]&&(te=window[K]),window[K]=function Ah(b,D,M,U){function te(){return(te=(0,P.Z)(function*(De,Ge,dt){try{"event"===De?yield Th(b,D,M,Ge,dt):"config"===De?yield To(b,D,M,U,Ge,dt):b("set",Ge)}catch(ft){_n.error(ft)}})).apply(this,arguments)}return function K(De,Ge,dt){return te.apply(this,arguments)}}(te,b,D,M),{gtagCore:te,wrappedGtag:window[K]}}(Lr,fl,pl,So,"gtag");Fi=te,li=De,yn=!0}return Lr[U]=function Fr(b,D,M,U,K,te,De){return mr.apply(this,arguments)}(b,fl,pl,D,li,So,M),new _a(b)}function En(){return(En=(0,P.Z)(function*(b,D,M,U,K){if(K&&K.global)b("event",M,U);else{const te=yield D;b("event",M,Object.assign(Object.assign({},U),{send_to:te}))}})).apply(this,arguments)}function Xt(){return zs.apply(this,arguments)}function zs(){return(zs=(0,P.Z)(function*(){if((0,re.ru)()||!(0,re.zI)()||!(0,re.hl)())return!1;try{return yield(0,re.eu)()}catch(b){return!1}})).apply(this,arguments)}const Ca="@firebase/analytics";!function Zc(){(0,ee._registerComponent)(new me.wA(ns,(D,{options:M})=>Vr(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),M),"PUBLIC")),(0,ee._registerComponent)(new me.wA("analytics-internal",function b(D){try{const M=D.getProvider(ns).getImmediate();return{logEvent:(U,K,te)=>function hu(b,D,M,U){b=(0,re.m9)(b),function os(b,D,M,U,K){return En.apply(this,arguments)}(Fi,Lr[b.app.options.appId],D,M,U).catch(K=>_n.error(K))}(M,U,K,te)}}catch(M){throw Jt.create("interop-component-reg-failed",{reason:M})}},"PRIVATE")),(0,ee.registerVersion)(Ca,"0.7.8"),(0,ee.registerVersion)(Ca,"0.7.8","esm2017")}();var Mn=x(4408),us=x(7565);const fu=new class qc extends us.v{}(class Ro extends Mn.o{constructor(D,M){super(D,M),this.scheduler=D,this.work=M}schedule(D,M=0){return M>0?super.schedule(D,M):(this.delay=M,this.state=D,this.scheduler.flush(this),this)}execute(D,M){return M>0||this.closed?super.execute(D,M):this._execute(D,M)}requestAsyncId(D,M,U=0){return null!=U&&U>0||null==U&&this.delay>0?super.requestAsyncId(D,M,U):D.flush(this)}});var an=x(4986),Ea=x(8306),ba=x(8505),Zs=x(9468),wa=x(5363);const pu=new d.GfV("7.3.0"),Bi="__angularfire_symbol__analyticsIsSupportedValue",Po="__angularfire_symbol__analyticsIsSupported",gu="__angularfire_symbol__remoteConfigIsSupportedValue",qs="__angularfire_symbol__remoteConfigIsSupported",ir="__angularfire_symbol__messagingIsSupportedValue",Da="__angularfire_symbol__messagingIsSupported";function Kc(b,D,M){if(D){if(1===D.length)return D[0];const te=D.filter(De=>De.app===M);if(1===te.length)return te[0]}return M.container.getProvider(b).getImmediate({optional:!0})}globalThis[Po]||(globalThis[Po]=Xt().then(b=>globalThis[Bi]=b).catch(()=>globalThis[Bi]=!1)),globalThis[Da]||(globalThis[Da]=Vc().then(b=>globalThis[ir]=b).catch(()=>globalThis[ir]=!1)),globalThis[qs]||(globalThis[qs]=el().then(b=>globalThis[gu]=b).catch(()=>globalThis[gu]=!1));const Yc=(b,D)=>{const M=D?[D]:(0,j.C6)(),U=[];return M.forEach(K=>{K.container.getProvider(b).instances.forEach(De=>{U.includes(De)||U.push(De)})}),U};function ds(){}class mu{constructor(D,M=fu){this.zone=D,this.delegate=M}now(){return this.delegate.now()}schedule(D,M,U){const K=this.zone;return this.delegate.schedule(function(De){K.runGuarded(()=>{D.apply(this,[De])})},M,U)}}class Ia{constructor(D){this.zone=D,this.task=null}call(D,M){const U=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ds,{},ds,ds)),M.pipe((0,ba.b)({next:U,complete:U,error:U})).subscribe(D).add(U)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let _l=(()=>{class b{constructor(M){this.ngZone=M,this.outsideAngular=M.runOutsideAngular(()=>new mu(Zone.current)),this.insideAngular=M.run(()=>new mu(Zone.current,an.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return b.\u0275fac=function(M){return new(M||b)(d.LFG(d.R0b))},b.\u0275prov=d.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),b})();function _r(){const b=globalThis.\u0275AngularFireScheduler;if(!b)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return b}function Ta(b){return _r().ngZone.runOutsideAngular(()=>b())}function dr(b){return _r().ngZone.run(()=>b())}function hs(b){return _r(),function Ks(b){return function(M){return(M=M.lift(new Ia(b.ngZone))).pipe((0,Zs.R)(b.outsideAngular),(0,wa.Q)(b.insideAngular))}}(_r())(b)}const Qc=(b,D)=>function(){const U=arguments;return D&&setTimeout(()=>{"scheduled"===D.state&&D.invoke()},10),dr(()=>b.apply(void 0,U))},Aa=(b,D)=>function(){let M;const U=arguments;for(let te=0;te<arguments.length;te++)"function"==typeof U[te]&&(D&&(M||(M=dr(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ds,{},ds,ds)))),U[te]=Qc(U[te],M));const K=Ta(()=>b.apply(this,U));if(!D){if(K instanceof Ea.y){const te=_r();return K.pipe((0,Zs.R)(te.outsideAngular),(0,wa.Q)(te.insideAngular))}return dr(()=>K)}return K instanceof Ea.y?K.pipe(hs):K instanceof Promise?dr(()=>new Promise((te,De)=>K.then(Ge=>dr(()=>te(Ge)),Ge=>dr(()=>De(Ge))))):"function"==typeof K&&M?function(){return setTimeout(()=>{M&&"scheduled"===M.state&&M.invoke()},10),K.apply(this,arguments)}:dr(()=>K)}},9414:(Je,ve,x)=>{x.d(ve,{$:()=>aa,A:()=>st,E:()=>Kr,G:()=>po,I:()=>Zn,K:()=>Or,L:()=>Os,M:()=>yo,N:()=>Ji,P:()=>b,Q:()=>Ht,R:()=>ds,T:()=>oi,U:()=>cr,V:()=>xs,W:()=>ia,X:()=>sa,Y:()=>wo,Z:()=>ai,_:()=>ol,a:()=>yn,a0:()=>ll,a1:()=>Lc,a2:()=>la,a3:()=>ul,a4:()=>da,a5:()=>Vc,a6:()=>Kn,a7:()=>mn,a8:()=>Uc,a9:()=>Wp,aA:()=>xh,aB:()=>No,aC:()=>Sn,aG:()=>Vr,aJ:()=>Nr,aa:()=>ns,ab:()=>pa,ae:()=>_n,af:()=>Dh,ag:()=>Ih,aj:()=>Ee,ak:()=>ma,am:()=>zc,an:()=>mr,ao:()=>xr,ap:()=>qe,aq:()=>zr,ar:()=>si,as:()=>Gt,at:()=>Tu,au:()=>ed,av:()=>An,aw:()=>Ie,ax:()=>zt,ay:()=>qt,az:()=>wu,b:()=>li,c:()=>ft,d:()=>en,e:()=>yt,f:()=>zp,g:()=>Zp,h:()=>Oh,i:()=>us,j:()=>Js,k:()=>Au,l:()=>Ta,m:()=>Uh,o:()=>Ut,r:()=>Oo,s:()=>_l,u:()=>Qc,z:()=>Rr});var d=x(5861),j=x(2090),P=x(9681);function se(m,h){var p={};for(var y in m)Object.prototype.hasOwnProperty.call(m,y)&&h.indexOf(y)<0&&(p[y]=m[y]);if(null!=m&&"function"==typeof Object.getOwnPropertySymbols){var T=0;for(y=Object.getOwnPropertySymbols(m);T<y.length;T++)h.indexOf(y[T])<0&&Object.prototype.propertyIsEnumerable.call(m,y[T])&&(p[y[T]]=m[y[T]])}return p}var Me=x(1877),ae=x(4859);const Ut={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},st={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Rr=function cn(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Vt=function Wt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},or=new j.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),In=new Me.Yd("@firebase/auth");function Fn(m,...h){In.logLevel<=Me.in.ERROR&&In.error(`Auth (${P.SDK_VERSION}): ${m}`,...h)}function Gt(m,...h){throw Ln(m,...h)}function An(m,...h){return Ln(m,...h)}function yi(m,h,p){const y=Object.assign(Object.assign({},Vt()),{[h]:p});return new j.LL("auth","Firebase",y).create(h,{appName:m.name})}function ar(m,h,p){if(!(h instanceof p))throw p.name!==h.constructor.name&&Gt(m,"argument-error"),yi(m,"argument-error",`Type of ${h.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ln(m,...h){if("string"!=typeof m){const p=h[0],y=[...h.slice(1)];return y[0]&&(y[0].appName=m.name),m._errorFactory.create(p,...y)}return or.create(m,...h)}function Ie(m,h,...p){if(!m)throw Ln(h,...p)}function Vn(m){const h="INTERNAL ASSERTION FAILED: "+m;throw Fn(h),new Error(h)}function qe(m,h){m||Vn(h)}const lr=new Map;function zt(m){qe(m instanceof Function,"Expected a class definition");let h=lr.get(m);return h?(qe(h instanceof m,"Instance stored in cache mismatched with class"),h):(h=new m,lr.set(m,h),h)}function Dr(){var m;return"undefined"!=typeof self&&(null===(m=self.location)||void 0===m?void 0:m.href)||""}function dn(){return"http:"===Cn()||"https:"===Cn()}function Cn(){var m;return"undefined"!=typeof self&&(null===(m=self.location)||void 0===m?void 0:m.protocol)||null}class Ct{constructor(h,p){this.shortDelay=h,this.longDelay=p,qe(p>h,"Short delay should be less than long delay!"),this.isMobile=(0,j.uI)()||(0,j.b$)()}get(){return function Ir(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(dn()||(0,j.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Qe(m,h){qe(m.emulator,"Emulator should always be set here");const{url:p}=m.emulator;return h?`${p}${h.startsWith("/")?h.slice(1):h}`:p}class et{static initialize(h,p,y){this.fetchImpl=h,p&&(this.headersImpl=p),y&&(this.responseImpl=y)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Vn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Vn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Vn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Wr={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},ii=new Ct(3e4,6e4);function rt(m,h){return m.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:m.tenantId}):h}function rn(m,h,p,y){return Un.apply(this,arguments)}function Un(){return(Un=(0,d.Z)(function*(m,h,p,y,T={}){return Zt(m,T,(0,d.Z)(function*(){let R={},q={};y&&("GET"===h?q=y:R={body:JSON.stringify(y)});const he=(0,j.xO)(Object.assign({key:m.config.apiKey},q)).slice(1),$e=yield m._getAdditionalHeaders();return $e["Content-Type"]="application/json",m.languageCode&&($e["X-Firebase-Locale"]=m.languageCode),et.fetch()(Ve(m,m.config.apiHost,p,he),Object.assign({method:h,headers:$e,referrerPolicy:"no-referrer"},R))}))})).apply(this,arguments)}function Zt(m,h,p){return tt.apply(this,arguments)}function tt(){return(tt=(0,d.Z)(function*(m,h,p){m._canInitEmulator=!1;const y=Object.assign(Object.assign({},Wr),h);try{const T=new ye(m),R=yield Promise.race([p(),T.promise]);T.clearNetworkTimeout();const q=yield R.json();if("needConfirmation"in q)throw He(m,"account-exists-with-different-credential",q);if(R.ok&&!("errorMessage"in q))return q;{const he=R.ok?q.errorMessage:q.error.message,[$e,ke]=he.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===$e)throw He(m,"credential-already-in-use",q);if("EMAIL_EXISTS"===$e)throw He(m,"email-already-in-use",q);const ct=y[$e]||$e.toLowerCase().replace(/[_\s]+/g,"-");if(ke)throw yi(m,ct,ke);Gt(m,ct)}}catch(T){if(T instanceof j.ZR)throw T;Gt(m,"network-request-failed")}})).apply(this,arguments)}function Qt(m,h,p,y){return wt.apply(this,arguments)}function wt(){return(wt=(0,d.Z)(function*(m,h,p,y,T={}){const R=yield rn(m,h,p,y,T);return"mfaPendingCredential"in R&&Gt(m,"multi-factor-auth-required",{_serverResponse:R}),R})).apply(this,arguments)}function Ve(m,h,p,y){const T=`${h}${p}?${y}`;return m.config.emulator?Qe(m.config,T):`${m.config.apiScheme}://${T}`}class ye{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((p,y)=>{this.timer=setTimeout(()=>y(An(this.auth,"network-request-failed")),ii.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function He(m,h,p){const y={appName:m.name};p.email&&(y.email=p.email),p.phoneNumber&&(y.phoneNumber=p.phoneNumber);const T=An(m,h,y);return T.customData._tokenResponse=p,T}function At(){return(At=(0,d.Z)(function*(m,h){return rn(m,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function Rt(m,h){return G.apply(this,arguments)}function G(){return(G=(0,d.Z)(function*(m,h){return rn(m,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function B(m,h){return Z.apply(this,arguments)}function Z(){return(Z=(0,d.Z)(function*(m,h){return rn(m,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function le(m){if(m)try{const h=new Date(Number(m));if(!isNaN(h.getTime()))return h.toUTCString()}catch(h){}}function V(){return(V=(0,d.Z)(function*(m,h=!1){const p=(0,j.m9)(m),y=yield p.getIdToken(h),T=Re(y);Ie(T&&T.exp&&T.auth_time&&T.iat,p.auth,"internal-error");const R="object"==typeof T.firebase?T.firebase:void 0,q=null==R?void 0:R.sign_in_provider;return{claims:T,token:y,authTime:le(ie(T.auth_time)),issuedAtTime:le(ie(T.iat)),expirationTime:le(ie(T.exp)),signInProvider:q||null,signInSecondFactor:(null==R?void 0:R.sign_in_second_factor)||null}})).apply(this,arguments)}function ie(m){return 1e3*Number(m)}function Re(m){const[h,p,y]=m.split(".");if(void 0===h||void 0===p||void 0===y)return Fn("JWT malformed, contained fewer than 3 sections"),null;try{const T=(0,j.tV)(p);return T?JSON.parse(T):(Fn("Failed to decode base64 JWT payload"),null)}catch(T){return Fn("Caught error parsing JWT payload as JSON",T),null}}function nt(m,h){return We.apply(this,arguments)}function We(){return(We=(0,d.Z)(function*(m,h,p=!1){if(p)return h;try{return yield h}catch(y){throw y instanceof j.ZR&&mt(y)&&m.auth.currentUser===m&&(yield m.auth.signOut()),y}})).apply(this,arguments)}function mt({code:m}){return"auth/user-disabled"===m||"auth/user-token-expired"===m}class pn{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var p;if(h){const y=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),y}{this.errorBackoff=3e4;const T=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,T)}}schedule(h=!1){var p=this;if(!this.isRunning)return;const y=this.getInterval(h);this.timerId=setTimeout((0,d.Z)(function*(){yield p.iteration()}),y)}iteration(){var h=this;return(0,d.Z)(function*(){try{yield h.user.getIdToken(!0)}catch(p){return void("auth/network-request-failed"===p.code&&h.schedule(!0))}h.schedule()})()}}class Bn{constructor(h,p){this.createdAt=h,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=le(this.lastLoginAt),this.creationTime=le(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Dt(m){return ur.apply(this,arguments)}function ur(){return(ur=(0,d.Z)(function*(m){var h;const p=m.auth,y=yield m.getIdToken(),T=yield nt(m,B(p,{idToken:y}));Ie(null==T?void 0:T.users.length,p,"internal-error");const R=T.users[0];m._notifyReloadListener(R);const q=(null===(h=R.providerUserInfo)||void 0===h?void 0:h.length)?Pr(R.providerUserInfo):[],he=Jo(m.providerData,q),ct=!!m.isAnonymous&&!(m.email&&R.passwordHash||(null==he?void 0:he.length)),Kt={uid:R.localId,displayName:R.displayName||null,photoURL:R.photoUrl||null,email:R.email||null,emailVerified:R.emailVerified||!1,phoneNumber:R.phoneNumber||null,tenantId:R.tenantId||null,providerData:he,metadata:new Bn(R.createdAt,R.lastLoginAt),isAnonymous:ct};Object.assign(m,Kt)})).apply(this,arguments)}function Pn(){return(Pn=(0,d.Z)(function*(m){const h=(0,j.m9)(m);yield Dt(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function Jo(m,h){return[...m.filter(y=>!h.some(T=>T.providerId===y.providerId)),...h]}function Pr(m){return m.map(h=>{var{providerId:p}=h,y=se(h,["providerId"]);return{providerId:p,uid:y.rawId||"",displayName:y.displayName||null,email:y.email||null,phoneNumber:y.phoneNumber||null,photoURL:y.photoUrl||null}})}function Et(){return(Et=(0,d.Z)(function*(m,h){const p=yield Zt(m,{},(0,d.Z)(function*(){const y=(0,j.xO)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:T,apiKey:R}=m.config,q=Ve(m,T,"/v1/token",`key=${R}`),he=yield m._getAdditionalHeaders();return he["Content-Type"]="application/x-www-form-urlencoded",et.fetch()(q,{method:"POST",headers:he,body:y})}));return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}class jt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){Ie(h.idToken,"internal-error"),Ie(void 0!==h.idToken,"internal-error"),Ie(void 0!==h.refreshToken,"internal-error");const p="expiresIn"in h&&void 0!==h.expiresIn?Number(h.expiresIn):function Be(m){const h=Re(m);return Ie(h,"internal-error"),Ie(void 0!==h.exp,"internal-error"),Ie(void 0!==h.iat,"internal-error"),Number(h.exp)-Number(h.iat)}(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,p)}getToken(h,p=!1){var y=this;return(0,d.Z)(function*(){return Ie(!y.accessToken||y.refreshToken,h,"user-token-expired"),p||!y.accessToken||y.isExpired?y.refreshToken?(yield y.refresh(h,y.refreshToken),y.accessToken):null:y.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,p){var y=this;return(0,d.Z)(function*(){const{accessToken:T,refreshToken:R,expiresIn:q}=yield function je(m,h){return Et.apply(this,arguments)}(h,p);y.updateTokensAndExpiration(T,R,Number(q))})()}updateTokensAndExpiration(h,p,y){this.refreshToken=p||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*y}static fromJSON(h,p){const{refreshToken:y,accessToken:T,expirationTime:R}=p,q=new jt;return y&&(Ie("string"==typeof y,"internal-error",{appName:h}),q.refreshToken=y),T&&(Ie("string"==typeof T,"internal-error",{appName:h}),q.accessToken=T),R&&(Ie("number"==typeof R,"internal-error",{appName:h}),q.expirationTime=R),q}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new jt,this.toJSON())}_performRefresh(){return Vn("not implemented")}}function Tn(m,h){Ie("string"==typeof m||void 0===m,"internal-error",{appName:h})}class Er{constructor(h){var{uid:p,auth:y,stsTokenManager:T}=h,R=se(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new pn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=y,this.stsTokenManager=T,this.accessToken=T.accessToken,this.displayName=R.displayName||null,this.email=R.email||null,this.emailVerified=R.emailVerified||!1,this.phoneNumber=R.phoneNumber||null,this.photoURL=R.photoURL||null,this.isAnonymous=R.isAnonymous||!1,this.tenantId=R.tenantId||null,this.providerData=R.providerData?[...R.providerData]:[],this.metadata=new Bn(R.createdAt||void 0,R.lastLoginAt||void 0)}getIdToken(h){var p=this;return(0,d.Z)(function*(){const y=yield nt(p,p.stsTokenManager.getToken(p.auth,h));return Ie(y,p.auth,"internal-error"),p.accessToken!==y&&(p.accessToken=y,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),y})()}getIdTokenResult(h){return function F(m){return V.apply(this,arguments)}(this,h)}reload(){return function Gr(m){return Pn.apply(this,arguments)}(this)}_assign(h){this!==h&&(Ie(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(p=>Object.assign({},p)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){return new Er(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(h){Ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,p=!1){var y=this;return(0,d.Z)(function*(){let T=!1;h.idToken&&h.idToken!==y.stsTokenManager.accessToken&&(y.stsTokenManager.updateFromServerResponse(h),T=!0),p&&(yield Dt(y)),yield y.auth._persistUserIfCurrent(y),T&&y.auth._notifyListenersIfCurrent(y)})()}delete(){var h=this;return(0,d.Z)(function*(){const p=yield h.getIdToken();return yield nt(h,function ot(m,h){return At.apply(this,arguments)}(h.auth,{idToken:p})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,p){var y,T,R,q,he,$e,ke,ct;const Kt=null!==(y=p.displayName)&&void 0!==y?y:void 0,Yt=null!==(T=p.email)&&void 0!==T?T:void 0,tn=null!==(R=p.phoneNumber)&&void 0!==R?R:void 0,ps=null!==(q=p.photoURL)&&void 0!==q?q:void 0,Ru=null!==(he=p.tenantId)&&void 0!==he?he:void 0,ud=null!==($e=p._redirectEventId)&&void 0!==$e?$e:void 0,Ke=null!==(ke=p.createdAt)&&void 0!==ke?ke:void 0,Wn=null!==(ct=p.lastLoginAt)&&void 0!==ct?ct:void 0,{uid:Pa,emailVerified:Lo,isAnonymous:Tr,providerData:wi,stsTokenManager:cd}=p;Ie(Pa&&cd,h,"internal-error");const dd=jt.fromJSON(this.name,cd);Ie("string"==typeof Pa,h,"internal-error"),Tn(Kt,h.name),Tn(Yt,h.name),Ie("boolean"==typeof Lo,h,"internal-error"),Ie("boolean"==typeof Tr,h,"internal-error"),Tn(tn,h.name),Tn(ps,h.name),Tn(Ru,h.name),Tn(ud,h.name),Tn(Ke,h.name),Tn(Wn,h.name);const Di=new Er({uid:Pa,auth:h,email:Yt,emailVerified:Lo,displayName:Kt,isAnonymous:Tr,photoURL:ps,phoneNumber:tn,tenantId:Ru,stsTokenManager:dd,createdAt:Ke,lastLoginAt:Wn});return wi&&Array.isArray(wi)&&(Di.providerData=wi.map(jh=>Object.assign({},jh))),ud&&(Di._redirectEventId=ud),Di}static _fromIdTokenResponse(h,p,y=!1){return(0,d.Z)(function*(){const T=new jt;T.updateFromServerResponse(p);const R=new Er({uid:p.localId,auth:h,stsTokenManager:T,isAnonymous:y});return yield Dt(R),R})()}}const Or=(()=>{class m{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,d.Z)(function*(){return!0})()}_set(p,y){var T=this;return(0,d.Z)(function*(){T.storage[p]=y})()}_get(p){var y=this;return(0,d.Z)(function*(){const T=y.storage[p];return void 0===T?null:T})()}_remove(p){var y=this;return(0,d.Z)(function*(){delete y.storage[p]})()}_addListener(p,y){}_removeListener(p,y){}}return m.type="NONE",m})();function qt(m,h,p){return`firebase:${m}:${h}:${p}`}class gn{constructor(h,p,y){this.persistence=h,this.auth=p,this.userKey=y;const{config:T,name:R}=this.auth;this.fullUserKey=qt(this.userKey,T.apiKey,R),this.fullPersistenceKey=qt("persistence",T.apiKey,R),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,d.Z)(function*(){const p=yield h.persistence._get(h.fullUserKey);return p?Er._fromJSON(h.auth,p):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var p=this;return(0,d.Z)(function*(){if(p.persistence===h)return;const y=yield p.getCurrentUser();return yield p.removeCurrentUser(),p.persistence=h,y?p.setCurrentUser(y):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,p,y="authUser"){return(0,d.Z)(function*(){if(!p.length)return new gn(zt(Or),h,y);const T=(yield Promise.all(p.map(function(){var ke=(0,d.Z)(function*(ct){if(yield ct._isAvailable())return ct});return function(ct){return ke.apply(this,arguments)}}()))).filter(ke=>ke);let R=T[0]||zt(Or);const q=qt(y,h.config.apiKey,h.name);let he=null;for(const ke of p)try{const ct=yield ke._get(q);if(ct){const Kt=Er._fromJSON(h,ct);ke!==R&&(he=Kt),R=ke;break}}catch(ct){}const $e=T.filter(ke=>ke._shouldAllowMigration);return R._shouldAllowMigration&&$e.length?(R=$e[0],he&&(yield R._set(q,he.toJSON())),yield Promise.all(p.map(function(){var ke=(0,d.Z)(function*(ct){if(ct!==R)try{yield ct._remove(q)}catch(Kt){}});return function(ct){return ke.apply(this,arguments)}}())),new gn(R,h,y)):new gn(R,h,y)})()}}function Ki(m){const h=m.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(Xo(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(_t(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(On(h))return"Blackberry";if(Qi(h))return"Webos";if(Yi(h))return"Safari";if((h.includes("chrome/")||vi(h))&&!h.includes("edge/"))return"Chrome";if(si(h))return"Android";{const y=m.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==y?void 0:y.length))return y[1]}return"Other"}function _t(m=(0,j.z$)()){return/firefox\//i.test(m)}function Yi(m=(0,j.z$)()){const h=m.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function vi(m=(0,j.z$)()){return/crios\//i.test(m)}function Xo(m=(0,j.z$)()){return/iemobile/i.test(m)}function si(m=(0,j.z$)()){return/android/i.test(m)}function On(m=(0,j.z$)()){return/blackberry/i.test(m)}function Qi(m=(0,j.z$)()){return/webos/i.test(m)}function zr(m=(0,j.z$)()){return/iphone|ipad|ipod/i.test(m)}function xr(m=(0,j.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(m)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(m)}function Qa(m=(0,j.z$)()){return zr(m)||si(m)||Qi(m)||On(m)||/windows phone/i.test(m)||Xo(m)}function qr(m,h=[]){let p;switch(m){case"Browser":p=Ki((0,j.z$)());break;case"Worker":p=`${Ki((0,j.z$)())}-${m}`;break;default:p=m}const y=h.length?h.join(","):"FirebaseCore-web";return`${p}/JsCore/${P.SDK_VERSION}/${y}`}class Kl{constructor(h,p,y){this.app=h,this.heartbeatServiceProvider=p,this.config=y,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new fo(this),this.idTokenSubscription=new fo(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=or,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=y.sdkClientVersion}_initializeWithPersistence(h,p){var y=this;return p&&(this._popupRedirectResolver=zt(p)),this._initializationPromise=this.queue((0,d.Z)(function*(){var T,R;if(!y._deleted&&(y.persistenceManager=yield gn.create(y,h),!y._deleted)){if(null===(T=y._popupRedirectResolver)||void 0===T?void 0:T._shouldInitProactively)try{yield y._popupRedirectResolver._initialize(y)}catch(q){}yield y.initializeCurrentUser(p),y.lastNotifiedUid=(null===(R=y.currentUser)||void 0===R?void 0:R.uid)||null,!y._deleted&&(y._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,d.Z)(function*(){if(h._deleted)return;const p=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||p){if(h.currentUser&&p&&h.currentUser.uid===p.uid)return h._currentUser._assign(p),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(p)}})()}initializeCurrentUser(h){var p=this;return(0,d.Z)(function*(){var y;let T=yield p.assertedPersistence.getCurrentUser();if(h&&p.config.authDomain){yield p.getOrInitRedirectPersistenceManager();const R=null===(y=p.redirectUser)||void 0===y?void 0:y._redirectEventId,q=null==T?void 0:T._redirectEventId,he=yield p.tryRedirectSignIn(h);(!R||R===q)&&(null==he?void 0:he.user)&&(T=he.user)}return T?T._redirectEventId?(Ie(p._popupRedirectResolver,p,"argument-error"),yield p.getOrInitRedirectPersistenceManager(),p.redirectUser&&p.redirectUser._redirectEventId===T._redirectEventId?p.directlySetCurrentUser(T):p.reloadAndSetCurrentUserOrClear(T)):p.reloadAndSetCurrentUserOrClear(T):p.directlySetCurrentUser(null)})()}tryRedirectSignIn(h){var p=this;return(0,d.Z)(function*(){let y=null;try{y=yield p._popupRedirectResolver._completeRedirectFn(p,h,!0)}catch(T){yield p._setRedirectUser(null)}return y})()}reloadAndSetCurrentUserOrClear(h){var p=this;return(0,d.Z)(function*(){try{yield Dt(h)}catch(y){if("auth/network-request-failed"!==y.code)return p.directlySetCurrentUser(null)}return p.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function Ts(){if("undefined"==typeof navigator)return null;const m=navigator;return m.languages&&m.languages[0]||m.language||null}()}_delete(){var h=this;return(0,d.Z)(function*(){h._deleted=!0})()}updateCurrentUser(h){var p=this;return(0,d.Z)(function*(){const y=h?(0,j.m9)(h):null;return y&&Ie(y.auth.config.apiKey===p.config.apiKey,p,"invalid-user-token"),p._updateCurrentUser(y&&y._clone(p))})()}_updateCurrentUser(h){var p=this;return(0,d.Z)(function*(){if(!p._deleted)return h&&Ie(p.tenantId===h.tenantId,p,"tenant-id-mismatch"),p.queue((0,d.Z)(function*(){yield p.directlySetCurrentUser(h),p.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,d.Z)(function*(){return(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null)})()}setPersistence(h){var p=this;return this.queue((0,d.Z)(function*(){yield p.assertedPersistence.setPersistence(zt(h))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new j.LL("auth","Firebase",h())}onAuthStateChanged(h,p,y){return this.registerStateListener(this.authStateSubscription,h,p,y)}onIdTokenChanged(h,p,y){return this.registerStateListener(this.idTokenSubscription,h,p,y)}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,p){var y=this;return(0,d.Z)(function*(){const T=yield y.getOrInitRedirectPersistenceManager(p);return null===h?T.removeCurrentUser():T.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var p=this;return(0,d.Z)(function*(){if(!p.redirectPersistenceManager){const y=h&&zt(h)||p._popupRedirectResolver;Ie(y,p,"argument-error"),p.redirectPersistenceManager=yield gn.create(p,[zt(y._redirectPersistence)],"redirectUser"),p.redirectUser=yield p.redirectPersistenceManager.getCurrentUser()}return p.redirectPersistenceManager})()}_redirectUserForId(h){var p=this;return(0,d.Z)(function*(){var y,T;return p._isInitialized&&(yield p.queue((0,d.Z)(function*(){}))),(null===(y=p._currentUser)||void 0===y?void 0:y._redirectEventId)===h?p._currentUser:(null===(T=p.redirectUser)||void 0===T?void 0:T._redirectEventId)===h?p.redirectUser:null})()}_persistUserIfCurrent(h){var p=this;return(0,d.Z)(function*(){if(h===p.currentUser)return p.queue((0,d.Z)(function*(){return p.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const y=null!==(p=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==p?p:null;this.lastNotifiedUid!==y&&(this.lastNotifiedUid=y,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,p,y,T){if(this._deleted)return()=>{};const R="function"==typeof p?p:p.next.bind(p),q=this._isInitialized?Promise.resolve():this._initializationPromise;return Ie(q,this,"internal-error"),q.then(()=>R(this.currentUser)),"function"==typeof p?h.addObserver(p,y,T):h.addObserver(p)}directlySetCurrentUser(h){var p=this;return(0,d.Z)(function*(){p.currentUser&&p.currentUser!==h&&(p._currentUser._stopProactiveRefresh(),h&&p.isProactiveRefreshEnabled&&h._startProactiveRefresh()),p.currentUser=h,h?yield p.assertedPersistence.setCurrentUser(h):yield p.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return Ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=qr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,d.Z)(function*(){var p;const y={"X-Client-Version":h.clientVersion};h.app.options.appId&&(y["X-Firebase-gmpid"]=h.app.options.appId);const T=yield null===(p=h.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getHeartbeatsHeader();return T&&(y["X-Firebase-Client"]=T),y})()}}function Sn(m){return(0,j.m9)(m)}class fo{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,j.ne)(p=>this.observer=p)}get next(){return Ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Kr(m,h,p){const y=Sn(m);Ie(y._canInitEmulator,y,"emulator-config-failed"),Ie(/^https?:\/\//.test(h),y,"invalid-emulator-scheme");const T=!!(null==p?void 0:p.disableWarnings),R=ta(h),{host:q,port:he}=function Ch(m){const h=ta(m),p=/(\/\/)?([^?#/]+)/.exec(m.substr(h.length));if(!p)return{host:"",port:null};const y=p[2].split("@").pop()||"",T=/^(\[[^\]]+\])(:|$)/.exec(y);if(T){const R=T[1];return{host:R,port:Pc(y.substr(R.length+1))}}{const[R,q]=y.split(":");return{host:R,port:Pc(q)}}}(h);y.config.emulator={url:`${R}//${q}${null===he?"":`:${he}`}/`},y.settings.appVerificationDisabledForTesting=!0,y.emulatorConfig=Object.freeze({host:q,port:he,protocol:R.replace(":",""),options:Object.freeze({disableWarnings:T})}),T||function Yr(){function m(){const h=document.createElement("p"),p=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",p.position="fixed",p.width="100%",p.backgroundColor="#ffffff",p.border=".1em solid #000000",p.color="#b50000",p.bottom="0px",p.left="0px",p.margin="0px",p.zIndex="10000",p.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",m):m())}()}function ta(m){const h=m.indexOf(":");return h<0?"":m.substr(0,h+1)}function Pc(m){if(!m)return null;const h=Number(m);return isNaN(h)?null:h}class po{constructor(h,p){this.providerId=h,this.signInMethod=p}toJSON(){return Vn("not implemented")}_getIdTokenResponse(h){return Vn("not implemented")}_linkToIdToken(h,p){return Vn("not implemented")}_getReauthenticationResolver(h){return Vn("not implemented")}}function Oc(m,h){return Yl.apply(this,arguments)}function Yl(){return(Yl=(0,d.Z)(function*(m,h){return rn(m,"POST","/v1/accounts:resetPassword",rt(m,h))})).apply(this,arguments)}function xc(m,h){return Ql.apply(this,arguments)}function Ql(){return(Ql=(0,d.Z)(function*(m,h){return rn(m,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Ja(m,h){return Si.apply(this,arguments)}function Si(){return(Si=(0,d.Z)(function*(m,h){return rn(m,"POST","/v1/accounts:update",rt(m,h))})).apply(this,arguments)}function Jl(){return(Jl=(0,d.Z)(function*(m,h){return Qt(m,"POST","/v1/accounts:signInWithPassword",rt(m,h))})).apply(this,arguments)}function Xa(m,h){return Xl.apply(this,arguments)}function Xl(){return(Xl=(0,d.Z)(function*(m,h){return rn(m,"POST","/v1/accounts:sendOobCode",rt(m,h))})).apply(this,arguments)}function bh(m,h){return eu.apply(this,arguments)}function eu(){return(eu=(0,d.Z)(function*(m,h){return Xa(m,h)})).apply(this,arguments)}function $p(m,h){return As.apply(this,arguments)}function As(){return(As=(0,d.Z)(function*(m,h){return Xa(m,h)})).apply(this,arguments)}function el(m,h){return na.apply(this,arguments)}function na(){return(na=(0,d.Z)(function*(m,h){return Xa(m,h)})).apply(this,arguments)}function Nc(m,h){return tu.apply(this,arguments)}function tu(){return(tu=(0,d.Z)(function*(m,h){return Xa(m,h)})).apply(this,arguments)}function Ss(){return(Ss=(0,d.Z)(function*(m,h){return Qt(m,"POST","/v1/accounts:signInWithEmailLink",rt(m,h))})).apply(this,arguments)}function Rs(){return(Rs=(0,d.Z)(function*(m,h){return Qt(m,"POST","/v1/accounts:signInWithEmailLink",rt(m,h))})).apply(this,arguments)}class go extends po{constructor(h,p,y,T=null){super("password",y),this._email=h,this._password=p,this._tenantId=T}static _fromEmailAndPassword(h,p){return new go(h,p,"password")}static _fromEmailAndCode(h,p,y=null){return new go(h,p,"emailLink",y)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h;if((null==p?void 0:p.email)&&(null==p?void 0:p.password)){if("password"===p.signInMethod)return this._fromEmailAndPassword(p.email,p.password);if("emailLink"===p.signInMethod)return this._fromEmailAndCode(p.email,p.password,p.tenantId)}return null}_getIdTokenResponse(h){var p=this;return(0,d.Z)(function*(){switch(p.signInMethod){case"password":return function Eh(m,h){return Jl.apply(this,arguments)}(h,{returnSecureToken:!0,email:p._email,password:p._password});case"emailLink":return function Mi(m,h){return Ss.apply(this,arguments)}(h,{email:p._email,oobCode:p._password});default:Gt(h,"internal-error")}})()}_linkToIdToken(h,p){var y=this;return(0,d.Z)(function*(){switch(y.signInMethod){case"password":return xc(h,{idToken:p,returnSecureToken:!0,email:y._email,password:y._password});case"emailLink":return function Ms(m,h){return Rs.apply(this,arguments)}(h,{idToken:p,email:y._email,oobCode:y._password});default:Gt(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function Ri(m,h){return tl.apply(this,arguments)}function tl(){return(tl=(0,d.Z)(function*(m,h){return Qt(m,"POST","/v1/accounts:signInWithIdp",rt(m,h))})).apply(this,arguments)}class Zn extends po{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(h){const p=new Zn(h.providerId,h.signInMethod);return h.idToken||h.accessToken?(h.idToken&&(p.idToken=h.idToken),h.accessToken&&(p.accessToken=h.accessToken),h.nonce&&!h.pendingToken&&(p.nonce=h.nonce),h.pendingToken&&(p.pendingToken=h.pendingToken)):h.oauthToken&&h.oauthTokenSecret?(p.accessToken=h.oauthToken,p.secret=h.oauthTokenSecret):Gt("argument-error"),p}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h,{providerId:y,signInMethod:T}=p,R=se(p,["providerId","signInMethod"]);if(!y||!T)return null;const q=new Zn(y,T);return q.idToken=R.idToken||void 0,q.accessToken=R.accessToken||void 0,q.secret=R.secret,q.nonce=R.nonce,q.pendingToken=R.pendingToken||null,q}_getIdTokenResponse(h){return Ri(h,this.buildRequest())}_linkToIdToken(h,p){const y=this.buildRequest();return y.idToken=p,Ri(h,y)}_getReauthenticationResolver(h){const p=this.buildRequest();return p.autoCreate=!1,Ri(h,p)}buildRequest(){const h={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)h.pendingToken=this.pendingToken;else{const p={};this.idToken&&(p.id_token=this.idToken),this.accessToken&&(p.access_token=this.accessToken),this.secret&&(p.oauth_token_secret=this.secret),p.providerId=this.providerId,this.nonce&&!this.pendingToken&&(p.nonce=this.nonce),h.postBody=(0,j.xO)(p)}return h}}function nl(m,h){return mo.apply(this,arguments)}function mo(){return(mo=(0,d.Z)(function*(m,h){return rn(m,"POST","/v1/accounts:sendVerificationCode",rt(m,h))})).apply(this,arguments)}function _o(){return(_o=(0,d.Z)(function*(m,h){return Qt(m,"POST","/v1/accounts:signInWithPhoneNumber",rt(m,h))})).apply(this,arguments)}function Ps(){return(Ps=(0,d.Z)(function*(m,h){const p=yield Qt(m,"POST","/v1/accounts:signInWithPhoneNumber",rt(m,h));if(p.temporaryProof)throw He(m,"account-exists-with-different-credential",p);return p})).apply(this,arguments)}const wh={USER_NOT_FOUND:"user-not-found"};function nu(){return(nu=(0,d.Z)(function*(m,h){return Qt(m,"POST","/v1/accounts:signInWithPhoneNumber",rt(m,Object.assign(Object.assign({},h),{operation:"REAUTH"})),wh)})).apply(this,arguments)}class Pt extends po{constructor(h){super("phone","phone"),this.params=h}static _fromVerification(h,p){return new Pt({verificationId:h,verificationCode:p})}static _fromTokenResponse(h,p){return new Pt({phoneNumber:h,temporaryProof:p})}_getIdTokenResponse(h){return function Qr(m,h){return _o.apply(this,arguments)}(h,this._makeVerificationRequest())}_linkToIdToken(h,p){return function kc(m,h){return Ps.apply(this,arguments)}(h,Object.assign({idToken:p},this._makeVerificationRequest()))}_getReauthenticationResolver(h){return function rl(m,h){return nu.apply(this,arguments)}(h,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:h,phoneNumber:p,verificationId:y,verificationCode:T}=this.params;return h&&p?{temporaryProof:h,phoneNumber:p}:{sessionInfo:y,code:T}}toJSON(){const h={providerId:this.providerId};return this.params.phoneNumber&&(h.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(h.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(h.verificationCode=this.params.verificationCode),this.params.verificationId&&(h.verificationId=this.params.verificationId),h}static fromJSON(h){"string"==typeof h&&(h=JSON.parse(h));const{verificationId:p,verificationCode:y,phoneNumber:T,temporaryProof:R}=h;return y||p||T||R?new Pt({verificationId:p,verificationCode:y,phoneNumber:T,temporaryProof:R}):null}}class on{constructor(h){var p,y,T,R,q,he;const $e=(0,j.zd)((0,j.pd)(h)),ke=null!==(p=$e.apiKey)&&void 0!==p?p:null,ct=null!==(y=$e.oobCode)&&void 0!==y?y:null,Kt=function ra(m){switch(m){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(T=$e.mode)&&void 0!==T?T:null);Ie(ke&&ct&&Kt,"argument-error"),this.apiKey=ke,this.operation=Kt,this.code=ct,this.continueUrl=null!==(R=$e.continueUrl)&&void 0!==R?R:null,this.languageCode=null!==(q=$e.languageCode)&&void 0!==q?q:null,this.tenantId=null!==(he=$e.tenantId)&&void 0!==he?he:null}static parseLink(h){const p=function ru(m){const h=(0,j.zd)((0,j.pd)(m)).link,p=h?(0,j.zd)((0,j.pd)(h)).deep_link_id:null,y=(0,j.zd)((0,j.pd)(m)).deep_link_id;return(y?(0,j.zd)((0,j.pd)(y)).link:null)||y||p||h||m}(h);try{return new on(p)}catch(y){return null}}}let Os=(()=>{class m{constructor(){this.providerId=m.PROVIDER_ID}static credential(p,y){return go._fromEmailAndPassword(p,y)}static credentialWithLink(p,y){const T=on.parseLink(y);return Ie(T,"argument-error"),go._fromEmailAndCode(p,T.code,T.tenantId)}}return m.PROVIDER_ID="password",m.EMAIL_PASSWORD_SIGN_IN_METHOD="password",m.EMAIL_LINK_SIGN_IN_METHOD="emailLink",m})();class qn{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class tr extends qn{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}class oi extends tr{static credentialFromJSON(h){const p="string"==typeof h?JSON.parse(h):h;return Ie("providerId"in p&&"signInMethod"in p,"argument-error"),Zn._fromParams(p)}credential(h){return this._credential(Object.assign(Object.assign({},h),{nonce:h.rawNonce}))}_credential(h){return Ie(h.idToken||h.accessToken,"argument-error"),Zn._fromParams(Object.assign(Object.assign({},h),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(h){return oi.oauthCredentialFromTaggedObject(h)}static credentialFromError(h){return oi.oauthCredentialFromTaggedObject(h.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:p,oauthAccessToken:y,oauthTokenSecret:T,pendingToken:R,nonce:q,providerId:he}=h;if(!y&&!T&&!p&&!R||!he)return null;try{return new oi(he)._credential({idToken:p,accessToken:y,nonce:q,pendingToken:R})}catch($e){return null}}}let yo=(()=>{class m extends tr{constructor(){super("facebook.com")}static credential(p){return Zn._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.FACEBOOK_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return m.credentialFromTaggedObject(p)}static credentialFromError(p){return m.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return m.credential(p.oauthAccessToken)}catch(y){return null}}}return m.FACEBOOK_SIGN_IN_METHOD="facebook.com",m.PROVIDER_ID="facebook.com",m})(),Ji=(()=>{class m extends tr{constructor(){super("google.com"),this.addScope("profile")}static credential(p,y){return Zn._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.GOOGLE_SIGN_IN_METHOD,idToken:p,accessToken:y})}static credentialFromResult(p){return m.credentialFromTaggedObject(p)}static credentialFromError(p){return m.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:y,oauthAccessToken:T}=p;if(!y&&!T)return null;try{return m.credential(y,T)}catch(R){return null}}}return m.GOOGLE_SIGN_IN_METHOD="google.com",m.PROVIDER_ID="google.com",m})(),Ht=(()=>{class m extends tr{constructor(){super("github.com")}static credential(p){return Zn._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.GITHUB_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return m.credentialFromTaggedObject(p)}static credentialFromError(p){return m.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return m.credential(p.oauthAccessToken)}catch(y){return null}}}return m.GITHUB_SIGN_IN_METHOD="github.com",m.PROVIDER_ID="github.com",m})();class Nr extends po{constructor(h,p){super(h,h),this.pendingToken=p}_getIdTokenResponse(h){return Ri(h,this.buildRequest())}_linkToIdToken(h,p){const y=this.buildRequest();return y.idToken=p,Ri(h,y)}_getReauthenticationResolver(h){const p=this.buildRequest();return p.autoCreate=!1,Ri(h,p)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h,{providerId:y,signInMethod:T,pendingToken:R}=p;return y&&T&&R&&y===T?new Nr(y,R):null}static _create(h,p){return new Nr(h,p)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class cr extends qn{constructor(h){Ie(h.startsWith("saml."),"argument-error"),super(h)}static credentialFromResult(h){return cr.samlCredentialFromTaggedObject(h)}static credentialFromError(h){return cr.samlCredentialFromTaggedObject(h.customData||{})}static credentialFromJSON(h){const p=Nr.fromJSON(h);return Ie(p,"argument-error"),p}static samlCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{pendingToken:p,providerId:y}=h;if(!p||!y)return null;try{return Nr._create(y,p)}catch(T){return null}}}let xs=(()=>{class m extends tr{constructor(){super("twitter.com")}static credential(p,y){return Zn._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.TWITTER_SIGN_IN_METHOD,oauthToken:p,oauthTokenSecret:y})}static credentialFromResult(p){return m.credentialFromTaggedObject(p)}static credentialFromError(p){return m.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthAccessToken:y,oauthTokenSecret:T}=p;if(!y||!T)return null;try{return m.credential(y,T)}catch(R){return null}}}return m.TWITTER_SIGN_IN_METHOD="twitter.com",m.PROVIDER_ID="twitter.com",m})();function Xi(m,h){return lt.apply(this,arguments)}function lt(){return(lt=(0,d.Z)(function*(m,h){return Qt(m,"POST","/v1/accounts:signUp",rt(m,h))})).apply(this,arguments)}class nr{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,p,y,T=!1){return(0,d.Z)(function*(){const R=yield Er._fromIdTokenResponse(h,y,T),q=vo(y);return new nr({user:R,providerId:q,_tokenResponse:y,operationType:p})})()}static _forOperation(h,p,y){return(0,d.Z)(function*(){yield h._updateTokensIfNecessary(y,!0);const T=vo(y);return new nr({user:h,providerId:T,_tokenResponse:y,operationType:p})})()}}function vo(m){return m.providerId?m.providerId:"phoneNumber"in m?"phone":null}function ia(m){return Co.apply(this,arguments)}function Co(){return(Co=(0,d.Z)(function*(m){var h;const p=Sn(m);if(yield p._initializationPromise,null===(h=p.currentUser)||void 0===h?void 0:h.isAnonymous)return new nr({user:p.currentUser,providerId:null,operationType:"signIn"});const y=yield Xi(p,{returnSecureToken:!0}),T=yield nr._fromIdTokenResponse(p,"signIn",y,!0);return yield p._updateCurrentUser(T.user),T})).apply(this,arguments)}class Ns extends j.ZR{constructor(h,p,y,T){var R;super(p.code,p.message),this.operationType=y,this.user=T,Object.setPrototypeOf(this,Ns.prototype),this.customData={appName:h.name,tenantId:null!==(R=h.tenantId)&&void 0!==R?R:void 0,_serverResponse:p.customData._serverResponse,operationType:y}}static _fromErrorAndOperation(h,p,y,T){return new Ns(h,p,y,T)}}function Eo(m,h,p,y){return("reauthenticate"===h?p._getReauthenticationResolver(m):p._getIdTokenResponse(m)).catch(R=>{throw"auth/multi-factor-auth-required"===R.code?Ns._fromErrorAndOperation(m,R,h,y):R})}function il(m){return new Set(m.map(({providerId:h})=>h).filter(h=>!!h))}function Ee(m,h){return St.apply(this,arguments)}function St(){return(St=(0,d.Z)(function*(m,h){const p=(0,j.m9)(m);yield Oi(!0,p,h);const{providerUserInfo:y}=yield Rt(p.auth,{idToken:yield p.getIdToken(),deleteProvider:[h]}),T=il(y||[]);return p.providerData=p.providerData.filter(R=>T.has(R.providerId)),T.has("phone")||(p.phoneNumber=null),yield p.auth._persistUserIfCurrent(p),p})).apply(this,arguments)}function ks(m,h){return hn.apply(this,arguments)}function hn(){return(hn=(0,d.Z)(function*(m,h,p=!1){const y=yield nt(m,h._linkToIdToken(m.auth,yield m.getIdToken()),p);return nr._forOperation(m,"link",y)})).apply(this,arguments)}function Oi(m,h,p){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,d.Z)(function*(m,h,p){yield Dt(h);const T=!1===m?"provider-already-linked":"no-such-provider";Ie(il(h.providerData).has(p)===m,h.auth,T)})).apply(this,arguments)}function gr(m,h){return es.apply(this,arguments)}function es(){return(es=(0,d.Z)(function*(m,h,p=!1){const{auth:y}=m,T="reauthenticate";try{const R=yield nt(m,Eo(y,T,h,m),p);Ie(R.idToken,y,"internal-error");const q=Re(R.idToken);Ie(q,y,"internal-error");const{sub:he}=q;return Ie(m.uid===he,y,"user-mismatch"),nr._forOperation(m,T,R)}catch(R){throw"auth/user-not-found"===(null==R?void 0:R.code)&&Gt(y,"user-mismatch"),R}})).apply(this,arguments)}function bo(m,h){return sl.apply(this,arguments)}function sl(){return(sl=(0,d.Z)(function*(m,h,p=!1){const y="signIn",T=yield Eo(m,y,h),R=yield nr._fromIdTokenResponse(m,y,T);return p||(yield m._updateCurrentUser(R.user)),R})).apply(this,arguments)}function sa(m,h){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,d.Z)(function*(m,h){return bo(Sn(m),h)})).apply(this,arguments)}function wo(m,h){return jn.apply(this,arguments)}function jn(){return(jn=(0,d.Z)(function*(m,h){const p=(0,j.m9)(m);return yield Oi(!1,p,h.providerId),ks(p,h)})).apply(this,arguments)}function ai(m,h){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,d.Z)(function*(m,h){return gr((0,j.m9)(m),h)})).apply(this,arguments)}function ts(m,h){return kr.apply(this,arguments)}function kr(){return(kr=(0,d.Z)(function*(m,h){return Qt(m,"POST","/v1/accounts:signInWithCustomToken",rt(m,h))})).apply(this,arguments)}function ol(m,h){return oa.apply(this,arguments)}function oa(){return(oa=(0,d.Z)(function*(m,h){const p=Sn(m),y=yield ts(p,{token:h,returnSecureToken:!0}),T=yield nr._fromIdTokenResponse(p,"signIn",y);return yield p._updateCurrentUser(T.user),T})).apply(this,arguments)}class Us{constructor(h,p){this.factorId=h,this.uid=p.mfaEnrollmentId,this.enrollmentTime=new Date(p.enrolledAt).toUTCString(),this.displayName=p.displayName}static _fromServerResponse(h,p){return"phoneInfo"in p?al._fromServerResponse(h,p):Gt(h,"internal-error")}}class al extends Us{constructor(h){super("phone",h),this.phoneNumber=h.phoneInfo}static _fromServerResponse(h,p){return new al(p)}}function xi(m,h,p){var y;Ie((null===(y=p.url)||void 0===y?void 0:y.length)>0,m,"invalid-continue-uri"),Ie(void 0===p.dynamicLinkDomain||p.dynamicLinkDomain.length>0,m,"invalid-dynamic-link-domain"),h.continueUrl=p.url,h.dynamicLinkDomain=p.dynamicLinkDomain,h.canHandleCodeInApp=p.handleCodeInApp,p.iOS&&(Ie(p.iOS.bundleId.length>0,m,"missing-ios-bundle-id"),h.iOSBundleId=p.iOS.bundleId),p.android&&(Ie(p.android.packageName.length>0,m,"missing-android-pkg-name"),h.androidInstallApp=p.android.installApp,h.androidMinimumVersionCode=p.android.minimumVersion,h.androidPackageName=p.android.packageName)}function aa(m,h,p){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,d.Z)(function*(m,h,p){const y=(0,j.m9)(m),T={requestType:"PASSWORD_RESET",email:h};p&&xi(y,T,p),yield $p(y,T)})).apply(this,arguments)}function ll(m,h,p){return Do.apply(this,arguments)}function Do(){return(Do=(0,d.Z)(function*(m,h,p){yield Oc((0,j.m9)(m),{oobCode:h,newPassword:p})})).apply(this,arguments)}function Lc(m,h){return js.apply(this,arguments)}function js(){return(js=(0,d.Z)(function*(m,h){yield Ja((0,j.m9)(m),{oobCode:h})})).apply(this,arguments)}function la(m,h){return ua.apply(this,arguments)}function ua(){return(ua=(0,d.Z)(function*(m,h){const p=(0,j.m9)(m),y=yield Oc(p,{oobCode:h}),T=y.requestType;switch(Ie(T,p,"internal-error"),T){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ie(y.newEmail,p,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ie(y.mfaInfo,p,"internal-error");default:Ie(y.email,p,"internal-error")}let R=null;return y.mfaInfo&&(R=Us._fromServerResponse(Sn(p),y.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===y.requestType?y.newEmail:y.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===y.requestType?y.email:y.newEmail)||null,multiFactorInfo:R},operation:T}})).apply(this,arguments)}function ul(m,h){return ca.apply(this,arguments)}function ca(){return(ca=(0,d.Z)(function*(m,h){const{data:p}=yield la((0,j.m9)(m),h);return p.email})).apply(this,arguments)}function da(m,h,p){return ou.apply(this,arguments)}function ou(){return(ou=(0,d.Z)(function*(m,h,p){const y=Sn(m),T=yield Xi(y,{returnSecureToken:!0,email:h,password:p}),R=yield nr._fromIdTokenResponse(y,"signIn",T);return yield y._updateCurrentUser(R.user),R})).apply(this,arguments)}function Vc(m,h,p){return sa((0,j.m9)(m),Os.credential(h,p))}function Kn(m,h,p){return rr.apply(this,arguments)}function rr(){return(rr=(0,d.Z)(function*(m,h,p){const y=(0,j.m9)(m),T={requestType:"EMAIL_SIGNIN",email:h};Ie(p.handleCodeInApp,y,"argument-error"),p&&xi(y,T,p),yield el(y,T)})).apply(this,arguments)}function mn(m,h){const p=on.parseLink(h);return"EMAIL_SIGNIN"===(null==p?void 0:p.operation)}function Uc(m,h,p){return ha.apply(this,arguments)}function ha(){return(ha=(0,d.Z)(function*(m,h,p){const y=(0,j.m9)(m),T=Os.credentialWithLink(h,p||Dr());return Ie(T._tenantId===(y.tenantId||null),y,"tenant-id-mismatch"),sa(y,T)})).apply(this,arguments)}function Bc(m,h){return fa.apply(this,arguments)}function fa(){return(fa=(0,d.Z)(function*(m,h){return rn(m,"POST","/v1/accounts:createAuthUri",rt(m,h))})).apply(this,arguments)}function Wp(m,h){return jc.apply(this,arguments)}function jc(){return(jc=(0,d.Z)(function*(m,h){const y={identifier:h,continueUri:dn()?Dr():"http://localhost"},{signinMethods:T}=yield Bc((0,j.m9)(m),y);return T||[]})).apply(this,arguments)}function ns(m,h){return Io.apply(this,arguments)}function Io(){return(Io=(0,d.Z)(function*(m,h){const p=(0,j.m9)(m),T={requestType:"VERIFY_EMAIL",idToken:yield m.getIdToken()};h&&xi(p.auth,T,h);const{email:R}=yield bh(p.auth,T);R!==m.email&&(yield m.reload())})).apply(this,arguments)}function pa(m,h,p){return ga.apply(this,arguments)}function ga(){return(ga=(0,d.Z)(function*(m,h,p){const y=(0,j.m9)(m),R={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield m.getIdToken(),newEmail:h};p&&xi(y.auth,R,p);const{email:q}=yield Nc(y.auth,R);q!==m.email&&(yield m.reload())})).apply(this,arguments)}function Hc(m,h){return cl.apply(this,arguments)}function cl(){return(cl=(0,d.Z)(function*(m,h){return rn(m,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function _n(m,h){return rs.apply(this,arguments)}function rs(){return(rs=(0,d.Z)(function*(m,{displayName:h,photoURL:p}){if(void 0===h&&void 0===p)return;const y=(0,j.m9)(m),R={idToken:yield y.getIdToken(),displayName:h,photoUrl:p,returnSecureToken:!0},q=yield nt(y,Hc(y.auth,R));y.displayName=q.displayName||null,y.photoURL=q.photoUrl||null;const he=y.providerData.find(({providerId:$e})=>"password"===$e);he&&(he.displayName=y.displayName,he.photoURL=y.photoURL),yield y._updateTokensIfNecessary(q)})).apply(this,arguments)}function Dh(m,h){return To((0,j.m9)(m),h,null)}function Ih(m,h){return To((0,j.m9)(m),null,h)}function To(m,h,p){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,d.Z)(function*(m,h,p){const{auth:y}=m,R={idToken:yield m.getIdToken(),returnSecureToken:!0};h&&(R.email=h),p&&(R.password=p);const q=yield nt(m,xc(y,R));yield m._updateTokensIfNecessary(q,!0)})).apply(this,arguments)}class is{constructor(h,p,y={}){this.isNewUser=h,this.providerId=p,this.profile=y}}class Ah extends is{constructor(h,p,y,T){super(h,p,y),this.username=T}}class Sh extends is{constructor(h,p){super(h,"facebook.com",p)}}class dl extends Ah{constructor(h,p){super(h,"github.com",p,"string"==typeof(null==p?void 0:p.login)?null==p?void 0:p.login:null)}}class Hn extends is{constructor(h,p){super(h,"google.com",p)}}class Jt extends Ah{constructor(h,p,y){super(h,"twitter.com",p,y)}}function ma(m){const{user:h,_tokenResponse:p}=m;return h.isAnonymous&&!p?{providerId:null,isNewUser:!1,profile:null}:function Th(m){var h,p;if(!m)return null;const{providerId:y}=m,T=m.rawUserInfo?JSON.parse(m.rawUserInfo):{},R=m.isNewUser||"identitytoolkit#SignupNewUserResponse"===m.kind;if(!y&&(null==m?void 0:m.idToken)){const q=null===(p=null===(h=Re(m.idToken))||void 0===h?void 0:h.firebase)||void 0===p?void 0:p.sign_in_provider;if(q)return new is(R,"anonymous"!==q&&"custom"!==q?q:null)}if(!y)return null;switch(y){case"facebook.com":return new Sh(R,T);case"github.com":return new dl(R,T);case"google.com":return new Hn(R,T);case"twitter.com":return new Jt(R,T,m.screenName||null);case"custom":case"anonymous":return new is(R,null);default:return new is(R,y,T)}}(p)}class pt{constructor(h,p){this.type=h,this.credential=p}static _fromIdtoken(h){return new pt("enroll",h)}static _fromMfaPendingCredential(h){return new pt("signin",h)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(h){var p,y;if(null==h?void 0:h.multiFactorSession){if(null===(p=h.multiFactorSession)||void 0===p?void 0:p.pendingCredential)return pt._fromMfaPendingCredential(h.multiFactorSession.pendingCredential);if(null===(y=h.multiFactorSession)||void 0===y?void 0:y.idToken)return pt._fromIdtoken(h.multiFactorSession.idToken)}return null}}class Ws{constructor(h,p,y){this.session=h,this.hints=p,this.signInResolver=y}static _fromError(h,p){const y=Sn(h),T=p.customData._serverResponse,R=(T.mfaInfo||[]).map(he=>Us._fromServerResponse(y,he));Ie(T.mfaPendingCredential,y,"internal-error");const q=pt._fromMfaPendingCredential(T.mfaPendingCredential);return new Ws(q,R,function(){var he=(0,d.Z)(function*($e){const ke=yield $e._process(y,q);delete T.mfaInfo,delete T.mfaPendingCredential;const ct=Object.assign(Object.assign({},T),{idToken:ke.idToken,refreshToken:ke.refreshToken});switch(p.operationType){case"signIn":const Kt=yield nr._fromIdTokenResponse(y,p.operationType,ct);return yield y._updateCurrentUser(Kt.user),Kt;case"reauthenticate":return Ie(p.user,y,"internal-error"),nr._forOperation(p.user,p.operationType,ct);default:Gt(y,"internal-error")}});return function($e){return he.apply(this,arguments)}}())}resolveSignIn(h){var p=this;return(0,d.Z)(function*(){return p.signInResolver(h)})()}}function zc(m,h){var p;const y=(0,j.m9)(m),T=h;return Ie(h.customData.operationType,y,"argument-error"),Ie(null===(p=T.customData._serverResponse)||void 0===p?void 0:p.mfaPendingCredential,y,"argument-error"),Ws._fromError(y,T)}function au(m,h){return rn(m,"POST","/v2/accounts/mfaEnrollment:start",rt(m,h))}class ki{constructor(h){this.user=h,this.enrolledFactors=[],h._onReload(p=>{p.mfaInfo&&(this.enrolledFactors=p.mfaInfo.map(y=>Us._fromServerResponse(h.auth,y)))})}static _fromUser(h){return new ki(h)}getSession(){var h=this;return(0,d.Z)(function*(){return pt._fromIdtoken(yield h.user.getIdToken())})()}enroll(h,p){var y=this;return(0,d.Z)(function*(){const T=h,R=yield y.getSession(),q=yield nt(y.user,T._process(y.user.auth,R,p));return yield y.user._updateTokensIfNecessary(q),y.user.reload()})()}unenroll(h){var p=this;return(0,d.Z)(function*(){const y="string"==typeof h?h:h.uid,T=yield p.user.getIdToken(),R=yield nt(p.user,function hl(m,h){return rn(m,"POST","/v2/accounts/mfaEnrollment:withdraw",rt(m,h))}(p.user.auth,{idToken:T,mfaEnrollmentId:y}));p.enrolledFactors=p.enrolledFactors.filter(({uid:q})=>q!==y),yield p.user._updateTokensIfNecessary(R);try{yield p.user.reload()}catch(q){if("auth/user-token-expired"!==q.code)throw q}})()}}const Fr=new WeakMap;function mr(m){const h=(0,j.m9)(m);return Fr.has(h)||Fr.set(h,ki._fromUser(h)),Fr.get(h)}const _a="__sak";class Lr{constructor(h,p){this.storageRetriever=h,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem(_a,"1"),this.storage.removeItem(_a),Promise.resolve(!0)):Promise.resolve(!1)}catch(h){return Promise.resolve(!1)}}_set(h,p){return this.storage.setItem(h,JSON.stringify(p)),Promise.resolve()}_get(h){const p=this.storage.getItem(h);return Promise.resolve(p?JSON.parse(p):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const li=(()=>{class m extends Lr{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(p,y)=>this.onStorageEvent(p,y),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function fl(){const m=(0,j.z$)();return Yi(m)||zr(m)}()&&function Zr(){try{return!(!window||window===window.top)}catch(m){return!1}}(),this.fallbackToPolling=Qa(),this._shouldAllowMigration=!0}forAllChangedKeys(p){for(const y of Object.keys(this.listeners)){const T=this.storage.getItem(y),R=this.localCache[y];T!==R&&p(y,R,T)}}onStorageEvent(p,y=!1){if(!p.key)return void this.forAllChangedKeys((he,$e,ke)=>{this.notifyListeners(he,ke)});const T=p.key;if(y?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const he=this.storage.getItem(T);if(p.newValue!==he)null!==p.newValue?this.storage.setItem(T,p.newValue):this.storage.removeItem(T);else if(this.localCache[T]===p.newValue&&!y)return}const R=()=>{const he=this.storage.getItem(T);!y&&this.localCache[T]===he||this.notifyListeners(T,he)},q=this.storage.getItem(T);!function ea(){return(0,j.w1)()&&10===document.documentMode}()||q===p.newValue||p.newValue===p.oldValue?R():setTimeout(R,10)}notifyListeners(p,y){this.localCache[p]=y;const T=this.listeners[p];if(T)for(const R of Array.from(T))R(y&&JSON.parse(y))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,y,T)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:y,newValue:T}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,y){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(y)}_removeListener(p,y){this.listeners[p]&&(this.listeners[p].delete(y),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,y){var T=()=>super._set,R=this;return(0,d.Z)(function*(){yield T().call(R,p,y),R.localCache[p]=JSON.stringify(y)})()}_get(p){var y=()=>super._get,T=this;return(0,d.Z)(function*(){const R=yield y().call(T,p);return T.localCache[p]=JSON.stringify(R),R})()}_remove(p){var y=()=>super._remove,T=this;return(0,d.Z)(function*(){yield y().call(T,p),delete T.localCache[p]})()}}return m.type="LOCAL",m})(),yn=(()=>{class m extends Lr{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(p,y){}_removeListener(p,y){}}return m.type="SESSION",m})();let lu=(()=>{class m{constructor(p){this.eventTarget=p,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(p){const y=this.receivers.find(R=>R.isListeningto(p));if(y)return y;const T=new m(p);return this.receivers.push(T),T}isListeningto(p){return this.eventTarget===p}handleEvent(p){var y=this;return(0,d.Z)(function*(){const T=p,{eventId:R,eventType:q,data:he}=T.data,$e=y.handlersMap[q];if(!(null==$e?void 0:$e.size))return;T.ports[0].postMessage({status:"ack",eventId:R,eventType:q});const ke=Array.from($e).map(function(){var Kt=(0,d.Z)(function*(Yt){return Yt(T.origin,he)});return function(Yt){return Kt.apply(this,arguments)}}()),ct=yield function ss(m){return Promise.all(m.map(function(){var h=(0,d.Z)(function*(p){try{return{fulfilled:!0,value:yield p}}catch(y){return{fulfilled:!1,reason:y}}});return function(p){return h.apply(this,arguments)}}()))}(ke);T.ports[0].postMessage({status:"done",eventId:R,eventType:q,response:ct})})()}_subscribe(p,y){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[p]||(this.handlersMap[p]=new Set),this.handlersMap[p].add(y)}_unsubscribe(p,y){this.handlersMap[p]&&y&&this.handlersMap[p].delete(y),(!y||0===this.handlersMap[p].size)&&delete this.handlersMap[p],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return m.receivers=[],m})();function Vr(m="",h=10){let p="";for(let y=0;y<h;y++)p+=Math.floor(10*Math.random());return m+p}class os{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,p,y=50){var T=this;return(0,d.Z)(function*(){const R="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!R)throw new Error("connection_unavailable");let q,he;return new Promise(($e,ke)=>{const ct=Vr("",20);R.port1.start();const Kt=setTimeout(()=>{ke(new Error("unsupported_event"))},y);he={messageChannel:R,onMessage(Yt){const tn=Yt;if(tn.data.eventId===ct)switch(tn.data.status){case"ack":clearTimeout(Kt),q=setTimeout(()=>{ke(new Error("timeout"))},3e3);break;case"done":clearTimeout(q),$e(tn.data.response);break;default:clearTimeout(Kt),clearTimeout(q),ke(new Error("invalid_response"))}}},T.handlers.add(he),R.port1.addEventListener("message",he.onMessage),T.target.postMessage({eventType:h,eventId:ct,data:p},[R.port2])}).finally(()=>{he&&T.removeMessageHandler(he)})})()}}function En(){return window}function Li(){return void 0!==En().WorkerGlobalScope&&"function"==typeof En().importScripts}function Jr(){return(Jr=(0,d.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(m){return null}})).apply(this,arguments)}const Vi="firebaseLocalStorageDb",gl="firebaseLocalStorage",ml="fbase_key";class Xt{constructor(h){this.request=h}toPromise(){return new Promise((h,p)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function zs(m,h){return m.transaction([gl],h?"readwrite":"readonly").objectStore(gl)}function uu(){const m=indexedDB.open(Vi,1);return new Promise((h,p)=>{m.addEventListener("error",()=>{p(m.error)}),m.addEventListener("upgradeneeded",()=>{const y=m.result;try{y.createObjectStore(gl,{keyPath:ml})}catch(T){p(T)}}),m.addEventListener("success",(0,d.Z)(function*(){const y=m.result;y.objectStoreNames.contains(gl)?h(y):(y.close(),yield function Mh(){const m=indexedDB.deleteDatabase(Vi);return new Xt(m).toPromise()}(),h(yield uu()))}))})}function cu(m,h,p){return du.apply(this,arguments)}function du(){return(du=(0,d.Z)(function*(m,h,p){const y=zs(m,!0).put({[ml]:h,value:p});return new Xt(y).toPromise()})).apply(this,arguments)}function Ca(){return(Ca=(0,d.Z)(function*(m,h){const p=zs(m,!1).get(h),y=yield new Xt(p).toPromise();return void 0===y?null:y.value})).apply(this,arguments)}function Ui(m,h){const p=zs(m,!0).delete(h);return new Xt(p).toPromise()}const us=(()=>{class m{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var p=this;return(0,d.Z)(function*(){return p.db||(p.db=yield uu()),p.db})()}_withRetries(p){var y=this;return(0,d.Z)(function*(){let T=0;for(;;)try{const R=yield y._openDb();return yield p(R)}catch(R){if(T++>3)throw R;y.db&&(y.db.close(),y.db=void 0)}})()}initializeServiceWorkerMessaging(){var p=this;return(0,d.Z)(function*(){return Li()?p.initializeReceiver():p.initializeSender()})()}initializeReceiver(){var p=this;return(0,d.Z)(function*(){p.receiver=lu._getInstance(function Mo(){return Li()?self:null}()),p.receiver._subscribe("keyChanged",function(){var y=(0,d.Z)(function*(T,R){return{keyProcessed:(yield p._poll()).includes(R.key)}});return function(T,R){return y.apply(this,arguments)}}()),p.receiver._subscribe("ping",function(){var y=(0,d.Z)(function*(T,R){return["keyChanged"]});return function(T,R){return y.apply(this,arguments)}}())})()}initializeSender(){var p=this;return(0,d.Z)(function*(){var y,T;if(p.activeServiceWorker=yield function as(){return Jr.apply(this,arguments)}(),!p.activeServiceWorker)return;p.sender=new os(p.activeServiceWorker);const R=yield p.sender._send("ping",{},800);!R||(null===(y=R[0])||void 0===y?void 0:y.fulfilled)&&(null===(T=R[0])||void 0===T?void 0:T.value.includes("keyChanged"))&&(p.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(p){var y=this;return(0,d.Z)(function*(){if(y.sender&&y.activeServiceWorker&&function ls(){var m;return(null===(m=null==navigator?void 0:navigator.serviceWorker)||void 0===m?void 0:m.controller)||null}()===y.activeServiceWorker)try{yield y.sender._send("keyChanged",{key:p},y.serviceWorkerReceiverAvailable?800:50)}catch(T){}})()}_isAvailable(){return(0,d.Z)(function*(){try{if(!indexedDB)return!1;const p=yield uu();return yield cu(p,_a,"1"),yield Ui(p,_a),!0}catch(p){}return!1})()}_withPendingWrite(p){var y=this;return(0,d.Z)(function*(){y.pendingWrites++;try{yield p()}finally{y.pendingWrites--}})()}_set(p,y){var T=this;return(0,d.Z)(function*(){return T._withPendingWrite((0,d.Z)(function*(){return yield T._withRetries(R=>cu(R,p,y)),T.localCache[p]=y,T.notifyServiceWorker(p)}))})()}_get(p){var y=this;return(0,d.Z)(function*(){const T=yield y._withRetries(R=>function hu(m,h){return Ca.apply(this,arguments)}(R,p));return y.localCache[p]=T,T})()}_remove(p){var y=this;return(0,d.Z)(function*(){return y._withPendingWrite((0,d.Z)(function*(){return yield y._withRetries(T=>Ui(T,p)),delete y.localCache[p],y.notifyServiceWorker(p)}))})()}_poll(){var p=this;return(0,d.Z)(function*(){const y=yield p._withRetries(q=>{const he=zs(q,!1).getAll();return new Xt(he).toPromise()});if(!y)return[];if(0!==p.pendingWrites)return[];const T=[],R=new Set;for(const{fbase_key:q,value:he}of y)R.add(q),JSON.stringify(p.localCache[q])!==JSON.stringify(he)&&(p.notifyListeners(q,he),T.push(q));for(const q of Object.keys(p.localCache))p.localCache[q]&&!R.has(q)&&(p.notifyListeners(q,null),T.push(q));return T})()}notifyListeners(p,y){this.localCache[p]=y;const T=this.listeners[p];if(T)for(const R of Array.from(T))R(y)}startPolling(){var p=this;this.stopPolling(),this.pollTimer=setInterval((0,d.Z)(function*(){return p._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(p,y){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[p]||(this.listeners[p]=new Set,this._get(p)),this.listeners[p].add(y)}_removeListener(p,y){this.listeners[p]&&(this.listeners[p].delete(y),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return m.type="LOCAL",m})();function qc(m,h){return rn(m,"POST","/v2/accounts/mfaSignIn:start",rt(m,h))}function an(){return(an=(0,d.Z)(function*(m){return(yield rn(m,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function ba(m){return new Promise((h,p)=>{const y=document.createElement("script");y.setAttribute("src",m),y.onload=h,y.onerror=T=>{const R=An("internal-error");R.customData=T,p(R)},y.type="text/javascript",y.charset="UTF-8",function Ea(){var m,h;return null!==(h=null===(m=document.getElementsByTagName("head"))||void 0===m?void 0:m[0])&&void 0!==h?h:document}().appendChild(y)})}function Zs(m){return`__${m}${Math.floor(1e6*Math.random())}`}const Bi=1e12;class Po{constructor(h){this.auth=h,this.counter=Bi,this._widgets=new Map}render(h,p){const y=this.counter;return this._widgets.set(y,new gu(h,this.auth.name,p||{})),this.counter++,y}reset(h){var p;const y=h||Bi;null===(p=this._widgets.get(y))||void 0===p||p.delete(),this._widgets.delete(y)}getResponse(h){var p;return(null===(p=this._widgets.get(h||Bi))||void 0===p?void 0:p.getResponse())||""}execute(h){var p=this;return(0,d.Z)(function*(){var y;return null===(y=p._widgets.get(h||Bi))||void 0===y||y.execute(),""})()}}class gu{constructor(h,p,y){this.params=y,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const T="string"==typeof h?document.getElementById(h):h;Ie(T,"argument-error",{appName:p}),this.container=T,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function qs(m){const h=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let y=0;y<m;y++)h.push(p.charAt(Math.floor(Math.random()*p.length)));return h.join("")}(50);const{callback:h,"expired-callback":p}=this.params;if(h)try{h(this.responseToken)}catch(y){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,p)try{p()}catch(y){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ir=Zs("rcb"),Da=new Ct(3e4,6e4);class G_{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!En().grecaptcha}load(h,p=""){return Ie(function Rh(m){return m.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(m)}(p),h,"argument-error"),this.shouldResolveImmediately(p)?Promise.resolve(En().grecaptcha):new Promise((y,T)=>{const R=En().setTimeout(()=>{T(An(h,"network-request-failed"))},Da.get());En()[ir]=()=>{En().clearTimeout(R),delete En()[ir];const he=En().grecaptcha;if(!he)return void T(An(h,"internal-error"));const $e=he.render;he.render=(ke,ct)=>{const Kt=$e(ke,ct);return this.counter++,Kt},this.hostLanguage=p,y(he)},ba(`https://www.google.com/recaptcha/api.js??${(0,j.xO)({onload:ir,render:"explicit",hl:p})}`).catch(()=>{clearTimeout(R),T(An(h,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(h){return!!En().grecaptcha&&(h===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Gp{load(h){return(0,d.Z)(function*(){return new Po(h)})()}clearedOneInstance(){}}const Kc="recaptcha",Yc={theme:"light",type:"image"};class ds{constructor(h,p=Object.assign({},Yc),y){this.parameters=p,this.type=Kc,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Sn(y),this.isInvisible="invisible"===this.parameters.size,Ie("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const T="string"==typeof h?document.getElementById(h):h;Ie(T,this.auth,"argument-error"),this.container=T,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Gp:new G_,this.validateStartingState()}verify(){var h=this;return(0,d.Z)(function*(){h.assertNotDestroyed();const p=yield h.render(),y=h.getAssertedRecaptcha();return y.getResponse(p)||new Promise(R=>{const q=he=>{!he||(h.tokenChangeListeners.delete(q),R(he))};h.tokenChangeListeners.add(q),h.isInvisible&&y.execute(p)})})()}render(){try{this.assertNotDestroyed()}catch(h){return Promise.reject(h)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(h=>{throw this.renderPromise=null,h})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(h=>{this.container.removeChild(h)})}validateStartingState(){Ie(!this.parameters.sitekey,this.auth,"argument-error"),Ie(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ie("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(h){return p=>{if(this.tokenChangeListeners.forEach(y=>y(p)),"function"==typeof h)h(p);else if("string"==typeof h){const y=En()[h];"function"==typeof y&&y(p)}}}assertNotDestroyed(){Ie(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var h=this;return(0,d.Z)(function*(){if(yield h.init(),!h.widgetId){let p=h.container;if(!h.isInvisible){const y=document.createElement("div");p.appendChild(y),p=y}h.widgetId=h.getAssertedRecaptcha().render(p,h.parameters)}return h.widgetId})()}init(){var h=this;return(0,d.Z)(function*(){Ie(dn()&&!Li(),h.auth,"internal-error"),yield function mu(){let m=null;return new Promise(h=>{"complete"!==document.readyState?(m=()=>h(),window.addEventListener("load",m)):h()}).catch(h=>{throw m&&window.removeEventListener("load",m),h})}(),h.recaptcha=yield h._recaptchaLoader.load(h.auth,h.auth.languageCode||void 0);const p=yield function Yn(m){return an.apply(this,arguments)}(h.auth);Ie(p,h.auth,"internal-error"),h.parameters.sitekey=p})()}getAssertedRecaptcha(){return Ie(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ia{constructor(h,p){this.verificationId=h,this.onConfirmation=p}confirm(h){const p=Pt._fromVerification(this.verificationId,h);return this.onConfirmation(p)}}function _l(m,h,p){return _r.apply(this,arguments)}function _r(){return(_r=(0,d.Z)(function*(m,h,p){const y=Sn(m),T=yield hs(y,h,(0,j.m9)(p));return new Ia(T,R=>sa(y,R))})).apply(this,arguments)}function Ta(m,h,p){return dr.apply(this,arguments)}function dr(){return(dr=(0,d.Z)(function*(m,h,p){const y=(0,j.m9)(m);yield Oi(!1,y,"phone");const T=yield hs(y.auth,h,(0,j.m9)(p));return new Ia(T,R=>wo(y,R))})).apply(this,arguments)}function Oo(m,h,p){return xo.apply(this,arguments)}function xo(){return(xo=(0,d.Z)(function*(m,h,p){const y=(0,j.m9)(m),T=yield hs(y.auth,h,(0,j.m9)(p));return new Ia(T,R=>ai(y,R))})).apply(this,arguments)}function hs(m,h,p){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,d.Z)(function*(m,h,p){var y;const T=yield p.verify();try{let R;if(Ie("string"==typeof T,m,"argument-error"),Ie(p.type===Kc,m,"argument-error"),R="string"==typeof h?{phoneNumber:h}:h,"session"in R){const q=R.session;if("phoneNumber"in R)return Ie("enroll"===q.type,m,"internal-error"),(yield au(m,{idToken:q.credential,phoneEnrollmentInfo:{phoneNumber:R.phoneNumber,recaptchaToken:T}})).phoneSessionInfo.sessionInfo;{Ie("signin"===q.type,m,"internal-error");const he=(null===(y=R.multiFactorHint)||void 0===y?void 0:y.uid)||R.multiFactorUid;return Ie(he,m,"missing-multi-factor-info"),(yield qc(m,{mfaPendingCredential:q.credential,mfaEnrollmentId:he,phoneSignInInfo:{recaptchaToken:T}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:q}=yield nl(m,{phoneNumber:R.phoneNumber,recaptchaToken:T});return q}}finally{p._reset()}})).apply(this,arguments)}function Qc(m,h){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,d.Z)(function*(m,h){yield ks((0,j.m9)(m),h)})).apply(this,arguments)}let b=(()=>{class m{constructor(p){this.providerId=m.PROVIDER_ID,this.auth=Sn(p)}verifyPhoneNumber(p,y){return hs(this.auth,p,(0,j.m9)(y))}static credential(p,y){return Pt._fromVerification(p,y)}static credentialFromResult(p){return m.credentialFromTaggedObject(p)}static credentialFromError(p){return m.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{phoneNumber:y,temporaryProof:T}=p;return y&&T?Pt._fromTokenResponse(y,T):null}}return m.PROVIDER_ID="phone",m.PHONE_SIGN_IN_METHOD="phone",m})();function D(m,h){return h?zt(h):(Ie(m._popupRedirectResolver,m,"argument-error"),m._popupRedirectResolver)}class M extends po{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return Ri(h,this._buildIdpRequest())}_linkToIdToken(h,p){return Ri(h,this._buildIdpRequest(p))}_getReauthenticationResolver(h){return Ri(h,this._buildIdpRequest())}_buildIdpRequest(h){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(p.idToken=h),p}}function U(m){return bo(m.auth,new M(m),m.bypassAuthState)}function K(m){const{auth:h,user:p}=m;return Ie(p,h,"internal-error"),gr(p,new M(m),m.bypassAuthState)}function te(m){return De.apply(this,arguments)}function De(){return(De=(0,d.Z)(function*(m){const{auth:h,user:p}=m;return Ie(p,h,"internal-error"),ks(p,new M(m),m.bypassAuthState)})).apply(this,arguments)}class Ge{constructor(h,p,y,T,R=!1){this.auth=h,this.resolver=y,this.user=T,this.bypassAuthState=R,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var h=this;return new Promise(function(){var p=(0,d.Z)(function*(y,T){h.pendingPromise={resolve:y,reject:T};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(R){h.reject(R)}});return function(y,T){return p.apply(this,arguments)}}())}onAuthEvent(h){var p=this;return(0,d.Z)(function*(){const{urlResponse:y,sessionId:T,postBody:R,tenantId:q,error:he,type:$e}=h;if(he)return void p.reject(he);const ke={auth:p.auth,requestUri:y,sessionId:T,tenantId:q||void 0,postBody:R||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask($e)(ke))}catch(ct){p.reject(ct)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return U;case"linkViaPopup":case"linkViaRedirect":return te;case"reauthViaPopup":case"reauthViaRedirect":return K;default:Gt(this.auth,"internal-error")}}resolve(h){qe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){qe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const dt=new Ct(2e3,1e4);function ft(m,h,p){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,d.Z)(function*(m,h,p){const y=Sn(m);ar(m,h,qn);const T=D(y,p);return new yr(y,"signInViaPopup",h,T).executeNotNull()})).apply(this,arguments)}function yt(m,h,p){return xn.apply(this,arguments)}function xn(){return(xn=(0,d.Z)(function*(m,h,p){const y=(0,j.m9)(m);ar(y.auth,h,qn);const T=D(y.auth,p);return new yr(y.auth,"reauthViaPopup",h,T,y).executeNotNull()})).apply(this,arguments)}function en(m,h,p){return ui.apply(this,arguments)}function ui(){return(ui=(0,d.Z)(function*(m,h,p){const y=(0,j.m9)(m);ar(y.auth,h,qn);const T=D(y.auth,p);return new yr(y.auth,"linkViaPopup",h,T,y).executeNotNull()})).apply(this,arguments)}let yr=(()=>{class m extends Ge{constructor(p,y,T,R,q){super(p,y,R,q),this.provider=T,this.authWindow=null,this.pollId=null,m.currentPopupAction&&m.currentPopupAction.cancel(),m.currentPopupAction=this}executeNotNull(){var p=this;return(0,d.Z)(function*(){const y=yield p.execute();return Ie(y,p.auth,"internal-error"),y})()}onExecution(){var p=this;return(0,d.Z)(function*(){qe(1===p.filter.length,"Popup operations only handle one event");const y=Vr();p.authWindow=yield p.resolver._openPopup(p.auth,p.provider,p.filter[0],y),p.authWindow.associatedEvent=y,p.resolver._originValidation(p.auth).catch(T=>{p.reject(T)}),p.resolver._isIframeWebStorageSupported(p.auth,T=>{T||p.reject(An(p.auth,"web-storage-unsupported"))}),p.pollUserCancellation()})()}get eventId(){var p;return(null===(p=this.authWindow)||void 0===p?void 0:p.associatedEvent)||null}cancel(){this.reject(An(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,m.currentPopupAction=null}pollUserCancellation(){const p=()=>{var y,T;this.pollId=(null===(T=null===(y=this.authWindow)||void 0===y?void 0:y.window)||void 0===T?void 0:T.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(An(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(p,dt.get())};p()}}return m.currentPopupAction=null,m})();const Xr=new Map;class ci extends Ge{constructor(h,p,y=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,y),this.eventId=null}execute(){var h=()=>super.execute,p=this;return(0,d.Z)(function*(){let y=Xr.get(p.auth._key());if(!y){try{const R=(yield function Ys(m,h){return Sa.apply(this,arguments)}(p.resolver,p.auth))?yield h().call(p):null;y=()=>Promise.resolve(R)}catch(T){y=()=>Promise.reject(T)}Xr.set(p.auth._key(),y)}return p.bypassAuthState||Xr.set(p.auth._key(),()=>Promise.resolve(null)),y()})()}onAuthEvent(h){var p=()=>super.onAuthEvent,y=this;return(0,d.Z)(function*(){if("signInViaRedirect"===h.type)return p().call(y,h);if("unknown"!==h.type){if(h.eventId){const T=yield y.auth._redirectUserForId(h.eventId);if(T)return y.user=T,p().call(y,h);y.resolve(null)}}else y.resolve(null)})()}onExecution(){return(0,d.Z)(function*(){})()}cleanUp(){}}function Sa(){return(Sa=(0,d.Z)(function*(m,h){const p=Ph(h),y=Qs(m);if(!(yield y._isAvailable()))return!1;const T="true"===(yield y._get(p));return yield y._remove(p),T})).apply(this,arguments)}function _u(m,h){return yl.apply(this,arguments)}function yl(){return(yl=(0,d.Z)(function*(m,h){return Qs(m)._set(Ph(h),"true")})).apply(this,arguments)}function No(){Xr.clear()}function Qs(m){return zt(m._redirectPersistence)}function Ph(m){return qt("pendingRedirect",m.config.apiKey,m.name)}function zp(m,h,p){return function Jc(m,h,p){return yu.apply(this,arguments)}(m,h,p)}function yu(){return(yu=(0,d.Z)(function*(m,h,p){const y=Sn(m);ar(m,h,qn);const T=D(y,p);return yield _u(T,y),T._openRedirect(y,h,"signInViaRedirect")})).apply(this,arguments)}function Oh(m,h,p){return function ji(m,h,p){return Ma.apply(this,arguments)}(m,h,p)}function Ma(){return(Ma=(0,d.Z)(function*(m,h,p){const y=(0,j.m9)(m);ar(y.auth,h,qn);const T=D(y.auth,p);yield _u(T,y.auth);const R=yield Eu(y);return T._openRedirect(y.auth,h,"reauthViaRedirect",R)})).apply(this,arguments)}function Zp(m,h,p){return function vu(m,h,p){return fs.apply(this,arguments)}(m,h,p)}function fs(){return(fs=(0,d.Z)(function*(m,h,p){const y=(0,j.m9)(m);ar(y.auth,h,qn);const T=D(y.auth,p);yield Oi(!1,y,h.providerId),yield _u(T,y.auth);const R=yield Eu(y);return T._openRedirect(y.auth,h,"linkViaRedirect",R)})).apply(this,arguments)}function Js(m,h){return Cu.apply(this,arguments)}function Cu(){return(Cu=(0,d.Z)(function*(m,h){return yield Sn(m)._initializationPromise,xh(m,h,!1)})).apply(this,arguments)}function xh(m,h){return qp.apply(this,arguments)}function qp(){return(qp=(0,d.Z)(function*(m,h,p=!1){const y=Sn(m),T=D(y,h),q=yield new ci(y,T,p).execute();return q&&!p&&(delete q.user._redirectEventId,yield y._persistUserIfCurrent(q.user),yield y._setRedirectUser(null,h)),q})).apply(this,arguments)}function Eu(m){return bu.apply(this,arguments)}function bu(){return(bu=(0,d.Z)(function*(m){const h=Vr(`${m.uid}:::`);return m._redirectEventId=h,yield m.auth._setRedirectUser(m),yield m.auth._persistUserIfCurrent(m),h})).apply(this,arguments)}class wu{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let p=!1;return this.consumers.forEach(y=>{this.isEventForConsumer(h,y)&&(p=!0,this.sendToConsumer(h,y),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function kh(m){switch(m.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Du(m);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=h,p=!0)),p}sendToConsumer(h,p){var y;if(h.error&&!Du(h)){const T=(null===(y=h.error.code)||void 0===y?void 0:y.split("auth/")[1])||"internal-error";p.onError(An(this.auth,T))}else p.onAuthEvent(h)}isEventForConsumer(h,p){const y=null===p.eventId||!!h.eventId&&h.eventId===p.eventId;return p.filter.includes(h.type)&&y}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Xc(h))}saveEventToCache(h){this.cachedEventUids.add(Xc(h)),this.lastProcessedEventTime=Date.now()}}function Xc(m){return[m.type,m.eventId,m.sessionId,m.tenantId].filter(h=>h).join("-")}function Du({type:m,error:h}){return"unknown"===m&&"auth/no-auth-event"===(null==h?void 0:h.code)}function ed(m){return td.apply(this,arguments)}function td(){return(td=(0,d.Z)(function*(m,h={}){return rn(m,"GET","/v1/projects",h)})).apply(this,arguments)}const Fh=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Kp=/^https?/;function Xs(){return(Xs=(0,d.Z)(function*(m){if(m.config.emulator)return;const{authorizedDomains:h}=yield ed(m);for(const p of h)try{if(Yp(p))return}catch(y){}Gt(m,"unauthorized-domain")})).apply(this,arguments)}function Yp(m){const h=Dr(),{protocol:p,hostname:y}=new URL(h);if(m.startsWith("chrome-extension://")){const q=new URL(m);return""===q.hostname&&""===y?"chrome-extension:"===p&&m.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===p&&q.hostname===y}if(!Kp.test(p))return!1;if(Fh.test(m))return y===m;const T=m.replace(/\./g,"\\.");return new RegExp("^(.+\\."+T+"|"+T+")$","i").test(y)}const Qp=new Ct(3e4,6e4);function Jp(){const m=En().___jsl;if(null==m?void 0:m.H)for(const h of Object.keys(m.H))if(m.H[h].r=m.H[h].r||[],m.H[h].L=m.H[h].L||[],m.H[h].r=[...m.H[h].L],m.CP)for(let p=0;p<m.CP.length;p++)m.CP[p]=null}let vl=null;function z_(m){return vl=vl||function Xp(m){return new Promise((h,p)=>{var y,T,R;function q(){Jp(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{Jp(),p(An(m,"network-request-failed"))},timeout:Qp.get()})}if(null===(T=null===(y=En().gapi)||void 0===y?void 0:y.iframes)||void 0===T?void 0:T.Iframe)h(gapi.iframes.getContext());else{if(!(null===(R=En().gapi)||void 0===R?void 0:R.load)){const he=Zs("iframefcb");return En()[he]=()=>{gapi.load?q():p(An(m,"network-request-failed"))},ba(`https://apis.google.com/js/api.js?onload=${he}`).catch($e=>p($e))}q()}}).catch(h=>{throw vl=null,h})}(m),vl}const nd=new Ct(5e3,15e3),tg={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},rd=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Z_(m){const h=m.config;Ie(h.authDomain,m,"auth-domain-config-required");const p=h.emulator?Qe(h,"emulator/auth/iframe"):`https://${m.config.authDomain}/__/auth/iframe`,y={apiKey:h.apiKey,appName:m.name,v:P.SDK_VERSION},T=rd.get(m.config.apiHost);T&&(y.eid=T);const R=m._getFrameworks();return R.length&&(y.fw=R.join(",")),`${p}?${(0,j.xO)(y).slice(1)}`}function Fo(){return Fo=(0,d.Z)(function*(m){const h=yield z_(m),p=En().gapi;return Ie(p,m,"internal-error"),h.open({where:document.body,url:Z_(m),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:tg,dontclear:!0},y=>new Promise(function(){var T=(0,d.Z)(function*(R,q){yield y.restyle({setHideOnLeave:!1});const he=An(m,"network-request-failed"),$e=En().setTimeout(()=>{q(he)},nd.get());function ke(){En().clearTimeout($e),R(y)}y.ping(ke).then(ke,()=>{q(he)})});return function(R,q){return T.apply(this,arguments)}}()))}),Fo.apply(this,arguments)}const Lh={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ra{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(h){}}}function Tu(m,h,p,y,T,R){Ie(m.config.authDomain,m,"auth-domain-config-required"),Ie(m.config.apiKey,m,"invalid-api-key");const q={apiKey:m.config.apiKey,appName:m.name,authType:p,redirectUrl:y,v:P.SDK_VERSION,eventId:T};if(h instanceof qn){h.setDefaultLanguage(m.languageCode),q.providerId=h.providerId||"",(0,j.xb)(h.getCustomParameters())||(q.customParameters=JSON.stringify(h.getCustomParameters()));for(const[$e,ke]of Object.entries(R||{}))q[$e]=ke}if(h instanceof tr){const $e=h.getScopes().filter(ke=>""!==ke);$e.length>0&&(q.scopes=$e.join(","))}m.tenantId&&(q.tid=m.tenantId);const he=q;for(const $e of Object.keys(he))void 0===he[$e]&&delete he[$e];return`${function El({config:m}){return m.emulator?Qe(m,"emulator/auth/handler"):`https://${m.authDomain}/__/auth/handler`}(m)}?${(0,j.xO)(he).slice(1)}`}const ad="webStorageSupport",Au=class ig{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=yn,this._completeRedirectFn=xh}_openPopup(h,p,y,T){var R=this;return(0,d.Z)(function*(){var q;qe(null===(q=R.eventManagers[h._key()])||void 0===q?void 0:q.manager,"_initialize() not called before _openPopup()");const he=Tu(h,p,y,Dr(),T);return function ng(m,h,p,y=500,T=600){const R=Math.max((window.screen.availHeight-T)/2,0).toString(),q=Math.max((window.screen.availWidth-y)/2,0).toString();let he="";const $e=Object.assign(Object.assign({},Lh),{width:y.toString(),height:T.toString(),top:R,left:q}),ke=(0,j.z$)().toLowerCase();p&&(he=vi(ke)?"_blank":p),_t(ke)&&(h=h||"http://localhost",$e.scrollbars="yes");const ct=Object.entries($e).reduce((Yt,[tn,ps])=>`${Yt}${tn}=${ps},`,"");if(function sn(m=(0,j.z$)()){var h;return zr(m)&&!!(null===(h=window.navigator)||void 0===h?void 0:h.standalone)}(ke)&&"_self"!==he)return function q_(m,h){const p=document.createElement("a");p.href=m,p.target=h;const y=document.createEvent("MouseEvent");y.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(y)}(h||"",he),new Ra(null);const Kt=window.open(h||"",he,ct);Ie(Kt,m,"popup-blocked");try{Kt.focus()}catch(Yt){}return new Ra(Kt)}(h,he,Vr())})()}_openRedirect(h,p,y,T){var R=this;return(0,d.Z)(function*(){return yield R._originValidation(h),function va(m){En().location.href=m}(Tu(h,p,y,Dr(),T)),new Promise(()=>{})})()}_initialize(h){const p=h._key();if(this.eventManagers[p]){const{manager:T,promise:R}=this.eventManagers[p];return T?Promise.resolve(T):(qe(R,"If manager is not set, promise should be"),R)}const y=this.initAndGetManager(h);return this.eventManagers[p]={promise:y},y.catch(()=>{delete this.eventManagers[p]}),y}initAndGetManager(h){var p=this;return(0,d.Z)(function*(){const y=yield function id(m){return Fo.apply(this,arguments)}(h),T=new wu(h);return y.register("authEvent",R=>(Ie(null==R?void 0:R.authEvent,h,"invalid-auth-event"),{status:T.onEvent(R.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[h._key()]={manager:T},p.iframes[h._key()]=y,T})()}_isIframeWebStorageSupported(h,p){this.iframes[h._key()].send(ad,{type:ad},T=>{var R;const q=null===(R=null==T?void 0:T[0])||void 0===R?void 0:R[ad];void 0!==q&&p(!!q),Gt(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const p=h._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function ko(m){return Xs.apply(this,arguments)}(h)),this.originValidationPromises[p]}get _shouldInitProactively(){return Qa()||Yi()||zr()}};class ld extends class bl{constructor(h){this.factorId=h}_process(h,p,y){switch(p.type){case"enroll":return this._finalizeEnroll(h,p.credential,y);case"signin":return this._finalizeSignIn(h,p.credential);default:return Vn("unexpected MultiFactorSessionType")}}}{constructor(h){super("phone"),this.credential=h}static _fromCredential(h){return new ld(h)}_finalizeEnroll(h,p,y){return function Gs(m,h){return rn(m,"POST","/v2/accounts/mfaEnrollment:finalize",rt(m,h))}(h,{idToken:p,displayName:y,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(h,p){return function fu(m,h){return rn(m,"POST","/v2/accounts/mfaSignIn:finalize",rt(m,h))}(h,{mfaPendingCredential:p,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Uh=(()=>{class m{constructor(){}static assertion(p){return ld._fromCredential(p)}}return m.FACTOR_ID="phone",m})();var Bh="@firebase/auth",Su="0.19.12";class Mu{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var p=this;return(0,d.Z)(function*(){return p.assertAuthConfigured(),yield p.auth._initializationPromise,p.auth.currentUser?{accessToken:yield p.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const p=this.auth.onIdTokenChanged(y=>{var T;h((null===(T=y)||void 0===T?void 0:T.stsTokenManager.accessToken)||null)});this.internalListeners.set(h,p),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const p=this.internalListeners.get(h);!p||(this.internalListeners.delete(h),p(),this.updateProactiveRefresh())}assertAuthConfigured(){Ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}!function wl(m){(0,P._registerComponent)(new ae.wA("auth",(h,{options:p})=>{const y=h.getProvider("app").getImmediate(),T=h.getProvider("heartbeat"),{apiKey:R,authDomain:q}=y.options;return((he,$e)=>{Ie(R&&!R.includes(":"),"invalid-api-key",{appName:he.name}),Ie(!(null==q?void 0:q.includes(":")),"argument-error",{appName:he.name});const ke={apiKey:R,authDomain:q,clientPlatform:m,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qr(m)},ct=new Kl(he,$e,ke);return function zn(m,h){const p=(null==h?void 0:h.persistence)||[],y=(Array.isArray(p)?p:[p]).map(zt);(null==h?void 0:h.errorMap)&&m._updateErrorMap(h.errorMap),m._initializeWithPersistence(y,null==h?void 0:h.popupRedirectResolver)}(ct,p),ct})(y,T)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,p,y)=>{h.getProvider("auth-internal").initialize()})),(0,P._registerComponent)(new ae.wA("auth-internal",h=>{const p=Sn(h.getProvider("auth").getImmediate());return new Mu(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,P.registerVersion)(Bh,Su,function sg(m){switch(m){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(m)),(0,P.registerVersion)(Bh,Su,"esm2017")}("Browser")},2090:(Je,ve,x)=>{x.d(ve,{$s:()=>rn,BH:()=>we,DV:()=>In,Dv:()=>Dr,GJ:()=>or,L:()=>ue,LL:()=>gt,Lj:()=>At,Pz:()=>st,Sg:()=>Ae,UG:()=>de,UI:()=>Gt,US:()=>se,Wj:()=>Ir,X3:()=>ot,Yr:()=>Ue,ZB:()=>X,ZR:()=>ae,b$:()=>Ne,cI:()=>Xe,dS:()=>Ct,eu:()=>fe,g5:()=>ee,gK:()=>dn,gQ:()=>Vn,h$:()=>oe,hl:()=>J,hu:()=>P,jU:()=>Se,lb:()=>Ts,m9:()=>tt,ne:()=>qe,p$:()=>z,pd:()=>Ie,r3:()=>wr,ru:()=>Oe,tV:()=>W,uI:()=>ce,ug:()=>Qe,vZ:()=>An,w1:()=>be,w9:()=>Vt,xO:()=>ar,xb:()=>Fn,z$:()=>Pe,zI:()=>pe,zd:()=>Ln});var d=x(5861);const P=function(G,B){if(!G)throw ee(B)},ee=function(G){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+G)},re=function(G){const B=[];let Z=0;for(let le=0;le<G.length;le++){let O=G.charCodeAt(le);O<128?B[Z++]=O:O<2048?(B[Z++]=O>>6|192,B[Z++]=63&O|128):55296==(64512&O)&&le+1<G.length&&56320==(64512&G.charCodeAt(le+1))?(O=65536+((1023&O)<<10)+(1023&G.charCodeAt(++le)),B[Z++]=O>>18|240,B[Z++]=O>>12&63|128,B[Z++]=O>>6&63|128,B[Z++]=63&O|128):(B[Z++]=O>>12|224,B[Z++]=O>>6&63|128,B[Z++]=63&O|128)}return B},se={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(G,B){if(!Array.isArray(G))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Z=B?this.byteToCharMapWebSafe_:this.byteToCharMap_,le=[];for(let O=0;O<G.length;O+=3){const F=G[O],V=O+1<G.length,ie=V?G[O+1]:0,Re=O+2<G.length,Be=Re?G[O+2]:0;let mt=(15&ie)<<2|Be>>6,pn=63&Be;Re||(pn=64,V||(mt=64)),le.push(Z[F>>2],Z[(3&F)<<4|ie>>4],Z[mt],Z[pn])}return le.join("")},encodeString(G,B){return this.HAS_NATIVE_SUPPORT&&!B?btoa(G):this.encodeByteArray(re(G),B)},decodeString(G,B){return this.HAS_NATIVE_SUPPORT&&!B?atob(G):function(G){const B=[];let Z=0,le=0;for(;Z<G.length;){const O=G[Z++];if(O<128)B[le++]=String.fromCharCode(O);else if(O>191&&O<224){const F=G[Z++];B[le++]=String.fromCharCode((31&O)<<6|63&F)}else if(O>239&&O<365){const Re=((7&O)<<18|(63&G[Z++])<<12|(63&G[Z++])<<6|63&G[Z++])-65536;B[le++]=String.fromCharCode(55296+(Re>>10)),B[le++]=String.fromCharCode(56320+(1023&Re))}else{const F=G[Z++],V=G[Z++];B[le++]=String.fromCharCode((15&O)<<12|(63&F)<<6|63&V)}}return B.join("")}(this.decodeStringToByteArray(G,B))},decodeStringToByteArray(G,B){this.init_();const Z=B?this.charToByteMapWebSafe_:this.charToByteMap_,le=[];for(let O=0;O<G.length;){const F=Z[G.charAt(O++)],ie=O<G.length?Z[G.charAt(O)]:0;++O;const Be=O<G.length?Z[G.charAt(O)]:64;++O;const We=O<G.length?Z[G.charAt(O)]:64;if(++O,null==F||null==ie||null==Be||null==We)throw Error();le.push(F<<2|ie>>4),64!==Be&&(le.push(ie<<4&240|Be>>2),64!==We&&le.push(Be<<6&192|We))}return le},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let G=0;G<this.ENCODED_VALS.length;G++)this.byteToCharMap_[G]=this.ENCODED_VALS.charAt(G),this.charToByteMap_[this.byteToCharMap_[G]]=G,this.byteToCharMapWebSafe_[G]=this.ENCODED_VALS_WEBSAFE.charAt(G),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[G]]=G,G>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(G)]=G,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(G)]=G)}}},oe=function(G){const B=re(G);return se.encodeByteArray(B,!0)},ue=function(G){return oe(G).replace(/\./g,"")},W=function(G){try{return se.decodeString(G,!0)}catch(B){console.error("base64Decode failed: ",B)}return null};function z(G){return X(void 0,G)}function X(G,B){if(!(B instanceof Object))return B;switch(B.constructor){case Date:return new Date(B.getTime());case Object:void 0===G&&(G={});break;case Array:G=[];break;default:return B}for(const Z in B)!B.hasOwnProperty(Z)||!Fe(Z)||(G[Z]=X(G[Z],B[Z]));return G}function Fe(G){return"__proto__"!==G}class we{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((B,Z)=>{this.resolve=B,this.reject=Z})}wrapCallback(B){return(Z,le)=>{Z?this.reject(Z):this.resolve(le),"function"==typeof B&&(this.promise.catch(()=>{}),1===B.length?B(Z):B(Z,le))}}}function Ae(G,B){if(G.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const le=B||"demo-project",O=G.iat||0,F=G.sub||G.user_id;if(!F)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const V=Object.assign({iss:`https://securetoken.google.com/${le}`,aud:le,iat:O,exp:O+3600,auth_time:O,sub:F,user_id:F,firebase:{sign_in_provider:"custom",identities:{}}},G);return[ue(JSON.stringify({alg:"none",type:"JWT"})),ue(JSON.stringify(V)),""].join(".")}function Pe(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ce(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Pe())}function de(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(G){return!1}}function Se(){return"object"==typeof self&&self.self===self}function Oe(){const G="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof G&&void 0!==G.id}function Ne(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function be(){const G=Pe();return G.indexOf("MSIE ")>=0||G.indexOf("Trident/")>=0}function Ue(){return!1}function J(){return"object"==typeof indexedDB}function fe(){return new Promise((G,B)=>{try{let Z=!0;const le="validate-browser-context-for-indexeddb-analytics-module",O=self.indexedDB.open(le);O.onsuccess=()=>{O.result.close(),Z||self.indexedDB.deleteDatabase(le),G(!0)},O.onupgradeneeded=()=>{Z=!1},O.onerror=()=>{var F;B((null===(F=O.error)||void 0===F?void 0:F.message)||"")}}catch(Z){B(Z)}})}function pe(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class ae extends Error{constructor(B,Z,le){super(Z),this.code=B,this.customData=le,this.name="FirebaseError",Object.setPrototypeOf(this,ae.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gt.prototype.create)}}class gt{constructor(B,Z,le){this.service=B,this.serviceName=Z,this.errors=le}create(B,...Z){const le=Z[0]||{},O=`${this.service}/${B}`,F=this.errors[B],V=F?function Ut(G,B){return G.replace(Rn,(Z,le)=>{const O=B[le];return null!=O?String(O):`<${le}?>`})}(F,le):"Error";return new ae(O,`${this.serviceName}: ${V} (${O}).`,le)}}const Rn=/\{\$([^}]+)}/g;function Xe(G){return JSON.parse(G)}function st(G){return JSON.stringify(G)}const cn=function(G){let B={},Z={},le={},O="";try{const F=G.split(".");B=Xe(W(F[0])||""),Z=Xe(W(F[1])||""),O=F[2],le=Z.d||{},delete Z.d}catch(F){}return{header:B,claims:Z,data:le,signature:O}},Vt=function(G){const Z=cn(G).claims;return!!Z&&"object"==typeof Z&&Z.hasOwnProperty("iat")},or=function(G){const B=cn(G).claims;return"object"==typeof B&&!0===B.admin};function wr(G,B){return Object.prototype.hasOwnProperty.call(G,B)}function In(G,B){if(Object.prototype.hasOwnProperty.call(G,B))return G[B]}function Fn(G){for(const B in G)if(Object.prototype.hasOwnProperty.call(G,B))return!1;return!0}function Gt(G,B,Z){const le={};for(const O in G)Object.prototype.hasOwnProperty.call(G,O)&&(le[O]=B.call(Z,G[O],O,G));return le}function An(G,B){if(G===B)return!0;const Z=Object.keys(G),le=Object.keys(B);for(const O of Z){if(!le.includes(O))return!1;const F=G[O],V=B[O];if(yi(F)&&yi(V)){if(!An(F,V))return!1}else if(F!==V)return!1}for(const O of le)if(!Z.includes(O))return!1;return!0}function yi(G){return null!==G&&"object"==typeof G}function ar(G){const B=[];for(const[Z,le]of Object.entries(G))Array.isArray(le)?le.forEach(O=>{B.push(encodeURIComponent(Z)+"="+encodeURIComponent(O))}):B.push(encodeURIComponent(Z)+"="+encodeURIComponent(le));return B.length?"&"+B.join("&"):""}function Ln(G){const B={};return G.replace(/^\?/,"").split("&").forEach(le=>{if(le){const[O,F]=le.split("=");B[decodeURIComponent(O)]=decodeURIComponent(F)}}),B}function Ie(G){const B=G.indexOf("?");if(!B)return"";const Z=G.indexOf("#",B);return G.substring(B,Z>0?Z:void 0)}class Vn{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let B=1;B<this.blockSize;++B)this.pad_[B]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(B,Z){Z||(Z=0);const le=this.W_;if("string"==typeof B)for(let We=0;We<16;We++)le[We]=B.charCodeAt(Z)<<24|B.charCodeAt(Z+1)<<16|B.charCodeAt(Z+2)<<8|B.charCodeAt(Z+3),Z+=4;else for(let We=0;We<16;We++)le[We]=B[Z]<<24|B[Z+1]<<16|B[Z+2]<<8|B[Z+3],Z+=4;for(let We=16;We<80;We++){const mt=le[We-3]^le[We-8]^le[We-14]^le[We-16];le[We]=4294967295&(mt<<1|mt>>>31)}let Be,nt,O=this.chain_[0],F=this.chain_[1],V=this.chain_[2],ie=this.chain_[3],Re=this.chain_[4];for(let We=0;We<80;We++){We<40?We<20?(Be=ie^F&(V^ie),nt=1518500249):(Be=F^V^ie,nt=1859775393):We<60?(Be=F&V|ie&(F|V),nt=2400959708):(Be=F^V^ie,nt=3395469782);const mt=(O<<5|O>>>27)+Be+Re+nt+le[We]&4294967295;Re=ie,ie=V,V=4294967295&(F<<30|F>>>2),F=O,O=mt}this.chain_[0]=this.chain_[0]+O&4294967295,this.chain_[1]=this.chain_[1]+F&4294967295,this.chain_[2]=this.chain_[2]+V&4294967295,this.chain_[3]=this.chain_[3]+ie&4294967295,this.chain_[4]=this.chain_[4]+Re&4294967295}update(B,Z){if(null==B)return;void 0===Z&&(Z=B.length);const le=Z-this.blockSize;let O=0;const F=this.buf_;let V=this.inbuf_;for(;O<Z;){if(0===V)for(;O<=le;)this.compress_(B,O),O+=this.blockSize;if("string"==typeof B){for(;O<Z;)if(F[V]=B.charCodeAt(O),++V,++O,V===this.blockSize){this.compress_(F),V=0;break}}else for(;O<Z;)if(F[V]=B[O],++V,++O,V===this.blockSize){this.compress_(F),V=0;break}}this.inbuf_=V,this.total_+=Z}digest(){const B=[];let Z=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let O=this.blockSize-1;O>=56;O--)this.buf_[O]=255&Z,Z/=256;this.compress_(this.buf_);let le=0;for(let O=0;O<5;O++)for(let F=24;F>=0;F-=8)B[le]=this.chain_[O]>>F&255,++le;return B}}function qe(G,B){const Z=new lr(G,B);return Z.subscribe.bind(Z)}class lr{constructor(B,Z){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Z,this.task.then(()=>{B(this)}).catch(le=>{this.error(le)})}next(B){this.forEachObserver(Z=>{Z.next(B)})}error(B){this.forEachObserver(Z=>{Z.error(B)}),this.close(B)}complete(){this.forEachObserver(B=>{B.complete()}),this.close()}subscribe(B,Z,le){let O;if(void 0===B&&void 0===Z&&void 0===le)throw new Error("Missing Observer.");O=function Bt(G,B){if("object"!=typeof G||null===G)return!1;for(const Z of B)if(Z in G&&"function"==typeof G[Z])return!0;return!1}(B,["next","error","complete"])?B:{next:B,error:Z,complete:le},void 0===O.next&&(O.next=zn),void 0===O.error&&(O.error=zn),void 0===O.complete&&(O.complete=zn);const F=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?O.error(this.finalError):O.complete()}catch(V){}}),this.observers.push(O),F}unsubscribeOne(B){void 0===this.observers||void 0===this.observers[B]||(delete this.observers[B],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(B){if(!this.finalized)for(let Z=0;Z<this.observers.length;Z++)this.sendOne(Z,B)}sendOne(B,Z){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[B])try{Z(this.observers[B])}catch(le){"undefined"!=typeof console&&console.error&&console.error(le)}})}close(B){this.finalized||(this.finalized=!0,void 0!==B&&(this.finalError=B),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function zn(){}const Dr=function(G,B,Z,le){let O;if(le<B?O="at least "+B:le>Z&&(O=0===Z?"none":"no more than "+Z),O)throw new Error(G+" failed: Was called with "+le+(1===le?" argument.":" arguments.")+" Expects "+O+".")};function dn(G,B){return`${G} failed: ${B} argument `}function Ir(G,B,Z,le){if((!le||Z)&&"function"!=typeof Z)throw new Error(dn(G,B)+"must be a valid function.")}function Ts(G,B,Z,le){if((!le||Z)&&("object"!=typeof Z||null===Z))throw new Error(dn(G,B)+"must be a valid context object.")}const Ct=function(G){const B=[];let Z=0;for(let le=0;le<G.length;le++){let O=G.charCodeAt(le);if(O>=55296&&O<=56319){const F=O-55296;le++,P(le<G.length,"Surrogate pair missing trail surrogate."),O=65536+(F<<10)+(G.charCodeAt(le)-56320)}O<128?B[Z++]=O:O<2048?(B[Z++]=O>>6|192,B[Z++]=63&O|128):O<65536?(B[Z++]=O>>12|224,B[Z++]=O>>6&63|128,B[Z++]=63&O|128):(B[Z++]=O>>18|240,B[Z++]=O>>12&63|128,B[Z++]=O>>6&63|128,B[Z++]=63&O|128)}return B},Qe=function(G){let B=0;for(let Z=0;Z<G.length;Z++){const le=G.charCodeAt(Z);le<128?B++:le<2048?B+=2:le>=55296&&le<=56319?(B+=4,Z++):B+=3}return B};function rn(G,B=1e3,Z=2){const le=B*Math.pow(Z,G),O=Math.round(.5*le*(Math.random()-.5)*2);return Math.min(144e5,le+O)}function tt(G){return G&&G._delegate?G._delegate:G}function Qt(G,B){return new Promise((Z,le)=>{G.onsuccess=O=>{Z(O.target.result)},G.onerror=O=>{var F;le(`${B}: ${null===(F=O.target.error)||void 0===F?void 0:F.message}`)}})}class wt{constructor(B){this._db=B,this.objectStoreNames=this._db.objectStoreNames}transaction(B,Z="readonly"){return new Ve(this._db.transaction.call(this._db,B,Z))}createObjectStore(B,Z){return new ye(this._db.createObjectStore(B,Z))}close(){this._db.close()}}class Ve{constructor(B){this._transaction=B,this.complete=new Promise((Z,le)=>{this._transaction.oncomplete=function(){Z()},this._transaction.onerror=()=>{le(this._transaction.error)},this._transaction.onabort=()=>{le(this._transaction.error)}})}objectStore(B){return new ye(this._transaction.objectStore(B))}}class ye{constructor(B){this._store=B}index(B){return new He(this._store.index(B))}createIndex(B,Z,le){return new He(this._store.createIndex(B,Z,le))}get(B){return Qt(this._store.get(B),"Error reading from IndexedDB")}put(B,Z){return Qt(this._store.put(B,Z),"Error writing to IndexedDB")}delete(B){return Qt(this._store.delete(B),"Error deleting from IndexedDB")}clear(){return Qt(this._store.clear(),"Error clearing IndexedDB object store")}}class He{constructor(B){this._index=B}get(B){return Qt(this._index.get(B),"Error reading from IndexedDB")}}function ot(G,B,Z){return new Promise((le,O)=>{try{const F=indexedDB.open(G,B);F.onsuccess=V=>{le(new wt(V.target.result))},F.onerror=V=>{var ie;O(`Error opening indexedDB: ${null===(ie=V.target.error)||void 0===ie?void 0:ie.message}`)},F.onupgradeneeded=V=>{Z(new wt(F.result),V.oldVersion,V.newVersion,new Ve(F.transaction))}}catch(F){O(`Error opening indexedDB: ${F.message}`)}})}function At(G){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,d.Z)(function*(G){return new Promise((B,Z)=>{try{const le=indexedDB.deleteDatabase(G);le.onsuccess=()=>{B()},le.onerror=O=>{var F;Z(`Error deleting indexedDB database "${G}": ${null===(F=O.target.error)||void 0===F?void 0:F.message}`)}}catch(le){Z(`Error deleting indexedDB database "${G}": ${le.message}`)}})})).apply(this,arguments)}},3692:(Je,ve,x)=>{var d=x(5e3);let j=null;function P(){return j}const se=new d.OlP("DocumentToken");let oe=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return function ue(){return(0,d.LFG)(z)}()},providedIn:"platform"}),n})();const W=new d.OlP("Location Initialized");let z=(()=>{class n extends oe{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return P().getBaseHref(this._doc)}onPopState(e){const s=P().getGlobalEventTarget(this._doc,"window");return s.addEventListener("popstate",e,!1),()=>s.removeEventListener("popstate",e)}onHashChange(e){const s=P().getGlobalEventTarget(this._doc,"window");return s.addEventListener("hashchange",e,!1),()=>s.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,s,a){X()?this._history.pushState(e,s,a):this.location.hash=a}replaceState(e,s,a){X()?this._history.replaceState(e,s,a):this.location.hash=a}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(se))},n.\u0275prov=d.Yz7({token:n,factory:function(){return function Fe(){return new z((0,d.LFG)(se))}()},providedIn:"platform"}),n})();function X(){return!!window.history.pushState}function we(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function Ae(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Pe(n){return n&&"?"!==n[0]?"?"+n:n}let ce=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return function de(n){const t=(0,d.LFG)(se).location;return new Oe((0,d.LFG)(oe),t&&t.origin||"")}()},providedIn:"root"}),n})();const Se=new d.OlP("appBaseHref");let Oe=(()=>{class n extends ce{constructor(e,s){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==s&&(s=this._platformLocation.getBaseHrefFromDOM()),null==s)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=s}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return we(this._baseHref,e)}path(e=!1){const s=this._platformLocation.pathname+Pe(this._platformLocation.search),a=this._platformLocation.hash;return a&&e?`${s}${a}`:s}pushState(e,s,a,c){const g=this.prepareExternalUrl(a+Pe(c));this._platformLocation.pushState(e,s,g)}replaceState(e,s,a,c){const g=this.prepareExternalUrl(a+Pe(c));this._platformLocation.replaceState(e,s,g)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var s,a;null===(a=(s=this._platformLocation).historyGo)||void 0===a||a.call(s,e)}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(oe),d.LFG(Se,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),Ne=(()=>{class n extends ce{constructor(e,s){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=s&&(this._baseHref=s)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let s=this._platformLocation.hash;return null==s&&(s="#"),s.length>0?s.substring(1):s}prepareExternalUrl(e){const s=we(this._baseHref,e);return s.length>0?"#"+s:s}pushState(e,s,a,c){let g=this.prepareExternalUrl(a+Pe(c));0==g.length&&(g=this._platformLocation.pathname),this._platformLocation.pushState(e,s,g)}replaceState(e,s,a,c){let g=this.prepareExternalUrl(a+Pe(c));0==g.length&&(g=this._platformLocation.pathname),this._platformLocation.replaceState(e,s,g)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var s,a;null===(a=(s=this._platformLocation).historyGo)||void 0===a||a.call(s,e)}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(oe),d.LFG(Se,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),ze=(()=>{class n{constructor(e,s){this._subject=new d.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const a=this._platformStrategy.getBaseHref();this._platformLocation=s,this._baseHref=Ae(Ue(a)),this._platformStrategy.onPopState(c=>{this._subject.emit({url:this.path(!0),pop:!0,state:c.state,type:c.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,s=""){return this.path()==this.normalize(e+Pe(s))}normalize(e){return n.stripTrailingSlash(function Ye(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,Ue(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,s="",a=null){this._platformStrategy.pushState(a,"",e,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Pe(s)),a)}replaceState(e,s="",a=null){this._platformStrategy.replaceState(a,"",e,s),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Pe(s)),a)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var s,a;null===(a=(s=this._platformStrategy).historyGo)||void 0===a||a.call(s,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(s=>{this._notifyUrlChangeListeners(s.url,s.state)}))}_notifyUrlChangeListeners(e="",s){this._urlChangeListeners.forEach(a=>a(e,s))}subscribe(e,s,a){return this._subject.subscribe({next:e,error:s,complete:a})}}return n.normalizeQueryParams=Pe,n.joinWithSlash=we,n.stripTrailingSlash=Ae,n.\u0275fac=function(e){return new(e||n)(d.LFG(ce),d.LFG(oe))},n.\u0275prov=d.Yz7({token:n,factory:function(){return function be(){return new ze((0,d.LFG)(ce),(0,d.LFG)(oe))}()},providedIn:"root"}),n})();function Ue(n){return n.replace(/\/index.html$/,"")}const it={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var J=(()=>((J=J||{})[J.Decimal=0]="Decimal",J[J.Percent=1]="Percent",J[J.Currency=2]="Currency",J[J.Scientific=3]="Scientific",J))(),fe=(()=>((fe=fe||{})[fe.Zero=0]="Zero",fe[fe.One=1]="One",fe[fe.Two=2]="Two",fe[fe.Few=3]="Few",fe[fe.Many=4]="Many",fe[fe.Other=5]="Other",fe))(),ae=(()=>((ae=ae||{})[ae.Decimal=0]="Decimal",ae[ae.Group=1]="Group",ae[ae.List=2]="List",ae[ae.PercentSign=3]="PercentSign",ae[ae.PlusSign=4]="PlusSign",ae[ae.MinusSign=5]="MinusSign",ae[ae.Exponential=6]="Exponential",ae[ae.SuperscriptingExponent=7]="SuperscriptingExponent",ae[ae.PerMille=8]="PerMille",ae[ae.Infinity=9]="Infinity",ae[ae.NaN=10]="NaN",ae[ae.TimeSeparator=11]="TimeSeparator",ae[ae.CurrencyDecimal=12]="CurrencyDecimal",ae[ae.CurrencyGroup=13]="CurrencyGroup",ae))();function In(n,t){const e=(0,d.cg1)(n),s=e[d.wAp.NumberSymbols][t];if(void 0===s){if(t===ae.CurrencyDecimal)return e[d.wAp.NumberSymbols][ae.Decimal];if(t===ae.CurrencyGroup)return e[d.wAp.NumberSymbols][ae.Group]}return s}const Ln=d.kL8;const nt=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Pr(n,t,e,s,a){const g=function jt(n,t="-"){const e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},s=n.split(";"),a=s[0],c=s[1],g=-1!==a.indexOf(".")?a.split("."):[a.substring(0,a.lastIndexOf("0")+1),a.substring(a.lastIndexOf("0")+1)],v=g[0],w=g[1]||"";e.posPre=v.substr(0,v.indexOf("#"));for(let H=0;H<w.length;H++){const L=w.charAt(H);"0"===L?e.minFrac=e.maxFrac=H+1:"#"===L?e.maxFrac=H+1:e.posSuf+=L}const S=v.split(",");if(e.gSize=S[1]?S[1].length:0,e.lgSize=S[2]||S[1]?(S[2]||S[1]).length:0,c){const H=a.length-e.posPre.length-e.posSuf.length,L=c.indexOf("#");e.negPre=c.substr(0,L).replace(/'/g,""),e.negSuf=c.substr(L+H).replace(/'/g,"")}else e.negPre=t+e.posPre,e.negSuf=e.posSuf;return e}(function Fn(n,t){return(0,d.cg1)(n)[d.wAp.NumberFormats][t]}(t,J.Currency),In(t,ae.MinusSign));return g.minFrac=function dn(n){let t;const e=it[n];return e&&(t=e[2]),"number"==typeof t?t:2}(s),g.maxFrac=g.minFrac,function Jo(n,t,e,s,a,c,g=!1){let v="",w=!1;if(isFinite(n)){let S=function Er(n){let s,a,c,g,v,t=Math.abs(n)+"",e=0;for((a=t.indexOf("."))>-1&&(t=t.replace(".","")),(c=t.search(/e/i))>0?(a<0&&(a=c),a+=+t.slice(c+1),t=t.substring(0,c)):a<0&&(a=t.length),c=0;"0"===t.charAt(c);c++);if(c===(v=t.length))s=[0],a=1;else{for(v--;"0"===t.charAt(v);)v--;for(a-=c,s=[],g=0;c<=v;c++,g++)s[g]=Number(t.charAt(c))}return a>22&&(s=s.splice(0,21),e=a-1,a=1),{digits:s,exponent:e,integerLen:a}}(n);g&&(S=function Tn(n){if(0===n.digits[0])return n;const t=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===t?n.digits.push(0,0):1===t&&n.digits.push(0),n.integerLen+=2),n}(S));let H=t.minInt,L=t.minFrac,Q=t.maxFrac;if(c){const Dn=c.match(nt);if(null===Dn)throw new Error(`${c} is not a valid digit info`);const Gn=Dn[1],nn=Dn[3],qi=Dn[5];null!=Gn&&(H=Or(Gn)),null!=nn&&(L=Or(nn)),null!=qi?Q=Or(qi):null!=nn&&L>Q&&(Q=L)}!function er(n,t,e){if(t>e)throw new Error(`The minimum number of digits after fraction (${t}) is higher than the maximum (${e}).`);let s=n.digits,a=s.length-n.integerLen;const c=Math.min(Math.max(t,a),e);let g=c+n.integerLen,v=s[g];if(g>0){s.splice(Math.max(n.integerLen,g));for(let L=g;L<s.length;L++)s[L]=0}else{a=Math.max(0,a),n.integerLen=1,s.length=Math.max(1,g=c+1),s[0]=0;for(let L=1;L<g;L++)s[L]=0}if(v>=5)if(g-1<0){for(let L=0;L>g;L--)s.unshift(0),n.integerLen++;s.unshift(1),n.integerLen++}else s[g-1]++;for(;a<Math.max(0,c);a++)s.push(0);let w=0!==c;const S=t+n.integerLen,H=s.reduceRight(function(L,Q,ne,Te){return Te[ne]=(Q+=L)<10?Q:Q-10,w&&(0===Te[ne]&&ne>=S?Te.pop():w=!1),Q>=10?1:0},0);H&&(s.unshift(H),n.integerLen++)}(S,L,Q);let ne=S.digits,Te=S.integerLen;const at=S.exponent;let vt=[];for(w=ne.every(Dn=>!Dn);Te<H;Te++)ne.unshift(0);for(;Te<0;Te++)ne.unshift(0);Te>0?vt=ne.splice(Te,ne.length):(vt=ne,ne=[0]);const xt=[];for(ne.length>=t.lgSize&&xt.unshift(ne.splice(-t.lgSize,ne.length).join(""));ne.length>t.gSize;)xt.unshift(ne.splice(-t.gSize,ne.length).join(""));ne.length&&xt.unshift(ne.join("")),v=xt.join(In(e,s)),vt.length&&(v+=In(e,a)+vt.join("")),at&&(v+=In(e,ae.Exponential)+"+"+at)}else v=In(e,ae.Infinity);return v=n<0&&!w?t.negPre+v+t.negSuf:t.posPre+v+t.posSuf,v}(n,g,t,ae.CurrencyGroup,ae.CurrencyDecimal,a).replace("\xa4",e).replace("\xa4","").trim()}function Or(n){const t=parseInt(n);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+n);return t}class qt{}let Ki=(()=>{class n extends qt{constructor(e){super(),this.locale=e}getPluralCategory(e,s){switch(Ln(s||this.locale)(e)){case fe.Zero:return"zero";case fe.One:return"one";case fe.Two:return"two";case fe.Few:return"few";case fe.Many:return"many";default:return"other"}}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(d.soG))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();function Yi(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const s=e.indexOf("="),[a,c]=-1==s?[e,""]:[e.slice(0,s),e.slice(s+1)];if(a.trim()===t)return decodeURIComponent(c)}return null}let vi=(()=>{class n{constructor(e,s,a,c){this._iterableDiffers=e,this._keyValueDiffers=s,this._ngEl=a,this._renderer=c,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,d.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(s=>this._toggleClass(s.key,s.currentValue)),e.forEachChangedItem(s=>this._toggleClass(s.key,s.currentValue)),e.forEachRemovedItem(s=>{s.previousValue&&this._toggleClass(s.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(s=>{if("string"!=typeof s.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,d.AaK)(s.item)}`);this._toggleClass(s.item,!0)}),e.forEachRemovedItem(s=>this._toggleClass(s.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(s=>this._toggleClass(s,!0)):Object.keys(e).forEach(s=>this._toggleClass(s,!!e[s])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(s=>this._toggleClass(s,!1)):Object.keys(e).forEach(s=>this._toggleClass(s,!1)))}_toggleClass(e,s){(e=e.trim())&&e.split(/\s+/g).forEach(a=>{s?this._renderer.addClass(this._ngEl.nativeElement,a):this._renderer.removeClass(this._ngEl.nativeElement,a)})}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(d.ZZ4),d.Y36(d.aQg),d.Y36(d.SBq),d.Y36(d.Qsj))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class si{constructor(t,e,s,a){this.$implicit=t,this.ngForOf=e,this.index=s,this.count=a}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let On=(()=>{class n{constructor(e,s,a){this._viewContainer=e,this._template=s,this._differs=a,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const s=this._viewContainer;e.forEachOperation((a,c,g)=>{if(null==a.previousIndex)s.createEmbeddedView(this._template,new si(a.item,this._ngForOf,-1,-1),null===g?void 0:g);else if(null==g)s.remove(null===c?void 0:c);else if(null!==c){const v=s.get(c);s.move(v,g),Qi(v,a)}});for(let a=0,c=s.length;a<c;a++){const v=s.get(a).context;v.index=a,v.count=c,v.ngForOf=this._ngForOf}e.forEachIdentityChange(a=>{Qi(s.get(a.currentIndex),a)})}static ngTemplateContextGuard(e,s){return!0}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(d.s_b),d.Y36(d.Rgc),d.Y36(d.ZZ4))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function Qi(n,t){n.context.$implicit=t.item}let xr=(()=>{class n{constructor(e,s){this._viewContainer=e,this._context=new sn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=s}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){ea("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){ea("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,s){return!0}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(d.s_b),d.Y36(d.Rgc))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class sn{constructor(){this.$implicit=null,this.ngIf=null}}function ea(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,d.AaK)(t)}'.`)}let ta=(()=>{class n{constructor(e,s,a){this._ngEl=e,this._differs=s,this._renderer=a,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,s){const[a,c]=e.split(".");null!=(s=null!=s&&c?`${s}${c}`:s)?this._renderer.setStyle(this._ngEl.nativeElement,a,s):this._renderer.removeStyle(this._ngEl.nativeElement,a)}_applyChanges(e){e.forEachRemovedItem(s=>this._setStyle(s.key,null)),e.forEachAddedItem(s=>this._setStyle(s.key,s.currentValue)),e.forEachChangedItem(s=>this._setStyle(s.key,s.currentValue))}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(d.SBq),d.Y36(d.aQg),d.Y36(d.Qsj))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),n})();let Ss=(()=>{class n{constructor(e,s="USD"){this._locale=e,this._defaultCurrencyCode=s}transform(e,s=this._defaultCurrencyCode,a="symbol",c,g){if(!function Ms(n){return!(null==n||""===n||n!=n)}(e))return null;g=g||this._locale,"boolean"==typeof a&&(a=a?"symbol":"code");let v=s||this._defaultCurrencyCode;"code"!==a&&(v="symbol"===a||"symbol-narrow"===a?function zn(n,t,e="en"){const s=function ar(n){return(0,d.cg1)(n)[d.wAp.Currencies]}(e)[n]||it[n]||[],a=s[1];return"narrow"===t&&"string"==typeof a?a:s[0]||n}(v,"symbol"===a?"wide":"narrow",g):a);try{return Pr(function Rs(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(e),g,v,s,c)}catch(w){throw function Yr(n,t){return new d.vHH(2100,"")}()}}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(d.soG,16),d.Y36(d.EJc,16))},n.\u0275pipe=d.Yjl({name:"currency",type:n,pure:!0}),n})();let tl=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[{provide:qt,useClass:Ki}]}),n})();let rl=(()=>{class n{}return n.\u0275prov=(0,d.Yz7)({token:n,providedIn:"root",factory:()=>new nu((0,d.LFG)(se),window)}),n})();class nu{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function ra(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const s=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let a=s.currentNode;for(;a;){const c=a.shadowRoot;if(c){const g=c.getElementById(t)||c.querySelector(`[name="${t}"]`);if(g)return g}a=s.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),s=e.left+this.window.pageXOffset,a=e.top+this.window.pageYOffset,c=this.offset();this.window.scrollTo(s-c[0],a-c[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=Pt(this.window.history)||Pt(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function Pt(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class on{}class Os extends class iu extends class me{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function re(n){j||(j=n)}(new Os)}onAndCancel(t,e,s){return t.addEventListener(e,s,!1),()=>{t.removeEventListener(e,s,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function tr(){return qn=qn||document.querySelector("base"),qn?qn.getAttribute("href"):null}();return null==e?null:function yo(n){oi=oi||document.createElement("a"),oi.setAttribute("href",n);const t=oi.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){qn=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Yi(document.cookie,t)}}let oi,qn=null;const Ji=new d.OlP("TRANSITION_ID"),su=[{provide:d.ip1,useFactory:function Ht(n,t,e){return()=>{e.get(d.CZH).donePromise.then(()=>{const s=P(),a=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let c=0;c<a.length;c++)s.remove(a[c])})}},deps:[Ji,se,d.zs3],multi:!0}];class Nr{static init(){(0,d.VLi)(new Nr)}addToWindow(t){d.dqk.getAngularTestability=(s,a=!0)=>{const c=t.findTestabilityInTree(s,a);if(null==c)throw new Error("Could not find testability for element.");return c},d.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),d.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),d.dqk.frameworkStabilizers||(d.dqk.frameworkStabilizers=[]),d.dqk.frameworkStabilizers.push(s=>{const a=d.dqk.getAllAngularTestabilities();let c=a.length,g=!1;const v=function(w){g=g||w,c--,0==c&&s(g)};a.forEach(function(w){w.whenStable(v)})})}findTestabilityInTree(t,e,s){if(null==e)return null;const a=t.getTestability(e);return null!=a?a:s?P().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let Fc=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const cr=new d.OlP("EventManagerPlugins");let xs=(()=>{class n{constructor(e,s){this._zone=s,this._eventNameToPlugin=new Map,e.forEach(a=>a.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,s,a){return this._findPluginFor(s).addEventListener(e,s,a)}addGlobalEventListener(e,s,a){return this._findPluginFor(s).addGlobalEventListener(e,s,a)}getZone(){return this._zone}_findPluginFor(e){const s=this._eventNameToPlugin.get(e);if(s)return s;const a=this._plugins;for(let c=0;c<a.length;c++){const g=a[c];if(g.supports(e))return this._eventNameToPlugin.set(e,g),g}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(cr),d.LFG(d.R0b))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class Xi{constructor(t){this._doc=t}addGlobalEventListener(t,e,s){const a=P().getGlobalEventTarget(this._doc,t);if(!a)throw new Error(`Unsupported event target ${a} for event ${e}`);return this.addEventListener(a,e,s)}}let lt=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const s=new Set;e.forEach(a=>{this._stylesSet.has(a)||(this._stylesSet.add(a),s.add(a))}),this.onStylesAdded(s)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),nr=(()=>{class n extends lt{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,s,a){e.forEach(c=>{const g=this._doc.createElement("style");g.textContent=c,a.push(s.appendChild(g))})}addHost(e){const s=[];this._addStylesToHost(this._stylesSet,e,s),this._hostNodes.set(e,s)}removeHost(e){const s=this._hostNodes.get(e);s&&s.forEach(vo),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((s,a)=>{this._addStylesToHost(e,a,s)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(vo))}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(se))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();function vo(n){P().remove(n)}const ia={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Co=/%COMP%/g;function hn(n,t,e){for(let s=0;s<t.length;s++){let a=t[s];Array.isArray(a)?hn(n,a,e):(a=a.replace(Co,n),e.push(a))}return e}function Oi(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let gr=(()=>{class n{constructor(e,s,a){this.eventManager=e,this.sharedStylesHost=s,this.appId=a,this.rendererByCompId=new Map,this.defaultRenderer=new es(e)}createRenderer(e,s){if(!e||!s)return this.defaultRenderer;switch(s.encapsulation){case d.ifc.Emulated:{let a=this.rendererByCompId.get(s.id);return a||(a=new sa(this.eventManager,this.sharedStylesHost,s,this.appId),this.rendererByCompId.set(s.id,a)),a.applyToHost(e),a}case 1:case d.ifc.ShadowDom:return new Ls(this.eventManager,this.sharedStylesHost,e,s);default:if(!this.rendererByCompId.has(s.id)){const a=hn(s.id,s.styles,[]);this.sharedStylesHost.addStyles(a),this.rendererByCompId.set(s.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(xs),d.LFG(nr),d.LFG(d.AFp))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class es{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(ia[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,s){t&&t.insertBefore(e,s)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let s="string"==typeof t?document.querySelector(t):t;if(!s)throw new Error(`The selector "${t}" did not match any elements`);return e||(s.textContent=""),s}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,s,a){if(a){e=a+":"+e;const c=ia[a];c?t.setAttributeNS(c,e,s):t.setAttribute(e,s)}else t.setAttribute(e,s)}removeAttribute(t,e,s){if(s){const a=ia[s];a?t.removeAttributeNS(a,e):t.removeAttribute(`${s}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,s,a){a&(d.JOm.DashCase|d.JOm.Important)?t.style.setProperty(e,s,a&d.JOm.Important?"important":""):t.style[e]=s}removeStyle(t,e,s){s&d.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,s){t[e]=s}setValue(t,e){t.nodeValue=e}listen(t,e,s){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Oi(s)):this.eventManager.addEventListener(t,e,Oi(s))}}class sa extends es{constructor(t,e,s,a){super(t),this.component=s;const c=hn(a+"-"+s.id,s.styles,[]);e.addStyles(c),this.contentAttr=function St(n){return"_ngcontent-%COMP%".replace(Co,n)}(a+"-"+s.id),this.hostAttr=function ks(n){return"_nghost-%COMP%".replace(Co,n)}(a+"-"+s.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const s=super.createElement(t,e);return super.setAttribute(s,this.contentAttr,""),s}}class Ls extends es{constructor(t,e,s,a){super(t),this.sharedStylesHost=e,this.hostEl=s,this.shadowRoot=s.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=hn(a.id,a.styles,[]);for(let g=0;g<c.length;g++){const v=document.createElement("style");v.textContent=c[g],this.shadowRoot.appendChild(v)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,s){return super.insertBefore(this.nodeOrShadowRoot(t),e,s)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let wo=(()=>{class n extends Xi{constructor(e){super(e)}supports(e){return!0}addEventListener(e,s,a){return e.addEventListener(s,a,!1),()=>this.removeEventListener(e,s,a)}removeEventListener(e,s,a){return e.removeEventListener(s,a)}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(se))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const jn=["alt","control","meta","shift"],Vs={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ts={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},kr={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let ol=(()=>{class n extends Xi{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,s,a){const c=n.parseEventName(s),g=n.eventCallback(c.fullKey,a,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>P().onAndCancel(e,c.domEventName,g))}static parseEventName(e){const s=e.toLowerCase().split("."),a=s.shift();if(0===s.length||"keydown"!==a&&"keyup"!==a)return null;const c=n._normalizeKey(s.pop());let g="";if(jn.forEach(w=>{const S=s.indexOf(w);S>-1&&(s.splice(S,1),g+=w+".")}),g+=c,0!=s.length||0===c.length)return null;const v={};return v.domEventName=a,v.fullKey=g,v}static getEventFullKey(e){let s="",a=function oa(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&ts.hasOwnProperty(t)&&(t=ts[t]))}return Vs[t]||t}(e);return a=a.toLowerCase()," "===a?a="space":"."===a&&(a="dot"),jn.forEach(c=>{c!=a&&kr[c](e)&&(s+=c+".")}),s+=a,s}static eventCallback(e,s,a){return c=>{n.getEventFullKey(c)===e&&a.runGuarded(()=>s(c))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(se))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const Bs=(0,d.eFA)(d._c5,"browser",[{provide:d.Lbi,useValue:"browser"},{provide:d.g9A,useValue:function Us(){Os.makeCurrent(),Nr.init()},multi:!0},{provide:se,useFactory:function xi(){return(0,d.RDi)(document),document},deps:[]}]),ll=[{provide:d.zSh,useValue:"root"},{provide:d.qLn,useFactory:function al(){return new d.qLn},deps:[]},{provide:cr,useClass:wo,multi:!0,deps:[se,d.R0b,d.Lbi]},{provide:cr,useClass:ol,multi:!0,deps:[se]},{provide:gr,useClass:gr,deps:[xs,nr,d.AFp]},{provide:d.FYo,useExisting:gr},{provide:lt,useExisting:nr},{provide:nr,useClass:nr,deps:[se]},{provide:d.dDg,useClass:d.dDg,deps:[d.R0b]},{provide:xs,useClass:xs,deps:[cr,d.R0b]},{provide:on,useClass:Fc,deps:[]}];let Do=(()=>{class n{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:n,providers:[{provide:d.AFp,useValue:e.appId},{provide:Ji,useExisting:d.AFp},su]}}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(n,12))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:ll,imports:[tl,d.hGG]}),n})();"undefined"!=typeof window&&window;var Hn=x(8996),Jt=x(8306);const{isArray:ma}=Array,{getPrototypeOf:$c,prototype:Wc,keys:$s}=Object;function Gc(n){if(1===n.length){const t=n[0];if(ma(t))return{args:t,keys:null};if(function Ao(n){return n&&"object"==typeof n&&$c(n)===Wc}(t)){const e=$s(t);return{args:e.map(s=>t[s]),keys:e}}}return{args:n,keys:null}}var Ni=x(8421),Ci=x(7669),$n=x(5403),pt=x(4004);const{isArray:Ws}=Array;function au(n){return(0,pt.U)(t=>function zc(n,t){return Ws(t)?n(...t):n(t)}(n,t))}function Gs(n,t){return n.reduce((e,s,a)=>(e[s]=t[a],e),{})}let ki=(()=>{class n{constructor(e,s){this._renderer=e,this._elementRef=s,this.onChange=a=>{},this.onTouched=()=>{}}setProperty(e,s){this._renderer.setProperty(this._elementRef.nativeElement,e,s)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(d.Qsj),d.Y36(d.SBq))},n.\u0275dir=d.lG2({type:n}),n})(),Fr=(()=>{class n extends ki{}return n.\u0275fac=function(){let t;return function(s){return(t||(t=d.n5z(n)))(s||n)}}(),n.\u0275dir=d.lG2({type:n,features:[d.qOj]}),n})();const mr=new d.OlP("NgValueAccessor"),fl={provide:mr,useExisting:(0,d.Gpc)(()=>ya),multi:!0},So=new d.OlP("CompositionEventMode");let ya=(()=>{class n extends ki{constructor(e,s,a){super(e,s),this._compositionMode=a,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function pl(){const n=P()?P().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(So,8))},n.\u0275dir=d.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,s){1&e&&d.NdJ("input",function(c){return s._handleInput(c.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(c){return s._compositionEnd(c.target.value)})},features:[d._Bn([fl]),d.qOj]}),n})();function li(n){return null==n||0===n.length}function Fi(n){return null!=n&&"number"==typeof n.length}const yn=new d.OlP("NgValidators"),ss=new d.OlP("NgAsyncValidators"),lu=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Vr{static min(t){return function os(n){return t=>{if(li(t.value)||li(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function En(n){return t=>{if(li(t.value)||li(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return function va(n){return li(n.value)?{required:!0}:null}(t)}static requiredTrue(t){return function Li(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function as(n){return li(n.value)||lu.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function Jr(n){return t=>li(t.value)||!Fi(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function ls(n){return t=>Fi(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function Mo(n){if(!n)return Vi;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),s=>{if(li(s.value))return null;const a=s.value;return t.test(a)?null:{pattern:{requiredPattern:e,actualValue:a}}}}(t)}static nullValidator(t){return null}static compose(t){return uu(t)}static composeAsync(t){return du(t)}}function Vi(n){return null}function Ei(n){return null!=n}function gl(n){const t=(0,d.QGY)(n)?(0,Hn.D)(n):n;return(0,d.CqO)(t),t}function ml(n){let t={};return n.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function Xt(n,t){return t.map(e=>e(n))}function Mh(n){return n.map(t=>function zs(n){return!n.validate}(t)?t:e=>t.validate(e))}function uu(n){if(!n)return null;const t=n.filter(Ei);return 0==t.length?null:function(e){return ml(Xt(e,t))}}function cu(n){return null!=n?uu(Mh(n)):null}function du(n){if(!n)return null;const t=n.filter(Ei);return 0==t.length?null:function(e){return function hl(...n){const t=(0,Ci.jO)(n),{args:e,keys:s}=Gc(n),a=new Jt.y(c=>{const{length:g}=e;if(!g)return void c.complete();const v=new Array(g);let w=g,S=g;for(let H=0;H<g;H++){let L=!1;(0,Ni.Xf)(e[H]).subscribe(new $n.Q(c,Q=>{L||(L=!0,S--),v[H]=Q},()=>w--,void 0,()=>{(!w||!L)&&(S||c.next(s?Gs(s,v):v),c.complete())}))}});return t?a.pipe(au(t)):a}(Xt(e,t).map(gl)).pipe((0,pt.U)(ml))}}function hu(n){return null!=n?du(Mh(n)):null}function Ca(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function Ui(n){return n._rawValidators}function Zc(n){return n._rawAsyncValidators}function Mn(n){return n?Array.isArray(n)?n:[n]:[]}function Ro(n,t){return Array.isArray(n)?n.includes(t):n===t}function us(n,t){const e=Mn(t);return Mn(n).forEach(a=>{Ro(e,a)||e.push(a)}),e}function qc(n,t){return Mn(t).filter(e=>!Ro(n,e))}class fu{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=cu(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=hu(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Yn extends fu{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class an extends fu{get formDirective(){return null}get path(){return null}}class Ea{constructor(t){this._cd=t}is(t){var e,s,a;return"submitted"===t?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(a=null===(s=this._cd)||void 0===s?void 0:s.control)||void 0===a?void 0:a[t])}}let wa=(()=>{class n extends Ea{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(Yn,2))},n.\u0275dir=d.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,s){2&e&&d.ekj("ng-untouched",s.is("untouched"))("ng-touched",s.is("touched"))("ng-pristine",s.is("pristine"))("ng-dirty",s.is("dirty"))("ng-valid",s.is("valid"))("ng-invalid",s.is("invalid"))("ng-pending",s.is("pending"))},features:[d.qOj]}),n})(),pu=(()=>{class n extends Ea{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(an,10))},n.\u0275dir=d.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,s){2&e&&d.ekj("ng-untouched",s.is("untouched"))("ng-touched",s.is("touched"))("ng-pristine",s.is("pristine"))("ng-dirty",s.is("dirty"))("ng-valid",s.is("valid"))("ng-invalid",s.is("invalid"))("ng-pending",s.is("pending"))("ng-submitted",s.is("submitted"))},features:[d.qOj]}),n})();function Ta(n,t){hs(n,t),t.valueAccessor.writeValue(n.value),function Qc(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&b(n,t)})}(n,t),function D(n,t){const e=(s,a)=>{t.valueAccessor.writeValue(s),a&&t.viewToModelUpdate(s)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function Aa(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&b(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function xo(n,t){if(t.valueAccessor.setDisabledState){const e=s=>{t.valueAccessor.setDisabledState(s)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function dr(n,t,e=!0){const s=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(s),t.valueAccessor.registerOnTouched(s)),Ks(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Oo(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function hs(n,t){const e=Ui(n);null!==t.validator?n.setValidators(Ca(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const s=Zc(n);null!==t.asyncValidator?n.setAsyncValidators(Ca(s,t.asyncValidator)):"function"==typeof s&&n.setAsyncValidators([s]);const a=()=>n.updateValueAndValidity();Oo(t._rawValidators,a),Oo(t._rawAsyncValidators,a)}function Ks(n,t){let e=!1;if(null!==n){if(null!==t.validator){const a=Ui(n);if(Array.isArray(a)&&a.length>0){const c=a.filter(g=>g!==t.validator);c.length!==a.length&&(e=!0,n.setValidators(c))}}if(null!==t.asyncValidator){const a=Zc(n);if(Array.isArray(a)&&a.length>0){const c=a.filter(g=>g!==t.asyncValidator);c.length!==a.length&&(e=!0,n.setAsyncValidators(c))}}}const s=()=>{};return Oo(t._rawValidators,s),Oo(t._rawAsyncValidators,s),e}function b(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Tt(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const en="VALID",ui="INVALID",yr="PENDING",bi="DISABLED";function ci(n){return(yl(n)?n.validators:n)||null}function Ys(n){return Array.isArray(n)?cu(n):n||null}function Sa(n,t){return(yl(t)?t.asyncValidators:n)||null}function _u(n){return Array.isArray(n)?hu(n):n||null}function yl(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const No=n=>n instanceof ji,Qs=n=>n instanceof Ma;function zp(n){return No(n)?n.value:n.getRawValue()}function Jc(n,t){const e=Qs(n),s=n.controls;if(!(e?Object.keys(s):s).length)throw new d.vHH(1e3,"");if(!s[t])throw new d.vHH(1001,"")}function yu(n,t){Qs(n),n._forEachChild((s,a)=>{if(void 0===t[a])throw new d.vHH(1002,"")})}class Oh{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=Ys(this._rawValidators),this._composedAsyncValidatorFn=_u(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===en}get invalid(){return this.status===ui}get pending(){return this.status==yr}get disabled(){return this.status===bi}get enabled(){return this.status!==bi}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=Ys(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=_u(t)}addValidators(t){this.setValidators(us(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(us(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(qc(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(qc(t,this._rawAsyncValidators))}hasValidator(t){return Ro(this._rawValidators,t)}hasAsyncValidator(t){return Ro(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=yr,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=bi,this.errors=null,this._forEachChild(s=>{s.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(s=>s(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=en,this._forEachChild(s=>{s.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(s=>s(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===en||this.status===yr)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?bi:en}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=yr,this._hasOwnPendingAsyncValidator=!0;const e=gl(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(s=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(s,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function Xr(n,t,e){if(null==t||(Array.isArray(t)||(t=t.split(e)),Array.isArray(t)&&0===t.length))return null;let s=n;return t.forEach(a=>{s=Qs(s)?s.controls.hasOwnProperty(a)?s.controls[a]:null:(n=>n instanceof Zp)(s)&&s.at(a)||null}),s}(this,t,".")}getError(t,e){const s=e?this.get(e):this;return s&&s.errors?s.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new d.vpe,this.statusChanges=new d.vpe}_calculateStatus(){return this._allControlsDisabled()?bi:this.errors?ui:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(yr)?yr:this._anyControlsHaveStatus(ui)?ui:en}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){yl(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class ji extends Oh{constructor(t=null,e,s){super(ci(e),Sa(s,e)),this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(s=>s(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Tt(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Tt(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class Ma extends Oh{constructor(t,e,s){super(ci(e),Sa(s,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,s={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,s={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){yu(this,t),Object.keys(t).forEach(s=>{Jc(this,s),this.controls[s].setValue(t[s],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(s=>{this.controls[s]&&this.controls[s].patchValue(t[s],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((s,a)=>{s.reset(t[a],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,s)=>(t[s]=zp(e),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,s)=>!!s._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const s=this.controls[e];s&&t(s,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const s=this.controls[e];if(this.contains(e)&&t(s))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,s)=>((e.enabled||this.disabled)&&(t[s]=e.value),t))}_reduceChildren(t,e){let s=t;return this._forEachChild((a,c)=>{s=e(s,a,c)}),s}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class Zp extends Oh{constructor(t,e,s){super(ci(e),Sa(s,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,s={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:s.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,s={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){yu(this,t),t.forEach((s,a)=>{Jc(this,a),this.at(a).setValue(s,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((s,a)=>{this.at(a)&&this.at(a).patchValue(s,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((s,a)=>{s.reset(t[a],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>zp(t))}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((e,s)=>!!s._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,s)=>{t(e,s)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}let ed=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=d.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),Xs=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();const vl=new d.OlP("NgModelWithFormControlWarning"),eg={provide:an,useExisting:(0,d.Gpc)(()=>Iu)};let Iu=(()=>{class n extends an{constructor(e,s){super(),this.validators=e,this.asyncValidators=s,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new d.vpe,this._setValidators(e),this._setAsyncValidators(s)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ks(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const s=this.form.get(e.path);return Ta(s,e),s.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),s}getControl(e){return this.form.get(e.path)}removeControl(e){dr(e.control||null,e,!1),Tt(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,s){this.form.get(e.path).setValue(s)}onSubmit(e){return this.submitted=!0,function dt(n,t){n._syncPendingControls(),t.forEach(e=>{const s=e.control;"submit"===s.updateOn&&s._pendingChange&&(e.viewToModelUpdate(s._pendingValue),s._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const s=e.control,a=this.form.get(e.path);s!==a&&(dr(s||null,e),No(a)&&(Ta(a,e),e.control=a))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const s=this.form.get(e.path);(function M(n,t){hs(n,t)})(s,e),s.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const s=this.form.get(e.path);s&&function U(n,t){return Ks(n,t)}(s,e)&&s.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){hs(this.form,this),this._oldForm&&Ks(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(yn,10),d.Y36(ss,10))},n.\u0275dir=d.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,s){1&e&&d.NdJ("submit",function(c){return s.onSubmit(c)})("reset",function(){return s.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d._Bn([eg]),d.qOj,d.TTD]}),n})();const Lh={provide:Yn,useExisting:(0,d.Gpc)(()=>di)};let di=(()=>{class n extends Yn{constructor(e,s,a,c,g){super(),this._ngModelWarningConfig=g,this._added=!1,this.update=new d.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(s),this._setAsyncValidators(a),this.valueAccessor=function ft(n,t){if(!t)return null;let e,s,a;return Array.isArray(t),t.forEach(c=>{c.constructor===ya?e=c:function Ge(n){return Object.getPrototypeOf(n.constructor)===Fr}(c)?s=c:a=c}),a||s||e||null}(0,c)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),function De(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return function _r(n,t){return[...t.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(d.Y36(an,13),d.Y36(yn,10),d.Y36(ss,10),d.Y36(mr,10),d.Y36(vl,8))},n.\u0275dir=d.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[d._Bn([Lh]),d.qOj,d.TTD]}),n})();const Cl={provide:mr,useExisting:(0,d.Gpc)(()=>Ra),multi:!0};function sd(n,t){return null==n?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let Ra=(()=>{class n extends Fr{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const s=this._getOptionId(e);null==s&&this.setProperty("selectedIndex",-1);const a=sd(s,e);this.setProperty("value",a)}registerOnChange(e){this.onChange=s=>{this.value=this._getOptionValue(s),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const s of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(s),e))return s;return null}_getOptionValue(e){const s=function Vh(n){return n.split(":")[0]}(e);return this._optionMap.has(s)?this._optionMap.get(s):e}}return n.\u0275fac=function(){let t;return function(s){return(t||(t=d.n5z(n)))(s||n)}}(),n.\u0275dir=d.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,s){1&e&&d.NdJ("change",function(c){return s.onChange(c.target.value)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},features:[d._Bn([Cl]),d.qOj]}),n})(),ng=(()=>{class n{constructor(e,s,a){this._element=e,this._renderer=s,this._select=a,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(sd(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(d.SBq),d.Y36(d.Qsj),d.Y36(Ra,9))},n.\u0275dir=d.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const q_={provide:mr,useExisting:(0,d.Gpc)(()=>El),multi:!0};function rg(n,t){return null==n?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${n}: ${t}`.slice(0,50))}let El=(()=>{class n extends Fr{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let s;if(this.value=e,Array.isArray(e)){const a=e.map(c=>this._getOptionId(c));s=(c,g)=>{c._setSelected(a.indexOf(g.toString())>-1)}}else s=(a,c)=>{a._setSelected(!1)};this._optionMap.forEach(s)}registerOnChange(e){this.onChange=s=>{const a=[],c=s.selectedOptions;if(void 0!==c){const g=c;for(let v=0;v<g.length;v++){const S=this._getOptionValue(g[v].value);a.push(S)}}else{const g=s.options;for(let v=0;v<g.length;v++){const w=g[v];if(w.selected){const S=this._getOptionValue(w.value);a.push(S)}}}this.value=a,e(a)}}_registerOption(e){const s=(this._idCounter++).toString();return this._optionMap.set(s,e),s}_getOptionId(e){for(const s of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(s)._value,e))return s;return null}_getOptionValue(e){const s=function od(n){return n.split(":")[0]}(e);return this._optionMap.has(s)?this._optionMap.get(s)._value:e}}return n.\u0275fac=function(){let t;return function(s){return(t||(t=d.n5z(n)))(s||n)}}(),n.\u0275dir=d.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,s){1&e&&d.NdJ("change",function(c){return s.onChange(c.target)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},features:[d._Bn([q_]),d.qOj]}),n})(),ad=(()=>{class n{constructor(e,s,a){this._element=e,this._renderer=s,this._select=a,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(rg(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(rg(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(d.SBq),d.Y36(d.Qsj),d.Y36(El,9))},n.\u0275dir=d.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})(),Kt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[Xs]]}),n})(),tn=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:vl,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[Kt]}),n})();function Ke(...n){const t=(0,Ci.yG)(n);return(0,Hn.D)(n,t)}var Wn=x(5577),Pa=x(576);function Lo(n,t){return(0,Pa.m)(t)?(0,Wn.z)(n,t,1):(0,Wn.z)(n,1)}var Tr=x(4482);function wi(n,t){return(0,Tr.e)((e,s)=>{let a=0;e.subscribe(new $n.Q(s,c=>n.call(t,c,a++)&&s.next(c)))})}class cd{}class dd{}class Di{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const s=e.indexOf(":");if(s>0){const a=e.slice(0,s),c=a.toLowerCase(),g=e.slice(s+1).trim();this.maybeSetNormalizedName(a,c),this.headers.has(c)?this.headers.get(c).push(g):this.headers.set(c,[g])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let s=t[e];const a=e.toLowerCase();"string"==typeof s&&(s=[s]),s.length>0&&(this.headers.set(a,s),this.maybeSetNormalizedName(e,a))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Di?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Di;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Di?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let s=t.value;if("string"==typeof s&&(s=[s]),0===s.length)return;this.maybeSetNormalizedName(t.name,e);const a=("a"===t.op?this.headers.get(e):void 0)||[];a.push(...s),this.headers.set(e,a);break;case"d":const c=t.value;if(c){let g=this.headers.get(e);if(!g)return;g=g.filter(v=>-1===c.indexOf(v)),0===g.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,g)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class jh{encodeKey(t){return K_(t)}encodeValue(t){return K_(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const xE=/%(\d[a-f0-9])/gi,ag={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function K_(n){return encodeURIComponent(n).replace(xE,(t,e)=>{var s;return null!==(s=ag[e])&&void 0!==s?s:t})}function Y_(n){return`${n}`}class eo{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new jh,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function OE(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(a=>{const c=a.indexOf("="),[g,v]=-1==c?[t.decodeKey(a),""]:[t.decodeKey(a.slice(0,c)),t.decodeValue(a.slice(c+1))],w=e.get(g)||[];w.push(v),e.set(g,w)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const s=t.fromObject[e];this.map.set(e,Array.isArray(s)?s:[s])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(s=>{const a=t[s];Array.isArray(a)?a.forEach(c=>{e.push({param:s,value:c,op:"a"})}):e.push({param:s,value:a,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(s=>e+"="+this.encoder.encodeValue(s)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new eo({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(Y_(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let s=this.map.get(t.param)||[];const a=s.indexOf(Y_(t.value));-1!==a&&s.splice(a,1),s.length>0?this.map.set(t.param,s):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class NE{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function Q_(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function J_(n){return"undefined"!=typeof Blob&&n instanceof Blob}function X_(n){return"undefined"!=typeof FormData&&n instanceof FormData}class fd{constructor(t,e,s,a){let c;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function hd(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||a?(this.body=void 0!==s?s:null,c=a):c=s,c&&(this.reportProgress=!!c.reportProgress,this.withCredentials=!!c.withCredentials,c.responseType&&(this.responseType=c.responseType),c.headers&&(this.headers=c.headers),c.context&&(this.context=c.context),c.params&&(this.params=c.params)),this.headers||(this.headers=new Di),this.context||(this.context=new NE),this.params){const g=this.params.toString();if(0===g.length)this.urlWithParams=e;else{const v=e.indexOf("?");this.urlWithParams=e+(-1===v?"?":v<e.length-1?"&":"")+g}}else this.params=new eo,this.urlWithParams=e}serializeBody(){return null===this.body?null:Q_(this.body)||J_(this.body)||X_(this.body)||function kE(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof eo?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||X_(this.body)?null:J_(this.body)?this.body.type||null:Q_(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof eo?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var e;const s=t.method||this.method,a=t.url||this.url,c=t.responseType||this.responseType,g=void 0!==t.body?t.body:this.body,v=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,w=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let S=t.headers||this.headers,H=t.params||this.params;const L=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(S=Object.keys(t.setHeaders).reduce((Q,ne)=>Q.set(ne,t.setHeaders[ne]),S)),t.setParams&&(H=Object.keys(t.setParams).reduce((Q,ne)=>Q.set(ne,t.setParams[ne]),H)),new fd(s,a,g,{params:H,headers:S,context:L,reportProgress:w,responseType:c,withCredentials:v})}}var sr=(()=>((sr=sr||{})[sr.Sent=0]="Sent",sr[sr.UploadProgress=1]="UploadProgress",sr[sr.ResponseHeader=2]="ResponseHeader",sr[sr.DownloadProgress=3]="DownloadProgress",sr[sr.Response=4]="Response",sr[sr.User=5]="User",sr))();class lg{constructor(t,e=200,s="OK"){this.headers=t.headers||new Di,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||s,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class ug extends lg{constructor(t={}){super(t),this.type=sr.ResponseHeader}clone(t={}){return new ug({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Hh extends lg{constructor(t={}){super(t),this.type=sr.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Hh({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class ey extends lg{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function $h(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let ty=(()=>{class n{constructor(e){this.handler=e}request(e,s,a={}){let c;if(e instanceof fd)c=e;else{let w,S;w=a.headers instanceof Di?a.headers:new Di(a.headers),a.params&&(S=a.params instanceof eo?a.params:new eo({fromObject:a.params})),c=new fd(e,s,void 0!==a.body?a.body:null,{headers:w,context:a.context,params:S,reportProgress:a.reportProgress,responseType:a.responseType||"json",withCredentials:a.withCredentials})}const g=Ke(c).pipe(Lo(w=>this.handler.handle(w)));if(e instanceof fd||"events"===a.observe)return g;const v=g.pipe(wi(w=>w instanceof Hh));switch(a.observe||"body"){case"body":switch(c.responseType){case"arraybuffer":return v.pipe((0,pt.U)(w=>{if(null!==w.body&&!(w.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return w.body}));case"blob":return v.pipe((0,pt.U)(w=>{if(null!==w.body&&!(w.body instanceof Blob))throw new Error("Response is not a Blob.");return w.body}));case"text":return v.pipe((0,pt.U)(w=>{if(null!==w.body&&"string"!=typeof w.body)throw new Error("Response is not a string.");return w.body}));default:return v.pipe((0,pt.U)(w=>w.body))}case"response":return v;default:throw new Error(`Unreachable: unhandled observe type ${a.observe}}`)}}delete(e,s={}){return this.request("DELETE",e,s)}get(e,s={}){return this.request("GET",e,s)}head(e,s={}){return this.request("HEAD",e,s)}jsonp(e,s){return this.request("JSONP",e,{params:(new eo).append(s,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,s={}){return this.request("OPTIONS",e,s)}patch(e,s,a={}){return this.request("PATCH",e,$h(a,s))}post(e,s,a={}){return this.request("POST",e,$h(a,s))}put(e,s,a={}){return this.request("PUT",e,$h(a,s))}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(cd))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class ny{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const ry=new d.OlP("HTTP_INTERCEPTORS");let Pu=(()=>{class n{intercept(e,s){return s.handle(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const cg=/^\)\]\}',?\n/;let dg=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Jt.y(s=>{const a=this.xhrFactory.build();if(a.open(e.method,e.urlWithParams),e.withCredentials&&(a.withCredentials=!0),e.headers.forEach((ne,Te)=>a.setRequestHeader(ne,Te.join(","))),e.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const ne=e.detectContentTypeHeader();null!==ne&&a.setRequestHeader("Content-Type",ne)}if(e.responseType){const ne=e.responseType.toLowerCase();a.responseType="json"!==ne?ne:"text"}const c=e.serializeBody();let g=null;const v=()=>{if(null!==g)return g;const ne=1223===a.status?204:a.status,Te=a.statusText||"OK",at=new Di(a.getAllResponseHeaders()),vt=function LE(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(a)||e.url;return g=new ug({headers:at,status:ne,statusText:Te,url:vt}),g},w=()=>{let{headers:ne,status:Te,statusText:at,url:vt}=v(),xt=null;204!==Te&&(xt=void 0===a.response?a.responseText:a.response),0===Te&&(Te=xt?200:0);let Dn=Te>=200&&Te<300;if("json"===e.responseType&&"string"==typeof xt){const Gn=xt;xt=xt.replace(cg,"");try{xt=""!==xt?JSON.parse(xt):null}catch(nn){xt=Gn,Dn&&(Dn=!1,xt={error:nn,text:xt})}}Dn?(s.next(new Hh({body:xt,headers:ne,status:Te,statusText:at,url:vt||void 0})),s.complete()):s.error(new ey({error:xt,headers:ne,status:Te,statusText:at,url:vt||void 0}))},S=ne=>{const{url:Te}=v(),at=new ey({error:ne,status:a.status||0,statusText:a.statusText||"Unknown Error",url:Te||void 0});s.error(at)};let H=!1;const L=ne=>{H||(s.next(v()),H=!0);let Te={type:sr.DownloadProgress,loaded:ne.loaded};ne.lengthComputable&&(Te.total=ne.total),"text"===e.responseType&&!!a.responseText&&(Te.partialText=a.responseText),s.next(Te)},Q=ne=>{let Te={type:sr.UploadProgress,loaded:ne.loaded};ne.lengthComputable&&(Te.total=ne.total),s.next(Te)};return a.addEventListener("load",w),a.addEventListener("error",S),a.addEventListener("timeout",S),a.addEventListener("abort",S),e.reportProgress&&(a.addEventListener("progress",L),null!==c&&a.upload&&a.upload.addEventListener("progress",Q)),a.send(c),s.next({type:sr.Sent}),()=>{a.removeEventListener("error",S),a.removeEventListener("abort",S),a.removeEventListener("load",w),a.removeEventListener("timeout",S),e.reportProgress&&(a.removeEventListener("progress",L),null!==c&&a.upload&&a.upload.removeEventListener("progress",Q)),a.readyState!==a.DONE&&a.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(on))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const Dl=new d.OlP("XSRF_COOKIE_NAME"),Wh=new d.OlP("XSRF_HEADER_NAME");class hg{}let fg=(()=>{class n{constructor(e,s,a){this.doc=e,this.platform=s,this.cookieName=a,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Yi(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(se),d.LFG(d.Lbi),d.LFG(Dl))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),pd=(()=>{class n{constructor(e,s){this.tokenService=e,this.headerName=s}intercept(e,s){const a=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||a.startsWith("http://")||a.startsWith("https://"))return s.handle(e);const c=this.tokenService.getToken();return null!==c&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,c)})),s.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(hg),d.LFG(Wh))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),sy=(()=>{class n{constructor(e,s){this.backend=e,this.injector=s,this.chain=null}handle(e){if(null===this.chain){const s=this.injector.get(ry,[]);this.chain=s.reduceRight((a,c)=>new ny(a,c),this.backend)}return this.chain.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(dd),d.LFG(d.zs3))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),pg=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:pd,useClass:Pu}]}}static withOptions(e={}){return{ngModule:n,providers:[e.cookieName?{provide:Dl,useValue:e.cookieName}:[],e.headerName?{provide:Wh,useValue:e.headerName}:[]]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[pd,{provide:ry,useExisting:pd,multi:!0},{provide:hg,useClass:fg},{provide:Dl,useValue:"XSRF-TOKEN"},{provide:Wh,useValue:"X-XSRF-TOKEN"}]}),n})(),oy=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[ty,{provide:cd,useClass:sy},dg,{provide:dd,useExisting:dg}],imports:[[pg.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})();var gs=x(2011),VE=x(4986),gg=x(6451),ly=x(3099);function Ur(n,t){return(0,Tr.e)((e,s)=>{let a=null,c=0,g=!1;const v=()=>g&&!a&&s.complete();e.subscribe(new $n.Q(s,w=>{null==a||a.unsubscribe();let S=0;const H=c++;(0,Ni.Xf)(n(w,H)).subscribe(a=new $n.Q(s,L=>s.next(t?t(w,L,H,S++):L),()=>{a=null,v()}))},()=>{g=!0,v()}))})}function UE(n,t,e,s,a){return(c,g)=>{let v=e,w=t,S=0;c.subscribe(new $n.Q(g,H=>{const L=S++;w=v?n(w,H,L):(v=!0,H),s&&g.next(w)},a&&(()=>{v&&g.next(w),g.complete()})))}}function md(n,t){return(0,Tr.e)(UE(n,t,arguments.length>=2,!0))}var Oa=x(4671);function mg(n,t){return n===t}var BE=x(5032),Nn=x(5813),dy=(x(5881),x(3942)),xa=x(4859),Il=x(5861),Hi=x(9681),k=x(2090),_d=x(1877);const _g="@firebase/database";let yd="";function vg(n){yd=n}class Gh{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,k.Pz)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,k.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class zh{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,k.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const Cg=function(n){try{if("undefined"!=typeof window&&void 0!==window[n]){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Gh(t)}}catch(t){}return new zh},Bo=Cg("localStorage"),Zh=Cg("sessionStorage"),Na=new _d.Yd("@firebase/database"),xu=function(){let n=1;return function(){return n++}}(),hy=function(n){const t=(0,k.dS)(n),e=new k.gQ;e.update(t);const s=e.digest();return k.US.encodeByteArray(s)},Nu=function(...n){let t="";for(let e=0;e<n.length;e++){const s=n[e];Array.isArray(s)||s&&"object"==typeof s&&"number"==typeof s.length?t+=Nu.apply(null,s):t+="object"==typeof s?(0,k.Pz)(s):s,t+=" "}return t};let Tl=null,fy=!0;const Eg=function(n,t){(0,k.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(Na.logLevel=_d.in.VERBOSE,Tl=Na.log.bind(Na),t&&Zh.set("logging_enabled",!0)):"function"==typeof n?Tl=n:(Tl=null,Zh.remove("logging_enabled"))},hr=function(...n){if(!0===fy&&(fy=!1,null===Tl&&!0===Zh.get("logging_enabled")&&Eg(!0)),Tl){const t=Nu.apply(null,n);Tl(t)}},ku=function(n){return function(...t){hr(n,...t)}},py=function(...n){const t="FIREBASE INTERNAL ERROR: "+Nu(...n);Na.error(t)},ms=function(...n){const t=`FIREBASE FATAL ERROR: ${Nu(...n)}`;throw Na.error(t),new Error(t)},ei=function(...n){const t="FIREBASE WARNING: "+Nu(...n);Na.warn(t)},qh=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},vr="[MIN_NAME]",to="[MAX_NAME]",ka=function(n,t){if(n===t)return 0;if(n===vr||t===to)return-1;if(t===vr||n===to)return 1;{const e=Al(n),s=Al(t);return null!==e?null!==s?e-s==0?n.length-t.length:e-s:-1:null!==s?1:n<t?-1:1}},$E=function(n,t){return n===t?0:n<t?-1:1},vd=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,k.Pz)(t))},bg=function(n){if("object"!=typeof n||null===n)return(0,k.Pz)(n);const t=[];for(const s in n)t.push(s);t.sort();let e="{";for(let s=0;s<t.length;s++)0!==s&&(e+=","),e+=(0,k.Pz)(t[s]),e+=":",e+=bg(n[t[s]]);return e+="}",e},my=function(n,t){const e=n.length;if(e<=t)return[n];const s=[];for(let a=0;a<e;a+=t)s.push(n.substring(a,a+t>e?e:a+t));return s};function Cr(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const _y=function(n){(0,k.hu)(!qh(n),"Invalid JSON number");const s=1023;let a,c,g,v,w;0===n?(c=0,g=0,a=1/n==-1/0?1:0):(a=n<0,(n=Math.abs(n))>=Math.pow(2,1-s)?(v=Math.min(Math.floor(Math.log(n)/Math.LN2),s),c=v+s,g=Math.round(n*Math.pow(2,52-v)-Math.pow(2,52))):(c=0,g=Math.round(n/Math.pow(2,-1074))));const S=[];for(w=52;w;w-=1)S.push(g%2?1:0),g=Math.floor(g/2);for(w=11;w;w-=1)S.push(c%2?1:0),c=Math.floor(c/2);S.push(a?1:0),S.reverse();const H=S.join("");let L="";for(w=0;w<64;w+=8){let Q=parseInt(H.substr(w,8),2).toString(16);1===Q.length&&(Q="0"+Q),L+=Q}return L.toLowerCase()},yy=new RegExp("^-?(0*)\\d{1,10}$"),wg=-2147483648,Kh=2147483647,Al=function(n){if(yy.test(n)){const t=Number(n);if(t>=wg&&t<=Kh)return t}return null},Br=function(n){try{n()}catch(t){setTimeout(()=>{throw ei("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},Cd=function(n,t){const e=setTimeout(n,t);return"object"==typeof e&&e.unref&&e.unref(),e};class Dg{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=null==e?void 0:e.getImmediate({optional:!0}),this.appCheck||null==e||e.get().then(s=>this.appCheck=s)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,s)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,s):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(s=>s.addTokenListener(t))}notifyForInvalidToken(){ei(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class jo{constructor(t,e,s){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=s,this.auth_=null,this.auth_=s.getImmediate({optional:!0}),this.auth_||s.onInit(a=>this.auth_=a)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(hr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,s)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,s):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ei(t)}}let Sl=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const bd=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Qh="websocket",qE="long_polling";class Ag{constructor(t,e,s,a,c=!1,g="",v=!1){this.secure=e,this.namespace=s,this.webSocketOnly=a,this.nodeAdmin=c,this.persistenceKey=g,this.includeNamespaceInQueryParams=v,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Bo.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Bo.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function Cy(n,t,e){let s;if((0,k.hu)("string"==typeof t,"typeof type must == string"),(0,k.hu)("object"==typeof e,"typeof params must == object"),t===Qh)s=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==qE)throw new Error("Unknown connection type: "+t);s=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function KE(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const a=[];return Cr(e,(c,g)=>{a.push(c+"="+g)}),s+a.join("&")}class YE{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,k.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,k.p$)(this.counters_)}}const Jh={},Ey={};function Sg(n){const t=n.toString();return Jh[t]||(Jh[t]=new YE),Jh[t]}class by{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const s=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let a=0;a<s.length;++a)s[a]&&Br(()=>{this.onMessage_(s[a])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Fa{constructor(t,e,s,a,c,g,v){this.connId=t,this.repoInfo=e,this.applicationId=s,this.appCheckToken=a,this.authToken=c,this.transportSessionId=g,this.lastSessionId=v,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ku(t),this.stats_=Sg(e),this.urlFn=w=>(this.appCheckToken&&(w.ac=this.appCheckToken),Cy(e,qE,w))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new by(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,k.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Xh((...c)=>{const[g,v,w,S,H]=c;if(this.incrementIncomingBytes_(c),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===g)this.id=v,this.password=w;else{if("close"!==g)throw new Error("Unrecognized command received: "+g);v?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(v,()=>{this.onClosed_()})):this.onClosed_()}},(...c)=>{const[g,v]=c;this.incrementIncomingBytes_(c),this.myPacketOrderer.handleResponse(g,v)},()=>{this.onClosed_()},this.urlFn);const s={start:"t"};s.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(s.cb=this.scriptTagHolder.uniqueCallbackIdentifier),s.v="5",this.transportSessionId&&(s.s=this.transportSessionId),this.lastSessionId&&(s.ls=this.lastSessionId),this.applicationId&&(s.p=this.applicationId),this.appCheckToken&&(s.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&bd.test(location.hostname)&&(s.r="f");const a=this.urlFn(s);this.log_("Connecting via long-poll to "+a),this.scriptTagHolder.addTag(a,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Fa.forceAllow_=!0}static forceDisallow(){Fa.forceDisallow_=!0}static isAvailable(){return!((0,k.Yr)()||!Fa.forceAllow_&&(Fa.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,k.Pz)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const s=(0,k.h$)(e),a=my(s,1840);for(let c=0;c<a.length;c++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,a.length,a[c]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,k.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const s={dframe:"t"};s.id=t,s.pw=e,this.myDisconnFrame.src=this.urlFn(s),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,k.Pz)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class Xh{constructor(t,e,s,a){if(this.onDisconnect=s,this.urlFn=a,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,k.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=xu(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=Xh.createIFrame_();let c="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(c='<script>document.domain="'+document.domain+'";<\/script>');const g="<html><body>"+c+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(g),this.myIFrame.doc.close()}catch(v){hr("frame writing exception"),v.stack&&hr(v.stack),hr(v)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||hr("No IE domain setting required")}catch(e){const s=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+s+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),s="",a=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+s.length<=1870;){const g=this.pendingSegs.shift();s=s+"&seg"+a+"="+g.seg+"&ts"+a+"="+g.ts+"&d"+a+"="+g.d,a++}return e+=s,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,s){this.pendingSegs.push({seg:t,ts:e,d:s}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const s=()=>{this.outstandingRequests.delete(e),this.newRequest_()},a=setTimeout(s,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(a),s()})}addTag(t,e){(0,k.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const s=this.myIFrame.doc.createElement("script");s.type="text/javascript",s.async=!0,s.src=t,s.onload=s.onreadystatechange=function(){const a=s.readyState;(!a||"loaded"===a||"complete"===a)&&(s.onload=s.onreadystatechange=null,s.parentNode&&s.parentNode.removeChild(s),e())},s.onerror=()=>{hr("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(s)}catch(s){}},Math.floor(1))}}let $i=null;"undefined"!=typeof MozWebSocket?$i=MozWebSocket:"undefined"!=typeof WebSocket&&($i=WebSocket);let Fu=(()=>{class n{constructor(e,s,a,c,g,v,w){this.connId=e,this.applicationId=a,this.appCheckToken=c,this.authToken=g,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ku(this.connId),this.stats_=Sg(s),this.connURL=n.connectionURL_(s,v,w,c),this.nodeAdmin=s.nodeAdmin}static connectionURL_(e,s,a,c){const g={v:"5"};return!(0,k.Yr)()&&"undefined"!=typeof location&&location.hostname&&bd.test(location.hostname)&&(g.r="f"),s&&(g.s=s),a&&(g.ls=a),c&&(g.ac=c),Cy(e,Qh,g)}open(e,s){this.onDisconnect=s,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Bo.set("previous_websocket_failure",!0);try{if((0,k.Yr)()){const c={headers:{"User-Agent":`Firebase/5/${yd}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(c.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(c.headers["X-Firebase-AppCheck"]=this.appCheckToken);const g=process.env,v=0===this.connURL.indexOf("wss://")?g.HTTPS_PROXY||g.https_proxy:g.HTTP_PROXY||g.http_proxy;v&&(c.proxy={origin:v}),this.mySock=new $i(this.connURL,[],c)}else this.mySock=new $i(this.connURL,[],{headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}})}catch(a){this.log_("Error instantiating WebSocket.");const c=a.message||a.data;return c&&this.log_(c),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=a=>{this.handleIncomingFrame(a)},this.mySock.onerror=a=>{this.log_("WebSocket error.  Closing connection.");const c=a.message||a.data;c&&this.log_(c),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const a=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);a&&a.length>1&&parseFloat(a[1])<4.4&&(e=!0)}return!e&&null!==$i&&!n.forceDisallow_}static previouslyFailed(){return Bo.isInMemoryStorage||!0===Bo.get("previous_websocket_failure")}markConnectionHealthy(){Bo.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const s=this.frames.join("");this.frames=null;const a=(0,k.cI)(s);this.onMessage(a)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,k.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const s=Number(e);if(!isNaN(s))return this.handleNewFrameCount_(s),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const s=e.data;if(this.bytesReceived+=s.length,this.stats_.incrementCounter("bytes_received",s.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(s);else{const a=this.extractFrameCount_(s);null!==a&&this.appendFrame_(a)}}send(e){this.resetKeepAlive();const s=(0,k.Pz)(e);this.bytesSent+=s.length,this.stats_.incrementCounter("bytes_sent",s.length);const a=my(s,16384);a.length>1&&this.sendString_(String(a.length));for(let c=0;c<a.length;c++)this.sendString_(a[c])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(s){this.log_("Exception thrown from WebSocket.send():",s.message||s.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})();class xg{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[Fa,Fu]}initTransports_(t){const e=Fu&&Fu.isAvailable();let s=e&&!Fu.previouslyFailed();if(t.webSocketOnly&&(e||ei("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[Fu];else{const a=this.transports_=[];for(const c of xg.ALL_TRANSPORTS)c&&c.isAvailable()&&a.push(c)}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}class tf{constructor(t,e,s,a,c,g,v,w,S,H){this.id=t,this.repoInfo_=e,this.applicationId_=s,this.appCheckToken_=a,this.authToken_=c,this.onMessage_=g,this.onReady_=v,this.onDisconnect_=w,this.onKill_=S,this.lastSessionId=H,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ku("c:"+this.id+":"),this.transportManager_=new xg(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),s=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,s)},Math.floor(0));const a=t.healthyTimeout||0;a>0&&(this.healthyTimeout_=Cd(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(a)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=vd("t",t),s=vd("d",t);if("c"===e)this.onSecondaryControl_(s);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(s)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=vd("t",t),s=vd("d",t);"c"===e?this.onControl_(s):"d"===e&&this.onDataMessage_(s)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=vd("t",t);if("d"in t){const s=t.d;if("h"===e)this.onHandshake_(s);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let a=0;a<this.pendingDataMessages.length;++a)this.onDataMessage_(this.pendingDataMessages[a]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(s):"r"===e?this.onReset_(s):"e"===e?py("Server Error: "+s):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):py("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,s=t.v,a=t.h;this.sessionId=t.s,this.repoInfo_.host=a,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==s&&ei("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),s=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,s),Cd(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Cd(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Bo.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class nf{put(t,e,s,a){}merge(t,e,s,a){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,s){}onDisconnectMerge(t,e,s){}onDisconnectCancel(t,e){}reportStats(t){}}class Lg{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,k.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const s=[...this.listeners_[t]];for(let a=0;a<s.length;a++)s[a].callback.apply(s[a].context,e)}}on(t,e,s){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:s});const a=this.getInitialEvent(t);a&&e.apply(s,a)}off(t,e,s){this.validateEventType_(t);const a=this.listeners_[t]||[];for(let c=0;c<a.length;c++)if(a[c].callback===e&&(!s||s===a[c].context))return void a.splice(c,1)}validateEventType_(t){(0,k.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class Rl extends Lg{constructor(){super(["online"]),this.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,k.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Rl}getInitialEvent(t){return(0,k.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class fn{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let s=0;for(let a=0;a<this.pieces_.length;a++)this.pieces_[a].length>0&&(this.pieces_[s]=this.pieces_[a],s++);this.pieces_.length=s,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function $t(){return new fn("")}function Mt(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function La(n){return n.pieces_.length-n.pieceNum_}function vn(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new fn(n.pieces_,t)}function Ug(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function Ar(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function Sy(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new fn(t,0)}function kn(n,t){const e=[];for(let s=n.pieceNum_;s<n.pieces_.length;s++)e.push(n.pieces_[s]);if(t instanceof fn)for(let s=t.pieceNum_;s<t.pieces_.length;s++)e.push(t.pieces_[s]);else{const s=t.split("/");for(let a=0;a<s.length;a++)s[a].length>0&&e.push(s[a])}return new fn(e,0)}function Nt(n){return n.pieceNum_>=n.pieces_.length}function hi(n,t){const e=Mt(n),s=Mt(t);if(null===e)return t;if(e===s)return hi(vn(n),vn(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function My(n,t){const e=Ar(n,0),s=Ar(t,0);for(let a=0;a<e.length&&a<s.length;a++){const c=ka(e[a],s[a]);if(0!==c)return c}return e.length===s.length?0:e.length<s.length?-1:1}function Ry(n,t){if(La(n)!==La(t))return!1;for(let e=n.pieceNum_,s=t.pieceNum_;e<=n.pieces_.length;e++,s++)if(n.pieces_[e]!==t.pieces_[s])return!1;return!0}function Wi(n,t){let e=n.pieceNum_,s=t.pieceNum_;if(La(n)>La(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[s])return!1;++e,++s}return!0}class Bg{constructor(t,e){this.errorPrefix_=e,this.parts_=Ar(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let s=0;s<this.parts_.length;s++)this.byteLength_+=(0,k.ug)(this.parts_[s]);Oy(this)}}function Oy(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Pl(n))}function Pl(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class rf extends Lg{constructor(){let t,e;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(e="visibilitychange",t="hidden"):void 0!==document.mozHidden?(e="mozvisibilitychange",t="mozHidden"):void 0!==document.msHidden?(e="msvisibilitychange",t="msHidden"):void 0!==document.webkitHidden&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const s=!document[t];s!==this.visible_&&(this.visible_=s,this.trigger("visible",s))},!1)}static getInstance(){return new rf}getInitialEvent(t){return(0,k.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const Id=1e3;let jg,$o=(()=>{class n extends nf{constructor(e,s,a,c,g,v,w,S){if(super(),this.repoInfo_=e,this.applicationId_=s,this.onDataUpdate_=a,this.onConnectStatus_=c,this.onServerInfoUpdate_=g,this.authTokenProvider_=v,this.appCheckTokenProvider_=w,this.authOverride_=S,this.id=n.nextPersistentConnectionId_++,this.log_=ku("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Id,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,S&&!(0,k.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");rf.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&Rl.getInstance().on("online",this.onOnline_,this)}sendRequest(e,s,a){const c=++this.requestNumber_,g={r:c,a:e,b:s};this.log_((0,k.Pz)(g)),(0,k.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(g),a&&(this.requestCBHash_[c]=a)}get(e){this.initConnection_();const s=new k.BH,a={p:e._path.toString(),q:e._queryObject},c={action:"g",request:a,onComplete:v=>{const w=v.d;"ok"===v.s?(this.onDataUpdate_(a.p,w,!1,null),s.resolve(w)):s.reject(w)}};this.outstandingGets_.push(c),this.outstandingGetCount_++;const g=this.outstandingGets_.length-1;return this.connected_||setTimeout(()=>{const v=this.outstandingGets_[g];void 0===v||c!==v||(delete this.outstandingGets_[g],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),this.log_("get "+g+" timed out on connection"),s.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(g),s.promise}listen(e,s,a,c){this.initConnection_();const g=e._queryIdentifier,v=e._path.toString();this.log_("Listen called for "+v+" "+g),this.listens.has(v)||this.listens.set(v,new Map),(0,k.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,k.hu)(!this.listens.get(v).has(g),"listen() called twice for same path/queryId.");const w={onComplete:c,hashFn:s,query:e,tag:a};this.listens.get(v).set(g,w),this.connected_&&this.sendListen_(w)}sendGet_(e){const s=this.outstandingGets_[e];this.sendRequest("g",s.request,a=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),s.onComplete&&s.onComplete(a)})}sendListen_(e){const s=e.query,a=s._path.toString(),c=s._queryIdentifier;this.log_("Listen on "+a+" for "+c);const g={p:a};e.tag&&(g.q=s._queryObject,g.t=e.tag),g.h=e.hashFn(),this.sendRequest("q",g,w=>{const S=w.d,H=w.s;n.warnOnListenWarnings_(S,s),(this.listens.get(a)&&this.listens.get(a).get(c))===e&&(this.log_("listen response",w),"ok"!==H&&this.removeListen_(a,c),e.onComplete&&e.onComplete(H,S))})}static warnOnListenWarnings_(e,s){if(e&&"object"==typeof e&&(0,k.r3)(e,"w")){const a=(0,k.DV)(e,"w");if(Array.isArray(a)&&~a.indexOf("no_index")){const c='".indexOn": "'+s._queryParams.getIndex().toString()+'"',g=s._path.toString();ei(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${c} at ${g} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,k.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,s=(0,k.w9)(e)?"auth":"gauth",a={cred:e};null===this.authOverride_?a.noauth=!0:"object"==typeof this.authOverride_&&(a.authvar=this.authOverride_),this.sendRequest(s,a,c=>{const g=c.s,v=c.d||"error";this.authToken_===e&&("ok"===g?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(g,v))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const s=e.s,a=e.d||"error";"ok"===s?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(s,a)})}unlisten(e,s){const a=e._path.toString(),c=e._queryIdentifier;this.log_("Unlisten called for "+a+" "+c),(0,k.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(a,c)&&this.connected_&&this.sendUnlisten_(a,c,e._queryObject,s)}sendUnlisten_(e,s,a,c){this.log_("Unlisten on "+e+" for "+s);const g={p:e};c&&(g.q=a,g.t=c),this.sendRequest("n",g)}onDisconnectPut(e,s,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,s,a):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:s,onComplete:a})}onDisconnectMerge(e,s,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,s,a):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:s,onComplete:a})}onDisconnectCancel(e,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,s):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:s})}sendOnDisconnect_(e,s,a,c){const g={p:s,d:a};this.log_("onDisconnect "+e,g),this.sendRequest(e,g,v=>{c&&setTimeout(()=>{c(v.s,v.d)},Math.floor(0))})}put(e,s,a,c){this.putInternal("p",e,s,a,c)}merge(e,s,a,c){this.putInternal("m",e,s,a,c)}putInternal(e,s,a,c,g){this.initConnection_();const v={p:s,d:a};void 0!==g&&(v.h=g),this.outstandingPuts_.push({action:e,request:v,onComplete:c}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+s)}sendPut_(e){const s=this.outstandingPuts_[e].action,a=this.outstandingPuts_[e].request,c=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(s,a,g=>{this.log_(s+" response",g),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),c&&c(g.s,g.d)})}reportStats(e){if(this.connected_){const s={c:e};this.log_("reportStats",s),this.sendRequest("s",s,a=>{"ok"!==a.s&&this.log_("reportStats","Error sending stats: "+a.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,k.Pz)(e));const s=e.r,a=this.requestCBHash_[s];a&&(delete this.requestCBHash_[s],a(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,s){this.log_("handleServerMessage",e,s),"d"===e?this.onDataUpdate_(s.p,s.d,!1,s.t):"m"===e?this.onDataUpdate_(s.p,s.d,!0,s.t):"c"===e?this.onListenRevoked_(s.p,s.q):"ac"===e?this.onAuthRevoked_(s.s,s.d):"apc"===e?this.onAppCheckRevoked_(s.s,s.d):"sd"===e?this.onSecurityDebugPacket_(s):py("Unrecognized action received from server: "+(0,k.Pz)(e)+"\nAre you using the latest client?")}onReady_(e,s){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=s,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,k.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Id,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Id,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Id),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let s=Math.max(0,this.reconnectDelay_-e);s=Math.random()*s,this.log_("Trying to reconnect in "+s+"ms"),this.scheduleConnect_(s),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,Il.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const s=e.onDataMessage_.bind(e),a=e.onReady_.bind(e),c=e.onRealtimeDisconnect_.bind(e),g=e.id+":"+n.nextConnectionId_++,v=e.lastSessionId;let w=!1,S=null;const H=function(){S?S.close():(w=!0,c())};e.realtime_={close:H,sendRequest:function(ne){(0,k.hu)(S,"sendRequest call when we're not connected not allowed."),S.sendRequest(ne)}};const Q=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[ne,Te]=yield Promise.all([e.authTokenProvider_.getToken(Q),e.appCheckTokenProvider_.getToken(Q)]);w?hr("getToken() completed but was canceled"):(hr("getToken() completed. Creating connection."),e.authToken_=ne&&ne.accessToken,e.appCheckToken_=Te&&Te.token,S=new tf(g,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,s,a,c,at=>{ei(at+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},v))}catch(ne){e.log_("Failed to get token: "+ne),w||(e.repoInfo_.nodeAdmin&&ei(ne),H())}}})()}interrupt(e){hr("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){hr("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,k.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Id,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const s=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:s})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const s=this.outstandingPuts_[e];s&&"h"in s.request&&s.queued&&(s.onComplete&&s.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,s){let a;a=s?s.map(g=>bg(g)).join("$"):"default";const c=this.removeListen_(e,a);c&&c.onComplete&&c.onComplete("permission_denied")}removeListen_(e,s){const a=new fn(e).toString();let c;if(this.listens.has(a)){const g=this.listens.get(a);c=g.get(s),g.delete(s),0===g.size&&this.listens.delete(a)}else c=void 0;return c}onAuthRevoked_(e,s){hr("Auth token revoked: "+e+"/"+s),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,s){hr("App check token revoked: "+e+"/"+s),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const s of e.values())this.sendListen_(s);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let s="js";(0,k.Yr)()&&(s=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+s+"."+yd.replace(/\./g,"-")]=1,(0,k.uI)()?e["framework.cordova"]=1:(0,k.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Rl.getInstance().currentlyOnline();return(0,k.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class kt{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new kt(t,e)}}class sf{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const s=new kt(vr,t),a=new kt(vr,e);return 0!==this.compare(s,a)}minPost(){return kt.MIN}}class Hg extends sf{static get __EMPTY_NODE(){return jg}static set __EMPTY_NODE(t){jg=t}compare(t,e){return ka(t.name,e.name)}isDefinedOn(t){throw(0,k.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return kt.MIN}maxPost(){return new kt(to,jg)}makePost(t,e){return(0,k.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new kt(t,jg)}toString(){return".key"}}const no=new Hg;class of{constructor(t,e,s,a,c=null){this.isReverse_=a,this.resultGenerator_=c,this.nodeStack_=[];let g=1;for(;!t.isEmpty();)if(t=t,g=e?s(t.key,e):1,a&&(g*=-1),g<0)t=this.isReverse_?t.left:t.right;else{if(0===g){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let Td,ys=(()=>{class n{constructor(e,s,a,c,g){this.key=e,this.value=s,this.color=null!=a?a:n.RED,this.left=null!=c?c:fi.EMPTY_NODE,this.right=null!=g?g:fi.EMPTY_NODE}copy(e,s,a,c,g){return new n(null!=e?e:this.key,null!=s?s:this.value,null!=a?a:this.color,null!=c?c:this.left,null!=g?g:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,s,a){let c=this;const g=a(e,c.key);return c=g<0?c.copy(null,null,null,c.left.insert(e,s,a),null):0===g?c.copy(null,s,null,null,null):c.copy(null,null,null,null,c.right.insert(e,s,a)),c.fixUp_()}removeMin_(){if(this.left.isEmpty())return fi.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,s){let a,c;if(a=this,s(e,a.key)<0)!a.left.isEmpty()&&!a.left.isRed_()&&!a.left.left.isRed_()&&(a=a.moveRedLeft_()),a=a.copy(null,null,null,a.left.remove(e,s),null);else{if(a.left.isRed_()&&(a=a.rotateRight_()),!a.right.isEmpty()&&!a.right.isRed_()&&!a.right.left.isRed_()&&(a=a.moveRedRight_()),0===s(e,a.key)){if(a.right.isEmpty())return fi.EMPTY_NODE;c=a.right.min_(),a=a.copy(c.key,c.value,null,null,a.right.removeMin_())}a=a.copy(null,null,null,null,a.right.remove(e,s))}return a.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),s=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,s)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class fi{constructor(t,e=fi.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new fi(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,ys.BLACK,null,null))}remove(t){return new fi(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,ys.BLACK,null,null))}get(t){let e,s=this.root_;for(;!s.isEmpty();){if(e=this.comparator_(t,s.key),0===e)return s.value;e<0?s=s.left:e>0&&(s=s.right)}return null}getPredecessorKey(t){let e,s=this.root_,a=null;for(;!s.isEmpty();){if(e=this.comparator_(t,s.key),0===e){if(s.left.isEmpty())return a?a.key:null;for(s=s.left;!s.right.isEmpty();)s=s.right;return s.key}e<0?s=s.left:e>0&&(a=s,s=s.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new of(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new of(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new of(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new of(this.root_,null,this.comparator_,!0,t)}}function d0(n,t){return ka(n.name,t.name)}function ju(n,t){return ka(n,t)}fi.EMPTY_NODE=new class $g{copy(t,e,s,a,c){return this}insert(t,e,s){return new ys(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const af=function(n){return"number"==typeof n?"number:"+_y(n):"string:"+n},lf=function(n){if(n.isLeafNode()){const t=n.val();(0,k.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,k.r3)(t,".sv"),"Priority must be a string or number.")}else(0,k.hu)(n===Td||n.isEmpty(),"priority of unexpected type.");(0,k.hu)(n===Td||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Wg,Ly,uf,Hu=(()=>{class n{constructor(e,s=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=s,this.lazyHash_=null,(0,k.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),lf(this.priorityNode_)}static set __childrenNodeConstructor(e){Wg=e}static get __childrenNodeConstructor(){return Wg}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Nt(e)?this:".priority"===Mt(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,s){return null}updateImmediateChild(e,s){return".priority"===e?this.updatePriority(s):s.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,s).updatePriority(this.priorityNode_)}updateChild(e,s){const a=Mt(e);return null===a?s:s.isEmpty()&&".priority"!==a?this:((0,k.hu)(".priority"!==a||1===La(e),".priority must be the last token in a path"),this.updateImmediateChild(a,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(vn(e),s)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,s){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+af(this.priorityNode_.val())+":");const s=typeof this.value_;e+=s+":",e+="number"===s?_y(this.value_):this.value_,this.lazyHash_=hy(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,k.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const s=typeof e.value_,a=typeof this.value_,c=n.VALUE_TYPE_ORDER.indexOf(s),g=n.VALUE_TYPE_ORDER.indexOf(a);return(0,k.hu)(c>=0,"Unknown leaf type: "+s),(0,k.hu)(g>=0,"Unknown leaf type: "+a),c===g?"object"===a?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:g-c}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const s=e;return this.value_===s.value_&&this.priorityNode_.equals(s.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const bn=new class Vy extends sf{compare(t,e){const s=t.node.getPriority(),a=e.node.getPriority(),c=s.compareTo(a);return 0===c?ka(t.name,e.name):c}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return kt.MIN}maxPost(){return new kt(to,new Hu("[PRIORITY-POST]",uf))}makePost(t,e){const s=Ly(t);return new kt(e,new Hu("[PRIORITY-POST]",s))}toString(){return".priority"}},Uy=Math.log(2);class By{constructor(t){this.count=parseInt(Math.log(t+1)/Uy,10),this.current_=this.count-1;const a=(c=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&a}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Ad=function(n,t,e,s){n.sort(t);const a=function(w,S){const H=S-w;let L,Q;if(0===H)return null;if(1===H)return L=n[w],Q=e?e(L):L,new ys(Q,L.node,ys.BLACK,null,null);{const ne=parseInt(H/2,10)+w,Te=a(w,ne),at=a(ne+1,S);return L=n[ne],Q=e?e(L):L,new ys(Q,L.node,ys.BLACK,Te,at)}},v=function(w){let S=null,H=null,L=n.length;const Q=function(Te,at){const vt=L-Te,xt=L;L-=Te;const Dn=a(vt+1,xt),Gn=n[vt],nn=e?e(Gn):Gn;ne(new ys(nn,Gn.node,at,null,Dn))},ne=function(Te){S?(S.left=Te,S=Te):(H=Te,S=Te)};for(let Te=0;Te<w.count;++Te){const at=w.nextBitIsOne(),vt=Math.pow(2,w.count-(Te+1));at?Q(vt,ys.BLACK):(Q(vt,ys.BLACK),Q(vt,ys.RED))}return H}(new By(n.length));return new fi(s||t,v)};let vs;const Wo={};class Go{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,k.hu)(Wo&&bn,"ChildrenNode.ts has not been loaded"),vs=vs||new Go({".priority":Wo},{".priority":bn}),vs}get(t){const e=(0,k.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof fi?e:null}hasIndex(t){return(0,k.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,k.hu)(t!==no,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const s=[];let a=!1;const c=e.getIterator(kt.Wrap);let v,g=c.getNext();for(;g;)a=a||t.isDefinedOn(g.node),s.push(g),g=c.getNext();v=a?Ad(s,t.getCompare()):Wo;const w=t.toString(),S=Object.assign({},this.indexSet_);S[w]=t;const H=Object.assign({},this.indexes_);return H[w]=v,new Go(H,S)}addToIndexes(t,e){const s=(0,k.UI)(this.indexes_,(a,c)=>{const g=(0,k.DV)(this.indexSet_,c);if((0,k.hu)(g,"Missing index implementation for "+c),a===Wo){if(g.isDefinedOn(t.node)){const v=[],w=e.getIterator(kt.Wrap);let S=w.getNext();for(;S;)S.name!==t.name&&v.push(S),S=w.getNext();return v.push(t),Ad(v,g.getCompare())}return Wo}{const v=e.get(t.name);let w=a;return v&&(w=w.remove(new kt(t.name,v))),w.insert(t,t.node)}});return new Go(s,this.indexSet_)}removeFromIndexes(t,e){const s=(0,k.UI)(this.indexes_,a=>{if(a===Wo)return a;{const c=e.get(t.name);return c?a.remove(new kt(t.name,c)):a}});return new Go(s,this.indexSet_)}}let Sd,It=(()=>{class n{constructor(e,s,a){this.children_=e,this.priorityNode_=s,this.indexMap_=a,this.lazyHash_=null,this.priorityNode_&&lf(this.priorityNode_),this.children_.isEmpty()&&(0,k.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Sd||(Sd=new n(new fi(ju),null,Go.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Sd}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const s=this.children_.get(e);return null===s?Sd:s}}getChild(e){const s=Mt(e);return null===s?this:this.getImmediateChild(s).getChild(vn(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,s){if((0,k.hu)(s,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(s);{const a=new kt(e,s);let c,g;s.isEmpty()?(c=this.children_.remove(e),g=this.indexMap_.removeFromIndexes(a,this.children_)):(c=this.children_.insert(e,s),g=this.indexMap_.addToIndexes(a,this.children_));const v=c.isEmpty()?Sd:this.priorityNode_;return new n(c,v,g)}}updateChild(e,s){const a=Mt(e);if(null===a)return s;{(0,k.hu)(".priority"!==Mt(e)||1===La(e),".priority must be the last token in a path");const c=this.getImmediateChild(a).updateChild(vn(e),s);return this.updateImmediateChild(a,c)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const s={};let a=0,c=0,g=!0;if(this.forEachChild(bn,(v,w)=>{s[v]=w.val(e),a++,g&&n.INTEGER_REGEXP_.test(v)?c=Math.max(c,Number(v)):g=!1}),!e&&g&&c<2*a){const v=[];for(const w in s)v[w]=s[w];return v}return e&&!this.getPriority().isEmpty()&&(s[".priority"]=this.getPriority().val()),s}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+af(this.getPriority().val())+":"),this.forEachChild(bn,(s,a)=>{const c=a.hash();""!==c&&(e+=":"+s+":"+c)}),this.lazyHash_=""===e?"":hy(e)}return this.lazyHash_}getPredecessorChildName(e,s,a){const c=this.resolveIndex_(a);if(c){const g=c.getPredecessorKey(new kt(e,s));return g?g.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const s=this.resolveIndex_(e);if(s){const a=s.minKey();return a&&a.name}return this.children_.minKey()}getFirstChild(e){const s=this.getFirstChildName(e);return s?new kt(s,this.children_.get(s)):null}getLastChildName(e){const s=this.resolveIndex_(e);if(s){const a=s.maxKey();return a&&a.name}return this.children_.maxKey()}getLastChild(e){const s=this.getLastChildName(e);return s?new kt(s,this.children_.get(s)):null}forEachChild(e,s){const a=this.resolveIndex_(e);return a?a.inorderTraversal(c=>s(c.name,c.node)):this.children_.inorderTraversal(s)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,s){const a=this.resolveIndex_(s);if(a)return a.getIteratorFrom(e,c=>c);{const c=this.children_.getIteratorFrom(e.name,kt.Wrap);let g=c.peek();for(;null!=g&&s.compare(g,e)<0;)c.getNext(),g=c.peek();return c}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,s){const a=this.resolveIndex_(s);if(a)return a.getReverseIteratorFrom(e,c=>c);{const c=this.children_.getReverseIteratorFrom(e.name,kt.Wrap);let g=c.peek();for(;null!=g&&s.compare(g,e)>0;)c.getNext(),g=c.peek();return c}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===$u?-1:0}withIndex(e){if(e===no||this.indexMap_.hasIndex(e))return this;{const s=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,s)}}isIndexed(e){return e===no||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const s=e;if(this.getPriority().equals(s.getPriority())){if(this.children_.count()===s.children_.count()){const a=this.getIterator(bn),c=s.getIterator(bn);let g=a.getNext(),v=c.getNext();for(;g&&v;){if(g.name!==v.name||!g.node.equals(v.node))return!1;g=a.getNext(),v=c.getNext()}return null===g&&null===v}return!1}return!1}}resolveIndex_(e){return e===no?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const $u=new class Gg extends It{constructor(){super(new fi(ju),It.EMPTY_NODE,Go.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return It.EMPTY_NODE}isEmpty(){return!1}};function wn(n,t=null){if(null===n)return It.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,k.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new Hu(n,wn(t));if(n instanceof Array){let e=It.EMPTY_NODE;return Cr(n,(s,a)=>{if((0,k.r3)(n,s)&&"."!==s.substring(0,1)){const c=wn(a);(c.isLeafNode()||!c.isEmpty())&&(e=e.updateImmediateChild(s,c))}}),e.updatePriority(wn(t))}{const e=[];let s=!1;if(Cr(n,(g,v)=>{if("."!==g.substring(0,1)){const w=wn(v);w.isEmpty()||(s=s||!w.getPriority().isEmpty(),e.push(new kt(g,w)))}}),0===e.length)return It.EMPTY_NODE;const c=Ad(e,d0,g=>g.name,ju);if(s){const g=Ad(e,bn.getCompare());return new It(c,wn(t),new Go({".priority":g},{".priority":bn}))}return new It(c,wn(t),Go.Default)}}Object.defineProperties(kt,{MIN:{value:new kt(vr,It.EMPTY_NODE)},MAX:{value:new kt(to,$u)}}),Hg.__EMPTY_NODE=It.EMPTY_NODE,Hu.__childrenNodeConstructor=It,function h0(n){Td=n}($u),function f0(n){uf=n}($u),function eD(n){Ly=n}(wn);class Zg extends sf{constructor(t){super(),this.indexPath_=t,(0,k.hu)(!Nt(t)&&".priority"!==Mt(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const s=this.extractChild(t.node),a=this.extractChild(e.node),c=s.compareTo(a);return 0===c?ka(t.name,e.name):c}makePost(t,e){const s=wn(t),a=It.EMPTY_NODE.updateChild(this.indexPath_,s);return new kt(e,a)}maxPost(){const t=It.EMPTY_NODE.updateChild(this.indexPath_,$u);return new kt(to,t)}toString(){return Ar(this.indexPath_,0).join("/")}}const cf=new class qg extends sf{compare(t,e){const s=t.node.compareTo(e.node);return 0===s?ka(t.name,e.name):s}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return kt.MIN}maxPost(){return kt.MAX}makePost(t,e){const s=wn(t);return new kt(e,s)}toString(){return".value"}},Ol="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",p0=function(){let n=0;const t=[];return function(e){const s=e===n;let a;n=e;const c=new Array(8);for(a=7;a>=0;a--)c[a]=Ol.charAt(e%64),e=Math.floor(e/64);(0,k.hu)(0===e,"Cannot push at time == 0");let g=c.join("");if(s){for(a=11;a>=0&&63===t[a];a--)t[a]=0;t[a]++}else for(a=0;a<12;a++)t[a]=Math.floor(64*Math.random());for(a=0;a<12;a++)g+=Ol.charAt(t[a]);return(0,k.hu)(20===g.length,"nextPushId: Length should be 20."),g}}(),Hy=function(n){if(n===""+Kh)return"-";const t=Al(n);if(null!=t)return""+(t+1);const e=new Array(n.length);for(let g=0;g<e.length;g++)e[g]=n.charAt(g);if(e.length<786)return e.push("-"),e.join("");let s=e.length-1;for(;s>=0&&"z"===e[s];)s--;if(-1===s)return to;const c=Ol.charAt(Ol.indexOf(e[s])+1);return e[s]=c,e.slice(0,s+1).join("")},Kg=function(n){if(n===""+wg)return vr;const t=Al(n);if(null!=t)return""+(t-1);const e=new Array(n.length);for(let s=0;s<e.length;s++)e[s]=n.charAt(s);return"-"===e[e.length-1]?1===e.length?""+Kh:(delete e[e.length-1],e.join("")):(e[e.length-1]=Ol.charAt(Ol.indexOf(e[e.length-1])-1),e.join("")+"z".repeat(786-e.length))};function xl(n){return{type:"value",snapshotNode:n}}function Nl(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function Md(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function Rd(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class Yg{constructor(t){this.index_=t}updateChild(t,e,s,a,c,g){(0,k.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const v=t.getImmediateChild(e);return v.getChild(a).equals(s.getChild(a))&&v.isEmpty()===s.isEmpty()||(null!=g&&(s.isEmpty()?t.hasChild(e)?g.trackChildChange(Md(e,v)):(0,k.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):v.isEmpty()?g.trackChildChange(Nl(e,s)):g.trackChildChange(Rd(e,s,v))),t.isLeafNode()&&s.isEmpty())?t:t.updateImmediateChild(e,s).withIndex(this.index_)}updateFullNode(t,e,s){return null!=s&&(t.isLeafNode()||t.forEachChild(bn,(a,c)=>{e.hasChild(a)||s.trackChildChange(Md(a,c))}),e.isLeafNode()||e.forEachChild(bn,(a,c)=>{if(t.hasChild(a)){const g=t.getImmediateChild(a);g.equals(c)||s.trackChildChange(Rd(a,c,g))}else s.trackChildChange(Nl(a,c))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?It.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Pd{constructor(t){this.indexedFilter_=new Yg(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Pd.getStartPost_(t),this.endPost_=Pd.getEndPost_(t)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0}updateChild(t,e,s,a,c,g){return this.matches(new kt(e,s))||(s=It.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,s,a,c,g)}updateFullNode(t,e,s){e.isLeafNode()&&(e=It.EMPTY_NODE);let a=e.withIndex(this.index_);a=a.updatePriority(It.EMPTY_NODE);const c=this;return e.forEachChild(bn,(g,v)=>{c.matches(new kt(g,v))||(a=a.updateImmediateChild(g,It.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,a,s)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class g0{constructor(t){this.rangedFilter_=new Pd(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}updateChild(t,e,s,a,c,g){return this.rangedFilter_.matches(new kt(e,s))||(s=It.EMPTY_NODE),t.getImmediateChild(e).equals(s)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,s,a,c,g):this.fullLimitUpdateChild_(t,e,s,c,g)}updateFullNode(t,e,s){let a;if(e.isLeafNode()||e.isEmpty())a=It.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let c;a=It.EMPTY_NODE.withIndex(this.index_),c=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let g=0;for(;c.hasNext()&&g<this.limit_;){const v=c.getNext();let w;if(w=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),v)<=0:this.index_.compare(v,this.rangedFilter_.getEndPost())<=0,!w)break;a=a.updateImmediateChild(v.name,v.node),g++}}else{let c,g,v,w;if(a=e.withIndex(this.index_),a=a.updatePriority(It.EMPTY_NODE),this.reverse_){w=a.getReverseIterator(this.index_),c=this.rangedFilter_.getEndPost(),g=this.rangedFilter_.getStartPost();const L=this.index_.getCompare();v=(Q,ne)=>L(ne,Q)}else w=a.getIterator(this.index_),c=this.rangedFilter_.getStartPost(),g=this.rangedFilter_.getEndPost(),v=this.index_.getCompare();let S=0,H=!1;for(;w.hasNext();){const L=w.getNext();!H&&v(c,L)<=0&&(H=!0),H&&S<this.limit_&&v(L,g)<=0?S++:a=a.updateImmediateChild(L.name,It.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,a,s)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,s,a,c){let g;if(this.reverse_){const L=this.index_.getCompare();g=(Q,ne)=>L(ne,Q)}else g=this.index_.getCompare();const v=t;(0,k.hu)(v.numChildren()===this.limit_,"");const w=new kt(e,s),S=this.reverse_?v.getFirstChild(this.index_):v.getLastChild(this.index_),H=this.rangedFilter_.matches(w);if(v.hasChild(e)){const L=v.getImmediateChild(e);let Q=a.getChildAfterChild(this.index_,S,this.reverse_);for(;null!=Q&&(Q.name===e||v.hasChild(Q.name));)Q=a.getChildAfterChild(this.index_,Q,this.reverse_);const ne=null==Q?1:g(Q,w);if(H&&!s.isEmpty()&&ne>=0)return null!=c&&c.trackChildChange(Rd(e,s,L)),v.updateImmediateChild(e,s);{null!=c&&c.trackChildChange(Md(e,L));const at=v.updateImmediateChild(e,It.EMPTY_NODE);return null!=Q&&this.rangedFilter_.matches(Q)?(null!=c&&c.trackChildChange(Nl(Q.name,Q.node)),at.updateImmediateChild(Q.name,Q.node)):at}}return s.isEmpty()?t:H&&g(S,w)>=0?(null!=c&&(c.trackChildChange(Md(S.name,S.node)),c.trackChildChange(Nl(e,s))),v.updateImmediateChild(e,s).updateImmediateChild(S.name,It.EMPTY_NODE)):t}}class ff{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=bn}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,k.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,k.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:vr}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,k.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,k.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:to}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,k.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===bn}copy(){const t=new ff;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function pf(n,t,e){const s=n.copy();return s.startSet_=!0,void 0===t&&(t=null),s.indexStartValue_=t,null!=e?(s.startNameSet_=!0,s.indexStartName_=e):(s.startNameSet_=!1,s.indexStartName_=""),s}function gf(n,t,e){const s=n.copy();return s.endSet_=!0,void 0===t&&(t=null),s.indexEndValue_=t,void 0!==e?(s.endNameSet_=!0,s.indexEndName_=e):(s.endNameSet_=!1,s.indexEndName_=""),s}function mf(n,t){const e=n.copy();return e.index_=t,e}function Gy(n){const t={};if(n.isDefault())return t;let e;return n.index_===bn?e="$priority":n.index_===cf?e="$value":n.index_===no?e="$key":((0,k.hu)(n.index_ instanceof Zg,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,k.Pz)(e),n.startSet_&&(t.startAt=(0,k.Pz)(n.indexStartValue_),n.startNameSet_&&(t.startAt+=","+(0,k.Pz)(n.indexStartName_))),n.endSet_&&(t.endAt=(0,k.Pz)(n.indexEndValue_),n.endNameSet_&&(t.endAt+=","+(0,k.Pz)(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function zy(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_)),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_)),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==bn&&(t.i=n.index_.toString()),t}class Od extends nf{constructor(t,e,s,a){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=s,this.appCheckTokenProvider_=a,this.log_=ku("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,k.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,s,a){const c=t._path.toString();this.log_("Listen called for "+c+" "+t._queryIdentifier);const g=Od.getListenId_(t,s),v={};this.listens_[g]=v;const w=Gy(t._queryParams);this.restRequest_(c+".json",w,(S,H)=>{let L=H;if(404===S&&(L=null,S=null),null===S&&this.onDataUpdate_(c,L,!1,s),(0,k.DV)(this.listens_,g)===v){let Q;Q=S?401===S?"permission_denied":"rest_error:"+S:"ok",a(Q,null)}})}unlisten(t,e){const s=Od.getListenId_(t,e);delete this.listens_[s]}get(t){const e=Gy(t._queryParams),s=t._path.toString(),a=new k.BH;return this.restRequest_(s+".json",e,(c,g)=>{let v=g;404===c&&(v=null,c=null),null===c?(this.onDataUpdate_(s,v,!1,null),a.resolve(v)):a.reject(new Error(v))}),a.promise}refreshAuthToken(t){}restRequest_(t,e={},s){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([a,c])=>{a&&a.accessToken&&(e.auth=a.accessToken),c&&c.token&&(e.ac=c.token);const g=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,k.xO)(e);this.log_("Sending REST request for "+g);const v=new XMLHttpRequest;v.onreadystatechange=()=>{if(s&&4===v.readyState){this.log_("REST Response for "+g+" received. status:",v.status,"response:",v.responseText);let w=null;if(v.status>=200&&v.status<300){try{w=(0,k.cI)(v.responseText)}catch(S){ei("Failed to parse JSON response for "+g+": "+v.responseText)}s(null,w)}else 401!==v.status&&404!==v.status&&ei("Got unsuccessful REST response for "+g+" Status: "+v.status),s(v.status);s=null}},v.open("GET",g,!0),v.send()})}}class tD{constructor(){this.rootNode_=It.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function xd(){return{value:null,children:new Map}}function Gu(n,t,e){if(Nt(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const s=Mt(t);n.children.has(s)||n.children.set(s,xd()),Gu(n.children.get(s),t=vn(t),e)}}function Jg(n,t){if(Nt(t))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const e=n.value;return n.value=null,e.forEachChild(bn,(s,a)=>{Gu(n,new fn(s),a)}),Jg(n,t)}}if(n.children.size>0){const e=Mt(t);return t=vn(t),n.children.has(e)&&Jg(n.children.get(e),t)&&n.children.delete(e),0===n.children.size}return!0}function Zy(n,t,e){null!==n.value?e(t,n.value):function nD(n,t){n.children.forEach((e,s)=>{t(s,e)})}(n,(s,a)=>{Zy(a,new fn(t.toString()+"/"+s),e)})}class Xg{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&Cr(this.last_,(s,a)=>{e[s]=e[s]-a}),this.last_=t,e}}class rD{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Xg(t);const s=1e4+2e4*Math.random();Cd(this.reportStats_.bind(this),Math.floor(s))}reportStats_(){const t=this.statsListener_.get(),e={};let s=!1;Cr(t,(a,c)=>{c>0&&(0,k.r3)(this.statsToReport_,a)&&(e[a]=c,s=!0)}),s&&this.server_.reportStats(e),Cd(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Qn=(()=>{return(n=Qn||(Qn={}))[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",Qn;var n})();function _f(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class Nd{constructor(t,e,s){this.path=t,this.affectedTree=e,this.revert=s,this.type=Qn.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(Nt(this.path)){if(null!=this.affectedTree.value)return(0,k.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new fn(t));return new Nd($t(),e,this.revert)}}return(0,k.hu)(Mt(this.path)===t,"operationForChild called for unrelated child."),new Nd(vn(this.path),this.affectedTree,this.revert)}}class zu{constructor(t,e){this.source=t,this.path=e,this.type=Qn.LISTEN_COMPLETE}operationForChild(t){return Nt(this.path)?new zu(this.source,$t()):new zu(this.source,vn(this.path))}}class kl{constructor(t,e,s){this.source=t,this.path=e,this.snap=s,this.type=Qn.OVERWRITE}operationForChild(t){return Nt(this.path)?new kl(this.source,$t(),this.snap.getImmediateChild(t)):new kl(this.source,vn(this.path),this.snap)}}class kd{constructor(t,e,s){this.source=t,this.path=e,this.children=s,this.type=Qn.MERGE}operationForChild(t){if(Nt(this.path)){const e=this.children.subtree(new fn(t));return e.isEmpty()?null:e.value?new kl(this.source,$t(),e.value):new kd(this.source,$t(),e)}return(0,k.hu)(Mt(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new kd(this.source,vn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class zo{constructor(t,e,s){this.node_=t,this.fullyInitialized_=e,this.filtered_=s}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(Nt(t))return this.isFullyInitialized()&&!this.filtered_;const e=Mt(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class em{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function Fl(n,t,e,s,a,c){const g=s.filter(v=>v.type===e);g.sort((v,w)=>function v0(n,t,e){if(null==t.childName||null==e.childName)throw(0,k.g5)("Should only compare child_ events.");const s=new kt(t.childName,t.snapshotNode),a=new kt(e.childName,e.snapshotNode);return n.index_.compare(s,a)}(n,v,w)),g.forEach(v=>{const w=function y0(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,v,c);a.forEach(S=>{S.respondsTo(v.type)&&t.push(S.createEvent(w,n.query_))})})}function yf(n,t){return{eventCache:n,serverCache:t}}function Fd(n,t,e,s){return yf(new zo(t,e,s),n.serverCache)}function Xy(n,t,e,s){return yf(n.eventCache,new zo(t,e,s))}function vf(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function ro(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let Va;class ln{constructor(t,e=(()=>(Va||(Va=new fi($E)),Va))()){this.value=t,this.children=e}static fromObject(t){let e=new ln(null);return Cr(t,(s,a)=>{e=e.set(new fn(s),a)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:$t(),value:this.value};if(Nt(t))return null;{const s=Mt(t),a=this.children.get(s);if(null!==a){const c=a.findRootMostMatchingPathAndValue(vn(t),e);return null!=c?{path:kn(new fn(s),c.path),value:c.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(Nt(t))return this;{const e=Mt(t),s=this.children.get(e);return null!==s?s.subtree(vn(t)):new ln(null)}}set(t,e){if(Nt(t))return new ln(e,this.children);{const s=Mt(t),c=(this.children.get(s)||new ln(null)).set(vn(t),e),g=this.children.insert(s,c);return new ln(this.value,g)}}remove(t){if(Nt(t))return this.children.isEmpty()?new ln(null):new ln(null,this.children);{const e=Mt(t),s=this.children.get(e);if(s){const a=s.remove(vn(t));let c;return c=a.isEmpty()?this.children.remove(e):this.children.insert(e,a),null===this.value&&c.isEmpty()?new ln(null):new ln(this.value,c)}return this}}get(t){if(Nt(t))return this.value;{const e=Mt(t),s=this.children.get(e);return s?s.get(vn(t)):null}}setTree(t,e){if(Nt(t))return e;{const s=Mt(t),c=(this.children.get(s)||new ln(null)).setTree(vn(t),e);let g;return g=c.isEmpty()?this.children.remove(s):this.children.insert(s,c),new ln(this.value,g)}}fold(t){return this.fold_($t(),t)}fold_(t,e){const s={};return this.children.inorderTraversal((a,c)=>{s[a]=c.fold_(kn(t,a),e)}),e(t,this.value,s)}findOnPath(t,e){return this.findOnPath_(t,$t(),e)}findOnPath_(t,e,s){const a=!!this.value&&s(e,this.value);if(a)return a;if(Nt(t))return null;{const c=Mt(t),g=this.children.get(c);return g?g.findOnPath_(vn(t),kn(e,c),s):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,$t(),e)}foreachOnPath_(t,e,s){if(Nt(t))return this;{this.value&&s(e,this.value);const a=Mt(t),c=this.children.get(a);return c?c.foreachOnPath_(vn(t),kn(e,a),s):new ln(null)}}foreach(t){this.foreach_($t(),t)}foreach_(t,e){this.children.inorderTraversal((s,a)=>{a.foreach_(kn(t,s),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,s)=>{s.value&&t(e,s.value)})}}class Cs{constructor(t){this.writeTree_=t}static empty(){return new Cs(new ln(null))}}function Ld(n,t,e){if(Nt(t))return new Cs(new ln(e));{const s=n.writeTree_.findRootMostValueAndPath(t);if(null!=s){const a=s.path;let c=s.value;const g=hi(a,t);return c=c.updateChild(g,e),new Cs(n.writeTree_.set(a,c))}{const a=new ln(e),c=n.writeTree_.setTree(t,a);return new Cs(c)}}}function Vd(n,t,e){let s=n;return Cr(e,(a,c)=>{s=Ld(s,kn(t,a),c)}),s}function Es(n,t){if(Nt(t))return Cs.empty();{const e=n.writeTree_.setTree(t,new ln(null));return new Cs(e)}}function Ll(n,t){return null!=Jn(n,t)}function Jn(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(hi(e.path,t)):null}function Ua(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(bn,(s,a)=>{t.push(new kt(s,a))}):n.writeTree_.children.inorderTraversal((s,a)=>{null!=a.value&&t.push(new kt(s,a.value))}),t}function bs(n,t){if(Nt(t))return n;{const e=Jn(n,t);return new Cs(null!=e?new ln(e):n.writeTree_.subtree(t))}}function pi(n){return n.writeTree_.isEmpty()}function Ba(n,t){return Vl($t(),n.writeTree_,t)}function Vl(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let s=null;return t.children.inorderTraversal((a,c)=>{".priority"===a?((0,k.hu)(null!==c.value,"Priority writes must always be leaf nodes"),s=c.value):e=Vl(kn(n,a),c,e)}),!e.getChild(n).isEmpty()&&null!==s&&(e=e.updateChild(kn(n,".priority"),s)),e}}function Zo(n,t){return av(t,n)}function Qu(n,t){if(n.snap)return Wi(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&Wi(kn(n.path,e),t))return!0;return!1}function Xu(n){return n.visible}function tm(n,t,e){let s=Cs.empty();for(let a=0;a<n.length;++a){const c=n[a];if(t(c)){const g=c.path;let v;if(c.snap)Wi(e,g)?(v=hi(e,g),s=Ld(s,v,c.snap)):Wi(g,e)&&(v=hi(g,e),s=Ld(s,$t(),c.snap.getChild(v)));else{if(!c.children)throw(0,k.g5)("WriteRecord should have .snap or .children");if(Wi(e,g))v=hi(e,g),s=Vd(s,v,c.children);else if(Wi(g,e))if(v=hi(g,e),Nt(v))s=Vd(s,$t(),c.children);else{const w=(0,k.DV)(c.children,Mt(v));if(w){const S=w.getChild(vn(v));s=Ld(s,$t(),S)}}}}}return s}function nm(n,t,e,s,a){if(s||a){const c=bs(n.visibleWrites,t);return!a&&pi(c)?e:a||null!=e||Ll(c,$t())?Ba(tm(n.allWrites,function(S){return(S.visible||a)&&(!s||!~s.indexOf(S.writeId))&&(Wi(S.path,t)||Wi(t,S.path))},t),e||It.EMPTY_NODE):null}{const c=Jn(n.visibleWrites,t);if(null!=c)return c;{const g=bs(n.visibleWrites,t);return pi(g)?e:null!=e||Ll(g,$t())?Ba(g,e||It.EMPTY_NODE):null}}}function Ud(n,t,e,s){return nm(n.writeTree,n.treePath,t,e,s)}function rm(n,t){return function ev(n,t,e){let s=It.EMPTY_NODE;const a=Jn(n.visibleWrites,t);if(a)return a.isLeafNode()||a.forEachChild(bn,(c,g)=>{s=s.updateImmediateChild(c,g)}),s;if(e){const c=bs(n.visibleWrites,t);return e.forEachChild(bn,(g,v)=>{const w=Ba(bs(c,new fn(g)),v);s=s.updateImmediateChild(g,w)}),Ua(c).forEach(g=>{s=s.updateImmediateChild(g.name,g.node)}),s}return Ua(bs(n.visibleWrites,t)).forEach(g=>{s=s.updateImmediateChild(g.name,g.node)}),s}(n.writeTree,n.treePath,t)}function im(n,t,e,s){return function tv(n,t,e,s,a){(0,k.hu)(s||a,"Either existingEventSnap or existingServerSnap must exist");const c=kn(t,e);if(Ll(n.visibleWrites,c))return null;{const g=bs(n.visibleWrites,c);return pi(g)?a.getChild(e):Ba(g,a.getChild(e))}}(n.writeTree,n.treePath,t,e,s)}function Cf(n,t){return function rv(n,t){return Jn(n.visibleWrites,t)}(n.writeTree,kn(n.treePath,t))}function Ef(n,t,e){return function nv(n,t,e,s){const a=kn(t,e),c=Jn(n.visibleWrites,a);return null!=c?c:s.isCompleteForChild(e)?Ba(bs(n.visibleWrites,a),s.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function ov(n,t){return av(kn(n.treePath,t),n.writeTree)}function av(n,t){return{treePath:n,writeTree:t}}class lv{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,s=t.childName;(0,k.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,k.hu)(".priority"!==s,"Only non-priority child changes can be tracked.");const a=this.changeMap.get(s);if(a){const c=a.type;if("child_added"===e&&"child_removed"===c)this.changeMap.set(s,Rd(s,t.snapshotNode,a.snapshotNode));else if("child_removed"===e&&"child_added"===c)this.changeMap.delete(s);else if("child_removed"===e&&"child_changed"===c)this.changeMap.set(s,Md(s,a.oldSnap));else if("child_changed"===e&&"child_added"===c)this.changeMap.set(s,Nl(s,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==c)throw(0,k.g5)("Illegal combination of changes: "+t+" occurred after "+a);this.changeMap.set(s,Rd(s,t.snapshotNode,a.oldSnap))}}else this.changeMap.set(s,t)}getChanges(){return Array.from(this.changeMap.values())}}const sm=new class b0{getCompleteChild(t){return null}getChildAfterChild(t,e,s){return null}};class om{constructor(t,e,s=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=s}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const s=null!=this.optCompleteServerCache_?new zo(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Ef(this.writes_,t,s)}}getChildAfterChild(t,e,s){const a=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:ro(this.viewCache_),c=function E0(n,t,e,s,a,c){return function iv(n,t,e,s,a,c,g){let v;const w=bs(n.visibleWrites,t),S=Jn(w,$t());if(null!=S)v=S;else{if(null==e)return[];v=Ba(w,e)}if(v=v.withIndex(g),v.isEmpty()||v.isLeafNode())return[];{const H=[],L=g.getCompare(),Q=c?v.getReverseIteratorFrom(s,g):v.getIteratorFrom(s,g);let ne=Q.getNext();for(;ne&&H.length<a;)0!==L(ne,s)&&H.push(ne),ne=Q.getNext();return H}}(n.writeTree,n.treePath,t,e,s,a,c)}(this.writes_,a,e,1,s,t);return 0===c.length?null:c[0]}}function bf(n,t,e,s,a,c){const g=t.eventCache;if(null!=Cf(s,e))return t;{let v,w;if(Nt(e))if((0,k.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const S=ro(t),L=rm(s,S instanceof It?S:It.EMPTY_NODE);v=n.filter.updateFullNode(t.eventCache.getNode(),L,c)}else{const S=Ud(s,ro(t));v=n.filter.updateFullNode(t.eventCache.getNode(),S,c)}else{const S=Mt(e);if(".priority"===S){(0,k.hu)(1===La(e),"Can't have a priority with additional path components");const H=g.getNode();w=t.serverCache.getNode();const L=im(s,e,H,w);v=null!=L?n.filter.updatePriority(H,L):g.getNode()}else{const H=vn(e);let L;if(g.isCompleteForChild(S)){w=t.serverCache.getNode();const Q=im(s,e,g.getNode(),w);L=null!=Q?g.getNode().getImmediateChild(S).updateChild(H,Q):g.getNode().getImmediateChild(S)}else L=Ef(s,S,t.serverCache);v=null!=L?n.filter.updateChild(g.getNode(),S,L,H,a,c):g.getNode()}}return Fd(t,v,g.isFullyInitialized()||Nt(e),n.filter.filtersNodes())}}function wf(n,t,e,s,a,c,g,v){const w=t.serverCache;let S;const H=g?n.filter:n.filter.getIndexedFilter();if(Nt(e))S=H.updateFullNode(w.getNode(),s,null);else if(H.filtersNodes()&&!w.isFiltered()){const ne=w.getNode().updateChild(e,s);S=H.updateFullNode(w.getNode(),ne,null)}else{const ne=Mt(e);if(!w.isCompleteForPath(e)&&La(e)>1)return t;const Te=vn(e),vt=w.getNode().getImmediateChild(ne).updateChild(Te,s);S=".priority"===ne?H.updatePriority(w.getNode(),vt):H.updateChild(w.getNode(),ne,vt,Te,sm,null)}const L=Xy(t,S,w.isFullyInitialized()||Nt(e),H.filtersNodes());return bf(n,L,e,a,new om(a,L,c),v)}function uv(n,t,e,s,a,c,g){const v=t.eventCache;let w,S;const H=new om(a,t,c);if(Nt(e))S=n.filter.updateFullNode(t.eventCache.getNode(),s,g),w=Fd(t,S,!0,n.filter.filtersNodes());else{const L=Mt(e);if(".priority"===L)S=n.filter.updatePriority(t.eventCache.getNode(),s),w=Fd(t,S,v.isFullyInitialized(),v.isFiltered());else{const Q=vn(e),ne=v.getNode().getImmediateChild(L);let Te;if(Nt(Q))Te=s;else{const at=H.getCompleteChild(L);Te=null!=at?".priority"===Ug(Q)&&at.getChild(Sy(Q)).isEmpty()?at:at.updateChild(Q,s):It.EMPTY_NODE}w=ne.equals(Te)?t:Fd(t,n.filter.updateChild(v.getNode(),L,Te,Q,H,g),v.isFullyInitialized(),n.filter.filtersNodes())}}return w}function I0(n,t){return n.eventCache.isCompleteForChild(t)}function cv(n,t,e){return e.foreach((s,a)=>{t=t.updateChild(s,a)}),t}function Df(n,t,e,s,a,c,g,v){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let S,w=t;S=Nt(e)?s:new ln(null).setTree(e,s);const H=t.serverCache.getNode();return S.children.inorderTraversal((L,Q)=>{if(H.hasChild(L)){const Te=cv(0,t.serverCache.getNode().getImmediateChild(L),Q);w=wf(n,w,new fn(L),Te,a,c,g,v)}}),S.children.inorderTraversal((L,Q)=>{const ne=!t.serverCache.isCompleteForChild(L)&&void 0===Q.value;if(!H.hasChild(L)&&!ne){const at=cv(0,t.serverCache.getNode().getImmediateChild(L),Q);w=wf(n,w,new fn(L),at,a,c,g,v)}}),w}class A0{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const s=this.query_._queryParams,a=new Yg(s.getIndex()),c=function Gi(n){return n.loadsAllData()?new Yg(n.getIndex()):n.hasLimit()?new g0(n):new Pd(n)}(s);this.processor_=function w0(n){return{filter:n}}(c);const g=e.serverCache,v=e.eventCache,w=a.updateFullNode(It.EMPTY_NODE,g.getNode(),null),S=c.updateFullNode(It.EMPTY_NODE,v.getNode(),null),H=new zo(w,g.isFullyInitialized(),a.filtersNodes()),L=new zo(S,v.isFullyInitialized(),c.filtersNodes());this.viewCache_=yf(L,H),this.eventGenerator_=new em(this.query_)}get query(){return this.query_}}function hv(n,t){const e=ro(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!Nt(t)&&!e.getImmediateChild(Mt(t)).isEmpty())?e.getChild(t):null}function Bd(n){return 0===n.eventRegistrations_.length}function lm(n,t,e){const s=[];if(e){(0,k.hu)(null==t,"A cancel should cancel all event registrations.");const a=n.query._path;n.eventRegistrations_.forEach(c=>{const g=c.createCancelEvent(e,a);g&&s.push(g)})}if(t){let a=[];for(let c=0;c<n.eventRegistrations_.length;++c){const g=n.eventRegistrations_[c];if(g.matches(t)){if(t.hasAnyCallback()){a=a.concat(n.eventRegistrations_.slice(c+1));break}}else a.push(g)}n.eventRegistrations_=a}else n.eventRegistrations_=[];return s}function fv(n,t,e,s){t.type===Qn.MERGE&&null!==t.source.queryId&&((0,k.hu)(ro(n.viewCache_),"We should always have a full cache before handling merges"),(0,k.hu)(vf(n.viewCache_),"Missing event cache, even though we have a server cache"));const a=n.viewCache_,c=function D0(n,t,e,s,a){const c=new lv;let g,v;if(e.type===Qn.OVERWRITE){const S=e;S.source.fromUser?g=uv(n,t,S.path,S.snap,s,a,c):((0,k.hu)(S.source.fromServer,"Unknown source."),v=S.source.tagged||t.serverCache.isFiltered()&&!Nt(S.path),g=wf(n,t,S.path,S.snap,s,a,v,c))}else if(e.type===Qn.MERGE){const S=e;S.source.fromUser?g=function sD(n,t,e,s,a,c,g){let v=t;return s.foreach((w,S)=>{const H=kn(e,w);I0(t,Mt(H))&&(v=uv(n,v,H,S,a,c,g))}),s.foreach((w,S)=>{const H=kn(e,w);I0(t,Mt(H))||(v=uv(n,v,H,S,a,c,g))}),v}(n,t,S.path,S.children,s,a,c):((0,k.hu)(S.source.fromServer,"Unknown source."),v=S.source.tagged||t.serverCache.isFiltered(),g=Df(n,t,S.path,S.children,s,a,v,c))}else if(e.type===Qn.ACK_USER_WRITE){const S=e;g=S.revert?function ec(n,t,e,s,a,c){let g;if(null!=Cf(s,e))return t;{const v=new om(s,t,a),w=t.eventCache.getNode();let S;if(Nt(e)||".priority"===Mt(e)){let H;if(t.serverCache.isFullyInitialized())H=Ud(s,ro(t));else{const L=t.serverCache.getNode();(0,k.hu)(L instanceof It,"serverChildren would be complete if leaf node"),H=rm(s,L)}H=H,S=n.filter.updateFullNode(w,H,c)}else{const H=Mt(e);let L=Ef(s,H,t.serverCache);null==L&&t.serverCache.isCompleteForChild(H)&&(L=w.getImmediateChild(H)),S=null!=L?n.filter.updateChild(w,H,L,vn(e),v,c):t.eventCache.getNode().hasChild(H)?n.filter.updateChild(w,H,It.EMPTY_NODE,vn(e),v,c):w,S.isEmpty()&&t.serverCache.isFullyInitialized()&&(g=Ud(s,ro(t)),g.isLeafNode()&&(S=n.filter.updateFullNode(S,g,c)))}return g=t.serverCache.isFullyInitialized()||null!=Cf(s,$t()),Fd(t,S,g,n.filter.filtersNodes())}}(n,t,S.path,s,a,c):function oD(n,t,e,s,a,c,g){if(null!=Cf(a,e))return t;const v=t.serverCache.isFiltered(),w=t.serverCache;if(null!=s.value){if(Nt(e)&&w.isFullyInitialized()||w.isCompleteForPath(e))return wf(n,t,e,w.getNode().getChild(e),a,c,v,g);if(Nt(e)){let S=new ln(null);return w.getNode().forEachChild(no,(H,L)=>{S=S.set(new fn(H),L)}),Df(n,t,e,S,a,c,v,g)}return t}{let S=new ln(null);return s.foreach((H,L)=>{const Q=kn(e,H);w.isCompleteForPath(Q)&&(S=S.set(H,w.getNode().getChild(Q)))}),Df(n,t,e,S,a,c,v,g)}}(n,t,S.path,S.affectedTree,s,a,c)}else{if(e.type!==Qn.LISTEN_COMPLETE)throw(0,k.g5)("Unknown operation type: "+e.type);g=function T0(n,t,e,s,a){const c=t.serverCache;return bf(n,Xy(t,c.getNode(),c.isFullyInitialized()||Nt(e),c.isFiltered()),e,s,sm,a)}(n,t,e.path,s,c)}const w=c.getChanges();return function am(n,t,e){const s=t.eventCache;if(s.isFullyInitialized()){const a=s.getNode().isLeafNode()||s.getNode().isEmpty(),c=vf(n);(e.length>0||!n.eventCache.isFullyInitialized()||a&&!s.getNode().equals(c)||!s.getNode().getPriority().equals(c.getPriority()))&&e.push(xl(vf(t)))}}(t,g,w),{viewCache:g,changes:w}}(n.processor_,a,t,e,s);return function iD(n,t){(0,k.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,k.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,c.viewCache),(0,k.hu)(c.viewCache.serverCache.isFullyInitialized()||!a.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=c.viewCache,pv(n,c.changes,c.viewCache.eventCache.getNode(),null)}function pv(n,t,e,s){return function _0(n,t,e,s){const a=[],c=[];return t.forEach(g=>{"child_changed"===g.type&&n.index_.indexedValueChanged(g.oldSnap,g.snapshotNode)&&c.push(function Wu(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(g.childName,g.snapshotNode))}),Fl(n,a,"child_removed",t,s,e),Fl(n,a,"child_added",t,s,e),Fl(n,a,"child_moved",c,s,e),Fl(n,a,"child_changed",t,s,e),Fl(n,a,"value",t,s,e),a}(n.eventGenerator_,t,e,s?[s]:n.eventRegistrations_)}let If,Sf;class gv{constructor(){this.views=new Map}}function Tf(n,t,e,s){const a=t.source.queryId;if(null!==a){const c=n.views.get(a);return(0,k.hu)(null!=c,"SyncTree gave us an op for an invalid query."),fv(c,t,e,s)}{let c=[];for(const g of n.views.values())c=c.concat(fv(g,t,e,s));return c}}function Af(n,t,e,s,a){const g=n.views.get(t._queryIdentifier);if(!g){let v=Ud(e,a?s:null),w=!1;v?w=!0:s instanceof It?(v=rm(e,s),w=!1):(v=It.EMPTY_NODE,w=!1);const S=yf(new zo(v,w,!1),new zo(s,a,!1));return new A0(t,S)}return g}function yv(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function Ul(n,t){let e=null;for(const s of n.views.values())e=e||hv(s,t);return e}function tc(n,t){return t._queryParams.loadsAllData()?nc(n):n.views.get(t._queryIdentifier)}function cm(n,t){return null!=tc(n,t)}function io(n){return null!=nc(n)}function nc(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let vv=1;class O0{constructor(t){this.listenProvider_=t,this.syncPointTree_=new ln(null),this.pendingWriteTree_=function sv(){return{visibleWrites:Cs.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function fm(n,t,e,s,a){return function Zu(n,t,e,s,a){(0,k.hu)(s>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===a&&(a=!0),n.allWrites.push({path:t,snap:e,writeId:s,visible:a}),a&&(n.visibleWrites=Ld(n.visibleWrites,t,e)),n.lastWriteId=s}(n.pendingWriteTree_,t,e,s,a),a?ja(n,new kl({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function qo(n,t,e=!1){const s=function Ku(n,t){for(let e=0;e<n.allWrites.length;e++){const s=n.allWrites[e];if(s.writeId===t)return s}return null}(n.pendingWriteTree_,t);if(function Yu(n,t){const e=n.allWrites.findIndex(v=>v.writeId===t);(0,k.hu)(e>=0,"removeWrite called with nonexistent writeId.");const s=n.allWrites[e];n.allWrites.splice(e,1);let a=s.visible,c=!1,g=n.allWrites.length-1;for(;a&&g>=0;){const v=n.allWrites[g];v.visible&&(g>=e&&Qu(v,s.path)?a=!1:Wi(s.path,v.path)&&(c=!0)),g--}return!!a&&(c?(function Ju(n){n.visibleWrites=tm(n.allWrites,Xu,$t()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(s.snap?n.visibleWrites=Es(n.visibleWrites,s.path):Cr(s.children,w=>{n.visibleWrites=Es(n.visibleWrites,kn(s.path,w))}),!0))}(n.pendingWriteTree_,t)){let c=new ln(null);return null!=s.snap?c=c.set($t(),!0):Cr(s.children,g=>{c=c.set(new fn(g),!0)}),ja(n,new Nd(s.path,c,e))}return[]}function jd(n,t,e){return ja(n,new kl({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function Mf(n,t,e,s){const a=t._path,c=n.syncPointTree_.get(a);let g=[];if(c&&("default"===t._queryIdentifier||cm(c,t))){const v=function um(n,t,e,s){const a=t._queryIdentifier,c=[];let g=[];const v=io(n);if("default"===a)for(const[w,S]of n.views.entries())g=g.concat(lm(S,e,s)),Bd(S)&&(n.views.delete(w),S.query._queryParams.loadsAllData()||c.push(S.query));else{const w=n.views.get(a);w&&(g=g.concat(lm(w,e,s)),Bd(w)&&(n.views.delete(a),w.query._queryParams.loadsAllData()||c.push(w.query)))}return v&&!io(n)&&c.push(new(function P0(){return(0,k.hu)(If,"Reference.ts has not been loaded"),If}())(t._repo,t._path)),{removed:c,events:g}}(c,t,e,s);(function _v(n){return 0===n.views.size})(c)&&(n.syncPointTree_=n.syncPointTree_.remove(a));const w=v.removed;g=v.events;const S=-1!==w.findIndex(L=>L._queryParams.loadsAllData()),H=n.syncPointTree_.findOnPath(a,(L,Q)=>io(Q));if(S&&!H){const L=n.syncPointTree_.subtree(a);if(!L.isEmpty()){const Q=function Sv(n){return n.fold((t,e,s)=>{if(e&&io(e))return[nc(e)];{let a=[];return e&&(a=yv(e)),Cr(s,(c,g)=>{a=a.concat(g)}),a}})}(L);for(let ne=0;ne<Q.length;++ne){const Te=Q[ne],at=Te.query,vt=Av(n,Te);n.listenProvider_.startListening(ic(at),Rf(n,at),vt.hashFn,vt.onComplete)}}}!H&&w.length>0&&!s&&(S?n.listenProvider_.stopListening(ic(t),null):w.forEach(L=>{const Q=n.queryToTagMap.get(rc(L));n.listenProvider_.stopListening(ic(L),Q)})),function Mv(n,t){for(let e=0;e<t.length;++e){const s=t[e];if(!s._queryParams.loadsAllData()){const a=rc(s),c=n.queryToTagMap.get(a);n.queryToTagMap.delete(a),n.tagToQueryMap.delete(c)}}}(n,w)}return g}function Dv(n,t,e){const s=t._path;let a=null,c=!1;n.syncPointTree_.foreachOnPath(s,(L,Q)=>{const ne=hi(L,s);a=a||Ul(Q,ne),c=c||io(Q)});let v,g=n.syncPointTree_.get(s);g?(c=c||io(g),a=a||Ul(g,$t())):(g=new gv,n.syncPointTree_=n.syncPointTree_.set(s,g)),null!=a?v=!0:(v=!1,a=It.EMPTY_NODE,n.syncPointTree_.subtree(s).foreachChild((Q,ne)=>{const Te=Ul(ne,$t());Te&&(a=a.updateImmediateChild(Q,Te))}));const w=cm(g,t);if(!w&&!t._queryParams.loadsAllData()){const L=rc(t);(0,k.hu)(!n.queryToTagMap.has(L),"View does not exist, but we have a tag");const Q=function Rv(){return vv++}();n.queryToTagMap.set(L,Q),n.tagToQueryMap.set(Q,L)}let H=function aD(n,t,e,s,a,c){const g=Af(n,t,s,a,c);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,g),function M0(n,t){n.eventRegistrations_.push(t)}(g,e),function R0(n,t){const e=n.viewCache_.eventCache,s=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(bn,(c,g)=>{s.push(Nl(c,g))}),e.isFullyInitialized()&&s.push(xl(e.getNode())),pv(n,s,e.getNode(),t)}(g,e)}(g,t,e,Zo(n.pendingWriteTree_,s),a,v);if(!w&&!c){const L=tc(g,t);H=H.concat(function Pv(n,t,e){const s=t._path,a=Rf(n,t),c=Av(n,e),g=n.listenProvider_.startListening(ic(t),a,c.hashFn,c.onComplete),v=n.syncPointTree_.subtree(s);if(a)(0,k.hu)(!io(v.value),"If we're adding a query, it shouldn't be shadowed");else{const w=v.fold((S,H,L)=>{if(!Nt(S)&&H&&io(H))return[nc(H).query];{let Q=[];return H&&(Q=Q.concat(yv(H).map(ne=>ne.query))),Cr(L,(ne,Te)=>{Q=Q.concat(Te)}),Q}});for(let S=0;S<w.length;++S){const H=w[S];n.listenProvider_.stopListening(ic(H),Rf(n,H))}}return g}(n,t,L))}return H}function Hd(n,t,e){const a=n.pendingWriteTree_,c=n.syncPointTree_.findOnPath(t,(g,v)=>{const S=Ul(v,hi(g,t));if(S)return S});return nm(a,t,c,e,!0)}function ja(n,t){return mm(t,n.syncPointTree_,null,Zo(n.pendingWriteTree_,$t()))}function mm(n,t,e,s){if(Nt(n.path))return Tv(n,t,e,s);{const a=t.get($t());null==e&&null!=a&&(e=Ul(a,$t()));let c=[];const g=Mt(n.path),v=n.operationForChild(g),w=t.children.get(g);if(w&&v){const S=e?e.getImmediateChild(g):null,H=ov(s,g);c=c.concat(mm(v,w,S,H))}return a&&(c=c.concat(Tf(a,n,s,e))),c}}function Tv(n,t,e,s){const a=t.get($t());null==e&&null!=a&&(e=Ul(a,$t()));let c=[];return t.children.inorderTraversal((g,v)=>{const w=e?e.getImmediateChild(g):null,S=ov(s,g),H=n.operationForChild(g);H&&(c=c.concat(Tv(H,v,w,S)))}),a&&(c=c.concat(Tf(a,n,s,e))),c}function Av(n,t){const e=t.query,s=Rf(n,e);return{hashFn:()=>(function dv(n){return n.viewCache_.serverCache.getNode()}(t)||It.EMPTY_NODE).hash(),onComplete:a=>{if("ok"===a)return s?function bv(n,t,e){const s=$d(n,e);if(s){const a=Pf(s),c=a.path,g=a.queryId,v=hi(c,t);return Of(n,c,new zu(_f(g),v))}return[]}(n,e._path,s):function pm(n,t){return ja(n,new zu({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const c=function bt(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const s=new Error(n+" at "+t._path.toString()+": "+e);return s.code=n.toUpperCase(),s}(a,e);return Mf(n,e,null,c)}}}}function Rf(n,t){const e=rc(t);return n.queryToTagMap.get(e)}function rc(n){return n._path.toString()+"$"+n._queryIdentifier}function $d(n,t){return n.tagToQueryMap.get(t)}function Pf(n){const t=n.indexOf("$");return(0,k.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new fn(n.substr(0,t))}}function Of(n,t,e){const s=n.syncPointTree_.get(t);return(0,k.hu)(s,"Missing sync point for query tag that we're tracking"),Tf(s,e,Zo(n.pendingWriteTree_,t),null)}function ic(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function hm(){return(0,k.hu)(Sf,"Reference.ts has not been loaded"),Sf}())(n._repo,n._path):n}class xf{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new xf(e)}node(){return this.node_}}class Ov{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=kn(this.path_,t);return new Ov(this.syncTree_,e)}node(){return Hd(this.syncTree_,this.path_)}}const xv=function(n,t,e){return n&&"object"==typeof n?((0,k.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?Nv(n[".sv"],t,e):"object"==typeof n[".sv"]?N0(n[".sv"],t):void(0,k.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},Nv=function(n,t,e){if("timestamp"===n)return e.timestamp;(0,k.hu)(!1,"Unexpected server value: "+n)},N0=function(n,t,e){n.hasOwnProperty("increment")||(0,k.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const s=n.increment;"number"!=typeof s&&(0,k.hu)(!1,"Unexpected increment value: "+s);const a=t.node();if((0,k.hu)(null!=a,"Expected ChildrenNode.EMPTY_NODE for nulls"),!a.isLeafNode())return s;const g=a.getValue();return"number"!=typeof g?s:g+s},fr=function(n,t,e,s){return _m(t,new Ov(e,n),s)},Nf=function(n,t,e){return _m(n,new xf(t),e)};function _m(n,t,e){const s=n.getPriority().val(),a=xv(s,t.getImmediateChild(".priority"),e);let c;if(n.isLeafNode()){const g=n,v=xv(g.getValue(),t,e);return v!==g.getValue()||a!==g.getPriority().val()?new Hu(v,wn(a)):n}{const g=n;return c=g,a!==g.getPriority().val()&&(c=c.updatePriority(new Hu(a))),g.forEachChild(bn,(v,w)=>{const S=_m(w,t.getImmediateChild(v),e);S!==w&&(c=c.updateImmediateChild(v,S))}),c}}class ym{constructor(t="",e=null,s={children:{},childCount:0}){this.name=t,this.parent=e,this.node=s}}function Wd(n,t){let e=t instanceof fn?t:new fn(t),s=n,a=Mt(e);for(;null!==a;){const c=(0,k.DV)(s.node.children,a)||{children:{},childCount:0};s=new ym(a,s,c),e=vn(e),a=Mt(e)}return s}function Bl(n){return n.node.value}function kf(n,t){n.node.value=t,Lf(n)}function vm(n){return n.node.childCount>0}function Ff(n,t){Cr(n.node.children,(e,s)=>{t(new ym(e,n,s))})}function kv(n,t,e,s){e&&!s&&t(n),Ff(n,a=>{kv(a,t,!0,s)}),e&&s&&t(n)}function Gd(n){return new fn(null===n.parent?n.name:Gd(n.parent)+"/"+n.name)}function Lf(n){null!==n.parent&&function lD(n,t,e){const s=function sc(n){return void 0===Bl(n)&&!vm(n)}(e),a=(0,k.r3)(n.node.children,t);s&&a?(delete n.node.children[t],n.node.childCount--,Lf(n)):!s&&!a&&(n.node.children[t]=e.node,n.node.childCount++,Lf(n))}(n.parent,n.name,n)}const Lv=/[\[\].#$\/\u0000-\u001F\u007F]/,Cm=/[\[\].#$\u0000-\u001F\u007F]/,zi=10485760,Vf=function(n){return"string"==typeof n&&0!==n.length&&!Lv.test(n)},Vv=function(n){return"string"==typeof n&&0!==n.length&&!Cm.test(n)},ti=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!qh(n)||n&&"object"==typeof n&&(0,k.r3)(n,".sv")},pr=function(n,t,e,s){s&&void 0===t||oc((0,k.gK)(n,"value"),t,e)},oc=function(n,t,e){const s=e instanceof fn?new Bg(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+Pl(s));if("function"==typeof t)throw new Error(n+"contains a function "+Pl(s)+" with contents = "+t.toString());if(qh(t))throw new Error(n+"contains "+t.toString()+" "+Pl(s));if("string"==typeof t&&t.length>zi/3&&(0,k.ug)(t)>zi)throw new Error(n+"contains a string greater than "+zi+" utf8 bytes "+Pl(s)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let a=!1,c=!1;if(Cr(t,(g,v)=>{if(".value"===g)a=!0;else if(".priority"!==g&&".sv"!==g&&(c=!0,!Vf(g)))throw new Error(n+" contains an invalid key ("+g+") "+Pl(s)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function Py(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,k.ug)(t),Oy(n)})(s,g),oc(n,v,s),function l0(n){const t=n.parts_.pop();n.byteLength_-=(0,k.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(s)}),a&&c)throw new Error(n+' contains ".value" child '+Pl(s)+" in addition to actual children.")}},Bv=function(n,t,e,s){if(s&&void 0===t)return;const a=(0,k.gK)(n,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(a+" must be an object containing the children to replace.");const c=[];Cr(t,(g,v)=>{const w=new fn(g);if(oc(a,v,kn(e,w)),".priority"===Ug(w)&&!ti(v))throw new Error(a+"contains an invalid value for '"+w.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");c.push(w)}),function(n,t){let e,s;for(e=0;e<t.length;e++){s=t[e];const c=Ar(s);for(let g=0;g<c.length;g++)if((".priority"!==c[g]||g!==c.length-1)&&!Vf(c[g]))throw new Error(n+"contains an invalid key ("+c[g]+") in path "+s.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(My);let a=null;for(e=0;e<t.length;e++){if(s=t[e],null!==a&&Wi(a,s))throw new Error(n+"contains a path "+a.toString()+" that is ancestor of another path "+s.toString());a=s}}(a,c)},Em=function(n,t,e){if(!e||void 0!==t){if(qh(t))throw new Error((0,k.gK)(n,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!ti(t))throw new Error((0,k.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},zd=function(n,t,e,s){if(!(s&&void 0===e||Vf(e)))throw new Error((0,k.gK)(n,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Zd=function(n,t,e,s){if(!(s&&void 0===e||Vv(e)))throw new Error((0,k.gK)(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},jr=function(n,t){if(".info"===Mt(t))throw new Error(n+" failed = Can't modify data under /.info/")},jv=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!Vf(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Vv(n)}(e))throw new Error((0,k.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Hv{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Uf(n,t){let e=null;for(let s=0;s<t.length;s++){const a=t[s],c=a.getPath();null!==e&&!Ry(c,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:c}),e.events.push(a)}e&&n.eventLists_.push(e)}function Bf(n,t,e){Uf(n,e),qd(n,s=>Ry(s,t))}function Ii(n,t,e){Uf(n,e),qd(n,s=>Wi(s,t)||Wi(t,s))}function qd(n,t){n.recursionDepth_++;let e=!0;for(let s=0;s<n.eventLists_.length;s++){const a=n.eventLists_[s];a&&(t(a.path)?(k0(n.eventLists_[s]),n.eventLists_[s]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function k0(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const s=e.getEventRunner();Tl&&hr("event: "+e.toString()),Br(s)}}}const wm="repo_interrupt";class Dm{constructor(t,e,s,a){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=s,this.appCheckProvider_=a,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Hv,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=xd(),this.transactionQueueTree_=new ym,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Im(n){const e=n.infoData_.getNode(new fn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function ac(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:Im(n)})}function Tm(n,t,e,s,a){n.dataUpdateCount++;const c=new fn(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let g=[];if(a)if(s){const w=(0,k.UI)(e,S=>wn(S));g=function wv(n,t,e,s){const a=$d(n,s);if(a){const c=Pf(a),g=c.path,v=c.queryId,w=hi(g,t),S=ln.fromObject(e);return Of(n,g,new kd(_f(v),w,S))}return[]}(n.serverSyncTree_,c,w,a)}else{const w=wn(e);g=function gm(n,t,e,s){const a=$d(n,s);if(null!=a){const c=Pf(a),g=c.path,v=c.queryId,w=hi(g,t);return Of(n,g,new kl(_f(v),w,e))}return[]}(n.serverSyncTree_,c,w,a)}else if(s){const w=(0,k.UI)(e,S=>wn(S));g=function Ev(n,t,e){const s=ln.fromObject(e);return ja(n,new kd({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,s))}(n.serverSyncTree_,c,w)}else{const w=wn(e);g=jd(n.serverSyncTree_,c,w)}let v=c;g.length>0&&(v=uc(n,c)),Ii(n.eventQueue_,v,g)}function Am(n,t){Hf(n,"connected",t),!1===t&&function L0(n){lc(n,"onDisconnectEvents");const t=ac(n),e=xd();Zy(n.onDisconnect_,$t(),(a,c)=>{const g=fr(a,c,n.serverSyncTree_,t);Gu(e,a,g)});let s=[];Zy(e,$t(),(a,c)=>{s=s.concat(jd(n.serverSyncTree_,a,c));const g=Wf(n,a);uc(n,g)}),n.onDisconnect_=xd(),Ii(n.eventQueue_,$t(),s)}(n)}function Hf(n,t,e){const s=new fn("/.info/"+t),a=wn(e);n.infoData_.updateSnapshot(s,a);const c=jd(n.infoSyncTree_,s,a);Ii(n.eventQueue_,s,c)}function Kd(n){return n.nextWriteId_++}function Sm(n,t,e,s,a){lc(n,"set",{path:t.toString(),value:e,priority:s});const c=ac(n),g=wn(e,s),v=Hd(n.serverSyncTree_,t),w=Nf(g,v,c),S=Kd(n),H=fm(n.serverSyncTree_,t,w,S,!0);Uf(n.eventQueue_,H),n.server_.put(t.toString(),g.val(!0),(Q,ne)=>{const Te="ok"===Q;Te||ei("set at "+t+" failed: "+Q);const at=qo(n.serverSyncTree_,S,!Te);Ii(n.eventQueue_,t,at),Ha(0,a,Q,ne)});const L=Wf(n,t);uc(n,L),Ii(n.eventQueue_,L,[])}function V0(n,t,e){n.server_.onDisconnectCancel(t.toString(),(s,a)=>{"ok"===s&&Jg(n.onDisconnect_,t),Ha(0,e,s,a)})}function zv(n,t,e,s){const a=wn(e);n.server_.onDisconnectPut(t.toString(),a.val(!0),(c,g)=>{"ok"===c&&Gu(n.onDisconnect_,t,a),Ha(0,s,c,g)})}function Mm(n,t,e){let s;s=".info"===Mt(t._path)?Mf(n.infoSyncTree_,t,e):Mf(n.serverSyncTree_,t,e),Bf(n.eventQueue_,t._path,s)}function Zv(n){n.persistentConnection_&&n.persistentConnection_.interrupt(wm)}function lc(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),hr(e,...t)}function Ha(n,t,e,s){t&&Br(()=>{if("ok"===e)t(null);else{const a=(e||"error").toUpperCase();let c=a;s&&(c+=": "+s);const g=new Error(c);g.code=a,t(g)}})}function Rm(n,t,e){return Hd(n.serverSyncTree_,t,e)||It.EMPTY_NODE}function $f(n,t=n.transactionQueueTree_){if(t||Yd(n,t),Bl(t)){const e=Om(n,t);(0,k.hu)(e.length>0,"Sending zero length transaction queue"),e.every(a=>0===a.status)&&function W0(n,t,e){const s=e.map(S=>S.currentWriteId),a=Rm(n,t,s);let c=a;const g=a.hash();for(let S=0;S<e.length;S++){const H=e[S];(0,k.hu)(0===H.status,"tryToSendTransactionQueue_: items in queue should all be run."),H.status=1,H.retryCount++;const L=hi(t,H.path);c=c.updateChild(L,H.currentOutputSnapshotRaw)}const v=c.val(!0),w=t;n.server_.put(w.toString(),v,S=>{lc(n,"transaction put response",{path:w.toString(),status:S});let H=[];if("ok"===S){const L=[];for(let Q=0;Q<e.length;Q++)e[Q].status=2,H=H.concat(qo(n.serverSyncTree_,e[Q].currentWriteId)),e[Q].onComplete&&L.push(()=>e[Q].onComplete(null,!0,e[Q].currentOutputSnapshotResolved)),e[Q].unwatcher();Yd(n,Wd(n.transactionQueueTree_,t)),$f(n,n.transactionQueueTree_),Ii(n.eventQueue_,t,H);for(let Q=0;Q<L.length;Q++)Br(L[Q])}else{if("datastale"===S)for(let L=0;L<e.length;L++)e[L].status=3===e[L].status?4:0;else{ei("transaction at "+w.toString()+" failed: "+S);for(let L=0;L<e.length;L++)e[L].status=4,e[L].abortReason=S}uc(n,t)}},g)}(n,Gd(t),e)}else vm(t)&&Ff(t,e=>{$f(n,e)})}function uc(n,t){const e=Pm(n,t),s=Gd(e);return function qv(n,t,e){if(0===t.length)return;const s=[];let a=[];const g=t.filter(v=>0===v.status).map(v=>v.currentWriteId);for(let v=0;v<t.length;v++){const w=t[v],S=hi(e,w.path);let L,H=!1;if((0,k.hu)(null!==S,"rerunTransactionsUnderNode_: relativePath should not be null."),4===w.status)H=!0,L=w.abortReason,a=a.concat(qo(n.serverSyncTree_,w.currentWriteId,!0));else if(0===w.status)if(w.retryCount>=25)H=!0,L="maxretry",a=a.concat(qo(n.serverSyncTree_,w.currentWriteId,!0));else{const Q=Rm(n,w.path,g);w.currentInputSnapshot=Q;const ne=t[v].update(Q.val());if(void 0!==ne){oc("transaction failed: Data returned ",ne,w.path);let Te=wn(ne);"object"==typeof ne&&null!=ne&&(0,k.r3)(ne,".priority")||(Te=Te.updatePriority(Q.getPriority()));const vt=w.currentWriteId,xt=ac(n),Dn=Nf(Te,Q,xt);w.currentOutputSnapshotRaw=Te,w.currentOutputSnapshotResolved=Dn,w.currentWriteId=Kd(n),g.splice(g.indexOf(vt),1),a=a.concat(fm(n.serverSyncTree_,w.path,Dn,w.currentWriteId,w.applyLocally)),a=a.concat(qo(n.serverSyncTree_,vt,!0))}else H=!0,L="nodata",a=a.concat(qo(n.serverSyncTree_,w.currentWriteId,!0))}Ii(n.eventQueue_,e,a),a=[],H&&(t[v].status=2,setTimeout(t[v].unwatcher,Math.floor(0)),t[v].onComplete&&s.push("nodata"===L?()=>t[v].onComplete(null,!1,t[v].currentInputSnapshot):()=>t[v].onComplete(new Error(L),!1,null)))}Yd(n,n.transactionQueueTree_);for(let v=0;v<s.length;v++)Br(s[v]);$f(n,n.transactionQueueTree_)}(n,Om(n,e),s),s}function Pm(n,t){let e,s=n.transactionQueueTree_;for(e=Mt(t);null!==e&&void 0===Bl(s);)s=Wd(s,e),e=Mt(t=vn(t));return s}function Om(n,t){const e=[];return xm(n,t,e),e.sort((s,a)=>s.order-a.order),e}function xm(n,t,e){const s=Bl(t);if(s)for(let a=0;a<s.length;a++)e.push(s[a]);Ff(t,a=>{xm(n,a,e)})}function Yd(n,t){const e=Bl(t);if(e){let s=0;for(let a=0;a<e.length;a++)2!==e[a].status&&(e[s]=e[a],s++);e.length=s,kf(t,e.length>0?e:void 0)}Ff(t,s=>{Yd(n,s)})}function Wf(n,t){const e=Gd(Pm(n,t)),s=Wd(n.transactionQueueTree_,t);return function Fv(n,t,e){let s=e?n:n.parent;for(;null!==s;){if(t(s))return!0;s=s.parent}}(s,a=>{Gf(n,a)}),Gf(n,s),kv(s,a=>{Gf(n,a)}),e}function Gf(n,t){const e=Bl(t);if(e){const s=[];let a=[],c=-1;for(let g=0;g<e.length;g++)3===e[g].status||(1===e[g].status?((0,k.hu)(c===g-1,"All SENT items should be at beginning of queue."),c=g,e[g].status=3,e[g].abortReason="set"):((0,k.hu)(0===e[g].status,"Unexpected transaction status in abort"),e[g].unwatcher(),a=a.concat(qo(n.serverSyncTree_,e[g].currentWriteId,!0)),e[g].onComplete&&s.push(e[g].onComplete.bind(null,new Error("set"),!1,null))));-1===c?kf(t,void 0):e.length=c+1,Ii(n.eventQueue_,Gd(t),a);for(let g=0;g<s.length;g++)Br(s[g])}}const zf=function(n,t){const e=Qv(n),s=e.namespace;return"firebase.com"===e.domain&&ms(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!s||"undefined"===s)&&"localhost"!==e.domain&&ms("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&ei("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Ag(e.host,e.secure,s,"ws"===e.scheme||"wss"===e.scheme,t,"",s!==e.subdomain),path:new fn(e.pathString)}},Qv=function(n){let t="",e="",s="",a="",c="",g=!0,v="https",w=443;if("string"==typeof n){let S=n.indexOf("//");S>=0&&(v=n.substring(0,S-1),n=n.substring(S+2));let H=n.indexOf("/");-1===H&&(H=n.length);let L=n.indexOf("?");-1===L&&(L=n.length),t=n.substring(0,Math.min(H,L)),H<L&&(a=function Kv(n){let t="";const e=n.split("/");for(let s=0;s<e.length;s++)if(e[s].length>0){let a=e[s];try{a=decodeURIComponent(a.replace(/\+/g," "))}catch(c){}t+="/"+a}return t}(n.substring(H,L)));const Q=function Yv(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const s=e.split("=");2===s.length?t[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):ei(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,L)));S=t.indexOf(":"),S>=0?(g="https"===v||"wss"===v,w=parseInt(t.substring(S+1),10)):S=t.length;const ne=t.slice(0,S);if("localhost"===ne.toLowerCase())e="localhost";else if(ne.split(".").length<=2)e=ne;else{const Te=t.indexOf(".");s=t.substring(0,Te).toLowerCase(),e=t.substring(Te+1),c=s}"ns"in Q&&(c=Q.ns)}return{host:t,port:w,domain:e,subdomain:s,secure:g,scheme:v,pathString:a,namespace:c}};class $a{constructor(t,e,s,a){this.eventType=t,this.eventRegistration=e,this.snapshot=s,this.prevName=a}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,k.Pz)(this.snapshot.exportVal())}}class Jv{constructor(t,e,s){this.eventRegistration=t,this.error=e,this.path=s}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Xv{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,k.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class jl{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new k.BH;return V0(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){jr("OnDisconnect.remove",this._path);const t=new k.BH;return zv(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){jr("OnDisconnect.set",this._path),pr("OnDisconnect.set",t,this._path,!1);const e=new k.BH;return zv(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){jr("OnDisconnect.setWithPriority",this._path),pr("OnDisconnect.setWithPriority",t,this._path,!1),Em("OnDisconnect.setWithPriority",e,!1);const s=new k.BH;return function U0(n,t,e,s,a){const c=wn(e,s);n.server_.onDisconnectPut(t.toString(),c.val(!0),(g,v)=>{"ok"===g&&Gu(n.onDisconnect_,t,c),Ha(0,a,g,v)})}(this._repo,this._path,t,e,s.wrapCallback(()=>{})),s.promise}update(t){jr("OnDisconnect.update",this._path),Bv("OnDisconnect.update",t,this._path,!1);const e=new k.BH;return function B0(n,t,e,s){if((0,k.xb)(e))return hr("onDisconnect().update() called with empty data.  Don't do anything."),void Ha(0,s,"ok",void 0);n.server_.onDisconnectMerge(t.toString(),e,(a,c)=>{"ok"===a&&Cr(e,(g,v)=>{const w=wn(v);Gu(n.onDisconnect_,kn(t,g),w)}),Ha(0,s,a,c)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class Ti{constructor(t,e,s,a){this._repo=t,this._path=e,this._queryParams=s,this._orderByCalled=a}get key(){return Nt(this._path)?null:Ug(this._path)}get ref(){return new Ai(this._repo,this._path)}get _queryIdentifier(){const t=zy(this._queryParams),e=bg(t);return"{}"===e?"default":e}get _queryObject(){return zy(this._queryParams)}isEqual(t){if(!((t=(0,k.m9)(t))instanceof Ti))return!1;const e=this._repo===t._repo,s=Ry(this._path,t._path);return e&&s&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function a0(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}function cc(n,t){if(!0===n._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function Hl(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===no){const s="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",a="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==vr)throw new Error(s);if("string"!=typeof t)throw new Error(a)}if(n.hasEnd()){if(n.getIndexEndName()!==to)throw new Error(s);if("string"!=typeof e)throw new Error(a)}}else if(n.getIndex()===bn){if(null!=t&&!ti(t)||null!=e&&!ti(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,k.hu)(n.getIndex()instanceof Zg||n.getIndex()===cf,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Qd(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Ai extends Ti{constructor(t,e){super(t,e,new ff,!1)}get parent(){const t=Sy(this._path);return null===t?null:new Ai(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class dc{constructor(t,e,s){this._node=t,this.ref=e,this._index=s}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new fn(t),s=$l(this.ref,t);return new dc(this._node.getChild(e),s,bn)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(s,a)=>t(new dc(a,$l(this.ref,s),bn)))}hasChild(t){const e=new fn(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function ht(n,t){return(n=(0,k.m9)(n))._checkNotDeleted("ref"),void 0!==t?$l(n._root,t):n._root}function eC(n,t){(n=(0,k.m9)(n))._checkNotDeleted("refFromURL");const e=zf(t,n._repo.repoInfo_.nodeAdmin);jv("refFromURL",e);const s=e.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&s.host!==n._repo.repoInfo_.host&&ms("refFromURL: Host name does not match the current database: (found "+s.host+" but expected "+n._repo.repoInfo_.host+")"),ht(n,e.path.toString())}function $l(n,t){return null===Mt((n=(0,k.m9)(n))._path)?(e=t,e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Zd("child","path",e,!1)):Zd("child","path",t,!1),new Ai(n._repo,kn(n._path,t));var e}function hc(n,t){n=(0,k.m9)(n),jr("set",n._path),pr("set",t,n._path,!1);const e=new k.BH;return Sm(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function cD(n,t){Bv("update",t,n._path,!1);const e=new k.BH;return function F0(n,t,e,s){lc(n,"update",{path:t.toString(),value:e});let a=!0;const c=ac(n),g={};if(Cr(e,(v,w)=>{a=!1,g[v]=fr(kn(t,v),wn(w),n.serverSyncTree_,c)}),a)hr("update() called with empty data.  Don't do anything."),Ha(0,s,"ok",void 0);else{const v=Kd(n),w=function Cv(n,t,e,s){!function qu(n,t,e,s){(0,k.hu)(s>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:s,visible:!0}),n.visibleWrites=Vd(n.visibleWrites,t,e),n.lastWriteId=s}(n.pendingWriteTree_,t,e,s);const a=ln.fromObject(e);return ja(n,new kd({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,a))}(n.serverSyncTree_,t,g,v);Uf(n.eventQueue_,w),n.server_.merge(t.toString(),e,(S,H)=>{const L="ok"===S;L||ei("update at "+t+" failed: "+S);const Q=qo(n.serverSyncTree_,v,!L),ne=Q.length>0?uc(n,t):t;Ii(n.eventQueue_,ne,Q),Ha(0,s,S,H)}),Cr(e,S=>{const H=Wf(n,kn(t,S));uc(n,H)}),Ii(n.eventQueue_,t,[])}}(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}function tC(n){return function Gv(n,t){const e=function Iv(n,t){const e=t._path;let s=null;n.syncPointTree_.foreachOnPath(e,(S,H)=>{const L=hi(S,e);s=s||Ul(H,L)});let a=n.syncPointTree_.get(e);a?s=s||Ul(a,$t()):(a=new gv,n.syncPointTree_=n.syncPointTree_.set(e,a));const c=null!=s,g=c?new zo(s,!0,!1):null;return function S0(n){return vf(n.viewCache_)}(Af(a,t,Zo(n.pendingWriteTree_,t._path),c?g.getNode():It.EMPTY_NODE,c))}(n.serverSyncTree_,t);return null!=e?Promise.resolve(e):n.server_.get(t).then(s=>{const a=wn(s).withIndex(t._queryParams.getIndex()),c=jd(n.serverSyncTree_,t._path,a);return Bf(n.eventQueue_,t._path,c),Promise.resolve(a)},s=>(lc(n,"get for query "+(0,k.Pz)(t)+" failed: "+s),Promise.reject(new Error(s))))}((n=(0,k.m9)(n))._repo,n).then(t=>new dc(t,new Ai(n._repo,n._path),n._queryParams.getIndex()))}class Kf{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const s=e._queryParams.getIndex();return new $a("value",this,new dc(t.snapshotNode,new Ai(e._repo,e._path),s))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new Jv(this,t,e):null}matches(t){return t instanceof Kf&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Yf{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new Jv(this,t,e):null}createEvent(t,e){(0,k.hu)(null!=t.childName,"Child events should have a childName.");const s=$l(new Ai(e._repo,e._path),t.childName),a=e._queryParams.getIndex();return new $a(t.type,this,new dc(t.snapshotNode,s,a),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof Yf&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function fc(n,t,e,s,a){let c;if("object"==typeof s&&(c=void 0,a=s),"function"==typeof s&&(c=s),a&&a.onlyOnce){const w=e,S=(H,L)=>{Mm(n._repo,n,v),w(H,L)};S.userCallback=e.userCallback,S.context=e.context,e=S}const g=new Xv(e,c||void 0),v="value"===t?new Kf(g):new Yf(t,g);return function j0(n,t,e){let s;s=".info"===Mt(t._path)?Dv(n.infoSyncTree_,t,e):Dv(n.serverSyncTree_,t,e),Bf(n.eventQueue_,t._path,s)}(n._repo,n,v),()=>Mm(n._repo,n,v)}function Qf(n,t,e,s){return fc(n,"value",t,e,s)}function Nm(n,t,e,s){return fc(n,"child_added",t,e,s)}function km(n,t,e,s){return fc(n,"child_changed",t,e,s)}function nC(n,t,e,s){return fc(n,"child_moved",t,e,s)}function rC(n,t,e,s){return fc(n,"child_removed",t,e,s)}function iC(n,t,e){let s=null;const a=e?new Xv(e):null;"value"===t?s=new Kf(a):t&&(s=new Yf(t,a)),Mm(n._repo,n,s)}class ni{}class sC extends ni{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){pr("endAt",this._value,t._path,!0);const e=gf(t._queryParams,this._value,this._key);if(Qd(e),Hl(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ti(t._repo,t._path,e,t._orderByCalled)}}class Z0 extends ni{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){pr("endBefore",this._value,t._path,!1);const e=function m0(n,t,e){let s,a;return n.index_===no?("string"==typeof t&&(t=Kg(t)),a=gf(n,t,e)):(s=null==e?vr:Kg(e),a=gf(n,t,s)),a.endBeforeSet_=!0,a}(t._queryParams,this._value,this._key);if(Qd(e),Hl(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ti(t._repo,t._path,e,t._orderByCalled)}}class Fm extends ni{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){pr("startAt",this._value,t._path,!0);const e=pf(t._queryParams,this._value,this._key);if(Qd(e),Hl(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Ti(t._repo,t._path,e,t._orderByCalled)}}class aC extends ni{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){pr("startAfter",this._value,t._path,!1);const e=function Wy(n,t,e){let s;if(n.index_===no)"string"==typeof t&&(t=Hy(t)),s=pf(n,t,e);else{let a;a=null==e?to:Hy(e),s=pf(n,t,a)}return s.startAfterSet_=!0,s}(t._queryParams,this._value,this._key);if(Qd(e),Hl(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Ti(t._repo,t._path,e,t._orderByCalled)}}class Jd extends ni{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ti(t._repo,t._path,function Qg(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class K0 extends ni{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ti(t._repo,t._path,function $y(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class Q0 extends ni{constructor(t){super(),this._path=t}_apply(t){cc(t,"orderByChild");const e=new fn(this._path);if(Nt(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const s=new Zg(e),a=mf(t._queryParams,s);return Hl(a),new Ti(t._repo,t._path,a,!0)}}class uC extends ni{_apply(t){cc(t,"orderByKey");const e=mf(t._queryParams,no);return Hl(e),new Ti(t._repo,t._path,e,!0)}}class J0 extends ni{_apply(t){cc(t,"orderByPriority");const e=mf(t._queryParams,bn);return Hl(e),new Ti(t._repo,t._path,e,!0)}}class X0 extends ni{_apply(t){cc(t,"orderByValue");const e=mf(t._queryParams,cf);return Hl(e),new Ti(t._repo,t._path,e,!0)}}class dD extends ni{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(pr("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new sC(this._value,this._key)._apply(new Fm(this._value,this._key)._apply(t))}}function oo(n,...t){let e=(0,k.m9)(n);for(const s of t)e=s._apply(e);return e}(function mv(n){(0,k.hu)(!If,"__referenceConstructor has already been defined"),If=n})(Ai),function dm(n){(0,k.hu)(!Sf,"__referenceConstructor has already been defined"),Sf=n}(Ai);const Xf={};function hC(n,t,e,s,a){let c=s||n.options.databaseURL;void 0===c&&(n.options.projectId||ms("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),hr("Using default host for project ",n.options.projectId),c=`${n.options.projectId}-default-rtdb.firebaseio.com`);let w,S,g=zf(c,a),v=g.repoInfo;"undefined"!=typeof process&&process.env&&(S=process.env.FIREBASE_DATABASE_EMULATOR_HOST),S?(w=!0,c=`http://${S}?ns=${v.namespace}`,g=zf(c,a),v=g.repoInfo):w=!g.repoInfo.secure;const H=a&&w?new Sl(Sl.OWNER):new jo(n.name,n.options,t);jv("Invalid Firebase Database URL",g),Nt(g.path)||ms("Database URL must point to the root of a Firebase Database (not including a child path).");const L=function th(n,t,e,s){let a=Xf[t.name];a||(a={},Xf[t.name]=a);let c=a[n.toURLString()];return c&&ms("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),c=new Dm(n,false,e,s),a[n.toURLString()]=c,c}(v,n,H,new Dg(n.name,e));return new rb(L,n)}class rb{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function jf(n,t,e){if(n.stats_=Sg(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new Od(n.repoInfo_,(s,a,c,g)=>{Tm(n,s,a,c,g)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>Am(n,!0),0);else{if(null!=e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,k.Pz)(e)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}n.persistentConnection_=new $o(n.repoInfo_,t,(s,a,c,g)=>{Tm(n,s,a,c,g)},s=>{Am(n,s)},s=>{!function Wv(n,t){Cr(t,(e,s)=>{Hf(n,e,s)})}(n,s)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(s=>{n.server_.refreshAuthToken(s)}),n.appCheckProvider_.addTokenChangeListener(s=>{n.server_.refreshAppCheckToken(s.token)}),n.statsReporter_=function Zw(n,t){const e=n.toString();return Ey[e]||(Ey[e]=t()),Ey[e]}(n.repoInfo_,()=>new rD(n.stats_,n.server_)),n.infoData_=new tD,n.infoSyncTree_=new O0({startListening:(s,a,c,g)=>{let v=[];const w=n.infoData_.getNode(s._path);return w.isEmpty()||(v=jd(n.infoSyncTree_,s._path,w),setTimeout(()=>{g("ok")},0)),v},stopListening:()=>{}}),Hf(n,"connected",!1),n.serverSyncTree_=new O0({startListening:(s,a,c,g)=>(n.server_.listen(s,c,a,(v,w)=>{const S=g(v,w);Ii(n.eventQueue_,s._path,S)}),[]),stopListening:(s,a)=>{n.server_.unlisten(s,a)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ai(this._repo,$t())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function fC(n,t){const e=Xf[t];(!e||e[n.key]!==n)&&ms(`Database ${t}(${n.repoInfo_}) has already been deleted.`),Zv(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&ms("Cannot call "+t+" on a deleted database.")}}function ib(n=(0,Hi.getApp)(),t){return(0,Hi._getProvider)(n,"database").getImmediate({identifier:t})}function ab(n,t){Eg(n,t)}const pc={".sv":"timestamp"};class cb{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}$o.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},$o.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},function lb(n){vg(Hi.SDK_VERSION),(0,Hi._registerComponent)(new xa.wA("database",(t,{instanceIdentifier:e})=>hC(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,Hi.registerVersion)(_g,"0.12.8",n),(0,Hi.registerVersion)(_g,"0.12.8","esm2017")}();const fb=new _d.Yd("@firebase/database-compat"),Vm=function(n){fb.warn("FIREBASE WARNING: "+n)};class gb{constructor(t){this._delegate=t}cancel(t){(0,k.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,k.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),s=>t(s)),e}remove(t){(0,k.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,k.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),s=>t(s)),e}set(t,e){(0,k.Dv)("OnDisconnect.set",1,2,arguments.length),(0,k.Wj)("OnDisconnect.set","onComplete",e,!0);const s=this._delegate.set(t);return e&&s.then(()=>e(null),a=>e(a)),s}setWithPriority(t,e,s){(0,k.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,k.Wj)("OnDisconnect.setWithPriority","onComplete",s,!0);const a=this._delegate.setWithPriority(t,e);return s&&a.then(()=>s(null),c=>s(c)),a}update(t,e){if((0,k.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const a={};for(let c=0;c<t.length;++c)a[""+c]=t[c];t=a,Vm("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,k.Wj)("OnDisconnect.update","onComplete",e,!0);const s=this._delegate.update(t);return e&&s.then(()=>e(null),a=>e(a)),s}}class mb{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,k.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class ao{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,k.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,k.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,k.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,k.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,k.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),Zd("DataSnapshot.child","path",t,!1),new ao(this._database,this._delegate.child(t))}hasChild(t){return(0,k.Dv)("DataSnapshot.hasChild",1,1,arguments.length),Zd("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,k.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,k.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,k.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new ao(this._database,e)))}hasChildren(){return(0,k.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,k.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,k.Dv)("DataSnapshot.ref",0,0,arguments.length),new gi(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Sr{constructor(t,e){this.database=t,this._delegate=e}on(t,e,s,a){var c;(0,k.Dv)("Query.on",2,4,arguments.length),(0,k.Wj)("Query.on","callback",e,!1);const g=Sr.getCancelAndContextArgs_("Query.on",s,a),v=(S,H)=>{e.call(g.context,new ao(this.database,S),H)};v.userCallback=e,v.context=g.context;const w=null===(c=g.cancel)||void 0===c?void 0:c.bind(g.context);switch(t){case"value":return Qf(this._delegate,v,w),e;case"child_added":return Nm(this._delegate,v,w),e;case"child_removed":return rC(this._delegate,v,w),e;case"child_changed":return km(this._delegate,v,w),e;case"child_moved":return nC(this._delegate,v,w),e;default:throw new Error((0,k.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,s){if((0,k.Dv)("Query.off",0,3,arguments.length),function(n,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,k.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,k.Wj)("Query.off","callback",e,!0),(0,k.lb)("Query.off","context",s,!0),e){const a=()=>{};a.userCallback=e,a.context=s,iC(this._delegate,t,a)}else iC(this._delegate,t)}get(){return tC(this._delegate).then(t=>new ao(this.database,t))}once(t,e,s,a){(0,k.Dv)("Query.once",1,4,arguments.length),(0,k.Wj)("Query.once","callback",e,!0);const c=Sr.getCancelAndContextArgs_("Query.once",s,a),g=new k.BH,v=(S,H)=>{const L=new ao(this.database,S);e&&e.call(c.context,L,H),g.resolve(L)};v.userCallback=e,v.context=c.context;const w=S=>{c.cancel&&c.cancel.call(c.context,S),g.reject(S)};switch(t){case"value":Qf(this._delegate,v,w,{onlyOnce:!0});break;case"child_added":Nm(this._delegate,v,w,{onlyOnce:!0});break;case"child_removed":rC(this._delegate,v,w,{onlyOnce:!0});break;case"child_changed":km(this._delegate,v,w,{onlyOnce:!0});break;case"child_moved":nC(this._delegate,v,w,{onlyOnce:!0});break;default:throw new Error((0,k.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return g.promise}limitToFirst(t){return(0,k.Dv)("Query.limitToFirst",1,1,arguments.length),new Sr(this.database,oo(this._delegate,function Xd(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Jd(n)}(t)))}limitToLast(t){return(0,k.Dv)("Query.limitToLast",1,1,arguments.length),new Sr(this.database,oo(this._delegate,function Y0(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new K0(n)}(t)))}orderByChild(t){return(0,k.Dv)("Query.orderByChild",1,1,arguments.length),new Sr(this.database,oo(this._delegate,function lC(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Zd("orderByChild","path",n,!1),new Q0(n)}(t)))}orderByKey(){return(0,k.Dv)("Query.orderByKey",0,0,arguments.length),new Sr(this.database,oo(this._delegate,function cC(){return new uC}()))}orderByPriority(){return(0,k.Dv)("Query.orderByPriority",0,0,arguments.length),new Sr(this.database,oo(this._delegate,function dC(){return new J0}()))}orderByValue(){return(0,k.Dv)("Query.orderByValue",0,0,arguments.length),new Sr(this.database,oo(this._delegate,function eb(){return new X0}()))}startAt(t=null,e){return(0,k.Dv)("Query.startAt",0,2,arguments.length),new Sr(this.database,oo(this._delegate,function oC(n=null,t){return zd("startAt","key",t,!0),new Fm(n,t)}(t,e)))}startAfter(t=null,e){return(0,k.Dv)("Query.startAfter",0,2,arguments.length),new Sr(this.database,oo(this._delegate,function q0(n,t){return zd("startAfter","key",t,!0),new aC(n,t)}(t,e)))}endAt(t=null,e){return(0,k.Dv)("Query.endAt",0,2,arguments.length),new Sr(this.database,oo(this._delegate,function z0(n,t){return zd("endAt","key",t,!0),new sC(n,t)}(t,e)))}endBefore(t=null,e){return(0,k.Dv)("Query.endBefore",0,2,arguments.length),new Sr(this.database,oo(this._delegate,function Jf(n,t){return zd("endBefore","key",t,!0),new Z0(n,t)}(t,e)))}equalTo(t,e){return(0,k.Dv)("Query.equalTo",1,2,arguments.length),new Sr(this.database,oo(this._delegate,function hD(n,t){return zd("equalTo","key",t,!0),new dD(n,t)}(t,e)))}toString(){return(0,k.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,k.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,k.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof Sr))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,s){const a={cancel:void 0,context:void 0};if(e&&s)a.cancel=e,(0,k.Wj)(t,"cancel",a.cancel,!0),a.context=s,(0,k.lb)(t,"context",a.context,!0);else if(e)if("object"==typeof e&&null!==e)a.context=e;else{if("function"!=typeof e)throw new Error((0,k.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");a.cancel=e}return a}get ref(){return new gi(this.database,new Ai(this._delegate._repo,this._delegate._path))}}class gi extends Sr{constructor(t,e){super(t,new Ti(e._repo,e._path,new ff,!1)),this.database=t,this._delegate=e}getKey(){return(0,k.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,k.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new gi(this.database,$l(this._delegate,t))}getParent(){(0,k.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new gi(this.database,t):null}getRoot(){return(0,k.Dv)("Reference.root",0,0,arguments.length),new gi(this.database,this._delegate.root)}set(t,e){(0,k.Dv)("Reference.set",1,2,arguments.length),(0,k.Wj)("Reference.set","onComplete",e,!0);const s=hc(this._delegate,t);return e&&s.then(()=>e(null),a=>e(a)),s}update(t,e){if((0,k.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const a={};for(let c=0;c<t.length;++c)a[""+c]=t[c];t=a,Vm("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}jr("Reference.update",this._delegate._path),(0,k.Wj)("Reference.update","onComplete",e,!0);const s=cD(this._delegate,t);return e&&s.then(()=>e(null),a=>e(a)),s}setWithPriority(t,e,s){(0,k.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,k.Wj)("Reference.setWithPriority","onComplete",s,!0);const a=function Xn(n,t,e){if(jr("setWithPriority",n._path),pr("setWithPriority",t,n._path,!1),Em("setWithPriority",e,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const s=new k.BH;return Sm(n._repo,n._path,t,e,s.wrapCallback(()=>{})),s.promise}(this._delegate,t,e);return s&&a.then(()=>s(null),c=>s(c)),a}remove(t){(0,k.Dv)("Reference.remove",0,1,arguments.length),(0,k.Wj)("Reference.remove","onComplete",t,!0);const e=function G0(n){return jr("remove",n._path),hc(n,null)}(this._delegate);return t&&e.then(()=>t(null),s=>t(s)),e}transaction(t,e,s){(0,k.Dv)("Reference.transaction",1,3,arguments.length),(0,k.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,k.Wj)("Reference.transaction","onComplete",e,!0),function(n,t,e,s){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,k.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,s);const a=function mC(n,t,e){var s;if(n=(0,k.m9)(n),jr("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const a=null===(s=null==e?void 0:e.applyLocally)||void 0===s||s,c=new k.BH,v=Qf(n,()=>{});return function $0(n,t,e,s,a,c){lc(n,"transaction on "+t);const g={path:t,update:e,onComplete:s,status:null,order:xu(),applyLocally:c,retryCount:0,unwatcher:a,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},v=Rm(n,t,void 0);g.currentInputSnapshot=v;const w=g.update(v.val());if(void 0===w)g.unwatcher(),g.currentOutputSnapshotRaw=null,g.currentOutputSnapshotResolved=null,g.onComplete&&g.onComplete(null,!1,g.currentInputSnapshot);else{oc("transaction failed: Data returned ",w,g.path),g.status=0;const S=Wd(n.transactionQueueTree_,t),H=Bl(S)||[];let L;H.push(g),kf(S,H),"object"==typeof w&&null!==w&&(0,k.r3)(w,".priority")?(L=(0,k.DV)(w,".priority"),(0,k.hu)(ti(L),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):L=(Hd(n.serverSyncTree_,t)||It.EMPTY_NODE).getPriority().val();const Q=ac(n),ne=wn(w,L),Te=Nf(ne,v,Q);g.currentOutputSnapshotRaw=ne,g.currentOutputSnapshotResolved=Te,g.currentWriteId=Kd(n);const at=fm(n.serverSyncTree_,t,Te,g.currentWriteId,g.applyLocally);Ii(n.eventQueue_,t,at),$f(n,n.transactionQueueTree_)}}(n._repo,n._path,t,(w,S,H)=>{let L=null;w?c.reject(w):(L=new dc(H,new Ai(n._repo,n._path),bn),c.resolve(new cb(S,L)))},v,a),c.promise}(this._delegate,t,{applyLocally:s}).then(c=>new mb(c.committed,new ao(this.database,c.snapshot)));return e&&a.then(c=>e(null,c.committed,c.snapshot),c=>e(c,!1,null)),a}setPriority(t,e){(0,k.Dv)("Reference.setPriority",1,2,arguments.length),(0,k.Wj)("Reference.setPriority","onComplete",e,!0);const s=function qf(n,t){n=(0,k.m9)(n),jr("setPriority",n._path),Em("setPriority",t,!1);const e=new k.BH;return Sm(n._repo,kn(n._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&s.then(()=>e(null),a=>e(a)),s}push(t,e){(0,k.Dv)("Reference.push",0,2,arguments.length),(0,k.Wj)("Reference.push","onComplete",e,!0);const s=function Zf(n,t){n=(0,k.m9)(n),jr("push",n._path),pr("push",t,n._path,!0);const e=Im(n._repo),s=p0(e),a=$l(n,s),c=$l(n,s);let g;return g=null!=t?hc(c,t).then(()=>c):Promise.resolve(c),a.then=g.then.bind(g),a.catch=g.then.bind(g,void 0),a}(this._delegate,t),a=s.then(g=>new gi(this.database,g));e&&a.then(()=>e(null),g=>e(g));const c=new gi(this.database,s);return c.then=a.then.bind(a),c.catch=a.catch.bind(a,void 0),c}onDisconnect(){return jr("Reference.onDisconnect",this._delegate._path),new gb(new jl(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class nh{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete()}}useEmulator(t,e,s={}){!function sb(n,t,e,s={}){(n=(0,k.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&ms("Cannot call useEmulator() after instance has already been initialized.");const a=n._repoInternal;let c;if(a.repoInfo_.nodeAdmin)s.mockUserToken&&ms('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),c=new Sl(Sl.OWNER);else if(s.mockUserToken){const g="string"==typeof s.mockUserToken?s.mockUserToken:(0,k.Sg)(s.mockUserToken,n.app.options.projectId);c=new Sl(g)}!function tb(n,t,e,s){n.repoInfo_=new Ag(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams),s&&(n.authTokenProvider_=s)}(a,t,e,c)}(this._delegate,t,e,s)}ref(t){if((0,k.Dv)("database.ref",0,1,arguments.length),t instanceof gi){const e=eC(this._delegate,t.toString());return new gi(this,e)}{const e=ht(this._delegate,t);return new gi(this,e)}}refFromURL(t){(0,k.Dv)("database.refFromURL",1,1,arguments.length);const s=eC(this._delegate,t);return new gi(this,s)}goOffline(){return(0,k.Dv)("database.goOffline",0,0,arguments.length),function ob(n){(n=(0,k.m9)(n))._checkNotDeleted("goOffline"),Zv(n._repo)}(this._delegate)}goOnline(){return(0,k.Dv)("database.goOnline",0,0,arguments.length),function pC(n){(n=(0,k.m9)(n))._checkNotDeleted("goOnline"),function H0(n){n.persistentConnection_&&n.persistentConnection_.resume(wm)}(n._repo)}(this._delegate)}}nh.ServerValue={TIMESTAMP:function ub(){return pc}(),increment:n=>function gC(n){return{".sv":{increment:n}}}(n)};var yb=Object.freeze({__proto__:null,initStandalone:function _b({app:n,url:t,version:e,customAuthImpl:s,namespace:a,nodeAdmin:c=!1}){vg(e);const g=new xa.zt("auth-internal",new xa.H0("database-standalone"));return g.setComponent(new xa.wA("auth-internal",()=>s,"PRIVATE")),{instance:new nh(hC(n,g,void 0,t,c),n),namespace:a}}});const vb=nh.ServerValue;!function Cb(n){n.INTERNAL.registerComponent(new xa.wA("database-compat",(t,{instanceIdentifier:e})=>{const s=t.getProvider("app-compat").getImmediate(),a=t.getProvider("database").getImmediate({identifier:e});return new nh(a,s)},"PUBLIC").setServiceProps({Reference:gi,Query:Sr,Database:nh,DataSnapshot:ao,enableLogging:ab,INTERNAL:yb,ServerValue:vb}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.1.8")}(dy.Z);var Wa=x(7579),ep=x(5363),Eb=x(6063);class yC extends Wa.x{constructor(t=1/0,e=1/0,s=Eb.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=s,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:s,_infiniteTimeWindow:a,_timestampProvider:c,_windowTime:g}=this;e||(s.push(t),!a&&s.push(c.now()+g)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:s,_buffer:a}=this,c=a.slice();for(let g=0;g<c.length&&!t.closed;g+=s?1:2)t.next(c[g]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:s,_infiniteTimeWindow:a}=this,c=(a?1:2)*t;if(t<1/0&&c<s.length&&s.splice(0,s.length-c),!a){const g=e.now();let v=0;for(let w=1;w<s.length&&s[w]<=g;w+=2)v=w;v&&s.splice(0,v+1)}}}function Um(n,t,e){var s,a;let c,g=!1;return n&&"object"==typeof n?(c=null!==(s=n.bufferSize)&&void 0!==s?s:1/0,t=null!==(a=n.windowTime)&&void 0!==a?a:1/0,g=!!n.refCount,e=n.scheduler):c=null!=n?n:1/0,(0,ly.B)({connector:()=>new yC(c,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:g})}const tp=(0,x(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var np=x(5698);function vC(n){return(0,Tr.e)((t,e)=>{let s=!1;t.subscribe(new $n.Q(e,a=>{s=!0,e.next(a)},()=>{s||e.next(n),e.complete()}))})}function CC(n=wb){return(0,Tr.e)((t,e)=>{let s=!1;t.subscribe(new $n.Q(e,a=>{s=!0,e.next(a)},()=>s?e.complete():e.error(n())))})}function wb(){return new tp}function Ko(n,t){const e=arguments.length>=2;return s=>s.pipe(n?wi((a,c)=>n(a,c,s)):Oa.y,(0,np.q)(1),e?vC(t):CC(()=>new tp))}function rp(n,t){return(0,Pa.m)(t)?Ur(()=>n,t):Ur(()=>n)}var ip=x(9468),Yo=x(5867);class gc{constructor(t){return t}}class EC{constructor(){return(0,Yo.C6)()}}const sp=new d.OlP("angularfire2._apps"),Ib={provide:gc,useFactory:function Db(n){return n&&1===n.length?n[0]:new gc((0,Yo.Mq)())},deps:[[new d.FiY,sp]]},wC={provide:EC,deps:[[new d.FiY,sp]]};function Tb(n){return(t,e)=>{const s=t.runOutsideAngular(()=>n(e));return new gc(s)}}let DC=(()=>{class n{constructor(e){(0,Yo.KN)("angularfire",Nn.q4.full,"core"),(0,Yo.KN)("angularfire",Nn.q4.full,"app"),(0,Yo.KN)("angular",d.q4F.full,e.toString())}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(d.Lbi))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[Ib,wC]}),n})();function gD(n,...t){return{ngModule:DC,providers:[{provide:sp,useFactory:Tb(n),multi:!0,deps:[d.R0b,d.zs3,Nn.HU,...t]}]}}const mc=(0,Nn.u3)(Yo.ZF,!0),Bm=new Map,Ab={activated:!1,tokenObservers:[]},Sb={initialized:!1,enabled:!1};function br(n){return Bm.get(n)||Ab}function ws(n,t){Bm.set(n,t)}function rh(){return Sb}class AC{constructor(t,e,s,a,c){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=s,this.lowerBound=a,this.upperBound=c,this.pending=null,this.nextErrorWaitInterval=a,a>c)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,Il.Z)(function*(){e.stop();try{e.pending=new k.BH,yield function Mb(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new k.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(s){e.retryPolicy(s)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const ri=new k.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function SC(n){if(!br(n).activated)throw ri.create("use-before-activation",{appName:n.name})}function Ga(n,t){return dp.apply(this,arguments)}function dp(){return(dp=(0,Il.Z)(function*({url:n,body:t},e){const s={"Content-Type":"application/json"},a=e.getImmediate({optional:!0});if(a){const L=yield a.getHeartbeatsHeader();L&&(s["X-Firebase-Client"]=L)}const c={method:"POST",body:JSON.stringify(t),headers:s};let g,v;try{g=yield fetch(n,c)}catch(L){throw ri.create("fetch-network-error",{originalErrorMessage:L.message})}if(200!==g.status)throw ri.create("fetch-status-error",{httpStatus:g.status});try{v=yield g.json()}catch(L){throw ri.create("fetch-parse-error",{originalErrorMessage:L.message})}const w=v.ttl.match(/^([\d.]+)(s)$/);if(!w||!w[2]||isNaN(Number(w[1])))throw ri.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${v.ttl}`});const S=1e3*Number(w[1]),H=Date.now();return{token:v.token,expireTimeMillis:H+S,issuedAtTimeMillis:H}})).apply(this,arguments)}function MC(n,t){const{projectId:e,appId:s,apiKey:a}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${e}/apps/${s}:exchangeDebugToken?key=${a}`,body:{debug_token:t}}}const vc="firebase-app-check-store";let sh=null;function hp(){return sh||(sh=new Promise((n,t)=>{try{const e=indexedDB.open("firebase-app-check-database",1);e.onsuccess=s=>{n(s.target.result)},e.onerror=s=>{var a;t(ri.create("storage-open",{originalErrorMessage:null===(a=s.target.error)||void 0===a?void 0:a.message}))},e.onupgradeneeded=s=>{0===s.oldVersion&&s.target.result.createObjectStore(vc,{keyPath:"compositeKey"})}}catch(e){t(ri.create("storage-open",{originalErrorMessage:e.message}))}}),sh)}function $m(){return($m=(0,Il.Z)(function*(n,t){const s=(yield hp()).transaction(vc,"readwrite"),c=s.objectStore(vc).put({compositeKey:n,value:t});return new Promise((g,v)=>{c.onsuccess=w=>{g()},s.onerror=w=>{var S;v(ri.create("storage-set",{originalErrorMessage:null===(S=w.target.error)||void 0===S?void 0:S.message}))}})})).apply(this,arguments)}const oh=new _d.Yd("@firebase/app-check");function Gm(n,t){return(0,k.hl)()?function RC(n,t){return function PC(n,t){return $m.apply(this,arguments)}(function xC(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{oh.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function zm(){return rh().enabled}function Zm(){return qm.apply(this,arguments)}function qm(){return(qm=(0,Il.Z)(function*(){const n=rh();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Lb={error:"UNKNOWN_ERROR"};function kC(n){return k.US.encodeString(JSON.stringify(n),!1)}function gp(n){return Km.apply(this,arguments)}function Km(){return(Km=(0,Il.Z)(function*(n,t=!1){const e=n.app;SC(e);const s=br(e);let c,a=s.token;if(!a){const w=yield s.cachedTokenPromise;w&&Cc(w)&&(a=w)}if(!t&&a&&Cc(a))return{token:a.token};let v,g=!1;if(zm()){s.exchangeTokenPromise||(s.exchangeTokenPromise=Ga(MC(e,yield Zm()),n.heartbeatServiceProvider).then(S=>(s.exchangeTokenPromise=void 0,S)),g=!0);const w=yield s.exchangeTokenPromise;return yield Gm(e,w),ws(e,Object.assign(Object.assign({},s),{token:w})),{token:w.token}}try{s.exchangeTokenPromise||(s.exchangeTokenPromise=s.provider.getToken().then(w=>(s.exchangeTokenPromise=void 0,w)),g=!0),a=yield s.exchangeTokenPromise}catch(w){"appCheck/throttled"===w.code?oh.warn(w.message):oh.error(w),c=w}return a?(v={token:a.token},ws(e,Object.assign(Object.assign({},s),{token:a})),yield Gm(e,a)):v=lh(c),g&&FC(e,v),v})).apply(this,arguments)}function Ym(n,t){const e=br(n),s=e.tokenObservers.filter(a=>a.next!==t);0===s.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),ws(n,Object.assign(Object.assign({},e),{tokenObservers:s}))}function mp(n){const{app:t}=n,e=br(t);let s=e.tokenRefresher;s||(s=function lo(n){const{app:t}=n;return new AC((0,Il.Z)(function*(){let s;if(s=br(t).token?yield gp(n,!0):yield gp(n),s.error)throw s.error}),()=>!0,()=>{const e=br(t);if(e.token){let s=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return s=Math.min(s,e.token.expireTimeMillis-3e5),Math.max(0,s-Date.now())}return 0},3e4,96e4)}(n),ws(t,Object.assign(Object.assign({},e),{tokenRefresher:s}))),!s.isRunning()&&e.isTokenAutoRefreshEnabled&&s.start()}function FC(n,t){const e=br(n).tokenObservers;for(const s of e)try{"EXTERNAL"===s.type&&null!=t.error?s.error(t.error):s.next(t)}catch(a){}}function Cc(n){return n.expireTimeMillis-Date.now()>0}function lh(n){return{token:kC(Lb),error:n}}class Vb{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=br(this.app);for(const e of t)Ym(this.app,e.next);return Promise.resolve()}}const n_="app-check-internal";!function Gb(){(0,Hi._registerComponent)(new xa.wA("app-check",n=>function Ub(n,t){return new Vb(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(n_).initialize()})),(0,Hi._registerComponent)(new xa.wA(n_,n=>function Bb(n){return{getToken:t=>gp(n,t),addTokenListener:t=>function Wl(n,t,e,s){const{app:a}=n,c=br(a),g={next:e,error:s,type:t};if(ws(a,Object.assign(Object.assign({},c),{tokenObservers:[...c.tokenObservers,g]})),c.token&&Cc(c.token)){const v=c.token;Promise.resolve().then(()=>{e({token:v.token}),mp(n)}).catch(()=>{})}c.cachedTokenPromise.then(()=>mp(n))}(n,"INTERNAL",t),removeTokenListener:t=>Ym(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Hi.registerVersion)("@firebase/app-check","0.5.7")}();class wp{constructor(){return(0,Nn.vb)("app-check")}}"undefined"!=typeof window&&window;var GC=x(127);const uh=new d.OlP("angularfire2.auth.use-emulator"),Ip=new d.OlP("angularfire2.auth.settings"),Kb=new d.OlP("angularfire2.auth.tenant-id"),o_=new d.OlP("angularfire2.auth.langugage-code"),ZC=new d.OlP("angularfire2.auth.use-device-language"),a_=new d.OlP("angularfire.auth.persistence"),ch=(n,t,e,s,a,c,g,v)=>(0,gs.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const w=t.runOutsideAngular(()=>n.auth());if(e&&w.useEmulator(...e),s&&(w.tenantId=s),w.languageCode=a,c&&w.useDeviceLanguage(),g)for(const[S,H]of Object.entries(g))w.settings[S]=H;return v&&w.setPersistence(v),w},[e,s,a,c,g,v]);let l_=(()=>{class n{constructor(e,s,a,c,g,v,w,S,H,L,Q,ne){const Te=new Wa.x,at=Ke(void 0).pipe((0,ep.Q)(g.outsideAngular),Ur(()=>c.runOutsideAngular(()=>Promise.resolve().then(x.bind(x,5881)))),(0,pt.U)(()=>(0,gs.on)(e,c,s)),(0,pt.U)(vt=>ch(vt,c,v,S,H,L,w,Q)),Um({bufferSize:1,refCount:!1}));if(function _o(n){return"server"===n}(a))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Ke(null);else{at.pipe(Ko()).subscribe();const xt=at.pipe(Ur(nn=>nn.getRedirectResult().then(qi=>qi,()=>null)),Nn.iC,Um({bufferSize:1,refCount:!1})),Dn=at.pipe(Ur(nn=>new Jt.y(qi=>({unsubscribe:c.runOutsideAngular(()=>nn.onAuthStateChanged(vh=>qi.next(vh),vh=>qi.error(vh),()=>qi.complete()))})))),Gn=at.pipe(Ur(nn=>new Jt.y(qi=>({unsubscribe:c.runOutsideAngular(()=>nn.onIdTokenChanged(vh=>qi.next(vh),vh=>qi.error(vh),()=>qi.complete()))}))));this.authState=xt.pipe(rp(Dn),(0,ip.R)(g.outsideAngular),(0,ep.Q)(g.insideAngular)),this.user=xt.pipe(rp(Gn),(0,ip.R)(g.outsideAngular),(0,ep.Q)(g.insideAngular)),this.idToken=this.user.pipe(Ur(nn=>nn?(0,Hn.D)(nn.getIdToken()):Ke(null))),this.idTokenResult=this.user.pipe(Ur(nn=>nn?(0,Hn.D)(nn.getIdTokenResult()):Ke(null))),this.credential=(0,gg.T)(xt,Te,this.authState.pipe(wi(nn=>!nn))).pipe((0,pt.U)(nn=>(null==nn?void 0:nn.user)?nn:null),(0,ip.R)(g.outsideAngular),(0,ep.Q)(g.insideAngular))}return(0,gs.pX)(this,at,c,{spy:{apply:(vt,xt,Dn)=>{(vt.startsWith("signIn")||vt.startsWith("createUser"))&&Dn.then(Gn=>Te.next(Gn))}}})}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(gs.Dh),d.LFG(gs.xv,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(Nn.HU),d.LFG(uh,8),d.LFG(Ip,8),d.LFG(Kb,8),d.LFG(o_,8),d.LFG(ZC,8),d.LFG(a_,8),d.LFG(wp,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function Yb(n){return null==n}function qC(n){return"function"==typeof n.set}function KC(n,t){return qC(t)?t:n.ref(t)}function d_(n,t){if(function u_(n){return"string"==typeof n}(n))return t.stringCase();if(qC(n))return t.firebaseCase();if(function c_(n){return"function"==typeof n.exportVal}(n))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function wc(n,t,e="on",s=VE.z){return new Jt.y(a=>{let c=null;return c=n[e](t,(g,v)=>{s.schedule(()=>{a.next({snapshot:g,prevKey:v})}),"once"===e&&s.schedule(()=>a.complete())},g=>{s.schedule(()=>a.error(g))}),"on"===e?{unsubscribe(){null!=c&&n.off(t,c)}}:{unsubscribe(){}}}).pipe((0,pt.U)(a=>{const{snapshot:c,prevKey:g}=a;let v=null;return c.exists()&&(v=c.key),{type:t,payload:c,prevKey:g,key:v}}),(0,ly.B)())}function h_(n,t){const e=n.length;for(let s=0;s<e;s++)if(n[s].payload.key===t)return s;return-1}function Jb(n,t){const{payload:e,prevKey:s,key:a}=t,c=h_(n,a),g=function YC(n,t){if(Yb(t))return 0;{const e=h_(n,t);return-1===e?n.length:e+1}}(n,s);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let v=null;t.payload.forEach(w=>{const S={payload:w,type:"value",prevKey:v,key:w.key};return v=w.key,n=[...n,S],!1})}return n;case"child_added":if(c>-1){const v=n[c-1];(v&&v.key||null)!==s&&(n=n.filter(w=>w.payload.key!==e.key)).splice(g,0,t)}else{if(null==s)return[t,...n];(n=n.slice()).splice(g,0,t)}return n;case"child_removed":return n.filter(v=>v.payload.key!==e.key);case"child_changed":return n.map(v=>v.payload.key===a?t:v);case"child_moved":if(c>-1){const v=n.splice(c,1)[0];return(n=n.slice()).splice(g,0,v),n}return n;default:return n}}function QC(n){return(Yb(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function f_(n,t,e){return function Qb(n,t,e){return wc(n,"value","once",e).pipe(Ur(s=>{const a=[Ke(s)];return t.forEach(c=>a.push(wc(n,c,"on",e))),(0,gg.T)(...a).pipe(md(Jb,[]))}),function uy(n,t=Oa.y){return n=null!=n?n:mg,(0,Tr.e)((e,s)=>{let a,c=!0;e.subscribe(new $n.Q(s,g=>{const v=t(g);(c||!n(a,v))&&(c=!1,a=v,s.next(g))}))})}())}(n,t=QC(t),e)}function JC(n,t,e){const s=(t=QC(t)).map(a=>wc(n,a,"on",e));return(0,gg.T)(...s)}function p_(n,t){return function(s,a){return d_(s,{stringCase:()=>n.child(s)[t](a),firebaseCase:()=>s[t](a),snapshotCase:()=>s.ref[t](a)})}}function Xb(n){return function(e){return e?d_(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}}function tw(n,t){return function(){return wc(n,"value","on",t)}}const OD=new d.OlP("angularfire2.realtimeDatabaseURL"),xD=new d.OlP("angularfire2.database.use-emulator");let nw=(()=>{class n{constructor(e,s,a,c,g,v,w,S,H,L,Q,ne,Te,at,vt){this.schedulers=v;const xt=w,Dn=(0,gs.on)(e,g,s);S&&ch(Dn,g,H,Q,ne,Te,L,at),this.database=(0,gs.cc)(`${Dn.name}.database.${a}`,"AngularFireDatabase",Dn.name,()=>{const Gn=g.runOutsideAngular(()=>Dn.database(a||void 0));return xt&&Gn.useEmulator(...xt),Gn},[xt])}list(e,s){const a=this.schedulers.ngZone.runOutsideAngular(()=>KC(this.database,e));let c=a;return s&&(c=s(a)),function ew(n,t){const e=t.schedulers.outsideAngular,s=t.schedulers.ngZone.run(()=>n.ref);return{query:n,update:p_(s,"update"),set:p_(s,"set"),push:a=>s.push(a),remove:Xb(s),snapshotChanges:a=>f_(n,a,e).pipe(Nn.iC),stateChanges:a=>JC(n,a,e).pipe(Nn.iC),auditTrail:a=>function XC(n,t,e){return function tE(n,t,e){return function eE(n,t){return wc(n,"value","on",t).pipe((0,pt.U)(e=>{let s;return e.payload.forEach(a=>(s=a.key,!1)),{data:e,lastKeyToLoad:s}}))}(n,e).pipe(function jE(...n){const t=(0,Ci.jO)(n);return(0,Tr.e)((e,s)=>{const a=n.length,c=new Array(a);let g=n.map(()=>!1),v=!1;for(let w=0;w<a;w++)(0,Ni.Xf)(n[w]).subscribe(new $n.Q(s,S=>{c[w]=S,!v&&!g[w]&&(g[w]=!0,(v=g.every(Oa.y))&&(g=null))},BE.Z));e.subscribe(new $n.Q(s,w=>{if(v){const S=[w,...c];s.next(t?t(...S):S)}}))})}(t),(0,pt.U)(([a,c])=>{const g=a.lastKeyToLoad,v=c.map(w=>w.key);return{actions:c,lastKeyToLoad:g,loadedKeys:v}}),function cy(n){return(0,Tr.e)((t,e)=>{let s=!1,a=0;t.subscribe(new $n.Q(e,c=>(s||(s=!n(c,a++)))&&e.next(c)))})}(a=>-1===a.loadedKeys.indexOf(a.lastKeyToLoad)),(0,pt.U)(a=>a.actions))}(n,JC(n,t).pipe(md((a,c)=>[...a,c],[])),e)}(n,a,e).pipe(Nn.iC),valueChanges:(a,c)=>f_(n,a,e).pipe((0,pt.U)(v=>v.map(w=>c&&c.idField?Object.assign(Object.assign({},w.payload.val()),{[c.idField]:w.key}):w.payload.val())),Nn.iC)}}(c,this)}object(e){return function nE(n,t){return{query:n,snapshotChanges:()=>tw(n,t.schedulers.outsideAngular)().pipe(Nn.iC),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>tw(n,t.schedulers.outsideAngular)().pipe(Nn.iC,(0,pt.U)(s=>s.payload.exists()?s.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>KC(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(gs.Dh),d.LFG(gs.xv,8),d.LFG(OD,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(Nn.HU),d.LFG(xD,8),d.LFG(l_,8),d.LFG(uh,8),d.LFG(Ip,8),d.LFG(Kb,8),d.LFG(o_,8),d.LFG(ZC,8),d.LFG(a_,8),d.LFG(wp,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),ND=(()=>{class n{constructor(){GC.Z.registerVersion("angularfire",Nn.q4.full,"rtdb-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[nw]}),n})();class uo extends Wa.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:s}=this;if(t)throw e;return this._throwIfClosed(),s}next(t){super.next(this._value=t)}}var kD=x(9672);function dh(n,t,e){n?(0,kD.f)(e,n,t):t()}var g_=x(8189);function za(...n){return function m_(){return(0,g_.J)(1)}()((0,Hn.D)(n,(0,Ci.yG)(n)))}function __(n){return new Jt.y(t=>{(0,Ni.Xf)(n()).subscribe(t)})}var Dc=x(515),rE=x(727);function Tp(){return(0,Tr.e)((n,t)=>{let e=null;n._refCount++;const s=new $n.Q(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const a=n._connection,c=e;e=null,a&&(!c||a===c)&&a.unsubscribe(),t.unsubscribe()});n.subscribe(s),s.closed||(e=n.connect())})}class iE extends Jt.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,Tr.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,null==t||t.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new rE.w0;const e=this.getSubject();t.add(this.source.subscribe(new $n.Q(e,void 0,()=>{this._teardown(),e.complete()},s=>{this._teardown(),e.error(s)},()=>this._teardown()))),t.closed&&(this._connection=null,t=rE.w0.EMPTY)}return t}refCount(){return Tp()(this)}}function Qo(n){return(0,Tr.e)((t,e)=>{let c,s=null,a=!1;s=t.subscribe(new $n.Q(e,void 0,void 0,g=>{c=(0,Ni.Xf)(n(g,Qo(n)(t))),s?(s.unsubscribe(),s=null,c.subscribe(e)):a=!0})),a&&(s.unsubscribe(),s=null,c.subscribe(e))})}function oE(n){return n<=0?()=>Dc.E:(0,Tr.e)((t,e)=>{let s=[];t.subscribe(new $n.Q(e,a=>{s.push(a),n<s.length&&s.shift()},()=>{for(const a of s)e.next(a);e.complete()},void 0,()=>{s=null}))})}var Hr=x(8505);class Za{constructor(t,e){this.id=t,this.url=e}}class uE extends Za{constructor(t,e,s="imperative",a=null){super(t,e),this.navigationTrigger=s,this.restoredState=a}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ap extends Za{constructor(t,e,s){super(t,e),this.urlAfterRedirects=s}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class cE extends Za{constructor(t,e,s){super(t,e),this.reason=s}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class y_ extends Za{constructor(t,e,s){super(t,e),this.error=s}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class rw extends Za{constructor(t,e,s,a){super(t,e),this.urlAfterRedirects=s,this.state=a}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class VD extends Za{constructor(t,e,s,a){super(t,e),this.urlAfterRedirects=s,this.state=a}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class iw extends Za{constructor(t,e,s,a,c){super(t,e),this.urlAfterRedirects=s,this.state=a,this.shouldActivate=c}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class v_ extends Za{constructor(t,e,s,a){super(t,e),this.urlAfterRedirects=s,this.state=a}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class sw extends Za{constructor(t,e,s,a){super(t,e),this.urlAfterRedirects=s,this.state=a}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _i{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class dE{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class C_{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ow{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class aw{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class E_{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class b_{constructor(t,e,s){this.routerEvent=t,this.position=e,this.anchor=s}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Ot="primary";class lw{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Gl(n){return new lw(n)}const w_="ngNavigationCancelingError";function D_(n){const t=Error("NavigationCancelingError: "+n);return t[w_]=!0,t}function I_(n,t,e){const s=e.path.split("/");if(s.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||s.length<n.length))return null;const a={};for(let c=0;c<s.length;c++){const g=s[c],v=n[c];if(g.startsWith(":"))a[g.substring(1)]=v;else if(g!==v.path)return null}return{consumed:n.slice(0,s.length),posParams:a}}function co(n,t){const e=n?Object.keys(n):void 0,s=t?Object.keys(t):void 0;if(!e||!s||e.length!=s.length)return!1;let a;for(let c=0;c<e.length;c++)if(a=e[c],!cw(n[a],t[a]))return!1;return!0}function cw(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),s=[...t].sort();return e.every((a,c)=>s[c]===a)}return n===t}function hE(n){return Array.prototype.concat.apply([],n)}function T_(n){return n.length>0?n[n.length-1]:null}function Mr(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function Is(n){return(0,d.CqO)(n)?n:(0,d.QGY)(n)?(0,Hn.D)(Promise.resolve(n)):Ke(n)}const BD={exact:function fE(n,t,e){if(!Zl(n.segments,t.segments)||!hh(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const s in t.children)if(!n.children[s]||!fE(n.children[s],t.children[s],e))return!1;return!0},subset:Ic},A_={exact:function hw(n,t){return co(n,t)},subset:function pE(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>cw(n[e],t[e]))},ignored:()=>!0};function S_(n,t,e){return BD[e.paths](n.root,t.root,e.matrixParams)&&A_[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function Ic(n,t,e){return Sp(n,t,t.segments,e)}function Sp(n,t,e,s){if(n.segments.length>e.length){const a=n.segments.slice(0,e.length);return!(!Zl(a,e)||t.hasChildren()||!hh(a,e,s))}if(n.segments.length===e.length){if(!Zl(n.segments,e)||!hh(n.segments,e,s))return!1;for(const a in t.children)if(!n.children[a]||!Ic(n.children[a],t.children[a],s))return!1;return!0}{const a=e.slice(0,n.segments.length),c=e.slice(n.segments.length);return!!(Zl(n.segments,a)&&hh(n.segments,a,s)&&n.children[Ot])&&Sp(n.children[Ot],t,c,s)}}function hh(n,t,e){return t.every((s,a)=>A_[e](n[a].parameters,s.parameters))}class zl{constructor(t,e,s){this.root=t,this.queryParams=e,this.fragment=s}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Gl(this.queryParams)),this._queryParamMap}toString(){return gw.serialize(this)}}class Ft{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Mr(e,(s,a)=>s.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Mp(this)}}class Tc{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Gl(this.parameters)),this._parameterMap}toString(){return ph(this)}}function Zl(n,t){return n.length===t.length&&n.every((e,s)=>e.path===t[s].path)}class pw{}class M_{parse(t){const e=new N_(t);return new zl(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${fh(t.root,!0)}`,s=function yw(n){const t=Object.keys(n).map(e=>{const s=n[e];return Array.isArray(s)?s.map(a=>`${R_(e)}=${R_(a)}`).join("&"):`${R_(e)}=${R_(s)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${s}${"string"==typeof t.fragment?`#${function HD(n){return encodeURI(n)}(t.fragment)}`:""}`}}const gw=new M_;function Mp(n){return n.segments.map(t=>ph(t)).join("/")}function fh(n,t){if(!n.hasChildren())return Mp(n);if(t){const e=n.children[Ot]?fh(n.children[Ot],!1):"",s=[];return Mr(n.children,(a,c)=>{c!==Ot&&s.push(`${c}:${fh(a,!1)}`)}),s.length>0?`${e}(${s.join("//")})`:e}{const e=function jD(n,t){let e=[];return Mr(n.children,(s,a)=>{a===Ot&&(e=e.concat(t(s,a)))}),Mr(n.children,(s,a)=>{a!==Ot&&(e=e.concat(t(s,a)))}),e}(n,(s,a)=>a===Ot?[fh(n.children[Ot],!1)]:[`${a}:${fh(s,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Ot]?`${Mp(n)}/${e[0]}`:`${Mp(n)}/(${e.join("//")})`}}function mw(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function R_(n){return mw(n).replace(/%3B/gi,";")}function gE(n){return mw(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function P_(n){return decodeURIComponent(n)}function mE(n){return P_(n.replace(/\+/g,"%20"))}function ph(n){return`${gE(n.path)}${function _w(n){return Object.keys(n).map(t=>`;${gE(t)}=${gE(n[t])}`).join("")}(n.parameters)}`}const _E=/^[^\/()?;=#]+/;function ho(n){const t=n.match(_E);return t?t[0]:""}const yE=/^[^=?&#]+/,x_=/^[^&#]+/;class N_{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ft([],{}):new Ft([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let s={};return this.peekStartsWith("(")&&(s=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(s[Ot]=new Ft(t,e)),s}parseSegment(){const t=ho(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Tc(P_(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=ho(this.remaining);if(!e)return;this.capture(e);let s="";if(this.consumeOptional("=")){const a=ho(this.remaining);a&&(s=a,this.capture(s))}t[P_(e)]=P_(s)}parseQueryParam(t){const e=function O_(n){const t=n.match(yE);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let s="";if(this.consumeOptional("=")){const g=function vw(n){const t=n.match(x_);return t?t[0]:""}(this.remaining);g&&(s=g,this.capture(s))}const a=mE(e),c=mE(s);if(t.hasOwnProperty(a)){let g=t[a];Array.isArray(g)||(g=[g],t[a]=g),g.push(c)}else t[a]=c}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const s=ho(this.remaining),a=this.remaining[s.length];if("/"!==a&&")"!==a&&";"!==a)throw new Error(`Cannot parse url '${this.url}'`);let c;s.indexOf(":")>-1?(c=s.substr(0,s.indexOf(":")),this.capture(c),this.capture(":")):t&&(c=Ot);const g=this.parseChildren();e[c]=1===Object.keys(g).length?g[Ot]:new Ft([],g),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Rp{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Pp(t,this._root);return e?e.children.map(s=>s.value):[]}firstChild(t){const e=Pp(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Op(t,this._root);return e.length<2?[]:e[e.length-2].children.map(a=>a.value).filter(a=>a!==t)}pathFromRoot(t){return Op(t,this._root).map(e=>e.value)}}function Pp(n,t){if(n===t.value)return t;for(const e of t.children){const s=Pp(n,e);if(s)return s}return null}function Op(n,t){if(n===t.value)return[t];for(const e of t.children){const s=Op(n,e);if(s.length)return s.unshift(t),s}return[]}class qa{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function gh(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class Cw extends Rp{constructor(t,e){super(t),this.snapshot=e,k_(this,t)}toString(){return this.snapshot.toString()}}function Ew(n,t){const e=function $D(n,t){const g=new xp([],{},{},"",{},Ot,t,null,n.root,-1,{});return new CE("",new qa(g,[]))}(n,t),s=new uo([new Tc("",{})]),a=new uo({}),c=new uo({}),g=new uo({}),v=new uo(""),w=new mh(s,a,g,v,c,Ot,t,e.root);return w.snapshot=e.root,new Cw(new qa(w,[]),e)}class mh{constructor(t,e,s,a,c,g,v,w){this.url=t,this.params=e,this.queryParams=s,this.fragment=a,this.data=c,this.outlet=g,this.component=v,this._futureSnapshot=w}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,pt.U)(t=>Gl(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,pt.U)(t=>Gl(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function bw(n,t="emptyOnly"){const e=n.pathFromRoot;let s=0;if("always"!==t)for(s=e.length-1;s>=1;){const a=e[s],c=e[s-1];if(a.routeConfig&&""===a.routeConfig.path)s--;else{if(c.component)break;s--}}return function vE(n){return n.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(s))}class xp{constructor(t,e,s,a,c,g,v,w,S,H,L){this.url=t,this.params=e,this.queryParams=s,this.fragment=a,this.data=c,this.outlet=g,this.component=v,this.routeConfig=w,this._urlSegment=S,this._lastPathIndex=H,this._resolve=L}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Gl(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Gl(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(s=>s.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class CE extends Rp{constructor(t,e){super(e),this.url=t,k_(this,e)}toString(){return EE(this._root)}}function k_(n,t){t.value._routerState=n,t.children.forEach(e=>k_(n,e))}function EE(n){const t=n.children.length>0?` { ${n.children.map(EE).join(", ")} } `:"";return`${n.value}${t}`}function Np(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,co(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),co(t.params,e.params)||n.params.next(e.params),function Ds(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!co(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),co(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function kp(n,t){const e=co(n.params,t.params)&&function fw(n,t){return Zl(n,t)&&n.every((e,s)=>co(e.parameters,t[s].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||kp(n.parent,t.parent))}function _h(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const s=e.value;s._futureSnapshot=t.value;const a=function ww(n,t,e){return t.children.map(s=>{for(const a of e.children)if(n.shouldReuseRoute(s.value,a.value.snapshot))return _h(n,s,a);return _h(n,s)})}(n,t,e);return new qa(s,a)}{if(n.shouldAttach(t.value)){const c=n.retrieve(t.value);if(null!==c){const g=c.route;return g.value._futureSnapshot=t.value,g.children=t.children.map(v=>_h(n,v)),g}}const s=function wE(n){return new mh(new uo(n.url),new uo(n.params),new uo(n.queryParams),new uo(n.fragment),new uo(n.data),n.outlet,n.component,n)}(t.value),a=t.children.map(c=>_h(n,c));return new qa(s,a)}}function F_(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Ac(n){return"object"==typeof n&&null!=n&&n.outlets}function Sc(n,t,e,s,a){let c={};return s&&Mr(s,(g,v)=>{c[v]=Array.isArray(g)?g.map(w=>`${w}`):`${g}`}),new zl(e.root===n?t:DE(e.root,n,t),c,a)}function DE(n,t,e){const s={};return Mr(n.children,(a,c)=>{s[c]=a===t?e:DE(a,t,e)}),new Ft(n.segments,s)}class IE{constructor(t,e,s){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=s,t&&s.length>0&&F_(s[0]))throw new Error("Root segment cannot have matrix parameters");const a=s.find(Ac);if(a&&a!==T_(s))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class L_{constructor(t,e,s){this.segmentGroup=t,this.processChildren=e,this.index=s}}function TE(n,t,e){if(n||(n=new Ft([],{})),0===n.segments.length&&n.hasChildren())return Lp(n,t,e);const s=function Aw(n,t,e){let s=0,a=t;const c={match:!1,pathIndex:0,commandIndex:0};for(;a<n.segments.length;){if(s>=e.length)return c;const g=n.segments[a],v=e[s];if(Ac(v))break;const w=`${v}`,S=s<e.length-1?e[s+1]:null;if(a>0&&void 0===w)break;if(w&&S&&"object"==typeof S&&void 0===S.outlets){if(!Mw(w,S,g))return c;s+=2}else{if(!Mw(w,{},g))return c;s++}a++}return{match:!0,pathIndex:a,commandIndex:s}}(n,t,e),a=e.slice(s.commandIndex);if(s.match&&s.pathIndex<n.segments.length){const c=new Ft(n.segments.slice(0,s.pathIndex),{});return c.children[Ot]=new Ft(n.segments.slice(s.pathIndex),n.children),Lp(c,0,a)}return s.match&&0===a.length?new Ft(n.segments,{}):s.match&&!n.hasChildren()?V_(n,t,e):s.match?Lp(n,0,a):V_(n,t,e)}function Lp(n,t,e){if(0===e.length)return new Ft(n.segments,{});{const s=function Tw(n){return Ac(n[0])?n[0].outlets:{[Ot]:n}}(e),a={};return Mr(s,(c,g)=>{"string"==typeof c&&(c=[c]),null!==c&&(a[g]=TE(n.children[g],t,c))}),Mr(n.children,(c,g)=>{void 0===s[g]&&(a[g]=c)}),new Ft(n.segments,a)}}function V_(n,t,e){const s=n.segments.slice(0,t);let a=0;for(;a<e.length;){const c=e[a];if(Ac(c)){const w=Sw(c.outlets);return new Ft(s,w)}if(0===a&&F_(e[0])){s.push(new Tc(n.segments[t].path,AE(e[0]))),a++;continue}const g=Ac(c)?c.outlets[Ot]:`${c}`,v=a<e.length-1?e[a+1]:null;g&&v&&F_(v)?(s.push(new Tc(g,AE(v))),a+=2):(s.push(new Tc(g,{})),a++)}return new Ft(s,{})}function Sw(n){const t={};return Mr(n,(e,s)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[s]=V_(new Ft([],{}),0,e))}),t}function AE(n){const t={};return Mr(n,(e,s)=>t[s]=`${e}`),t}function Mw(n,t,e){return n==e.path&&co(t,e.parameters)}class zD{constructor(t,e,s,a){this.routeReuseStrategy=t,this.futureState=e,this.currState=s,this.forwardEvent=a}activate(t){const e=this.futureState._root,s=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,s,t),Np(this.futureState.root),this.activateChildRoutes(e,s,t)}deactivateChildRoutes(t,e,s){const a=gh(e);t.children.forEach(c=>{const g=c.value.outlet;this.deactivateRoutes(c,a[g],s),delete a[g]}),Mr(a,(c,g)=>{this.deactivateRouteAndItsChildren(c,s)})}deactivateRoutes(t,e,s){const a=t.value,c=e?e.value:null;if(a===c)if(a.component){const g=s.getContext(a.outlet);g&&this.deactivateChildRoutes(t,e,g.children)}else this.deactivateChildRoutes(t,e,s);else c&&this.deactivateRouteAndItsChildren(e,s)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const s=e.getContext(t.value.outlet),a=s&&t.value.component?s.children:e,c=gh(t);for(const g of Object.keys(c))this.deactivateRouteAndItsChildren(c[g],a);if(s&&s.outlet){const g=s.outlet.detach(),v=s.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:g,route:t,contexts:v})}}deactivateRouteAndOutlet(t,e){const s=e.getContext(t.value.outlet),a=s&&t.value.component?s.children:e,c=gh(t);for(const g of Object.keys(c))this.deactivateRouteAndItsChildren(c[g],a);s&&s.outlet&&(s.outlet.deactivate(),s.children.onOutletDeactivated(),s.attachRef=null,s.resolver=null,s.route=null)}activateChildRoutes(t,e,s){const a=gh(e);t.children.forEach(c=>{this.activateRoutes(c,a[c.value.outlet],s),this.forwardEvent(new E_(c.value.snapshot))}),t.children.length&&this.forwardEvent(new ow(t.value.snapshot))}activateRoutes(t,e,s){const a=t.value,c=e?e.value:null;if(Np(a),a===c)if(a.component){const g=s.getOrCreateContext(a.outlet);this.activateChildRoutes(t,e,g.children)}else this.activateChildRoutes(t,e,s);else if(a.component){const g=s.getOrCreateContext(a.outlet);if(this.routeReuseStrategy.shouldAttach(a.snapshot)){const v=this.routeReuseStrategy.retrieve(a.snapshot);this.routeReuseStrategy.store(a.snapshot,null),g.children.onOutletReAttached(v.contexts),g.attachRef=v.componentRef,g.route=v.route.value,g.outlet&&g.outlet.attach(v.componentRef,v.route.value),Np(v.route.value),this.activateChildRoutes(t,null,g.children)}else{const v=function ZD(n){for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(a.snapshot),w=v?v.module.componentFactoryResolver:null;g.attachRef=null,g.route=a,g.resolver=w,g.outlet&&g.outlet.activateWith(a,w),this.activateChildRoutes(t,null,g.children)}}else this.activateChildRoutes(t,null,s)}}class SE{constructor(t,e){this.routes=t,this.module=e}}function Ka(n){return"function"==typeof n}function Mc(n){return n instanceof zl}const o=Symbol("INITIAL_VALUE");function l(){return Ur(n=>function FD(...n){const t=(0,Ci.yG)(n),e=(0,Ci.jO)(n),{args:s,keys:a}=Gc(n);if(0===s.length)return(0,Hn.D)([],t);const c=new Jt.y(function LD(n,t,e=Oa.y){return s=>{dh(t,()=>{const{length:a}=n,c=new Array(a);let g=a,v=a;for(let w=0;w<a;w++)dh(t,()=>{const S=(0,Hn.D)(n[w],t);let H=!1;S.subscribe(new $n.Q(s,L=>{c[w]=L,H||(H=!0,v--),v||s.next(e(c.slice()))},()=>{--g||s.complete()}))},s)},s)}}(s,t,a?g=>Gs(a,g):Oa.y));return e?c.pipe(au(e)):c}(n.map(t=>t.pipe((0,np.q)(1),function sE(...n){const t=(0,Ci.yG)(n);return(0,Tr.e)((e,s)=>{(t?za(n,e,t):za(n,e)).subscribe(s)})}(o)))).pipe(md((t,e)=>{let s=!1;return e.reduce((a,c,g)=>a!==o?a:(c===o&&(s=!0),s||!1!==c&&g!==e.length-1&&!Mc(c)?a:c),t)},o),wi(t=>t!==o),(0,pt.U)(t=>Mc(t)?t:!0===t),(0,np.q)(1)))}class u{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new f,this.attachRef=null}}class f{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const s=this.getOrCreateContext(t);s.outlet=e,this.contexts.set(t,s)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new u,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}let _=(()=>{class n{constructor(e,s,a,c,g){this.parentContexts=e,this.location=s,this.resolver=a,this.changeDetector=g,this.activated=null,this._activatedRoute=null,this.activateEvents=new d.vpe,this.deactivateEvents=new d.vpe,this.attachEvents=new d.vpe,this.detachEvents=new d.vpe,this.name=c||Ot,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,s){this.activated=e,this._activatedRoute=s,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,s){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const g=(s=s||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),v=this.parentContexts.getOrCreateContext(this.name).children,w=new C(e,v,this.location.injector);this.activated=this.location.createComponent(g,this.location.length,w),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(f),d.Y36(d.s_b),d.Y36(d._Vd),d.$8M("name"),d.Y36(d.sBO))},n.\u0275dir=d.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class C{constructor(t,e,s){this.route=t,this.childContexts=e,this.parent=s}get(t,e){return t===mh?this.route:t===f?this.childContexts:this.parent.get(t,e)}}let E=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,s){1&e&&d._UZ(0,"router-outlet")},directives:[_],encapsulation:2}),n})();function I(n,t=""){for(let e=0;e<n.length;e++){const s=n[e];A(s,N(t,s))}}function A(n,t){n.children&&I(n.children,t)}function N(n,t){return t?n||t.path?n&&!t.path?`${n}/`:!n&&t.path?t.path:`${n}/${t.path}`:"":n}function $(n){const t=n.children&&n.children.map($),e=t?Object.assign(Object.assign({},n),{children:t}):Object.assign({},n);return!e.component&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Ot&&(e.component=E),e}function Y(n){return n.outlet||Ot}function ge(n,t){const e=n.filter(s=>Y(s)===t);return e.push(...n.filter(s=>Y(s)!==t)),e}const xe={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Le(n,t,e){var s;if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?Object.assign({},xe):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const c=(t.matcher||I_)(e,n,t);if(!c)return Object.assign({},xe);const g={};Mr(c.posParams,(w,S)=>{g[S]=w.path});const v=c.consumed.length>0?Object.assign(Object.assign({},g),c.consumed[c.consumed.length-1].parameters):g;return{matched:!0,consumedSegments:c.consumed,lastChild:c.consumed.length,parameters:v,positionalParamSegments:null!==(s=c.posParams)&&void 0!==s?s:{}}}function Ze(n,t,e,s,a="corrected"){if(e.length>0&&function Lt(n,t,e){return e.some(s=>$r(n,t,s)&&Y(s)!==Ot)}(n,e,s)){const g=new Ft(t,function ut(n,t,e,s){const a={};a[Ot]=s,s._sourceSegment=n,s._segmentIndexShift=t.length;for(const c of e)if(""===c.path&&Y(c)!==Ot){const g=new Ft([],{});g._sourceSegment=n,g._segmentIndexShift=t.length,a[Y(c)]=g}return a}(n,t,s,new Ft(e,n.children)));return g._sourceSegment=n,g._segmentIndexShift=t.length,{segmentGroup:g,slicedSegments:[]}}if(0===e.length&&function un(n,t,e){return e.some(s=>$r(n,t,s))}(n,e,s)){const g=new Ft(n.segments,function Ce(n,t,e,s,a,c){const g={};for(const v of s)if($r(n,e,v)&&!a[Y(v)]){const w=new Ft([],{});w._sourceSegment=n,w._segmentIndexShift="legacy"===c?n.segments.length:t.length,g[Y(v)]=w}return Object.assign(Object.assign({},a),g)}(n,t,e,s,n.children,a));return g._sourceSegment=n,g._segmentIndexShift=t.length,{segmentGroup:g,slicedSegments:e}}const c=new Ft(n.segments,n.children);return c._sourceSegment=n,c._segmentIndexShift=t.length,{segmentGroup:c,slicedSegments:e}}function $r(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function Ya(n,t,e,s){return!!(Y(n)===s||s!==Ot&&$r(t,e,n))&&("**"===n.path||Le(t,n,e).matched)}function Vp(n,t,e){return 0===t.length&&!n.children[e]}class ql{constructor(t){this.segmentGroup=t||null}}class Up{constructor(t){this.urlTree=t}}function Rc(n){return new Jt.y(t=>t.error(new ql(n)))}function Bp(n){return new Jt.y(t=>t.error(new Up(n)))}function U_(n){return new Jt.y(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class H_{constructor(t,e,s,a,c){this.configLoader=e,this.urlSerializer=s,this.urlTree=a,this.config=c,this.allowRedirects=!0,this.ngModule=t.get(d.h0i)}apply(){const t=Ze(this.urlTree.root,[],[],this.config).segmentGroup,e=new Ft(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,Ot).pipe((0,pt.U)(c=>this.createUrlTree(Rw(c),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Qo(c=>{if(c instanceof Up)return this.allowRedirects=!1,this.match(c.urlTree);throw c instanceof ql?this.noMatchError(c):c}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,Ot).pipe((0,pt.U)(a=>this.createUrlTree(Rw(a),t.queryParams,t.fragment))).pipe(Qo(a=>{throw a instanceof ql?this.noMatchError(a):a}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,s){const a=t.segments.length>0?new Ft([],{[Ot]:t}):t;return new zl(a,e,s)}expandSegmentGroup(t,e,s,a){return 0===s.segments.length&&s.hasChildren()?this.expandChildren(t,e,s).pipe((0,pt.U)(c=>new Ft([],c))):this.expandSegment(t,s,e,s.segments,a,!0)}expandChildren(t,e,s){const a=[];for(const c of Object.keys(s.children))"primary"===c?a.unshift(c):a.push(c);return(0,Hn.D)(a).pipe(Lo(c=>{const g=s.children[c],v=ge(e,c);return this.expandSegmentGroup(t,v,g,c).pipe((0,pt.U)(w=>({segment:w,outlet:c})))}),md((c,g)=>(c[g.outlet]=g.segment,c),{}),function aE(n,t){const e=arguments.length>=2;return s=>s.pipe(n?wi((a,c)=>n(a,c,s)):Oa.y,oE(1),e?vC(t):CC(()=>new tp))}())}expandSegment(t,e,s,a,c,g){return(0,Hn.D)(s).pipe(Lo(v=>this.expandSegmentAgainstRoute(t,e,s,v,a,c,g).pipe(Qo(S=>{if(S instanceof ql)return Ke(null);throw S}))),Ko(v=>!!v),Qo((v,w)=>{if(v instanceof tp||"EmptyError"===v.name){if(Vp(e,a,c))return Ke(new Ft([],{}));throw new ql(e)}throw v}))}expandSegmentAgainstRoute(t,e,s,a,c,g,v){return Ya(a,e,c,g)?void 0===a.redirectTo?this.matchSegmentAgainstRoute(t,e,a,c,g):v&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,s,a,c,g):Rc(e):Rc(e)}expandSegmentAgainstRouteUsingRedirect(t,e,s,a,c,g){return"**"===a.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,s,a,g):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,s,a,c,g)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,s,a){const c=this.applyRedirectCommands([],s.redirectTo,{});return s.redirectTo.startsWith("/")?Bp(c):this.lineralizeSegments(s,c).pipe((0,Wn.z)(g=>{const v=new Ft(g,{});return this.expandSegment(t,v,e,g,a,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,s,a,c,g){const{matched:v,consumedSegments:w,lastChild:S,positionalParamSegments:H}=Le(e,a,c);if(!v)return Rc(e);const L=this.applyRedirectCommands(w,a.redirectTo,H);return a.redirectTo.startsWith("/")?Bp(L):this.lineralizeSegments(a,L).pipe((0,Wn.z)(Q=>this.expandSegment(t,e,s,Q.concat(c.slice(S)),g,!1)))}matchSegmentAgainstRoute(t,e,s,a,c){if("**"===s.path)return s.loadChildren?(s._loadedConfig?Ke(s._loadedConfig):this.configLoader.load(t.injector,s)).pipe((0,pt.U)(Q=>(s._loadedConfig=Q,new Ft(a,{})))):Ke(new Ft(a,{}));const{matched:g,consumedSegments:v,lastChild:w}=Le(e,s,a);if(!g)return Rc(e);const S=a.slice(w);return this.getChildConfig(t,s,a).pipe((0,Wn.z)(L=>{const Q=L.module,ne=L.routes,{segmentGroup:Te,slicedSegments:at}=Ze(e,v,S,ne),vt=new Ft(Te.segments,Te.children);if(0===at.length&&vt.hasChildren())return this.expandChildren(Q,ne,vt).pipe((0,pt.U)(nn=>new Ft(v,nn)));if(0===ne.length&&0===at.length)return Ke(new Ft(v,{}));const xt=Y(s)===c;return this.expandSegment(Q,vt,ne,at,xt?Ot:c,!0).pipe((0,pt.U)(Gn=>new Ft(v.concat(Gn.segments),Gn.children)))}))}getChildConfig(t,e,s){return e.children?Ke(new SE(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Ke(e._loadedConfig):this.runCanLoadGuards(t.injector,e,s).pipe((0,Wn.z)(a=>a?this.configLoader.load(t.injector,e).pipe((0,pt.U)(c=>(e._loadedConfig=c,c))):function B_(n){return new Jt.y(t=>t.error(D_(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`)))}(e))):Ke(new SE([],t))}runCanLoadGuards(t,e,s){const a=e.canLoad;return a&&0!==a.length?Ke(a.map(g=>{const v=t.get(g);let w;if(function KD(n){return n&&Ka(n.canLoad)}(v))w=v.canLoad(e,s);else{if(!Ka(v))throw new Error("Invalid CanLoad guard");w=v(e,s)}return Is(w)})).pipe(l(),(0,Hr.b)(g=>{if(!Mc(g))return;const v=D_(`Redirecting to "${this.urlSerializer.serialize(g)}"`);throw v.url=g,v}),(0,pt.U)(g=>!0===g)):Ke(!0)}lineralizeSegments(t,e){let s=[],a=e.root;for(;;){if(s=s.concat(a.segments),0===a.numberOfChildren)return Ke(s);if(a.numberOfChildren>1||!a.children[Ot])return U_(t.redirectTo);a=a.children[Ot]}}applyRedirectCommands(t,e,s){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,s)}applyRedirectCreatreUrlTree(t,e,s,a){const c=this.createSegmentGroup(t,e.root,s,a);return new zl(c,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const s={};return Mr(t,(a,c)=>{if("string"==typeof a&&a.startsWith(":")){const v=a.substring(1);s[c]=e[v]}else s[c]=a}),s}createSegmentGroup(t,e,s,a){const c=this.createSegments(t,e.segments,s,a);let g={};return Mr(e.children,(v,w)=>{g[w]=this.createSegmentGroup(t,v,s,a)}),new Ft(c,g)}createSegments(t,e,s,a){return e.map(c=>c.path.startsWith(":")?this.findPosParam(t,c,a):this.findOrReturn(c,s))}findPosParam(t,e,s){const a=s[e.path.substring(1)];if(!a)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return a}findOrReturn(t,e){let s=0;for(const a of e){if(a.path===t.path)return e.splice(s),a;s++}return t}}function Rw(n){const t={};for(const s of Object.keys(n.children)){const c=Rw(n.children[s]);(c.segments.length>0||c.hasChildren())&&(t[s]=c)}return function CI(n){if(1===n.numberOfChildren&&n.children[Ot]){const t=n.children[Ot];return new Ft(n.segments.concat(t.segments),t.children)}return n}(new Ft(n.segments,t))}class QD{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class ME{constructor(t,e){this.component=t,this.route=e}}function bI(n,t,e){const s=n._root;return $_(s,t?t._root:null,e,[s.value])}function RE(n,t,e){const s=function DI(n){if(!n)return null;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(s?s.module.injector:e).get(n)}function $_(n,t,e,s,a={canDeactivateChecks:[],canActivateChecks:[]}){const c=gh(t);return n.children.forEach(g=>{(function II(n,t,e,s,a={canDeactivateChecks:[],canActivateChecks:[]}){const c=n.value,g=t?t.value:null,v=e?e.getContext(n.value.outlet):null;if(g&&c.routeConfig===g.routeConfig){const w=function TI(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!Zl(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Zl(n.url,t.url)||!co(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!kp(n,t)||!co(n.queryParams,t.queryParams);default:return!kp(n,t)}}(g,c,c.routeConfig.runGuardsAndResolvers);w?a.canActivateChecks.push(new QD(s)):(c.data=g.data,c._resolvedData=g._resolvedData),$_(n,t,c.component?v?v.children:null:e,s,a),w&&v&&v.outlet&&v.outlet.isActivated&&a.canDeactivateChecks.push(new ME(v.outlet.component,g))}else g&&W_(t,v,a),a.canActivateChecks.push(new QD(s)),$_(n,null,c.component?v?v.children:null:e,s,a)})(g,c[g.value.outlet],e,s.concat([g.value]),a),delete c[g.value.outlet]}),Mr(c,(g,v)=>W_(g,e.getContext(v),a)),a}function W_(n,t,e){const s=gh(n),a=n.value;Mr(s,(c,g)=>{W_(c,a.component?t?t.children.getContext(g):null:t,e)}),e.canDeactivateChecks.push(new ME(a.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,a))}class kI{}function JD(n){return new Jt.y(t=>t.error(n))}class LI{constructor(t,e,s,a,c,g){this.rootComponentType=t,this.config=e,this.urlTree=s,this.url=a,this.paramsInheritanceStrategy=c,this.relativeLinkResolution=g}recognize(){const t=Ze(this.urlTree.root,[],[],this.config.filter(g=>void 0===g.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Ot);if(null===e)return null;const s=new xp([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Ot,this.rootComponentType,null,this.urlTree.root,-1,{}),a=new qa(s,e),c=new CE(this.url,a);return this.inheritParamsAndData(c._root),c}inheritParamsAndData(t){const e=t.value,s=bw(e,this.paramsInheritanceStrategy);e.params=Object.freeze(s.params),e.data=Object.freeze(s.data),t.children.forEach(a=>this.inheritParamsAndData(a))}processSegmentGroup(t,e,s){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,s)}processChildren(t,e){const s=[];for(const c of Object.keys(e.children)){const g=e.children[c],v=ge(t,c),w=this.processSegmentGroup(v,g,c);if(null===w)return null;s.push(...w)}const a=XD(s);return function VI(n){n.sort((t,e)=>t.value.outlet===Ot?-1:e.value.outlet===Ot?1:t.value.outlet.localeCompare(e.value.outlet))}(a),a}processSegment(t,e,s,a){for(const c of t){const g=this.processSegmentAgainstRoute(c,e,s,a);if(null!==g)return g}return Vp(e,s,a)?[]:null}processSegmentAgainstRoute(t,e,s,a){if(t.redirectTo||!Ya(t,e,s,a))return null;let c,g=[],v=[];if("**"===t.path){const ne=s.length>0?T_(s).parameters:{};c=new xp(s,ne,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,nI(t),Y(t),t.component,t,eI(e),tI(e)+s.length,rI(t))}else{const ne=Le(e,t,s);if(!ne.matched)return null;g=ne.consumedSegments,v=s.slice(ne.lastChild),c=new xp(g,ne.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,nI(t),Y(t),t.component,t,eI(e),tI(e)+g.length,rI(t))}const w=function UI(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(t),{segmentGroup:S,slicedSegments:H}=Ze(e,g,v,w.filter(ne=>void 0===ne.redirectTo),this.relativeLinkResolution);if(0===H.length&&S.hasChildren()){const ne=this.processChildren(w,S);return null===ne?null:[new qa(c,ne)]}if(0===w.length&&0===H.length)return[new qa(c,[])];const L=Y(t)===a,Q=this.processSegment(w,S,H,L?Ot:a);return null===Q?null:[new qa(c,Q)]}}function BI(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function XD(n){const t=[],e=new Set;for(const s of n){if(!BI(s)){t.push(s);continue}const a=t.find(c=>s.value.routeConfig===c.value.routeConfig);void 0!==a?(a.children.push(...s.children),e.add(a)):t.push(s)}for(const s of e){const a=XD(s.children);t.push(new qa(s.value,a))}return t.filter(s=>!e.has(s))}function eI(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function tI(n){let t=n,e=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift?t._segmentIndexShift:0;return e-1}function nI(n){return n.data||{}}function rI(n){return n.resolve||{}}function Pw(n){return Ur(t=>{const e=n(t);return e?(0,Hn.D)(e).pipe((0,pt.U)(()=>t)):Ke(t)})}class qI extends class ZI{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Ow=new d.OlP("ROUTES");class iI{constructor(t,e,s,a){this.injector=t,this.compiler=e,this.onLoadStartListener=s,this.onLoadEndListener=a}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const a=this.loadModuleFactory(e.loadChildren).pipe((0,pt.U)(c=>{this.onLoadEndListener&&this.onLoadEndListener(e);const g=c.create(t);return new SE(hE(g.injector.get(Ow,void 0,d.XFs.Self|d.XFs.Optional)).map($),g)}),Qo(c=>{throw e._loader$=void 0,c}));return e._loader$=new iE(a,()=>new Wa.x).pipe(Tp()),e._loader$}loadModuleFactory(t){return Is(t()).pipe((0,Wn.z)(e=>e instanceof d.YKP?Ke(e):(0,Hn.D)(this.compiler.compileModuleAsync(e))))}}class YI{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function QI(n){throw n}function JI(n,t,e){return t.parse("/")}function sI(n,t){return Ke(null)}const XI={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},eT={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Zi=(()=>{class n{constructor(e,s,a,c,g,v,w){this.rootComponentType=e,this.urlSerializer=s,this.rootContexts=a,this.location=c,this.config=w,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Wa.x,this.errorHandler=QI,this.malformedUriErrorHandler=JI,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:sI,afterPreactivation:sI},this.urlHandlingStrategy=new YI,this.routeReuseStrategy=new qI,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=g.get(d.h0i),this.console=g.get(d.c2e);const L=g.get(d.R0b);this.isNgZoneEnabled=L instanceof d.R0b&&d.R0b.isInAngularZone(),this.resetConfig(w),this.currentUrlTree=function dw(){return new zl(new Ft([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new iI(g,v,Q=>this.triggerEvent(new _i(Q)),Q=>this.triggerEvent(new dE(Q))),this.routerState=Ew(this.currentUrlTree,this.rootComponentType),this.transitions=new uo({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const s=this.events;return e.pipe(wi(a=>0!==a.id),(0,pt.U)(a=>Object.assign(Object.assign({},a),{extractedUrl:this.urlHandlingStrategy.extract(a.rawUrl)})),Ur(a=>{let c=!1,g=!1;return Ke(a).pipe((0,Hr.b)(v=>{this.currentNavigation={id:v.id,initialUrl:v.currentRawUrl,extractedUrl:v.extractedUrl,trigger:v.source,extras:v.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Ur(v=>{const w=this.browserUrlTree.toString(),S=!this.navigated||v.extractedUrl.toString()!==w||w!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||S)&&this.urlHandlingStrategy.shouldProcessUrl(v.rawUrl))return PE(v.source)&&(this.browserUrlTree=v.extractedUrl),Ke(v).pipe(Ur(L=>{const Q=this.transitions.getValue();return s.next(new uE(L.id,this.serializeUrl(L.extractedUrl),L.source,L.restoredState)),Q!==this.transitions.getValue()?Dc.E:Promise.resolve(L)}),function EI(n,t,e,s){return Ur(a=>function j_(n,t,e,s,a){return new H_(n,t,e,s,a).apply()}(n,t,e,a.extractedUrl,s).pipe((0,pt.U)(c=>Object.assign(Object.assign({},a),{urlAfterRedirects:c}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Hr.b)(L=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:L.urlAfterRedirects})}),function jI(n,t,e,s,a){return(0,Wn.z)(c=>function FI(n,t,e,s,a="emptyOnly",c="legacy"){try{const g=new LI(n,t,e,s,a,c).recognize();return null===g?JD(new kI):Ke(g)}catch(g){return JD(g)}}(n,t,c.urlAfterRedirects,e(c.urlAfterRedirects),s,a).pipe((0,pt.U)(g=>Object.assign(Object.assign({},c),{targetSnapshot:g}))))}(this.rootComponentType,this.config,L=>this.serializeUrl(L),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Hr.b)(L=>{if("eager"===this.urlUpdateStrategy){if(!L.extras.skipLocationChange){const ne=this.urlHandlingStrategy.merge(L.urlAfterRedirects,L.rawUrl);this.setBrowserUrl(ne,L)}this.browserUrlTree=L.urlAfterRedirects}const Q=new rw(L.id,this.serializeUrl(L.extractedUrl),this.serializeUrl(L.urlAfterRedirects),L.targetSnapshot);s.next(Q)}));if(S&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Q,extractedUrl:ne,source:Te,restoredState:at,extras:vt}=v,xt=new uE(Q,this.serializeUrl(ne),Te,at);s.next(xt);const Dn=Ew(ne,this.rootComponentType).snapshot;return Ke(Object.assign(Object.assign({},v),{targetSnapshot:Dn,urlAfterRedirects:ne,extras:Object.assign(Object.assign({},vt),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=v.rawUrl,v.resolve(null),Dc.E}),Pw(v=>{const{targetSnapshot:w,id:S,extractedUrl:H,rawUrl:L,extras:{skipLocationChange:Q,replaceUrl:ne}}=v;return this.hooks.beforePreactivation(w,{navigationId:S,appliedUrlTree:H,rawUrlTree:L,skipLocationChange:!!Q,replaceUrl:!!ne})}),(0,Hr.b)(v=>{const w=new VD(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot);this.triggerEvent(w)}),(0,pt.U)(v=>Object.assign(Object.assign({},v),{guards:bI(v.targetSnapshot,v.currentSnapshot,this.rootContexts)})),function AI(n,t){return(0,Wn.z)(e=>{const{targetSnapshot:s,currentSnapshot:a,guards:{canActivateChecks:c,canDeactivateChecks:g}}=e;return 0===g.length&&0===c.length?Ke(Object.assign(Object.assign({},e),{guardsResult:!0})):function SI(n,t,e,s){return(0,Hn.D)(n).pipe((0,Wn.z)(a=>function NI(n,t,e,s,a){const c=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return c&&0!==c.length?Ke(c.map(v=>{const w=RE(v,t,a);let S;if(function i(n){return n&&Ka(n.canDeactivate)}(w))S=Is(w.canDeactivate(n,t,e,s));else{if(!Ka(w))throw new Error("Invalid CanDeactivate guard");S=Is(w(n,t,e,s))}return S.pipe(Ko())})).pipe(l()):Ke(!0)}(a.component,a.route,e,t,s)),Ko(a=>!0!==a,!0))}(g,s,a,n).pipe((0,Wn.z)(v=>v&&function qD(n){return"boolean"==typeof n}(v)?function MI(n,t,e,s){return(0,Hn.D)(t).pipe(Lo(a=>za(function PI(n,t){return null!==n&&t&&t(new C_(n)),Ke(!0)}(a.route.parent,s),function RI(n,t){return null!==n&&t&&t(new aw(n)),Ke(!0)}(a.route,s),function xI(n,t,e){const s=t[t.length-1],c=t.slice(0,t.length-1).reverse().map(g=>function wI(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(g)).filter(g=>null!==g).map(g=>__(()=>Ke(g.guards.map(w=>{const S=RE(w,g.node,e);let H;if(function r(n){return n&&Ka(n.canActivateChild)}(S))H=Is(S.canActivateChild(s,n));else{if(!Ka(S))throw new Error("Invalid CanActivateChild guard");H=Is(S(s,n))}return H.pipe(Ko())})).pipe(l())));return Ke(c).pipe(l())}(n,a.path,e),function OI(n,t,e){const s=t.routeConfig?t.routeConfig.canActivate:null;if(!s||0===s.length)return Ke(!0);const a=s.map(c=>__(()=>{const g=RE(c,t,e);let v;if(function YD(n){return n&&Ka(n.canActivate)}(g))v=Is(g.canActivate(t,n));else{if(!Ka(g))throw new Error("Invalid CanActivate guard");v=Is(g(t,n))}return v.pipe(Ko())}));return Ke(a).pipe(l())}(n,a.route,e))),Ko(a=>!0!==a,!0))}(s,c,n,t):Ke(v)),(0,pt.U)(v=>Object.assign(Object.assign({},e),{guardsResult:v})))})}(this.ngModule.injector,v=>this.triggerEvent(v)),(0,Hr.b)(v=>{if(Mc(v.guardsResult)){const S=D_(`Redirecting to "${this.serializeUrl(v.guardsResult)}"`);throw S.url=v.guardsResult,S}const w=new iw(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot,!!v.guardsResult);this.triggerEvent(w)}),wi(v=>!!v.guardsResult||(this.restoreHistory(v),this.cancelNavigationTransition(v,""),!1)),Pw(v=>{if(v.guards.canActivateChecks.length)return Ke(v).pipe((0,Hr.b)(w=>{const S=new v_(w.id,this.serializeUrl(w.extractedUrl),this.serializeUrl(w.urlAfterRedirects),w.targetSnapshot);this.triggerEvent(S)}),Ur(w=>{let S=!1;return Ke(w).pipe(function HI(n,t){return(0,Wn.z)(e=>{const{targetSnapshot:s,guards:{canActivateChecks:a}}=e;if(!a.length)return Ke(e);let c=0;return(0,Hn.D)(a).pipe(Lo(g=>function $I(n,t,e,s){return function WI(n,t,e,s){const a=Object.keys(n);if(0===a.length)return Ke({});const c={};return(0,Hn.D)(a).pipe((0,Wn.z)(g=>function GI(n,t,e,s){const a=RE(n,t,s);return Is(a.resolve?a.resolve(t,e):a(t,e))}(n[g],t,e,s).pipe((0,Hr.b)(v=>{c[g]=v}))),oE(1),(0,Wn.z)(()=>Object.keys(c).length===a.length?Ke(c):Dc.E))}(n._resolve,n,t,s).pipe((0,pt.U)(c=>(n._resolvedData=c,n.data=Object.assign(Object.assign({},n.data),bw(n,e).resolve),null)))}(g.route,s,n,t)),(0,Hr.b)(()=>c++),oE(1),(0,Wn.z)(g=>c===a.length?Ke(e):Dc.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Hr.b)({next:()=>S=!0,complete:()=>{S||(this.restoreHistory(w),this.cancelNavigationTransition(w,"At least one route resolver didn't emit any value."))}}))}),(0,Hr.b)(w=>{const S=new sw(w.id,this.serializeUrl(w.extractedUrl),this.serializeUrl(w.urlAfterRedirects),w.targetSnapshot);this.triggerEvent(S)}))}),Pw(v=>{const{targetSnapshot:w,id:S,extractedUrl:H,rawUrl:L,extras:{skipLocationChange:Q,replaceUrl:ne}}=v;return this.hooks.afterPreactivation(w,{navigationId:S,appliedUrlTree:H,rawUrlTree:L,skipLocationChange:!!Q,replaceUrl:!!ne})}),(0,pt.U)(v=>{const w=function bE(n,t,e){const s=_h(n,t._root,e?e._root:void 0);return new Cw(s,t)}(this.routeReuseStrategy,v.targetSnapshot,v.currentRouterState);return Object.assign(Object.assign({},v),{targetRouterState:w})}),(0,Hr.b)(v=>{this.currentUrlTree=v.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(v.urlAfterRedirects,v.rawUrl),this.routerState=v.targetRouterState,"deferred"===this.urlUpdateStrategy&&(v.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,v),this.browserUrlTree=v.urlAfterRedirects)}),((n,t,e)=>(0,pt.U)(s=>(new zD(t,s.targetRouterState,s.currentRouterState,e).activate(n),s)))(this.rootContexts,this.routeReuseStrategy,v=>this.triggerEvent(v)),(0,Hr.b)({next(){c=!0},complete(){c=!0}}),function lE(n){return(0,Tr.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}(()=>{var v;c||g||this.cancelNavigationTransition(a,`Navigation ID ${a.id} is not equal to the current navigation id ${this.navigationId}`),(null===(v=this.currentNavigation)||void 0===v?void 0:v.id)===a.id&&(this.currentNavigation=null)}),Qo(v=>{if(g=!0,function uw(n){return n&&n[w_]}(v)){const w=Mc(v.url);w||(this.navigated=!0,this.restoreHistory(a,!0));const S=new cE(a.id,this.serializeUrl(a.extractedUrl),v.message);s.next(S),w?setTimeout(()=>{const H=this.urlHandlingStrategy.merge(v.url,this.rawUrlTree),L={skipLocationChange:a.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||PE(a.source)};this.scheduleNavigation(H,"imperative",null,L,{resolve:a.resolve,reject:a.reject,promise:a.promise})},0):a.resolve(!1)}else{this.restoreHistory(a,!0);const w=new y_(a.id,this.serializeUrl(a.extractedUrl),v);s.next(w);try{a.resolve(this.errorHandler(v))}catch(S){a.reject(S)}}return Dc.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const s="popstate"===e.type?"popstate":"hashchange";"popstate"===s&&setTimeout(()=>{var a;const c={replaceUrl:!0},g=(null===(a=e.state)||void 0===a?void 0:a.navigationId)?e.state:null;if(g){const w=Object.assign({},g);delete w.navigationId,delete w.\u0275routerPageId,0!==Object.keys(w).length&&(c.state=w)}const v=this.parseUrl(e.url);this.scheduleNavigation(v,s,g,c)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){I(e),this.config=e.map($),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,s={}){const{relativeTo:a,queryParams:c,fragment:g,queryParamsHandling:v,preserveFragment:w}=s,S=a||this.routerState.root,H=w?this.currentUrlTree.fragment:g;let L=null;switch(v){case"merge":L=Object.assign(Object.assign({},this.currentUrlTree.queryParams),c);break;case"preserve":L=this.currentUrlTree.queryParams;break;default:L=c||null}return null!==L&&(L=this.removeEmptyProps(L)),function Fp(n,t,e,s,a){if(0===e.length)return Sc(t.root,t.root,t,s,a);const c=function Dw(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new IE(!0,0,n);let t=0,e=!1;const s=n.reduce((a,c,g)=>{if("object"==typeof c&&null!=c){if(c.outlets){const v={};return Mr(c.outlets,(w,S)=>{v[S]="string"==typeof w?w.split("/"):w}),[...a,{outlets:v}]}if(c.segmentPath)return[...a,c.segmentPath]}return"string"!=typeof c?[...a,c]:0===g?(c.split("/").forEach((v,w)=>{0==w&&"."===v||(0==w&&""===v?e=!0:".."===v?t++:""!=v&&a.push(v))}),a):[...a,c]},[]);return new IE(e,t,s)}(e);if(c.toRoot())return Sc(t.root,new Ft([],{}),t,s,a);const g=function WD(n,t,e){if(n.isAbsolute)return new L_(t.root,!0,0);if(-1===e.snapshot._lastPathIndex){const c=e.snapshot._urlSegment;return new L_(c,c===t.root,0)}const s=F_(n.commands[0])?0:1;return function Iw(n,t,e){let s=n,a=t,c=e;for(;c>a;){if(c-=a,s=s.parent,!s)throw new Error("Invalid number of '../'");a=s.segments.length}return new L_(s,!1,a-c)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+s,n.numberOfDoubleDots)}(c,t,n),v=g.processChildren?Lp(g.segmentGroup,g.index,c.commands):TE(g.segmentGroup,g.index,c.commands);return Sc(g.segmentGroup,v,t,s,a)}(S,this.currentUrlTree,e,L,null!=H?H:null)}navigateByUrl(e,s={skipLocationChange:!1}){const a=Mc(e)?e:this.parseUrl(e),c=this.urlHandlingStrategy.merge(a,this.rawUrlTree);return this.scheduleNavigation(c,"imperative",null,s)}navigate(e,s={skipLocationChange:!1}){return function tT(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,s),s)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let s;try{s=this.urlSerializer.parse(e)}catch(a){s=this.malformedUriErrorHandler(a,this.urlSerializer,e)}return s}isActive(e,s){let a;if(a=!0===s?Object.assign({},XI):!1===s?Object.assign({},eT):s,Mc(e))return S_(this.currentUrlTree,e,a);const c=this.parseUrl(e);return S_(this.currentUrlTree,c,a)}removeEmptyProps(e){return Object.keys(e).reduce((s,a)=>{const c=e[a];return null!=c&&(s[a]=c),s},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new Ap(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,s,a,c,g){var v,w,S;if(this.disposed)return Promise.resolve(!1);const H=this.transitions.value,L=PE(s)&&H&&!PE(H.source),Q=H.rawUrl.toString()===e.toString(),ne=H.id===(null===(v=this.currentNavigation)||void 0===v?void 0:v.id);if(L&&Q&&ne)return Promise.resolve(!0);let at,vt,xt;g?(at=g.resolve,vt=g.reject,xt=g.promise):xt=new Promise((nn,qi)=>{at=nn,vt=qi});const Dn=++this.navigationId;let Gn;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(a=this.location.getState()),Gn=a&&a.\u0275routerPageId?a.\u0275routerPageId:c.replaceUrl||c.skipLocationChange?null!==(w=this.browserPageId)&&void 0!==w?w:0:(null!==(S=this.browserPageId)&&void 0!==S?S:0)+1):Gn=0,this.setTransition({id:Dn,targetPageId:Gn,source:s,restoredState:a,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:c,resolve:at,reject:vt,promise:xt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),xt.catch(nn=>Promise.reject(nn))}setBrowserUrl(e,s){const a=this.urlSerializer.serialize(e),c=Object.assign(Object.assign({},s.extras.state),this.generateNgRouterState(s.id,s.targetPageId));this.location.isCurrentPathEqualTo(a)||s.extras.replaceUrl?this.location.replaceState(a,"",c):this.location.go(a,"",c)}restoreHistory(e,s=!1){var a,c;if("computed"===this.canceledNavigationResolution){const g=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(a=this.currentNavigation)||void 0===a?void 0:a.finalUrl)||0===g?this.currentUrlTree===(null===(c=this.currentNavigation)||void 0===c?void 0:c.finalUrl)&&0===g&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(g)}else"replace"===this.canceledNavigationResolution&&(s&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,s){const a=new cE(e.id,this.serializeUrl(e.extractedUrl),s);this.triggerEvent(a),e.resolve(!1)}generateNgRouterState(e,s){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:s}:{navigationId:e}}}return n.\u0275fac=function(e){d.$Z()},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();function PE(n){return"imperative"!==n}class oI{}class aI{preload(t,e){return Ke(null)}}let lI=(()=>{class n{constructor(e,s,a,c){this.router=e,this.injector=a,this.preloadingStrategy=c,this.loader=new iI(a,s,w=>e.triggerEvent(new _i(w)),w=>e.triggerEvent(new dE(w)))}setUpPreloading(){this.subscription=this.router.events.pipe(wi(e=>e instanceof Ap),Lo(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(d.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,s){const a=[];for(const c of s)if(c.loadChildren&&!c.canLoad&&c._loadedConfig){const g=c._loadedConfig;a.push(this.processRoutes(g.module,g.routes))}else c.loadChildren&&!c.canLoad?a.push(this.preloadConfig(e,c)):c.children&&a.push(this.processRoutes(e,c.children));return(0,Hn.D)(a).pipe((0,g_.J)(),(0,pt.U)(c=>{}))}preloadConfig(e,s){return this.preloadingStrategy.preload(s,()=>(s._loadedConfig?Ke(s._loadedConfig):this.loader.load(e.injector,s)).pipe((0,Wn.z)(c=>(s._loadedConfig=c,this.processRoutes(c.module,c.routes)))))}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(Zi),d.LFG(d.Sil),d.LFG(d.zs3),d.LFG(oI))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),kw=(()=>{class n{constructor(e,s,a={}){this.router=e,this.viewportScroller=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof uE?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Ap&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof b_&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,s){this.router.triggerEvent(new b_(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,s))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){d.$Z()},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const yh=new d.OlP("ROUTER_CONFIGURATION"),uI=new d.OlP("ROUTER_FORROOT_GUARD"),sT=[ze,{provide:pw,useClass:M_},{provide:Zi,useFactory:function cT(n,t,e,s,a,c,g={},v,w){const S=new Zi(null,n,t,e,s,a,hE(c));return v&&(S.urlHandlingStrategy=v),w&&(S.routeReuseStrategy=w),function dT(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(g,S),g.enableTracing&&S.events.subscribe(H=>{var L,Q;null===(L=console.group)||void 0===L||L.call(console,`Router Event: ${H.constructor.name}`),console.log(H.toString()),console.log(H),null===(Q=console.groupEnd)||void 0===Q||Q.call(console)}),S},deps:[pw,f,ze,d.zs3,d.Sil,Ow,yh,[class KI{},new d.FiY],[class zI{},new d.FiY]]},f,{provide:mh,useFactory:function hT(n){return n.routerState.root},deps:[Zi]},lI,aI,class iT{preload(t,e){return e().pipe(Qo(()=>Ke(null)))}},{provide:yh,useValue:{enableTracing:!1}}];function oT(){return new d.PXZ("Router",Zi)}let Fw=(()=>{class n{constructor(e,s){}static forRoot(e,s){return{ngModule:n,providers:[sT,cI(e),{provide:uI,useFactory:uT,deps:[[Zi,new d.FiY,new d.tp0]]},{provide:yh,useValue:s||{}},{provide:ce,useFactory:lT,deps:[oe,[new d.tBr(Se),new d.FiY],yh]},{provide:kw,useFactory:aT,deps:[Zi,rl,yh]},{provide:oI,useExisting:s&&s.preloadingStrategy?s.preloadingStrategy:aI},{provide:d.PXZ,multi:!0,useFactory:oT},[Lw,{provide:d.ip1,multi:!0,useFactory:fT,deps:[Lw]},{provide:dI,useFactory:pT,deps:[Lw]},{provide:d.tb,multi:!0,useExisting:dI}]]}}static forChild(e){return{ngModule:n,providers:[cI(e)]}}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(uI,8),d.LFG(Zi,8))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();function aT(n,t,e){return e.scrollOffset&&t.setOffset(e.scrollOffset),new kw(n,t,e)}function lT(n,t,e={}){return e.useHash?new Ne(n,t):new Oe(n,t)}function uT(n){return"guarded"}function cI(n){return[{provide:d.deG,multi:!0,useValue:n},{provide:Ow,multi:!0,useValue:n}]}let Lw=(()=>{class n{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Wa.x}appInitializer(){return this.injector.get(W,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let s=null;const a=new Promise(v=>s=v),c=this.injector.get(Zi),g=this.injector.get(yh);return"disabled"===g.initialNavigation?(c.setUpLocationChangeListener(),s(!0)):"enabled"===g.initialNavigation||"enabledBlocking"===g.initialNavigation?(c.hooks.afterPreactivation=()=>this.initNavigation?Ke(null):(this.initNavigation=!0,s(!0),this.resultOfPreactivationDone),c.initialNavigation()):s(!0),a})}bootstrapListener(e){const s=this.injector.get(yh),a=this.injector.get(lI),c=this.injector.get(kw),g=this.injector.get(Zi),v=this.injector.get(d.z2F);e===v.components[0]&&(("enabledNonBlocking"===s.initialNavigation||void 0===s.initialNavigation)&&g.initialNavigation(),a.setUpPreloading(),c.init(),g.resetRootComponentType(v.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(d.zs3))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();function fT(n){return n.appInitializer.bind(n)}function pT(n){return n.bootstrapListener.bind(n)}const dI=new d.OlP("Router Initializer"),mT=[];let _T=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[[Fw.forRoot(mT)],Fw]}),n})(),Hp=(()=>{class n{constructor(e,s){this.http=e,this.db=s,this.dbTransactionPath="/transaction-list",this.dbCategoriesPath="/categories",this.dbBalancePath="/balance"}addTransaction(e){var s;this.transactionsRef=this.db.list(this.dbTransactionPath),null===(s=this.transactionsRef)||void 0===s||s.push(e)}getTransactions(){return this.transactionsRef=this.db.list(this.dbTransactionPath),this.transactionsRef}getCategories(){return this.transactionsRef=this.db.list(this.dbCategoriesPath),this.transactionsRef}getBalanceAmount(){return this.transactionsRef=this.db.list(this.dbBalancePath),this.transactionsRef}}return n.\u0275fac=function(e){return new(e||n)(d.LFG(ty),d.LFG(nw))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function yT(n,t){if(1&n&&(d.TgZ(0,"option",16),d._uU(1),d.qZA()),2&n){const e=t.$implicit;d.Q6J("ngValue",e),d.xp6(1),d.hij(" ",e.title," ")}}function vT(n,t){if(1&n&&(d.TgZ(0,"option",16),d._uU(1),d.qZA()),2&n){const e=t.$implicit;d.Q6J("ngValue",e),d.xp6(1),d.hij(" ",e.title," ")}}function CT(n,t){if(1&n&&(d.TgZ(0,"option",16),d._uU(1),d.qZA()),2&n){const e=t.$implicit;d.Q6J("ngValue",e),d.xp6(1),d.hij(" ",e," ")}}function ET(n,t){if(1&n&&(d.TgZ(0,"option",16),d._uU(1),d.qZA()),2&n){const e=t.$implicit;d.Q6J("ngValue",e),d.xp6(1),d.hij(" ",e," ")}}function bT(n,t){if(1&n&&(d.TgZ(0,"option",16),d._uU(1),d.qZA()),2&n){const e=t.$implicit;d.Q6J("ngValue",e),d.xp6(1),d.hij(" ",e.title," ")}}let wT=(()=>{class n{constructor(e){this.RestApiService=e,this.dataStorage=[],this.dataCategories=[],this.types=[{value:"cost",title:"consumption",id:0},{value:"income",title:"income",id:1}],this.expenses=[{value:"planned",title:"planned"},{value:"actual",title:"actual"}],this.currencies=[{value:29,title:"Dollar"},{value:30,title:"Euro"},{value:1,title:"Hryvnia"}],this.form=new Ma({type:new ji("",Vr.required),expense:new ji(this.expenses[1],Vr.required),date:new ji("",Vr.required),subCategoryName:new ji("",Vr.required),categoryName:new ji("",Vr.required),description:new ji,amount:new ji(Vr.required),currency:new ji(this.currencies[2],Vr.required)}),this.handleHide=new d.vpe}handleHideClick(){this.handleHide.emit()}ngOnInit(){this.RestApiService.getTransactions(),this.data=this.RestApiService.getCategories(),this.RestApiService.getCategories().snapshotChanges().subscribe(s=>{s.forEach(a=>{this.dataCategories.push(a.payload.toJSON())})});const e=document.querySelector("[data-date-input]");this.form.controls.expense.valueChanges.subscribe(({value:s})=>{e.type="planned"===s?"month":"date"}),this.form.controls.type.valueChanges.subscribe(({id:s})=>{!this.dataCategories||(this.categories=this.getMainCategories(this.dataCategories[s]),this.form.controls.categoryName.valueChanges.subscribe(a=>{this.subCategories=this.getSubCategories(this.dataCategories[s],a)}))})}submitForm(){this.form.valid&&this.RestApiService.addTransaction(this.form.value)}getMainCategories(e){let s=[];return Object.values(e).forEach(a=>{s.push(Object.values(a)[0])}),s.flat()}getSubCategories(e,s){return Object.values(e).forEach(a=>{a.categoryName===s&&(this.subCategories=Object.values(a.subCategories))}),this.subCategories}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(Hp))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-popup-form"]],outputs:{handleHide:"handleHide"},decls:44,vars:6,consts:[[1,"popup-container"],[1,"btn-close",3,"click"],[1,"popup__form",3,"formGroup","ngSubmit"],[1,"column-container"],[1,"form__title"],["formControlName","type",1,"form__field","form__select"],[3,"ngValue",4,"ngFor","ngForOf"],["formControlName","expense",1,"form__field","form__select"],["type","date","formControlName","date","data-date-input","",1,"form__field"],["formControlName","categoryName",1,"form__field","form__select"],["formControlName","subCategoryName",1,"form__field","form__select"],["type","text","formControlName","description",1,"form__field"],[1,"row-container"],["type","text","formControlName","amount",1,"form__field"],["formControlName","currency",1,"form__field","form__select"],[1,"btn-submit"],[3,"ngValue"]],template:function(e,s){1&e&&(d.TgZ(0,"div",0),d.TgZ(1,"button",1),d.NdJ("click",function(){return s.handleHideClick()}),d._uU(2,"X"),d.qZA(),d.TgZ(3,"form",2),d.NdJ("ngSubmit",function(){return s.submitForm()}),d.TgZ(4,"div",3),d.TgZ(5,"label",4),d._uU(6,"Type:"),d.qZA(),d.TgZ(7,"select",5),d.YNc(8,yT,2,2,"option",6),d.qZA(),d.qZA(),d.TgZ(9,"div",3),d.TgZ(10,"label",4),d._uU(11,"Actual/Planned"),d.qZA(),d.TgZ(12,"select",7),d.YNc(13,vT,2,2,"option",6),d.qZA(),d.qZA(),d.TgZ(14,"div",3),d.TgZ(15,"label",4),d._uU(16,"Date"),d.qZA(),d._UZ(17,"input",8),d.qZA(),d.TgZ(18,"div",3),d.TgZ(19,"label",4),d._uU(20,"Main category"),d.qZA(),d.TgZ(21,"select",9),d.YNc(22,CT,2,2,"option",6),d.qZA(),d.qZA(),d.TgZ(23,"div",3),d.TgZ(24,"label",4),d._uU(25,"Category"),d.qZA(),d.TgZ(26,"select",10),d.YNc(27,ET,2,2,"option",6),d.qZA(),d.qZA(),d.TgZ(28,"div",3),d.TgZ(29,"label",4),d._uU(30,"Description"),d.qZA(),d._UZ(31,"input",11),d.qZA(),d.TgZ(32,"div",12),d.TgZ(33,"div",3),d.TgZ(34,"label",4),d._uU(35,"Amount"),d.qZA(),d._UZ(36,"input",13),d.qZA(),d.TgZ(37,"div",3),d.TgZ(38,"label",4),d._uU(39,"Currency"),d.qZA(),d.TgZ(40,"select",14),d.YNc(41,bT,2,2,"option",6),d.qZA(),d.qZA(),d.qZA(),d.TgZ(42,"button",15),d._uU(43,"Submit"),d.qZA(),d.qZA(),d.qZA()),2&e&&(d.xp6(3),d.Q6J("formGroup",s.form),d.xp6(5),d.Q6J("ngForOf",s.types),d.xp6(5),d.Q6J("ngForOf",s.expenses),d.xp6(9),d.Q6J("ngForOf",s.categories),d.xp6(5),d.Q6J("ngForOf",s.subCategories),d.xp6(14),d.Q6J("ngForOf",s.currencies))},directives:[ed,pu,Iu,Ra,wa,di,On,ng,ad,ya],styles:[".popup-container[_ngcontent-%COMP%]{width:100%;min-height:100%;background-color:#d7d7d7;display:flex;justify-content:center;align-items:center}.popup__form[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:90%}.btn-close[_ngcontent-%COMP%]{position:absolute;top:0;right:0;border:none;background-color:#bc1010;padding:15px 20px;font-size:24px;font-weight:800;color:#fff}.btn-close[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.9}.column-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:15px 0}.row-container[_ngcontent-%COMP%]{display:flex;justify-content:space-around}.form__field[_ngcontent-%COMP%]{padding:7px 5px;border:none;border-radius:6px;font-size:18px}.form__field[_ngcontent-%COMP%]:focus{outline:none}.form__select[_ngcontent-%COMP%]{border:1px solid #D7D7D7;scroll-behavior:smooth}.form__title[_ngcontent-%COMP%]{font-size:20px;font-weight:400}.btn-submit[_ngcontent-%COMP%]{width:150px;align-self:center;padding:15px;margin-top:10px;border:none;border-radius:3px;background-color:#1a95e9;font-size:18px;font-weight:600;color:#fff}"]}),n})(),Vw=(()=>{class n{constructor(){this.appColors={lastUsed:0,0:"#fd7fe2",1:"#D8BAFF",2:"#7D91F6",3:"#FC9999",4:"#DEFF80",5:"#A1FFC7",6:"#FDFF9F",7:"#A8D3FB",8:"#FBD5A8",9:"#A8F6FB",next(){this.lastUsed=(this.lastUsed+1)%10}}}takeNewColor(){return this.appColors.next(),this.appColors[this.appColors.lastUsed]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Uw=(()=>{class n{customReduce(e,s,a,c){let g=[];return c?e.filter(v=>v.expense.value===a).filter(v=>v.type.value===s).filter(v=>new Date(v.date).getMonth()===c.getMonth()).reduce((v,w)=>{const S=v.findIndex(H=>H.categoryName===w.categoryName);return S>=0?(v[S].amount+=w.amount,v):(v.push(w),v)},g):e.filter(v=>v.expense.value===a).filter(v=>v.type.value===s).reduce((v,w)=>{const S=v.findIndex(H=>H.categoryName===w.categoryName);return S>=0?(v[S].amount+=w.amount,v):(v.push(w),v)},g),g}biggestCategoryAmount(e,s,a,c){const g=this.customReduce(e,s,a,c);return this.customSort(g)[0].amount}customSort(e){return e.sort((s,a)=>a.amount-s.amount)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function DT(n,t){if(1&n){const e=d.EpF();d.TgZ(0,"li",7),d.NdJ("click",function(){const c=d.CHM(e).$implicit;return d.oxw().select(c)}),d.TgZ(1,"span",8),d._uU(2),d.qZA(),d.qZA()}if(2&n){const e=t.$implicit,s=d.oxw();d.xp6(1),d.ekj("header-menu__link_active",s.selected===e.title),d.xp6(1),d.Oqu(e.title)}}let IT=(()=>{class n{constructor(e,s){this.router=e,this.element=s,this.selected="",this.status=!1,this.elements=[{title:"Main page",url:""},{title:"Costs analysis",url:"monitoring"},{title:"Category",url:""},{title:"Planned budget",url:""},{title:"Last transaction",url:"archive"},{title:"Plan/Actual report",url:""},{title:"Goals",url:""}]}toggle(){this.status=!this.status}ngOnInit(){}select(e){this.selected=e.title,this.router.navigateByUrl(e.url).then()}hideMenu(){}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(Zi),d.Y36(d.SBq))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-menu"]],decls:7,vars:2,consts:[[1,"header-navigation"],[1,"header-menu",3,"ngClass","click"],["class","header-menu__item",3,"click",4,"ngFor","ngForOf"],["type","button","data-menu-switcher-btn","1",1,"header-menu__switcher","switcher",3,"click"],["data-cross-line-1","",1,"switcher__cross-line"],["data-cross-line-2","",1,"switcher__cross-line"],["data-cross-line-3","",1,"switcher__cross-line"],[1,"header-menu__item",3,"click"],[1,"header-menu__link"]],template:function(e,s){1&e&&(d.TgZ(0,"nav",0),d.TgZ(1,"ul",1),d.NdJ("click",function(){return s.toggle()}),d.YNc(2,DT,3,3,"li",2),d.qZA(),d.TgZ(3,"button",3),d.NdJ("click",function(){return s.toggle()}),d._UZ(4,"span",4),d._UZ(5,"span",5),d._UZ(6,"span",6),d.qZA(),d.qZA()),2&e&&(d.xp6(1),d.Q6J("ngClass",s.status?"":"header-menu--hide"),d.xp6(1),d.Q6J("ngForOf",s.elements))},directives:[vi,On],styles:[".header-menu[_ngcontent-%COMP%]{position:fixed;z-index:1;top:0;left:0;width:100%;height:100%;margin:0;padding:0;box-sizing:border-box;display:flex;justify-content:center;align-items:center;flex-flow:wrap;flex-direction:column;background-color:#0a0a0ab3}.header-menu--hide[_ngcontent-%COMP%]{display:none}.header-menu__item[_ngcontent-%COMP%]{list-style:none;padding:20px;cursor:pointer}.header-menu__link[_ngcontent-%COMP%]{color:#fff;text-decoration:none;font-family:Arial,Helvetica,sans-serif;font-size:30px}.header-menu__item[_ngcontent-%COMP%]:hover   .header-menu__link[_ngcontent-%COMP%]{color:#51abff}.header-menu__switcher[_ngcontent-%COMP%]{padding:0;margin:0;height:40px;width:40px;display:flex;justify-content:space-around;align-items:center;flex-flow:column}.switcher__cross-line[_ngcontent-%COMP%]{display:inline-block;width:30px;height:5px;border-radius:2px;background-color:#2f608f}"]}),n})(),TT=(()=>{class n{constructor(e,s,a){this.choseHighlightColor=e,this.restApiService=s,this.transactionsService=a,this.transactions=[],this.data=[],this.curBalance={amount:0,currency:"UAH",dateString:""},this.color="",this.currDate=new Date}ngOnInit(){this.color=this.choseHighlightColor.takeNewColor(),this.restApiService.getBalanceAmount().snapshotChanges().subscribe(e=>{this.curBalance.amount=e[0].payload.toJSON(),this.curBalance.currency=e[1].payload.toJSON(),this.curBalance.dateString=e[2].payload.toJSON()}),this.restApiService.getTransactions().snapshotChanges().subscribe(e=>{e.forEach(c=>{this.data.push(c.payload.toJSON())});const s=this.getTotalFilteringTransactions(this.data,"income",this.curBalance),a=this.getTotalFilteringTransactions(this.data,"costs",this.curBalance);this.curBalance.amount=this.curBalance.amount+s-a})}getTotalFilteringTransactions(e,s,a){return this.transactionsService.customReduce(e,s,"actual").reduce((g,v)=>{const w=new Date(v.date);return w>=new Date(a.dateString)&&w<=this.currDate?g+=v.amount:g},0)}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(Vw),d.Y36(Hp),d.Y36(Uw))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-header"]],decls:11,vars:5,consts:[[1,"header"],[1,"balance"],[1,"balance__text"],[1,"balance__amount"],[1,"login-user"],[1,"login-user__name"]],template:function(e,s){1&e&&(d.TgZ(0,"header",0),d._UZ(1,"app-menu"),d.TgZ(2,"div",1),d.TgZ(3,"span",2),d._uU(4,"Balance:"),d.qZA(),d.TgZ(5,"span",3),d._uU(6),d.ALo(7,"currency"),d.qZA(),d.qZA(),d.TgZ(8,"div",4),d.TgZ(9,"span",5),d._uU(10,"user"),d.qZA(),d.qZA(),d.qZA()),2&e&&(d.xp6(6),d.hij(" ",d.Dn7(7,1,s.curBalance.amount,"UAH","symbol-narrow")," "))},directives:[IT],pipes:[Ss],styles:[".header[_ngcontent-%COMP%]{max-width:1024px;display:flex;justify-content:space-between;align-items:center;margin:auto;border-bottom:none;box-sizing:border-box}.balance[_ngcontent-%COMP%], .login-user[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:5px}.balance[_ngcontent-%COMP%]{width:180px;font-size:20px;font-weight:500}.login-user[_ngcontent-%COMP%]{background-color:#f2fbfa;padding:15px 10px;border-radius:50%}"]}),n})();function AT(n,t){if(1&n){const e=d.EpF();d.TgZ(0,"app-popup-form",5),d.NdJ("handleHide",function(){return d.CHM(e),d.oxw().hide()}),d.qZA()}}let ST=(()=>{class n{constructor(){this.title="my-finance-app",this.isShow=!1}show(){this.isShow=!0}hide(){this.isShow=!1}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-root"]],decls:6,vars:1,consts:[["class","popup",3,"handleHide",4,"ngIf"],[1,"btn-add",3,"click"],[1,"header"],[1,"header__bar"],[1,"main"],[1,"popup",3,"handleHide"]],template:function(e,s){1&e&&(d.YNc(0,AT,1,0,"app-popup-form",0),d.TgZ(1,"button",1),d.NdJ("click",function(){return s.show()}),d._uU(2,"+"),d.qZA(),d.TgZ(3,"header",2),d._UZ(4,"app-header",3),d.qZA(),d._UZ(5,"router-outlet",4)),2&e&&d.Q6J("ngIf",s.isShow)},directives:[xr,wT,TT,_],styles:[".header[_ngcontent-%COMP%]{position:sticky;top:0;padding:15px;margin:auto;box-sizing:border-box;background-color:#25a779}.btn-add[_ngcontent-%COMP%]{position:fixed;bottom:20px;right:20px;border:none;border-radius:50%;background-color:#1a95e9;padding:12px 17px;font-size:24px}.btn-add[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.9}.popup[_ngcontent-%COMP%]{position:absolute;z-index:1000;top:0;left:0;height:100%;width:100%}"]}),n})(),MT=(()=>{class n{constructor(){this.transitions=[]}monitoringInfo(e){return e.forEach(s=>{"actual"===s.expense.value&&this.transitions.push(s)}),console.log(this.transitions),this.transitions}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const RT=function(n){return{background:n}};let PT=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-card"]],inputs:{card:"card"},decls:11,vars:7,consts:[[1,"card",3,"ngStyle"],[1,"card__group-one"],[1,"card__money"],[1,"money__amount"],[1,"money__curency"],[1,"card__category"],[1,"card_date"]],template:function(e,s){1&e&&(d.TgZ(0,"div",0),d.TgZ(1,"div",1),d.TgZ(2,"div",2),d.TgZ(3,"div",3),d._uU(4),d.qZA(),d.TgZ(5,"div",4),d._uU(6),d.qZA(),d.qZA(),d.qZA(),d.TgZ(7,"div",5),d._uU(8),d.qZA(),d.TgZ(9,"div",6),d._uU(10),d.qZA(),d.qZA()),2&e&&(d.Q6J("ngStyle",d.VKq(5,RT,"income"===s.card.type.title?"#2ABF8B":"#FD3A30")),d.xp6(4),d.hij(" ",s.card.amount," "),d.xp6(2),d.hij(" ",s.card.currency.title," "),d.xp6(2),d.Oqu(s.card.subCategoryName),d.xp6(2),d.Oqu(s.card.date))},directives:[ta],styles:[".card[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:space-around;width:100%}.card__group-one[_ngcontent-%COMP%]{display:flex;justify-content:space-around;width:50%}.card__money[_ngcontent-%COMP%]{display:flex;justify-content:space-around;width:50%;font-weight:600}"]}),n})();function OT(n,t){1&n&&d._UZ(0,"app-card",2),2&n&&d.Q6J("card",t.$implicit)}let xT=(()=>{class n{constructor(e,s){this.RestApiService=e,this.MonitoringInfoService=s,this.data=[],this.transitions=[]}ngOnInit(){this.RestApiService.getTransactions().snapshotChanges().subscribe(e=>{e.forEach(s=>{this.data.push(s.payload.toJSON())}),this.transitions=this.MonitoringInfoService.monitoringInfo(this.data)})}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(Hp),d.Y36(MT))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-transaction-archive"]],decls:2,vars:1,consts:[[1,"transaction"],["class","transaction-card",3,"card",4,"ngFor","ngForOf"],[1,"transaction-card",3,"card"]],template:function(e,s){1&e&&(d.TgZ(0,"div",0),d.YNc(1,OT,1,1,"app-card",1),d.qZA()),2&e&&(d.xp6(1),d.Q6J("ngForOf",s.transitions))},directives:[On,PT],styles:[".transaction[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.transaction-card[_ngcontent-%COMP%]{display:flex;justify-content:center;background-color:#efefef;padding:5px 0;margin:5px 0;width:100%}@media (min-width:1200px){.transaction-card[_ngcontent-%COMP%]{max-width:50%}}"]}),n})(),NT=(()=>{class n{constructor(e){this.element=e,this.appFillAmount={name:"",value:0,total:0},this.curItemColor=""}ngOnInit(){this.highlight(this.curItemColor)}highlight(e){this.element.nativeElement.style.backgroundColor=e}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(d.SBq))},n.\u0275dir=d.lG2({type:n,selectors:[["","appFillAmount",""]],inputs:{appFillAmount:"appFillAmount",curItemColor:"curItemColor"}}),n})();const kT=function(n){return{width:n}};let FT=(()=>{class n{constructor(e){this.choseHighlightColor=e,this.frontPageItem={name:"",value:0,total:0,progress:""},this.color=""}ngOnInit(){this.color=this.choseHighlightColor.takeNewColor()}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(Vw))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-front-page-item"]],inputs:{frontPageItem:"frontPageItem"},decls:10,vars:16,consts:[[1,"progress-bar"],[1,"progress-bar__name"],[1,"progress-bar__line"],[1,"progress-bar__fill-value",3,"appFillAmount","curItemColor","ngStyle"],[1,"progress-bar__value-amount"]],template:function(e,s){1&e&&(d.TgZ(0,"span",0),d.TgZ(1,"span",1),d._uU(2),d.qZA(),d.TgZ(3,"div",2),d.TgZ(4,"span",3),d._uU(5),d.ALo(6,"currency"),d.qZA(),d.TgZ(7,"span",4),d._uU(8),d.ALo(9,"currency"),d.qZA(),d.qZA(),d.qZA()),2&e&&(d.xp6(2),d.Oqu(s.frontPageItem.name),d.xp6(2),d.s9C("curItemColor",s.color),d.Q6J("appFillAmount",s.frontPageItem)("ngStyle",d.VKq(14,kT,s.frontPageItem.progress)),d.xp6(1),d.hij(" ",d.Dn7(6,6,s.frontPageItem.value,"UAH","symbol-narrow")," "),d.xp6(3),d.hij(" ",d.Dn7(9,10,s.frontPageItem.total,"UAH","symbol-narrow")," "))},directives:[NT,ta],pipes:[Ss],styles:[".progress-bar__line[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:320px;height:20px;border:1px solid black;background-color:#fff}.progress-bar__fill-value[_ngcontent-%COMP%]{display:inline-block;height:20px;border-right:1px solid black}@media only screen and (min-width: 600px){.progress-bar__line[_ngcontent-%COMP%]{width:400px}}@media only screen and (min-width: 768px){.progress-bar__line[_ngcontent-%COMP%]{width:500px}}@media only screen and (min-width: 992px){.progress-bar__line[_ngcontent-%COMP%]{width:700px}}@media only screen and (min-width: 1200px){.progress-bar__line[_ngcontent-%COMP%]{width:800px}}"]}),n})(),LT=(()=>{class n{constructor(e){this.element=e,this.appFillCost=0,this.curItemColor="",this.curItemTotal=""}ngOnInit(){const e=this.curItemColor,s=this.curItemTotal?Math.round(Number(this.curItemTotal)/this.appFillCost*100):0;this.highlight(e),this.fillAmount(s)}highlight(e){this.element.nativeElement.style.backgroundColor=e}fillAmount(e){this.element.nativeElement.style.width=`${e}%`}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(d.SBq))},n.\u0275dir=d.lG2({type:n,selectors:[["","appFillCost",""]],inputs:{appFillCost:"appFillCost",curItemColor:"curItemColor",curItemTotal:"curItemTotal"}}),n})(),VT=(()=>{class n{constructor(e){this.choseHighlightColor=e,this.totalCostAmount=0,this.costByCategory={amount:0,categoryName:"",currency:{title:"",value:0},date:"",description:"",expense:{title:"",value:""},subCategoryName:"",type:{id:0,title:"",value:""},userId:0},this.color=""}ngOnInit(){this.color=this.choseHighlightColor.takeNewColor()}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(Vw))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-field-cost-item"]],inputs:{totalCostAmount:"totalCostAmount",costByCategory:"costByCategory"},decls:8,vars:9,consts:[[1,"progress-bar"],[1,"progress-bar__name"],[1,"progress-bar__line"],[1,"progress-bar__fill-value",3,"appFillCost","curItemColor","curItemTotal"],[1,"progress-bar__value-amount"]],template:function(e,s){1&e&&(d.TgZ(0,"span",0),d.TgZ(1,"span",1),d._uU(2),d.qZA(),d.TgZ(3,"div",2),d._UZ(4,"span",3),d.TgZ(5,"span",4),d._uU(6),d.ALo(7,"currency"),d.qZA(),d.qZA(),d.qZA()),2&e&&(d.xp6(2),d.Oqu(s.costByCategory.subCategoryName),d.xp6(2),d.s9C("curItemColor",s.color),d.s9C("curItemTotal",s.costByCategory.amount),d.Q6J("appFillCost",s.totalCostAmount),d.xp6(2),d.hij(" ",d.Dn7(7,5,s.costByCategory.amount,"UAH","symbol-narrow")," "))},directives:[LT],pipes:[Ss],styles:[".progress-bar[_ngcontent-%COMP%]{padding:0;margin:0}.progress-bar__line[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:320px;height:20px;border:1px solid black;background-color:#fff}.progress-bar__fill-value[_ngcontent-%COMP%]{display:inline-block;height:20px;border-right:1px solid black}.progress-bar__name[_ngcontent-%COMP%]{max-width:270px;max-height:17px;overflow:hidden}@media only screen and (min-width: 600px){.progress-bar__line[_ngcontent-%COMP%]{width:400px}}@media only screen and (min-width: 768px){.progress-bar__line[_ngcontent-%COMP%]{width:500px}}@media only screen and (min-width: 992px){.progress-bar__line[_ngcontent-%COMP%]{width:700px}}@media only screen and (min-width: 1200px){.progress-bar__line[_ngcontent-%COMP%]{width:800px}}"]}),n})();function UT(n,t){if(1&n&&(d.TgZ(0,"li",4),d._UZ(1,"app-field-cost-item",5),d.qZA()),2&n){const e=t.$implicit,s=d.oxw();d.xp6(1),d.Q6J("costByCategory",e)("totalCostAmount",s.biggestCostAmount)}}let BT=(()=>{class n{constructor(e,s){this.restService=e,this.customReduce=s,this.transactions=[],this.currDate=new Date,this.biggestCostAmount=0}ngOnInit(){this.restService.getTransactions().snapshotChanges().subscribe(e=>{const s=[];e.forEach(a=>{s.push(a.payload.toJSON())}),this.transactions=this.customReduce.customReduce(s,"costs","actual",this.currDate).sort((a,c)=>c.amount-a.amount).slice(0,6),this.biggestCostAmount=this.customReduce.biggestCategoryAmount(this.transactions,"costs","actual",this.currDate)})}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(Hp),d.Y36(Uw))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-field-cost"]],decls:5,vars:1,consts:[[1,"field-cost"],[1,"field-cost__name"],[1,"field-cost__list"],["class","field-cost__item",4,"ngFor","ngForOf"],[1,"field-cost__item"],[3,"costByCategory","totalCostAmount"]],template:function(e,s){1&e&&(d.TgZ(0,"div",0),d.TgZ(1,"span",1),d._uU(2,"Costs by categories:"),d.qZA(),d.TgZ(3,"ul",2),d.YNc(4,UT,2,2,"li",3),d.qZA(),d.qZA()),2&e&&(d.xp6(4),d.Q6J("ngForOf",s.transactions))},directives:[On,VT],styles:[".field-cost[_ngcontent-%COMP%]{width:280px;display:flex;justify-content:center;align-items:center;flex-flow:column;padding-top:20px}.field-cost__name[_ngcontent-%COMP%]{font-weight:700;font-size:18px;text-decoration:underline;align-self:flex-start}.field-cost__list[_ngcontent-%COMP%]{padding:0}.field-cost__item[_ngcontent-%COMP%]{list-style:none;padding:5px 0}@media only screen and (min-width: 600px){.field-cost[_ngcontent-%COMP%]{width:400px}}@media only screen and (min-width: 768px){.field-cost[_ngcontent-%COMP%]{width:500px}}@media only screen and (min-width: 992px){.field-cost[_ngcontent-%COMP%]{width:700px}}@media only screen and (min-width: 1200px){.field-cost[_ngcontent-%COMP%]{width:800px}}"]}),n})(),jT=(()=>{class n{constructor(e,s){this.transactionsService=e,this.restService=s,this.transactionList=[],this.currDate=new Date,this.income={name:"Income",value:0,total:0,progress:""},this.goal={name:"",value:0,total:0,progress:""},this.cost={name:"Costs",value:0,total:0,progress:""}}ngOnInit(){this.restService.getTransactions().snapshotChanges().subscribe(e=>{this.transactionList=[],e.forEach(s=>{this.transactionList.push(s.payload.toJSON())}),this.getTransactions(this.transactionList,"income",this.income),this.getTransactions(this.transactionList,"costs",this.cost),this.getGoals()})}getTransactions(e,s,a){let c=this.transactionsService.customReduce(e,s,"actual",this.currDate);a.value=c.reduce((g,v)=>g+v.amount,0),c=this.transactionsService.customReduce(e,s,"planned",this.currDate),a.total=c.reduce((g,v)=>g+v.amount,0),a.progress=Math.round(a.value/a.total*100).toString()+"%"}getGoals(){let e=this.transactionsService.customReduce(this.transactionList,"costs","planned"),s=e.findIndex(a=>"Goals"===a.categoryName);s>=0?(this.goal.name=e[s].subCategoryName,this.goal.total=e[s].amount):(this.goal.name="",this.goal.total=0),e=this.transactionsService.customReduce(this.transactionList,"costs","actual"),s=e.findIndex(a=>"Goals"===a.categoryName),this.goal.value=s>=0?e[s].amount:0,this.goal.total&&(this.goal.progress=Math.round(this.goal.value/this.goal.total*100).toString()+"%")}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(Uw),d.Y36(Hp))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-main-page"]],decls:14,vars:3,consts:[[1,"app-main-page","main"],[1,"app-main-page__progress-bar-field"],[3,"frontPageItem"]],template:function(e,s){1&e&&(d.TgZ(0,"div",0),d.TgZ(1,"div",1),d.TgZ(2,"span"),d._uU(3,"Save up for: "),d.qZA(),d._UZ(4,"app-front-page-item",2),d.qZA(),d.TgZ(5,"div",1),d.TgZ(6,"span"),d._uU(7,"Current: "),d.qZA(),d._UZ(8,"app-front-page-item",2),d.qZA(),d.TgZ(9,"div",1),d.TgZ(10,"span"),d._uU(11,"Current: "),d.qZA(),d._UZ(12,"app-front-page-item",2),d.qZA(),d._UZ(13,"app-field-cost"),d.qZA()),2&e&&(d.xp6(4),d.Q6J("frontPageItem",s.goal),d.xp6(4),d.Q6J("frontPageItem",s.income),d.xp6(4),d.Q6J("frontPageItem",s.cost))},directives:[FT,BT],styles:[".main[_ngcontent-%COMP%]{position:fixed;left:0;right:0;z-index:-1;display:flex;justify-content:flex-start;align-items:center;flex-direction:column;margin:auto;min-height:100%;font-family:open sans,sans-serif;background-color:#efefef;padding:5px;box-sizing:border-box}.app-main-page__progress-bar-field[_ngcontent-%COMP%]{padding:5px 0}"]}),n})();const Bw_firebase={projectId:"courses-f0819",appId:"1:1017625874697:web:5360b51a249aa7baa983d8",databaseURL:"https://courses-f0819-default-rtdb.firebaseio.com",storageBucket:"courses-f0819.appspot.com",apiKey:"AIzaSyCJROoYyvqbOZAh_-F0iwU9Wd1GwMzGFL8",authDomain:"courses-f0819.firebaseapp.com",messagingSenderId:"1017625874697"};x(9414);class fI{constructor(){return(0,Nn.vb)("auth")}}class $w{constructor(t){return t}}const pI="database",Ww=new d.OlP("angularfire2.database-instances");function ZT(n){return(t,e)=>{const s=t.runOutsideAngular(()=>n(e));return new $w(s)}}const qT={provide:class GT{constructor(){return(0,Nn.vb)(pI)}},deps:[[new d.FiY,Ww]]},KT={provide:$w,useFactory:function zT(n,t){const e=(0,Nn.JM)(pI,n,t);return e&&new $w(e)},deps:[[new d.FiY,Ww],gc]};let YT=(()=>{class n{constructor(){(0,Yo.KN)("angularfire",Nn.q4.full,"rtdb")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[KT,qT]}),n})();function QT(n,...t){return{ngModule:YT,providers:[{provide:Ww,useFactory:ZT(n),multi:!0,deps:[d.R0b,d.zs3,Nn.HU,EC,[new d.FiY,fI],[new d.FiY,wp],...t]}]}}const JT=(0,Nn.u3)(ib,!0);let XT=(()=>{class n{constructor(){this.transitions=[]}costInfo(e){return e.forEach(s=>{"actual"===s.expense.value&&"cost"===s.type.value&&this.transitions.push(s)}),this.transitions}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function eA(n,t){1&n&&d._UZ(0,"div",8)}function tA(n,t){1&n&&(d.TgZ(0,"div",5),d._UZ(1,"div",9),d.qZA())}let nA=(()=>{class n{constructor(){}ngOnInit(){console.log(this.notZeroCategories)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-statistic-diagram"]],inputs:{notZeroCategories:"notZeroCategories"},decls:8,vars:2,consts:[[1,"chart"],[1,"pieContainer"],["class","pieBackground",4,"ngFor","ngForOf"],[1,"hold","pieSlice1"],[1,"pie",2,"transform","rotate(180deg)"],[1,"hold","pieSlice2"],[1,"pie",2,"transform","rotate(61deg)"],["class","hold pieSlice2",4,"ngFor","ngForOf"],[1,"pieBackground"],[1,"pie2",2,"transform","rotate(62deg)"]],template:function(e,s){1&e&&(d.TgZ(0,"div",0),d.TgZ(1,"div",1),d.YNc(2,eA,1,0,"div",2),d.TgZ(3,"div",3),d._UZ(4,"div",4),d.qZA(),d.TgZ(5,"div",5),d._UZ(6,"div",6),d.qZA(),d.YNc(7,tA,2,0,"div",7),d.qZA(),d.qZA()),2&e&&(d.xp6(2),d.Q6J("ngForOf",s.notZeroCategories),d.xp6(5),d.Q6J("ngForOf",s.notZeroCategories))},directives:[On],styles:[".chart[_ngcontent-%COMP%]{margin:20px}.pieContainer[_ngcontent-%COMP%]{height:190px;width:190px;padding:0 20px}.pieBackground[_ngcontent-%COMP%]{background-color:#e6e6e6;position:absolute;width:150px;height:150px;border-radius:75px}.pie2[_ngcontent-%COMP%]{position:absolute;width:150px;height:150px;border-radius:75px;clip:rect(0px,75px,150px,0px);background-color:#b8366c}.pie[_ngcontent-%COMP%]{position:absolute;width:150px;height:150px;border-radius:75px;clip:rect(0px,75px,150px,0px);background-color:#53b836}.hold[_ngcontent-%COMP%]{position:absolute;width:150px;height:150px;border-radius:75px;clip:rect(0px,150px,150px,75px)}.pieSlice2[_ngcontent-%COMP%]{transform:rotate(180deg)}"]}),n})(),rA=(()=>{class n{constructor(){}ngOnInit(){this.key=Object.keys(this.field),this.value=Object.values(this.field)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-statistic-field"]],inputs:{field:"field"},decls:5,vars:2,consts:[[1,"field"],[1,"field__name"],[1,"field__value"]],template:function(e,s){1&e&&(d.TgZ(0,"div",0),d.TgZ(1,"span",1),d._uU(2),d.qZA(),d.TgZ(3,"span",2),d._uU(4),d.qZA(),d.qZA()),2&e&&(d.xp6(2),d.hij("",s.key,":"),d.xp6(2),d.hij("",s.value," \u0433\u0440\u043d"))},styles:[".field__name[_ngcontent-%COMP%]{font-size:22px;font-weight:500}.field__value[_ngcontent-%COMP%]{font-size:22px}"]}),n})();function iA(n,t){1&n&&d._UZ(0,"app-statistic-field",2),2&n&&d.Q6J("field",t.$implicit)}let sA=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-statistic"]],inputs:{notZeroCategories:"notZeroCategories"},decls:2,vars:1,consts:[[1,"transaction"],["class","transaction-card",3,"field",4,"ngFor","ngForOf"],[1,"transaction-card",3,"field"]],template:function(e,s){1&e&&(d.TgZ(0,"div",0),d.YNc(1,iA,1,1,"app-statistic-field",1),d.qZA()),2&e&&(d.xp6(1),d.Q6J("ngForOf",s.notZeroCategories))},directives:[On,rA],styles:[""]}),n})();const oA=[{path:"archive",component:xT},{path:"monitoring",component:(()=>{class n{constructor(e,s){this.RestApiService=e,this.CostInfoService=s,this.data=[],this.costs=[],this.arrCategories=[],this.costCategories=[],this.notZeroCategories=[]}ngOnInit(){this.RestApiService.getCategories().snapshotChanges().subscribe(e=>{e.forEach(a=>{this.arrCategories.push(a.payload.toJSON())}),Object.values(this.arrCategories[0]).forEach(a=>{this.costCategories.push(Object.values(a.subCategories))}),this.costCategories=this.costCategories.flat(),this.RestApiService.getTransactions().snapshotChanges().subscribe(a=>{a.forEach(c=>{this.data.push(c.payload.toJSON())}),this.calculateCosts(this.CostInfoService.costInfo(this.data))})})}calculateCosts(e){let s={},a=[];return e.forEach(g=>{a.push({[g.subCategoryName]:+g.amount*g.currency.value})}),this.costCategories.forEach(g=>{s[g]=0,a.forEach(v=>{Object.keys(v).includes(g)&&(s[g]=s[g]+v[g])})}),Object.entries(s).forEach(g=>{0!=g[1]&&this.notZeroCategories.push({[g[0]]:g[1]})}),this.notZeroCategories}}return n.\u0275fac=function(e){return new(e||n)(d.Y36(Hp),d.Y36(XT))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-cost-monitoring"]],decls:2,vars:2,consts:[[3,"notZeroCategories"]],template:function(e,s){1&e&&(d._UZ(0,"app-statistic-diagram",0),d._UZ(1,"app-statistic",0)),2&e&&(d.Q6J("notZeroCategories",s.notZeroCategories),d.xp6(1),d.Q6J("notZeroCategories",s.notZeroCategories))},directives:[nA,sA],styles:[""]}),n})()},{path:"",component:jT}];let aA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=d.oAB({type:n,bootstrap:[ST]}),n.\u0275inj=d.cJS({providers:[],imports:[[Do,_T,tn,oy,Fw.forRoot(oA),gD(()=>mc(Bw_firebase)),QT(()=>JT()),gs.hO.initializeApp(Bw_firebase),ND]]}),n})();(0,d.G48)(),Bs().bootstrapModule(aA).catch(n=>console.error(n))},5867:(Je,ve,x)=>{x.d(ve,{C6:()=>d.getApps,KN:()=>d.registerVersion,Mq:()=>d.getApp,ZF:()=>d.initializeApp});var d=x(9681);(0,d.registerVersion)("firebase","9.7.0","app")},127:(Je,ve,x)=>{x.d(ve,{Z:()=>d.Z});var d=x(3942);d.Z.registerVersion("firebase","9.7.0","app-compat")},5881:(Je,ve,x)=>{x.r(ve);var d=x(5861),j=x(3942),P=x(9414),ee=x(2090),se=(x(9681),x(1877),x(4859));function oe(){return window}function z(){return(z=(0,d.Z)(function*(O,F,V){var ie;const{BuildInfo:Re}=oe();(0,P.ap)(F.sessionId,"AuthEvent did not contain a session ID");const Be=yield de(F.sessionId),nt={};return(0,P.aq)()?nt.ibi=Re.packageName:(0,P.ar)()?nt.apn=Re.packageName:(0,P.as)(O,"operation-not-supported-in-this-environment"),Re.displayName&&(nt.appDisplayName=Re.displayName),nt.sessionId=Be,(0,P.at)(O,V,F.type,void 0,null!==(ie=F.eventId)&&void 0!==ie?ie:void 0,nt)})).apply(this,arguments)}function Fe(){return(Fe=(0,d.Z)(function*(O){const{BuildInfo:F}=oe(),V={};(0,P.aq)()?V.iosBundleId=F.packageName:(0,P.ar)()?V.androidPackageName=F.packageName:(0,P.as)(O,"operation-not-supported-in-this-environment"),yield(0,P.au)(O,V)})).apply(this,arguments)}function Pe(){return(Pe=(0,d.Z)(function*(O,F,V){const{cordova:ie}=oe();let Re=()=>{};try{yield new Promise((Be,nt)=>{let We=null;function mt(){var Dt;Be();const ur=null===(Dt=ie.plugins.browsertab)||void 0===Dt?void 0:Dt.close;"function"==typeof ur&&ur(),"function"==typeof(null==V?void 0:V.close)&&V.close()}function pn(){We||(We=window.setTimeout(()=>{nt((0,P.av)(O,"redirect-cancelled-by-user"))},2e3))}function Bn(){"visible"===(null==document?void 0:document.visibilityState)&&pn()}F.addPassiveListener(mt),document.addEventListener("resume",pn,!1),(0,P.ar)()&&document.addEventListener("visibilitychange",Bn,!1),Re=()=>{F.removePassiveListener(mt),document.removeEventListener("resume",pn,!1),document.removeEventListener("visibilitychange",Bn,!1),We&&window.clearTimeout(We)}})}finally{Re()}})).apply(this,arguments)}function de(O){return Se.apply(this,arguments)}function Se(){return(Se=(0,d.Z)(function*(O){const F=Oe(O),V=yield crypto.subtle.digest("SHA-256",F);return Array.from(new Uint8Array(V)).map(Re=>Re.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Oe(O){if((0,P.ap)(/[0-9a-zA-Z]+/.test(O),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(O);const F=new ArrayBuffer(O.length),V=new Uint8Array(F);for(let ie=0;ie<O.length;ie++)V[ie]=O.charCodeAt(ie);return V}class ze extends P.az{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(F=>{this.resolveInialized=F})}addPassiveListener(F){this.passiveListeners.add(F)}removePassiveListener(F){this.passiveListeners.delete(F)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(F){return this.resolveInialized(),this.passiveListeners.forEach(V=>V(F)),super.onEvent(F)}initialized(){var F=this;return(0,d.Z)(function*(){yield F.initPromise})()}}function Ue(O){return it.apply(this,arguments)}function it(){return(it=(0,d.Z)(function*(O){const F=yield pe()._get(_e(O));return F&&(yield pe()._remove(_e(O))),F})).apply(this,arguments)}function fe(){const O=[],F="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let V=0;V<20;V++){const ie=Math.floor(Math.random()*F.length);O.push(F.charAt(ie))}return O.join("")}function pe(){return(0,P.ax)(P.b)}function _e(O){return(0,P.ay)("authEvent",O.config.apiKey,O.name)}function gt(O){if(!(null==O?void 0:O.includes("?")))return{};const[F,...V]=O.split("?");return(0,ee.zd)(V.join("?"))}function st(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,P.av)("no-auth-event")}}function or(){var O;return(null===(O=null==self?void 0:self.location)||void 0===O?void 0:O.protocol)||null}function In(O=(0,ee.z$)()){return!("file:"!==or()&&"ionic:"!==or()||!O.toLowerCase().match(/iphone|ipad|ipod|android/))}function ar(){try{const O=self.localStorage,F=P.aG();if(O)return O.setItem(F,"1"),O.removeItem(F),!function yi(O=(0,ee.z$)()){return function Gt(){return(0,ee.w1)()&&11===(null==document?void 0:document.documentMode)}()||function An(O=(0,ee.z$)()){return/Edge\/\d+/.test(O)}(O)}()||(0,ee.hl)()}catch(O){return Ln()&&(0,ee.hl)()}return!1}function Ln(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Ie(){return(function wr(){return"http:"===or()||"https:"===or()}()||(0,ee.ru)()||In())&&!function Fn(){return(0,ee.b$)()||(0,ee.UG)()}()&&ar()&&!Ln()}function Vn(){return In()&&"undefined"!=typeof document}function lr(){return(lr=(0,d.Z)(function*(){return!!Vn()&&new Promise(O=>{const F=setTimeout(()=>{O(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(F),O(!0)})})})).apply(this,arguments)}const Bt={LOCAL:"local",NONE:"none",SESSION:"session"},zn=P.aw,Dr="persistence";function Cn(O){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,d.Z)(function*(O){yield O._initializationPromise;const F=Ct(),V=P.ay(Dr,O.config.apiKey,O.name);F&&F.setItem(V,O._getPersistence())})).apply(this,arguments)}function Ct(){var O;try{return(null===(O=function zt(){return"undefined"!=typeof window?window:null}())||void 0===O?void 0:O.sessionStorage)||null}catch(F){return null}}const Qe=P.aw;class et{constructor(){this.browserResolver=P.ax(P.k),this.cordovaResolver=P.ax(class Rn{constructor(){this._redirectPersistence=P.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=P.aA}_initialize(F){var V=this;return(0,d.Z)(function*(){const ie=F._key();let Re=V.eventManagers.get(ie);return Re||(Re=new ze(F),V.eventManagers.set(ie,Re),V.attachCallbackListeners(F,Re)),Re})()}_openPopup(F){(0,P.as)(F,"operation-not-supported-in-this-environment")}_openRedirect(F,V,ie,Re){var Be=this;return(0,d.Z)(function*(){!function ce(O){var F,V,ie,Re,Be,nt,We,mt,pn,Bn;const Dt=oe();(0,P.aw)("function"==typeof(null===(F=null==Dt?void 0:Dt.universalLinks)||void 0===F?void 0:F.subscribe),O,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,P.aw)(void 0!==(null===(V=null==Dt?void 0:Dt.BuildInfo)||void 0===V?void 0:V.packageName),O,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,P.aw)("function"==typeof(null===(Be=null===(Re=null===(ie=null==Dt?void 0:Dt.cordova)||void 0===ie?void 0:ie.plugins)||void 0===Re?void 0:Re.browsertab)||void 0===Be?void 0:Be.openUrl),O,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,P.aw)("function"==typeof(null===(mt=null===(We=null===(nt=null==Dt?void 0:Dt.cordova)||void 0===nt?void 0:nt.plugins)||void 0===We?void 0:We.browsertab)||void 0===mt?void 0:mt.isAvailable),O,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,P.aw)("function"==typeof(null===(Bn=null===(pn=null==Dt?void 0:Dt.cordova)||void 0===pn?void 0:pn.InAppBrowser)||void 0===Bn?void 0:Bn.open),O,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(F);const nt=yield Be._initialize(F);yield nt.initialized(),nt.resetRedirect(),(0,P.aB)(),yield Be._originValidation(F);const We=function be(O,F,V=null){return{type:F,eventId:V,urlResponse:null,sessionId:fe(),postBody:null,tenantId:O.tenantId,error:(0,P.av)(O,"no-auth-event")}}(F,ie,Re);yield function Ye(O,F){return pe()._set(_e(O),F)}(F,We);const mt=yield function W(O,F,V){return z.apply(this,arguments)}(F,We,V),pn=yield function we(O){const{cordova:F}=oe();return new Promise(V=>{F.plugins.browsertab.isAvailable(ie=>{let Re=null;ie?F.plugins.browsertab.openUrl(O):Re=F.InAppBrowser.open(O,(0,P.ao)()?"_blank":"_system","location=yes"),V(Re)})})}(mt);return function Ae(O,F,V){return Pe.apply(this,arguments)}(F,nt,pn)})()}_isIframeWebStorageSupported(F,V){throw new Error("Method not implemented.")}_originValidation(F){const V=F._key();return this.originValidationPromises[V]||(this.originValidationPromises[V]=function X(O){return Fe.apply(this,arguments)}(F)),this.originValidationPromises[V]}attachCallbackListeners(F,V){const{universalLinks:ie,handleOpenURL:Re,BuildInfo:Be}=oe(),nt=setTimeout((0,d.Z)(function*(){yield Ue(F),V.onEvent(st())}),500),We=function(){var Bn=(0,d.Z)(function*(Dt){clearTimeout(nt);const ur=yield Ue(F);let Gr=null;ur&&(null==Dt?void 0:Dt.url)&&(Gr=function J(O,F){var V,ie;const Re=function ae(O){const F=gt(O),V=F.link?decodeURIComponent(F.link):void 0,ie=gt(V).link,Re=F.deep_link_id?decodeURIComponent(F.deep_link_id):void 0;return gt(Re).link||Re||ie||V||O}(F);if(Re.includes("/__/auth/callback")){const Be=gt(Re),nt=Be.firebaseError?function Me(O){try{return JSON.parse(O)}catch(F){return null}}(decodeURIComponent(Be.firebaseError)):null,We=null===(ie=null===(V=null==nt?void 0:nt.code)||void 0===V?void 0:V.split("auth/"))||void 0===ie?void 0:ie[1],mt=We?(0,P.av)(We):null;return mt?{type:O.type,eventId:O.eventId,tenantId:O.tenantId,error:mt,urlResponse:null,sessionId:null,postBody:null}:{type:O.type,eventId:O.eventId,tenantId:O.tenantId,sessionId:O.sessionId,urlResponse:Re,postBody:null}}return null}(ur,Dt.url)),V.onEvent(Gr||st())});return function(ur){return Bn.apply(this,arguments)}}();void 0!==ie&&"function"==typeof ie.subscribe&&ie.subscribe(null,We);const mt=Re,pn=`${Be.packageName.toLowerCase()}://`;oe().handleOpenURL=function(){var Bn=(0,d.Z)(function*(Dt){if(Dt.toLowerCase().startsWith(pn)&&We({url:Dt}),"function"==typeof mt)try{mt(Dt)}catch(ur){console.error(ur)}});return function(Dt){return Bn.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=P.a,this._completeRedirectFn=P.aA}_initialize(F){var V=this;return(0,d.Z)(function*(){return yield V.selectUnderlyingResolver(),V.assertedUnderlyingResolver._initialize(F)})()}_openPopup(F,V,ie,Re){var Be=this;return(0,d.Z)(function*(){return yield Be.selectUnderlyingResolver(),Be.assertedUnderlyingResolver._openPopup(F,V,ie,Re)})()}_openRedirect(F,V,ie,Re){var Be=this;return(0,d.Z)(function*(){return yield Be.selectUnderlyingResolver(),Be.assertedUnderlyingResolver._openRedirect(F,V,ie,Re)})()}_isIframeWebStorageSupported(F,V){this.assertedUnderlyingResolver._isIframeWebStorageSupported(F,V)}_originValidation(F){return this.assertedUnderlyingResolver._originValidation(F)}get _shouldInitProactively(){return Vn()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Qe(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var F=this;return(0,d.Z)(function*(){if(F.underlyingResolver)return;const V=yield function qe(){return lr.apply(this,arguments)}();F.underlyingResolver=V?F.cordovaResolver:F.browserResolver})()}}function Wr(O){return O.unwrap()}function rt(O){return Un(O)}function Un(O){const{_tokenResponse:F}=O instanceof ee.ZR?O.customData:O;if(!F)return null;if(!(O instanceof ee.ZR)&&"temporaryProof"in F&&"phoneNumber"in F)return P.P.credentialFromResult(O);const V=F.providerId;if(!V||V===P.o.PASSWORD)return null;let ie;switch(V){case P.o.GOOGLE:ie=P.N;break;case P.o.FACEBOOK:ie=P.M;break;case P.o.GITHUB:ie=P.Q;break;case P.o.TWITTER:ie=P.V;break;default:const{oauthIdToken:Re,oauthAccessToken:Be,oauthTokenSecret:nt,pendingToken:We,nonce:mt}=F;return Be||nt||Re||We?We?V.startsWith("saml.")?P.aJ._create(V,We):P.I._fromParams({providerId:V,signInMethod:V,pendingToken:We,idToken:Re,accessToken:Be}):new P.T(V).credential({idToken:Re,accessToken:Be,rawNonce:mt}):null}return O instanceof ee.ZR?ie.credentialFromError(O):ie.credentialFromResult(O)}function Zt(O,F){return F.catch(V=>{throw V instanceof ee.ZR&&function rn(O,F){var V;const ie=null===(V=F.customData)||void 0===V?void 0:V._tokenResponse;if("auth/multi-factor-auth-required"===F.code)F.resolver=new wt(O,P.am(O,F));else if(ie){const Re=Un(F),Be=F;Re&&(Be.credential=Re,Be.tenantId=ie.tenantId||void 0,Be.email=ie.email||void 0,Be.phoneNumber=ie.phoneNumber||void 0)}}(O,V),V}).then(V=>{const Re=V.user;return{operationType:V.operationType,credential:rt(V),additionalUserInfo:P.ak(V),user:Ve.getOrCreate(Re)}})}function tt(O,F){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,d.Z)(function*(O,F){const V=yield F;return{verificationId:V.verificationId,confirm:ie=>Zt(O,V.confirm(ie))}})).apply(this,arguments)}class wt{constructor(F,V){this.resolver=V,this.auth=function ii(O){return O.wrapped()}(F)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(F){return Zt(Wr(this.auth),this.resolver.resolveSignIn(F))}}class Ve{constructor(F){this._delegate=F,this.multiFactor=P.an(F)}static getOrCreate(F){return Ve.USER_MAP.has(F)||Ve.USER_MAP.set(F,new Ve(F)),Ve.USER_MAP.get(F)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(F){return this._delegate.getIdTokenResult(F)}getIdToken(F){return this._delegate.getIdToken(F)}linkAndRetrieveDataWithCredential(F){return this.linkWithCredential(F)}linkWithCredential(F){var V=this;return(0,d.Z)(function*(){return Zt(V.auth,P.Y(V._delegate,F))})()}linkWithPhoneNumber(F,V){var ie=this;return(0,d.Z)(function*(){return tt(ie.auth,P.l(ie._delegate,F,V))})()}linkWithPopup(F){var V=this;return(0,d.Z)(function*(){return Zt(V.auth,P.d(V._delegate,F,et))})()}linkWithRedirect(F){var V=this;return(0,d.Z)(function*(){return yield Cn(P.aC(V.auth)),P.g(V._delegate,F,et)})()}reauthenticateAndRetrieveDataWithCredential(F){return this.reauthenticateWithCredential(F)}reauthenticateWithCredential(F){var V=this;return(0,d.Z)(function*(){return Zt(V.auth,P.Z(V._delegate,F))})()}reauthenticateWithPhoneNumber(F,V){return tt(this.auth,P.r(this._delegate,F,V))}reauthenticateWithPopup(F){return Zt(this.auth,P.e(this._delegate,F,et))}reauthenticateWithRedirect(F){var V=this;return(0,d.Z)(function*(){return yield Cn(P.aC(V.auth)),P.h(V._delegate,F,et)})()}sendEmailVerification(F){return P.aa(this._delegate,F)}unlink(F){var V=this;return(0,d.Z)(function*(){return yield P.aj(V._delegate,F),V})()}updateEmail(F){return P.af(this._delegate,F)}updatePassword(F){return P.ag(this._delegate,F)}updatePhoneNumber(F){return P.u(this._delegate,F)}updateProfile(F){return P.ae(this._delegate,F)}verifyBeforeUpdateEmail(F,V){return P.ab(this._delegate,F,V)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ve.USER_MAP=new WeakMap;const ye=P.aw;let He=(()=>{class O{constructor(V,ie){if(this.app=V,ie.isInitialized())return this._delegate=ie.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Re}=V.options;ye(Re,"invalid-api-key",{appName:V.name}),ye(Re,"invalid-api-key",{appName:V.name});const Be="undefined"!=typeof window?et:void 0;this._delegate=ie.initialize({options:{persistence:At(Re,V.name),popupRedirectResolver:Be}}),this._delegate._updateErrorMap(P.z),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ve.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(V){this._delegate.languageCode=V}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(V){this._delegate.tenantId=V}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(V,ie){P.E(this._delegate,V,ie)}applyActionCode(V){return P.a1(this._delegate,V)}checkActionCode(V){return P.a2(this._delegate,V)}confirmPasswordReset(V,ie){return P.a0(this._delegate,V,ie)}createUserWithEmailAndPassword(V,ie){var Re=this;return(0,d.Z)(function*(){return Zt(Re._delegate,P.a4(Re._delegate,V,ie))})()}fetchProvidersForEmail(V){return this.fetchSignInMethodsForEmail(V)}fetchSignInMethodsForEmail(V){return P.a9(this._delegate,V)}isSignInWithEmailLink(V){return P.a7(this._delegate,V)}getRedirectResult(){var V=this;return(0,d.Z)(function*(){ye(Ie(),V._delegate,"operation-not-supported-in-this-environment");const ie=yield P.j(V._delegate,et);return ie?Zt(V._delegate,Promise.resolve(ie)):{credential:null,user:null}})()}addFrameworkForLogging(V){!function cn(O,F){(0,P.aC)(O)._logFramework(F)}(this._delegate,V)}onAuthStateChanged(V,ie,Re){const{next:Be,error:nt,complete:We}=ot(V,ie,Re);return this._delegate.onAuthStateChanged(Be,nt,We)}onIdTokenChanged(V,ie,Re){const{next:Be,error:nt,complete:We}=ot(V,ie,Re);return this._delegate.onIdTokenChanged(Be,nt,We)}sendSignInLinkToEmail(V,ie){return P.a6(this._delegate,V,ie)}sendPasswordResetEmail(V,ie){return P.$(this._delegate,V,ie||void 0)}setPersistence(V){var ie=this;return(0,d.Z)(function*(){let Re;switch(function dn(O,F){zn(Object.values(Bt).includes(F),O,"invalid-persistence-type"),(0,ee.b$)()?zn(F!==Bt.SESSION,O,"unsupported-persistence-type"):(0,ee.UG)()?zn(F===Bt.NONE,O,"unsupported-persistence-type"):Ln()?zn(F===Bt.NONE||F===Bt.LOCAL&&(0,ee.hl)(),O,"unsupported-persistence-type"):zn(F===Bt.NONE||ar(),O,"unsupported-persistence-type")}(ie._delegate,V),V){case Bt.SESSION:Re=P.a;break;case Bt.LOCAL:Re=(yield P.ax(P.i)._isAvailable())?P.i:P.b;break;case Bt.NONE:Re=P.K;break;default:return P.as("argument-error",{appName:ie._delegate.name})}return ie._delegate.setPersistence(Re)})()}signInAndRetrieveDataWithCredential(V){return this.signInWithCredential(V)}signInAnonymously(){return Zt(this._delegate,P.W(this._delegate))}signInWithCredential(V){return Zt(this._delegate,P.X(this._delegate,V))}signInWithCustomToken(V){return Zt(this._delegate,P._(this._delegate,V))}signInWithEmailAndPassword(V,ie){return Zt(this._delegate,P.a5(this._delegate,V,ie))}signInWithEmailLink(V,ie){return Zt(this._delegate,P.a8(this._delegate,V,ie))}signInWithPhoneNumber(V,ie){return tt(this._delegate,P.s(this._delegate,V,ie))}signInWithPopup(V){var ie=this;return(0,d.Z)(function*(){return ye(Ie(),ie._delegate,"operation-not-supported-in-this-environment"),Zt(ie._delegate,P.c(ie._delegate,V,et))})()}signInWithRedirect(V){var ie=this;return(0,d.Z)(function*(){return ye(Ie(),ie._delegate,"operation-not-supported-in-this-environment"),yield Cn(ie._delegate),P.f(ie._delegate,V,et)})()}updateCurrentUser(V){return this._delegate.updateCurrentUser(V)}verifyPasswordResetCode(V){return P.a3(this._delegate,V)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return O.Persistence=Bt,O})();function ot(O,F,V){let ie=O;"function"!=typeof O&&({next:ie,error:F,complete:V}=O);const Re=ie;return{next:nt=>Re(nt&&Ve.getOrCreate(nt)),error:F,complete:V}}function At(O,F){const V=function Ts(O,F){const V=Ct();if(!V)return[];const ie=P.ay(Dr,O,F);switch(V.getItem(ie)){case Bt.NONE:return[P.K];case Bt.LOCAL:return[P.i,P.a];case Bt.SESSION:return[P.a];default:return[]}}(O,F);if("undefined"!=typeof self&&!V.includes(P.i)&&V.push(P.i),"undefined"!=typeof window)for(const ie of[P.b,P.a])V.includes(ie)||V.push(ie);return V.includes(P.K)||V.push(P.K),V}class Rt{constructor(){this.providerId="phone",this._delegate=new P.P(Wr(j.Z.auth()))}static credential(F,V){return P.P.credential(F,V)}verifyPhoneNumber(F,V){return this._delegate.verifyPhoneNumber(F,V)}unwrap(){return this._delegate}}Rt.PHONE_SIGN_IN_METHOD=P.P.PHONE_SIGN_IN_METHOD,Rt.PROVIDER_ID=P.P.PROVIDER_ID;const G=P.aw;class B{constructor(F,V,ie=j.Z.app()){var Re;G(null===(Re=ie.options)||void 0===Re?void 0:Re.apiKey,"invalid-api-key",{appName:ie.name}),this._delegate=new P.R(F,V,ie.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function le(O){O.INTERNAL.registerComponent(new se.wA("auth-compat",F=>{const V=F.getProvider("app-compat").getImmediate(),ie=F.getProvider("auth");return new He(V,ie)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:P.A.EMAIL_SIGNIN,PASSWORD_RESET:P.A.PASSWORD_RESET,RECOVER_EMAIL:P.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:P.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:P.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:P.A.VERIFY_EMAIL}},EmailAuthProvider:P.L,FacebookAuthProvider:P.M,GithubAuthProvider:P.Q,GoogleAuthProvider:P.N,OAuthProvider:P.T,SAMLAuthProvider:P.U,PhoneAuthProvider:Rt,PhoneMultiFactorGenerator:P.m,RecaptchaVerifier:B,TwitterAuthProvider:P.V,Auth:He,AuthCredential:P.G,Error:ee.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),O.registerVersion("@firebase/auth-compat","0.2.12")}(j.Z)},8306:(Je,ve,x)=>{x.d(ve,{y:()=>W});var d=x(930),j=x(727),P=x(8822),ee=x(4671);var se=x(2416),oe=x(576),ue=x(2806);let W=(()=>{class we{constructor(Pe){Pe&&(this._subscribe=Pe)}lift(Pe){const ce=new we;return ce.source=this,ce.operator=Pe,ce}subscribe(Pe,ce,de){const Se=function Fe(we){return we&&we instanceof d.Lv||function X(we){return we&&(0,oe.m)(we.next)&&(0,oe.m)(we.error)&&(0,oe.m)(we.complete)}(we)&&(0,j.Nn)(we)}(Pe)?Pe:new d.Hp(Pe,ce,de);return(0,ue.x)(()=>{const{operator:Oe,source:Ne}=this;Se.add(Oe?Oe.call(Se,Ne):Ne?this._subscribe(Se):this._trySubscribe(Se))}),Se}_trySubscribe(Pe){try{return this._subscribe(Pe)}catch(ce){Pe.error(ce)}}forEach(Pe,ce){return new(ce=z(ce))((de,Se)=>{let Oe;Oe=this.subscribe(Ne=>{try{Pe(Ne)}catch(ze){Se(ze),null==Oe||Oe.unsubscribe()}},Se,de)})}_subscribe(Pe){var ce;return null===(ce=this.source)||void 0===ce?void 0:ce.subscribe(Pe)}[P.L](){return this}pipe(...Pe){return function me(we){return 0===we.length?ee.y:1===we.length?we[0]:function(Pe){return we.reduce((ce,de)=>de(ce),Pe)}}(Pe)(this)}toPromise(Pe){return new(Pe=z(Pe))((ce,de)=>{let Se;this.subscribe(Oe=>Se=Oe,Oe=>de(Oe),()=>ce(Se))})}}return we.create=Ae=>new we(Ae),we})();function z(we){var Ae;return null!==(Ae=null!=we?we:se.v.Promise)&&void 0!==Ae?Ae:Promise}},7579:(Je,ve,x)=>{x.d(ve,{x:()=>se});var d=x(8306),j=x(727);const ee=(0,x(3888).d)(ue=>function(){ue(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var re=x(8737),me=x(2806);let se=(()=>{class ue extends d.y{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(z){const X=new oe(this,this);return X.operator=z,X}_throwIfClosed(){if(this.closed)throw new ee}next(z){(0,me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){const X=this.observers.slice();for(const Fe of X)Fe.next(z)}})}error(z){(0,me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=z;const{observers:X}=this;for(;X.length;)X.shift().error(z)}})}complete(){(0,me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:z}=this;for(;z.length;)z.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var z;return(null===(z=this.observers)||void 0===z?void 0:z.length)>0}_trySubscribe(z){return this._throwIfClosed(),super._trySubscribe(z)}_subscribe(z){return this._throwIfClosed(),this._checkFinalizedStatuses(z),this._innerSubscribe(z)}_innerSubscribe(z){const{hasError:X,isStopped:Fe,observers:we}=this;return X||Fe?j.Lc:(we.push(z),new j.w0(()=>(0,re.P)(we,z)))}_checkFinalizedStatuses(z){const{hasError:X,thrownError:Fe,isStopped:we}=this;X?z.error(Fe):we&&z.complete()}asObservable(){const z=new d.y;return z.source=this,z}}return ue.create=(W,z)=>new oe(W,z),ue})();class oe extends se{constructor(W,z){super(),this.destination=W,this.source=z}next(W){var z,X;null===(X=null===(z=this.destination)||void 0===z?void 0:z.next)||void 0===X||X.call(z,W)}error(W){var z,X;null===(X=null===(z=this.destination)||void 0===z?void 0:z.error)||void 0===X||X.call(z,W)}complete(){var W,z;null===(z=null===(W=this.destination)||void 0===W?void 0:W.complete)||void 0===z||z.call(W)}_subscribe(W){var z,X;return null!==(X=null===(z=this.source)||void 0===z?void 0:z.subscribe(W))&&void 0!==X?X:j.Lc}}},930:(Je,ve,x)=>{x.d(ve,{Hp:()=>Fe,Lv:()=>X});var d=x(576),j=x(727),P=x(2416),ee=x(7849),re=x(5032);const me=ue("C",void 0,void 0);function ue(de,Se,Oe){return{kind:de,value:Se,error:Oe}}var W=x(3410),z=x(2806);class X extends j.w0{constructor(Se){super(),this.isStopped=!1,Se?(this.destination=Se,(0,j.Nn)(Se)&&Se.add(this)):this.destination=ce}static create(Se,Oe,Ne){return new Fe(Se,Oe,Ne)}next(Se){this.isStopped?Pe(function oe(de){return ue("N",de,void 0)}(Se),this):this._next(Se)}error(Se){this.isStopped?Pe(function se(de){return ue("E",void 0,de)}(Se),this):(this.isStopped=!0,this._error(Se))}complete(){this.isStopped?Pe(me,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Se){this.destination.next(Se)}_error(Se){try{this.destination.error(Se)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class Fe extends X{constructor(Se,Oe,Ne){let ze;if(super(),(0,d.m)(Se))ze=Se;else if(Se){let be;({next:ze,error:Oe,complete:Ne}=Se),this&&P.v.useDeprecatedNextContext?(be=Object.create(Se),be.unsubscribe=()=>this.unsubscribe()):be=Se,ze=null==ze?void 0:ze.bind(be),Oe=null==Oe?void 0:Oe.bind(be),Ne=null==Ne?void 0:Ne.bind(be)}this.destination={next:ze?we(ze):re.Z,error:we(null!=Oe?Oe:Ae),complete:Ne?we(Ne):re.Z}}}function we(de,Se){return(...Oe)=>{try{de(...Oe)}catch(Ne){P.v.useDeprecatedSynchronousErrorHandling?(0,z.O)(Ne):(0,ee.h)(Ne)}}}function Ae(de){throw de}function Pe(de,Se){const{onStoppedNotification:Oe}=P.v;Oe&&W.z.setTimeout(()=>Oe(de,Se))}const ce={closed:!0,next:re.Z,error:Ae,complete:re.Z}},727:(Je,ve,x)=>{x.d(ve,{Lc:()=>me,w0:()=>re,Nn:()=>se});var d=x(576);const P=(0,x(3888).d)(ue=>function(z){ue(this),this.message=z?`${z.length} errors occurred during unsubscription:\n${z.map((X,Fe)=>`${Fe+1}) ${X.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=z});var ee=x(8737);class re{constructor(W){this.initialTeardown=W,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let W;if(!this.closed){this.closed=!0;const{_parentage:z}=this;if(z)if(this._parentage=null,Array.isArray(z))for(const we of z)we.remove(this);else z.remove(this);const{initialTeardown:X}=this;if((0,d.m)(X))try{X()}catch(we){W=we instanceof P?we.errors:[we]}const{_teardowns:Fe}=this;if(Fe){this._teardowns=null;for(const we of Fe)try{oe(we)}catch(Ae){W=null!=W?W:[],Ae instanceof P?W=[...W,...Ae.errors]:W.push(Ae)}}if(W)throw new P(W)}}add(W){var z;if(W&&W!==this)if(this.closed)oe(W);else{if(W instanceof re){if(W.closed||W._hasParent(this))return;W._addParent(this)}(this._teardowns=null!==(z=this._teardowns)&&void 0!==z?z:[]).push(W)}}_hasParent(W){const{_parentage:z}=this;return z===W||Array.isArray(z)&&z.includes(W)}_addParent(W){const{_parentage:z}=this;this._parentage=Array.isArray(z)?(z.push(W),z):z?[z,W]:W}_removeParent(W){const{_parentage:z}=this;z===W?this._parentage=null:Array.isArray(z)&&(0,ee.P)(z,W)}remove(W){const{_teardowns:z}=this;z&&(0,ee.P)(z,W),W instanceof re&&W._removeParent(this)}}re.EMPTY=(()=>{const ue=new re;return ue.closed=!0,ue})();const me=re.EMPTY;function se(ue){return ue instanceof re||ue&&"closed"in ue&&(0,d.m)(ue.remove)&&(0,d.m)(ue.add)&&(0,d.m)(ue.unsubscribe)}function oe(ue){(0,d.m)(ue)?ue():ue.unsubscribe()}},2416:(Je,ve,x)=>{x.d(ve,{v:()=>d});const d={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(Je,ve,x)=>{x.d(ve,{E:()=>j});const j=new(x(8306).y)(re=>re.complete())},8996:(Je,ve,x)=>{x.d(ve,{D:()=>ze});var d=x(8421),j=x(5363),P=x(9468),me=x(8306),oe=x(2202),ue=x(576),W=x(9672);function X(be,Ye){if(!be)throw new Error("Iterable cannot be null");return new me.y(Ue=>{(0,W.f)(Ue,Ye,()=>{const it=be[Symbol.asyncIterator]();(0,W.f)(Ue,Ye,()=>{it.next().then(J=>{J.done?Ue.complete():Ue.next(J.value)})},0,!0)})})}var Fe=x(3670),we=x(8239),Ae=x(1144),Pe=x(6495),ce=x(2206),de=x(4532),Se=x(3260);function ze(be,Ye){return Ye?function Ne(be,Ye){if(null!=be){if((0,Fe.c)(be))return function ee(be,Ye){return(0,d.Xf)(be).pipe((0,P.R)(Ye),(0,j.Q)(Ye))}(be,Ye);if((0,Ae.z)(be))return function se(be,Ye){return new me.y(Ue=>{let it=0;return Ye.schedule(function(){it===be.length?Ue.complete():(Ue.next(be[it++]),Ue.closed||this.schedule())})})}(be,Ye);if((0,we.t)(be))return function re(be,Ye){return(0,d.Xf)(be).pipe((0,P.R)(Ye),(0,j.Q)(Ye))}(be,Ye);if((0,ce.D)(be))return X(be,Ye);if((0,Pe.T)(be))return function z(be,Ye){return new me.y(Ue=>{let it;return(0,W.f)(Ue,Ye,()=>{it=be[oe.h](),(0,W.f)(Ue,Ye,()=>{let J,fe;try{({value:J,done:fe}=it.next())}catch(pe){return void Ue.error(pe)}fe?Ue.complete():Ue.next(J)},0,!0)}),()=>(0,ue.m)(null==it?void 0:it.return)&&it.return()})}(be,Ye);if((0,Se.L)(be))return function Oe(be,Ye){return X((0,Se.Q)(be),Ye)}(be,Ye)}throw(0,de.z)(be)}(be,Ye):(0,d.Xf)(be)}},8421:(Je,ve,x)=>{x.d(ve,{Xf:()=>Fe});var d=x(5987),j=x(1144),P=x(8239),ee=x(8306),re=x(3670),me=x(2206),se=x(4532),oe=x(6495),ue=x(3260),W=x(576),z=x(7849),X=x(8822);function Fe(Ne){if(Ne instanceof ee.y)return Ne;if(null!=Ne){if((0,re.c)(Ne))return function we(Ne){return new ee.y(ze=>{const be=Ne[X.L]();if((0,W.m)(be.subscribe))return be.subscribe(ze);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ne);if((0,j.z)(Ne))return function Ae(Ne){return new ee.y(ze=>{for(let be=0;be<Ne.length&&!ze.closed;be++)ze.next(Ne[be]);ze.complete()})}(Ne);if((0,P.t)(Ne))return function Pe(Ne){return new ee.y(ze=>{Ne.then(be=>{ze.closed||(ze.next(be),ze.complete())},be=>ze.error(be)).then(null,z.h)})}(Ne);if((0,me.D)(Ne))return de(Ne);if((0,oe.T)(Ne))return function ce(Ne){return new ee.y(ze=>{for(const be of Ne)if(ze.next(be),ze.closed)return;ze.complete()})}(Ne);if((0,ue.L)(Ne))return function Se(Ne){return de((0,ue.Q)(Ne))}(Ne)}throw(0,se.z)(Ne)}function de(Ne){return new ee.y(ze=>{(function Oe(Ne,ze){var be,Ye,Ue,it;return(0,d.mG)(this,void 0,void 0,function*(){try{for(be=(0,d.KL)(Ne);!(Ye=yield be.next()).done;)if(ze.next(Ye.value),ze.closed)return}catch(J){Ue={error:J}}finally{try{Ye&&!Ye.done&&(it=be.return)&&(yield it.call(be))}finally{if(Ue)throw Ue.error}}ze.complete()})})(Ne,ze).catch(be=>ze.error(be))})}},6451:(Je,ve,x)=>{x.d(ve,{T:()=>me});var d=x(8189),j=x(8421),P=x(515),ee=x(7669),re=x(8996);function me(...se){const oe=(0,ee.yG)(se),ue=(0,ee._6)(se,1/0),W=se;return W.length?1===W.length?(0,j.Xf)(W[0]):(0,d.J)(ue)((0,re.D)(W,oe)):P.E}},5403:(Je,ve,x)=>{x.d(ve,{Q:()=>j});var d=x(930);class j extends d.Lv{constructor(ee,re,me,se,oe){super(ee),this.onFinalize=oe,this._next=re?function(ue){try{re(ue)}catch(W){ee.error(W)}}:super._next,this._error=se?function(ue){try{se(ue)}catch(W){ee.error(W)}finally{this.unsubscribe()}}:super._error,this._complete=me?function(){try{me()}catch(ue){ee.error(ue)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ee;const{closed:re}=this;super.unsubscribe(),!re&&(null===(ee=this.onFinalize)||void 0===ee||ee.call(this))}}},4004:(Je,ve,x)=>{x.d(ve,{U:()=>P});var d=x(4482),j=x(5403);function P(ee,re){return(0,d.e)((me,se)=>{let oe=0;me.subscribe(new j.Q(se,ue=>{se.next(ee.call(re,ue,oe++))}))})}},8189:(Je,ve,x)=>{x.d(ve,{J:()=>P});var d=x(5577),j=x(4671);function P(ee=1/0){return(0,d.z)(j.y,ee)}},5577:(Je,ve,x)=>{x.d(ve,{z:()=>oe});var d=x(4004),j=x(8421),P=x(4482),ee=x(9672),re=x(5403),se=x(576);function oe(ue,W,z=1/0){return(0,se.m)(W)?oe((X,Fe)=>(0,d.U)((we,Ae)=>W(X,we,Fe,Ae))((0,j.Xf)(ue(X,Fe))),z):("number"==typeof W&&(z=W),(0,P.e)((X,Fe)=>function me(ue,W,z,X,Fe,we,Ae,Pe){const ce=[];let de=0,Se=0,Oe=!1;const Ne=()=>{Oe&&!ce.length&&!de&&W.complete()},ze=Ye=>de<X?be(Ye):ce.push(Ye),be=Ye=>{we&&W.next(Ye),de++;let Ue=!1;(0,j.Xf)(z(Ye,Se++)).subscribe(new re.Q(W,it=>{null==Fe||Fe(it),we?ze(it):W.next(it)},()=>{Ue=!0},void 0,()=>{if(Ue)try{for(de--;ce.length&&de<X;){const it=ce.shift();Ae?(0,ee.f)(W,Ae,()=>be(it)):be(it)}Ne()}catch(it){W.error(it)}}))};return ue.subscribe(new re.Q(W,ze,()=>{Oe=!0,Ne()})),()=>{null==Pe||Pe()}}(X,Fe,ue,z)))}},5363:(Je,ve,x)=>{x.d(ve,{Q:()=>ee});var d=x(9672),j=x(4482),P=x(5403);function ee(re,me=0){return(0,j.e)((se,oe)=>{se.subscribe(new P.Q(oe,ue=>(0,d.f)(oe,re,()=>oe.next(ue),me),()=>(0,d.f)(oe,re,()=>oe.complete(),me),ue=>(0,d.f)(oe,re,()=>oe.error(ue),me)))})}},3099:(Je,ve,x)=>{x.d(ve,{B:()=>me});var d=x(8996),j=x(5698),P=x(7579),ee=x(930),re=x(4482);function me(oe={}){const{connector:ue=(()=>new P.x),resetOnError:W=!0,resetOnComplete:z=!0,resetOnRefCountZero:X=!0}=oe;return Fe=>{let we=null,Ae=null,Pe=null,ce=0,de=!1,Se=!1;const Oe=()=>{null==Ae||Ae.unsubscribe(),Ae=null},Ne=()=>{Oe(),we=Pe=null,de=Se=!1},ze=()=>{const be=we;Ne(),null==be||be.unsubscribe()};return(0,re.e)((be,Ye)=>{ce++,!Se&&!de&&Oe();const Ue=Pe=null!=Pe?Pe:ue();Ye.add(()=>{ce--,0===ce&&!Se&&!de&&(Ae=se(ze,X))}),Ue.subscribe(Ye),we||(we=new ee.Hp({next:it=>Ue.next(it),error:it=>{Se=!0,Oe(),Ae=se(Ne,W,it),Ue.error(it)},complete:()=>{de=!0,Oe(),Ae=se(Ne,z),Ue.complete()}}),(0,d.D)(be).subscribe(we))})(Fe)}}function se(oe,ue,...W){return!0===ue?(oe(),null):!1===ue?null:ue(...W).pipe((0,j.q)(1)).subscribe(()=>oe())}},9468:(Je,ve,x)=>{x.d(ve,{R:()=>j});var d=x(4482);function j(P,ee=0){return(0,d.e)((re,me)=>{me.add(P.schedule(()=>re.subscribe(me),ee))})}},5698:(Je,ve,x)=>{x.d(ve,{q:()=>ee});var d=x(515),j=x(4482),P=x(5403);function ee(re){return re<=0?()=>d.E:(0,j.e)((me,se)=>{let oe=0;me.subscribe(new P.Q(se,ue=>{++oe<=re&&(se.next(ue),re<=oe&&se.complete())}))})}},8505:(Je,ve,x)=>{x.d(ve,{b:()=>re});var d=x(576),j=x(4482),P=x(5403),ee=x(4671);function re(me,se,oe){const ue=(0,d.m)(me)||se||oe?{next:me,error:se,complete:oe}:me;return ue?(0,j.e)((W,z)=>{var X;null===(X=ue.subscribe)||void 0===X||X.call(ue);let Fe=!0;W.subscribe(new P.Q(z,we=>{var Ae;null===(Ae=ue.next)||void 0===Ae||Ae.call(ue,we),z.next(we)},()=>{var we;Fe=!1,null===(we=ue.complete)||void 0===we||we.call(ue),z.complete()},we=>{var Ae;Fe=!1,null===(Ae=ue.error)||void 0===Ae||Ae.call(ue,we),z.error(we)},()=>{var we,Ae;Fe&&(null===(we=ue.unsubscribe)||void 0===we||we.call(ue)),null===(Ae=ue.finalize)||void 0===Ae||Ae.call(ue)}))}):ee.y}},4408:(Je,ve,x)=>{x.d(ve,{o:()=>re});var d=x(727);class j extends d.w0{constructor(se,oe){super()}schedule(se,oe=0){return this}}const P={setInterval(...me){const{delegate:se}=P;return((null==se?void 0:se.setInterval)||setInterval)(...me)},clearInterval(me){const{delegate:se}=P;return((null==se?void 0:se.clearInterval)||clearInterval)(me)},delegate:void 0};var ee=x(8737);class re extends j{constructor(se,oe){super(se,oe),this.scheduler=se,this.work=oe,this.pending=!1}schedule(se,oe=0){if(this.closed)return this;this.state=se;const ue=this.id,W=this.scheduler;return null!=ue&&(this.id=this.recycleAsyncId(W,ue,oe)),this.pending=!0,this.delay=oe,this.id=this.id||this.requestAsyncId(W,this.id,oe),this}requestAsyncId(se,oe,ue=0){return P.setInterval(se.flush.bind(se,this),ue)}recycleAsyncId(se,oe,ue=0){if(null!=ue&&this.delay===ue&&!1===this.pending)return oe;P.clearInterval(oe)}execute(se,oe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ue=this._execute(se,oe);if(ue)return ue;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(se,oe){let W,ue=!1;try{this.work(se)}catch(z){ue=!0,W=z||new Error("Scheduled action threw falsy error")}if(ue)return this.unsubscribe(),W}unsubscribe(){if(!this.closed){const{id:se,scheduler:oe}=this,{actions:ue}=oe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ee.P)(ue,this),null!=se&&(this.id=this.recycleAsyncId(oe,se,null)),this.delay=null,super.unsubscribe()}}}},7565:(Je,ve,x)=>{x.d(ve,{v:()=>P});var d=x(6063);class j{constructor(re,me=j.now){this.schedulerActionCtor=re,this.now=me}schedule(re,me=0,se){return new this.schedulerActionCtor(this,re).schedule(se,me)}}j.now=d.l.now;class P extends j{constructor(re,me=j.now){super(re,me),this.actions=[],this._active=!1,this._scheduled=void 0}flush(re){const{actions:me}=this;if(this._active)return void me.push(re);let se;this._active=!0;do{if(se=re.execute(re.state,re.delay))break}while(re=me.shift());if(this._active=!1,se){for(;re=me.shift();)re.unsubscribe();throw se}}}},4986:(Je,ve,x)=>{x.d(ve,{z:()=>P});var d=x(4408);const P=new(x(7565).v)(d.o)},6063:(Je,ve,x)=>{x.d(ve,{l:()=>d});const d={now:()=>(d.delegate||Date).now(),delegate:void 0}},3410:(Je,ve,x)=>{x.d(ve,{z:()=>d});const d={setTimeout(...j){const{delegate:P}=d;return((null==P?void 0:P.setTimeout)||setTimeout)(...j)},clearTimeout(j){const{delegate:P}=d;return((null==P?void 0:P.clearTimeout)||clearTimeout)(j)},delegate:void 0}},2202:(Je,ve,x)=>{x.d(ve,{h:()=>j});const j=function d(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Je,ve,x)=>{x.d(ve,{L:()=>d});const d="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(Je,ve,x)=>{x.d(ve,{_6:()=>me,jO:()=>ee,yG:()=>re});var d=x(576);function P(se){return se[se.length-1]}function ee(se){return(0,d.m)(P(se))?se.pop():void 0}function re(se){return function j(se){return se&&(0,d.m)(se.schedule)}(P(se))?se.pop():void 0}function me(se,oe){return"number"==typeof P(se)?se.pop():oe}},8737:(Je,ve,x)=>{function d(j,P){if(j){const ee=j.indexOf(P);0<=ee&&j.splice(ee,1)}}x.d(ve,{P:()=>d})},3888:(Je,ve,x)=>{function d(j){const ee=j(re=>{Error.call(re),re.stack=(new Error).stack});return ee.prototype=Object.create(Error.prototype),ee.prototype.constructor=ee,ee}x.d(ve,{d:()=>d})},2806:(Je,ve,x)=>{x.d(ve,{O:()=>ee,x:()=>P});var d=x(2416);let j=null;function P(re){if(d.v.useDeprecatedSynchronousErrorHandling){const me=!j;if(me&&(j={errorThrown:!1,error:null}),re(),me){const{errorThrown:se,error:oe}=j;if(j=null,se)throw oe}}else re()}function ee(re){d.v.useDeprecatedSynchronousErrorHandling&&j&&(j.errorThrown=!0,j.error=re)}},9672:(Je,ve,x)=>{function d(j,P,ee,re=0,me=!1){const se=P.schedule(function(){ee(),me?j.add(this.schedule(null,re)):this.unsubscribe()},re);if(j.add(se),!me)return se}x.d(ve,{f:()=>d})},4671:(Je,ve,x)=>{function d(j){return j}x.d(ve,{y:()=>d})},1144:(Je,ve,x)=>{x.d(ve,{z:()=>d});const d=j=>j&&"number"==typeof j.length&&"function"!=typeof j},2206:(Je,ve,x)=>{x.d(ve,{D:()=>j});var d=x(576);function j(P){return Symbol.asyncIterator&&(0,d.m)(null==P?void 0:P[Symbol.asyncIterator])}},576:(Je,ve,x)=>{function d(j){return"function"==typeof j}x.d(ve,{m:()=>d})},3670:(Je,ve,x)=>{x.d(ve,{c:()=>P});var d=x(8822),j=x(576);function P(ee){return(0,j.m)(ee[d.L])}},6495:(Je,ve,x)=>{x.d(ve,{T:()=>P});var d=x(2202),j=x(576);function P(ee){return(0,j.m)(null==ee?void 0:ee[d.h])}},8239:(Je,ve,x)=>{x.d(ve,{t:()=>j});var d=x(576);function j(P){return(0,d.m)(null==P?void 0:P.then)}},3260:(Je,ve,x)=>{x.d(ve,{L:()=>ee,Q:()=>P});var d=x(5987),j=x(576);function P(re){return(0,d.FC)(this,arguments,function*(){const se=re.getReader();try{for(;;){const{value:oe,done:ue}=yield(0,d.qq)(se.read());if(ue)return yield(0,d.qq)(void 0);yield yield(0,d.qq)(oe)}}finally{se.releaseLock()}})}function ee(re){return(0,j.m)(null==re?void 0:re.getReader)}},4482:(Je,ve,x)=>{x.d(ve,{A:()=>j,e:()=>P});var d=x(576);function j(ee){return(0,d.m)(null==ee?void 0:ee.lift)}function P(ee){return re=>{if(j(re))return re.lift(function(me){try{return ee(me,this)}catch(se){this.error(se)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(Je,ve,x)=>{function d(){}x.d(ve,{Z:()=>d})},7849:(Je,ve,x)=>{x.d(ve,{h:()=>P});var d=x(2416),j=x(3410);function P(ee){j.z.setTimeout(()=>{const{onUnhandledError:re}=d.v;if(!re)throw ee;re(ee)})}},4532:(Je,ve,x)=>{function d(j){return new TypeError(`You provided ${null!==j&&"object"==typeof j?"an invalid object":`'${j}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}x.d(ve,{z:()=>d})},5987:(Je,ve,x)=>{function oe(J,fe,pe,_e){return new(pe||(pe=Promise))(function(ae,gt){function Ut(st){try{Xe(_e.next(st))}catch(cn){gt(cn)}}function Rn(st){try{Xe(_e.throw(st))}catch(cn){gt(cn)}}function Xe(st){st.done?ae(st.value):function Me(ae){return ae instanceof pe?ae:new pe(function(gt){gt(ae)})}(st.value).then(Ut,Rn)}Xe((_e=_e.apply(J,fe||[])).next())})}function ce(J){return this instanceof ce?(this.v=J,this):new ce(J)}function de(J,fe,pe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Me,_e=pe.apply(J,fe||[]),ae=[];return Me={},gt("next"),gt("throw"),gt("return"),Me[Symbol.asyncIterator]=function(){return this},Me;function gt(Wt){_e[Wt]&&(Me[Wt]=function(Rr){return new Promise(function(Vt,or){ae.push([Wt,Rr,Vt,or])>1||Ut(Wt,Rr)})})}function Ut(Wt,Rr){try{!function Rn(Wt){Wt.value instanceof ce?Promise.resolve(Wt.value.v).then(Xe,st):cn(ae[0][2],Wt)}(_e[Wt](Rr))}catch(Vt){cn(ae[0][3],Vt)}}function Xe(Wt){Ut("next",Wt)}function st(Wt){Ut("throw",Wt)}function cn(Wt,Rr){Wt(Rr),ae.shift(),ae.length&&Ut(ae[0][0],ae[0][1])}}function Oe(J){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var pe,fe=J[Symbol.asyncIterator];return fe?fe.call(J):(J=function X(J){var fe="function"==typeof Symbol&&Symbol.iterator,pe=fe&&J[fe],_e=0;if(pe)return pe.call(J);if(J&&"number"==typeof J.length)return{next:function(){return J&&_e>=J.length&&(J=void 0),{value:J&&J[_e++],done:!J}}};throw new TypeError(fe?"Object is not iterable.":"Symbol.iterator is not defined.")}(J),pe={},_e("next"),_e("throw"),_e("return"),pe[Symbol.asyncIterator]=function(){return this},pe);function _e(ae){pe[ae]=J[ae]&&function(gt){return new Promise(function(Ut,Rn){!function Me(ae,gt,Ut,Rn){Promise.resolve(Rn).then(function(Xe){ae({value:Xe,done:Ut})},gt)}(Ut,Rn,(gt=J[ae](gt)).done,gt.value)})}}}x.d(ve,{FC:()=>de,KL:()=>Oe,mG:()=>oe,qq:()=>ce})},5e3:(Je,ve,x)=>{x.d(ve,{$8M:()=>Li,$Z:()=>cm,AFp:()=>__,ALo:()=>Zm,AaK:()=>oe,CHM:()=>ks,CRH:()=>n_,CZH:()=>za,CqO:()=>Mf,Dn7:()=>kC,EJc:()=>lE,EpF:()=>Ev,F4k:()=>bv,FYo:()=>Bm,FiY:()=>en,G48:()=>Zl,GfV:()=>rh,Gpc:()=>z,JOm:()=>Uo,LFG:()=>K,LSH:()=>y,Lbi:()=>sE,NdJ:()=>gm,OlP:()=>Xt,Oqu:()=>Dm,PXZ:()=>UD,Q6J:()=>io,QGY:()=>pm,Qsj:()=>Ab,R0b:()=>_i,RDi:()=>wh,Rgc:()=>lh,SBq:()=>ap,Sil:()=>y_,Suo:()=>$C,TTD:()=>Ms,TgZ:()=>dm,VKq:()=>RC,VLi:()=>uw,X6Q:()=>fw,XFs:()=>qe,Xpm:()=>Rt,Y36:()=>tc,YKP:()=>dp,YNc:()=>im,Yjl:()=>Re,Yz7:()=>Vt,ZZ4:()=>Fp,_Bn:()=>sp,_UZ:()=>vv,_Vd:()=>op,_c5:()=>Iw,_uU:()=>$v,aQg:()=>Sc,c2e:()=>aE,cJS:()=>wr,cg1:()=>cc,dDg:()=>Gl,deG:()=>zs,dqk:()=>rt,eFA:()=>Is,ekj:()=>Cm,g9A:()=>iE,h0i:()=>Ga,hGG:()=>AE,hij:()=>jf,iGM:()=>Ep,ifc:()=>Ct,ip1:()=>m_,kL8:()=>Qd,lG2:()=>ie,n5z:()=>En,oAB:()=>O,oxw:()=>mm,q4F:()=>lp,qLn:()=>hd,qOj:()=>em,qZA:()=>hm,s9C:()=>rc,sBO:()=>gw,sIi:()=>ln,s_b:()=>yp,soG:()=>Hr,tBr:()=>xn,tb:()=>Qo,tp0:()=>yr,uIk:()=>Ba,vHH:()=>Ae,vpe:()=>lo,wAp:()=>ht,xp6:()=>yy,z2F:()=>Ic,zSh:()=>zg,zs3:()=>Gi});var d=x(7579),j=x(727),P=x(8306),ee=x(6451),re=x(3099);function me(r){for(let i in r)if(r[i]===me)return i;throw Error("Could not find renamed property on target object.")}function se(r,i){for(const o in i)i.hasOwnProperty(o)&&!r.hasOwnProperty(o)&&(r[o]=i[o])}function oe(r){if("string"==typeof r)return r;if(Array.isArray(r))return"["+r.map(oe).join(", ")+"]";if(null==r)return""+r;if(r.overriddenName)return`${r.overriddenName}`;if(r.name)return`${r.name}`;const i=r.toString();if(null==i)return""+i;const o=i.indexOf("\n");return-1===o?i:i.substring(0,o)}function ue(r,i){return null==r||""===r?null===i?"":i:null==i||""===i?r:r+" "+i}const W=me({__forward_ref__:me});function z(r){return r.__forward_ref__=z,r.toString=function(){return oe(this())},r}function X(r){return Fe(r)?r():r}function Fe(r){return"function"==typeof r&&r.hasOwnProperty(W)&&r.__forward_ref__===z}class Ae extends Error{constructor(i,o){super(function Pe(r,i){return`NG0${Math.abs(r)}${i?": "+i:""}`}(i,o)),this.code=i}}function ce(r){return"string"==typeof r?r:null==r?"":String(r)}function de(r){return"function"==typeof r?r.name||r.toString():"object"==typeof r&&null!=r&&"function"==typeof r.type?r.type.name||r.type.toString():ce(r)}function ze(r,i){const o=i?` in ${i}`:"";throw new Ae(-201,`No provider for ${de(r)} found${o}`)}function Xe(r,i){null==r&&function st(r,i,o,l){throw new Error(`ASSERTION ERROR: ${r}`+(null==l?"":` [Expected=> ${o} ${l} ${i} <=Actual]`))}(i,r,null,"!=")}function Vt(r){return{token:r.token,providedIn:r.providedIn||null,factory:r.factory,value:void 0}}function wr(r){return{providers:r.providers||[],imports:r.imports||[]}}function In(r){return Fn(r,ar)||Fn(r,Ie)}function Fn(r,i){return r.hasOwnProperty(i)?r[i]:null}function yi(r){return r&&(r.hasOwnProperty(Ln)||r.hasOwnProperty(Vn))?r[Ln]:null}const ar=me({\u0275prov:me}),Ln=me({\u0275inj:me}),Ie=me({ngInjectableDef:me}),Vn=me({ngInjectorDef:me});var qe=(()=>((qe=qe||{})[qe.Default=0]="Default",qe[qe.Host=1]="Host",qe[qe.Self=2]="Self",qe[qe.SkipSelf=4]="SkipSelf",qe[qe.Optional=8]="Optional",qe))();let lr;function Bt(r){const i=lr;return lr=r,i}function zn(r,i,o){const l=In(r);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:o&qe.Optional?null:void 0!==i?i:void ze(oe(r),"Injector")}function dn(r){return{toString:r}.toString()}var Cn=(()=>((Cn=Cn||{})[Cn.OnPush=0]="OnPush",Cn[Cn.Default=1]="Default",Cn))(),Ct=(()=>{return(r=Ct||(Ct={}))[r.Emulated=0]="Emulated",r[r.None=2]="None",r[r.ShadowDom=3]="ShadowDom",Ct;var r})();const Qe="undefined"!=typeof globalThis&&globalThis,et="undefined"!=typeof window&&window,Wr="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,rt=Qe||"undefined"!=typeof global&&global||et||Wr,Zt={},tt=[],Qt=me({\u0275cmp:me}),wt=me({\u0275dir:me}),Ve=me({\u0275pipe:me}),ye=me({\u0275mod:me}),He=me({\u0275fac:me}),ot=me({__NG_ELEMENT_ID__:me});let At=0;function Rt(r){return dn(()=>{const o={},l={type:r.type,providersResolver:null,decls:r.decls,vars:r.vars,factory:null,template:r.template||null,consts:r.consts||null,ngContentSelectors:r.ngContentSelectors,hostBindings:r.hostBindings||null,hostVars:r.hostVars||0,hostAttrs:r.hostAttrs||null,contentQueries:r.contentQueries||null,declaredInputs:o,inputs:null,outputs:null,exportAs:r.exportAs||null,onPush:r.changeDetection===Cn.OnPush,directiveDefs:null,pipeDefs:null,selectors:r.selectors||tt,viewQuery:r.viewQuery||null,features:r.features||null,data:r.data||{},encapsulation:r.encapsulation||Ct.Emulated,id:"c",styles:r.styles||tt,_:null,setInput:null,schemas:r.schemas||null,tView:null},u=r.directives,f=r.features,_=r.pipes;return l.id+=At++,l.inputs=V(r.inputs,o),l.outputs=V(r.outputs),f&&f.forEach(C=>C(l)),l.directiveDefs=u?()=>("function"==typeof u?u():u).map(B):null,l.pipeDefs=_?()=>("function"==typeof _?_():_).map(Z):null,l})}function B(r){return Be(r)||function nt(r){return r[wt]||null}(r)}function Z(r){return function We(r){return r[Ve]||null}(r)}const le={};function O(r){return dn(()=>{const i={type:r.type,bootstrap:r.bootstrap||tt,declarations:r.declarations||tt,imports:r.imports||tt,exports:r.exports||tt,transitiveCompileScopes:null,schemas:r.schemas||null,id:r.id||null};return null!=r.id&&(le[r.id]=r.type),i})}function V(r,i){if(null==r)return Zt;const o={};for(const l in r)if(r.hasOwnProperty(l)){let u=r[l],f=u;Array.isArray(u)&&(f=u[1],u=u[0]),o[u]=l,i&&(i[u]=f)}return o}const ie=Rt;function Re(r){return{type:r.type,name:r.name,factory:null,pure:!1!==r.pure,onDestroy:r.type.prototype.ngOnDestroy||null}}function Be(r){return r[Qt]||null}function mt(r,i){const o=r[ye]||null;if(!o&&!0===i)throw new Error(`Type ${oe(r)} does not have '\u0275mod' property.`);return o}function Zr(r){return Array.isArray(r)&&"object"==typeof r[1]}function qr(r){return Array.isArray(r)&&!0===r[1]}function Kl(r){return 0!=(8&r.flags)}function Sn(r){return 2==(2&r.flags)}function fo(r){return 1==(1&r.flags)}function Kr(r){return null!==r.template}function ta(r){return 0!=(512&r[2])}function Mi(r,i){return r.hasOwnProperty(He)?r[He]:null}class Ss{constructor(i,o,l){this.previousValue=i,this.currentValue=o,this.firstChange=l}isFirstChange(){return this.firstChange}}function Ms(){return Rs}function Rs(r){return r.type.prototype.ngOnChanges&&(r.setInput=Ri),go}function go(){const r=Pi(this),i=null==r?void 0:r.current;if(i){const o=r.previous;if(o===Zt)r.previous=i;else for(let l in i)o[l]=i[l];r.current=null,this.ngOnChanges(i)}}function Ri(r,i,o,l){const u=Pi(r)||function Zn(r,i){return r[tl]=i}(r,{previous:Zt,current:null}),f=u.current||(u.current={}),_=u.previous,C=this.declaredInputs[o],E=_[C];f[C]=new Ss(E&&E.currentValue,i,_===Zt),r[l]=i}Ms.ngInherit=!0;const tl="__ngSimpleChanges__";function Pi(r){return r[tl]||null}let Ps;function wh(r){Ps=r}function Pt(r){return!!r.listen}const ra={createRenderer:(r,i)=>function rl(){return void 0!==Ps?Ps:"undefined"!=typeof document?document:void 0}()};function on(r){for(;Array.isArray(r);)r=r[0];return r}function qn(r,i){return on(i[r])}function tr(r,i){return on(i[r.index])}function yo(r,i){return r.data[i]}function Ht(r,i){const o=i[r];return Zr(o)?o:o[0]}function su(r){return 4==(4&r[2])}function Nr(r){return 128==(128&r[2])}function cr(r,i){return null==i?null:r[i]}function xs(r){r[18]=0}function Xi(r,i){r[5]+=i;let o=r,l=r[3];for(;null!==l&&(1===i&&1===o[5]||-1===i&&0===o[5]);)l[5]+=i,o=l,l=l[3]}const lt={lFrame:ua(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Ns(){return lt.bindingsEnabled}function Ee(){return lt.lFrame.lView}function St(){return lt.lFrame.tView}function ks(r){return lt.lFrame.contextLView=r,r[8]}function hn(){let r=Oi();for(;null!==r&&64===r.type;)r=r.parent;return r}function Oi(){return lt.lFrame.currentTNode}function gr(r,i){const o=lt.lFrame;o.currentTNode=r,o.isParent=i}function es(){return lt.lFrame.isParent}function Ls(){return lt.isInCheckNoChangesMode}function wo(r){lt.isInCheckNoChangesMode=r}function jn(){const r=lt.lFrame;let i=r.bindingRootIndex;return-1===i&&(i=r.bindingRootIndex=r.tView.bindingStartIndex),i}function ts(){return lt.lFrame.bindingIndex++}function Us(r,i){const o=lt.lFrame;o.bindingIndex=o.bindingRootIndex=r,xi(i)}function xi(r){lt.lFrame.currentDirectiveIndex=r}function Bs(){return lt.lFrame.currentQueryIndex}function ll(r){lt.lFrame.currentQueryIndex=r}function Do(r){const i=r[1];return 2===i.type?i.declTNode:1===i.type?r[6]:null}function Lc(r,i,o){if(o&qe.SkipSelf){let u=i,f=r;for(;!(u=u.parent,null!==u||o&qe.Host||(u=Do(f),null===u||(f=f[15],10&u.type))););if(null===u)return!1;i=u,r=f}const l=lt.lFrame=la();return l.currentTNode=i,l.lView=r,!0}function js(r){const i=la(),o=r[1];lt.lFrame=i,i.currentTNode=o.firstChild,i.lView=r,i.tView=o,i.contextLView=r,i.bindingIndex=o.bindingStartIndex,i.inI18n=!1}function la(){const r=lt.lFrame,i=null===r?null:r.child;return null===i?ua(r):i}function ua(r){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:r,child:null,inI18n:!1};return null!==r&&(r.child=i),i}function ul(){const r=lt.lFrame;return lt.lFrame=r.parent,r.currentTNode=null,r.lView=null,r}const ca=ul;function da(){const r=ul();r.isParent=!0,r.tView=null,r.selectedIndex=-1,r.contextLView=null,r.elementDepthCount=0,r.currentDirectiveIndex=-1,r.currentNamespace=null,r.bindingRootIndex=-1,r.bindingIndex=-1,r.currentQueryIndex=0}function Kn(){return lt.lFrame.selectedIndex}function rr(r){lt.lFrame.selectedIndex=r}function mn(){const r=lt.lFrame;return yo(r.tView,r.selectedIndex)}function ns(r,i){for(let o=i.directiveStart,l=i.directiveEnd;o<l;o++){const f=r.data[o].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:C,ngAfterViewInit:E,ngAfterViewChecked:I,ngOnDestroy:A}=f;_&&(r.contentHooks||(r.contentHooks=[])).push(-o,_),C&&((r.contentHooks||(r.contentHooks=[])).push(o,C),(r.contentCheckHooks||(r.contentCheckHooks=[])).push(o,C)),E&&(r.viewHooks||(r.viewHooks=[])).push(-o,E),I&&((r.viewHooks||(r.viewHooks=[])).push(o,I),(r.viewCheckHooks||(r.viewCheckHooks=[])).push(o,I)),null!=A&&(r.destroyHooks||(r.destroyHooks=[])).push(o,A)}}function Io(r,i,o){Hc(r,i,3,o)}function pa(r,i,o,l){(3&r[2])===o&&Hc(r,i,o,l)}function ga(r,i){let o=r[2];(3&o)===i&&(o&=2047,o+=1,r[2]=o)}function Hc(r,i,o,l){const f=null!=l?l:-1,_=i.length-1;let C=0;for(let E=void 0!==l?65535&r[18]:0;E<_;E++)if("number"==typeof i[E+1]){if(C=i[E],null!=l&&C>=l)break}else i[E]<0&&(r[18]+=65536),(C<f||-1==f)&&(cl(r,o,i,E),r[18]=(4294901760&r[18])+E+2),E++}function cl(r,i,o,l){const u=o[l]<0,f=o[l+1],C=r[u?-o[l]:o[l]];if(u){if(r[2]>>11<r[18]>>16&&(3&r[2])===i){r[2]+=2048;try{f.call(C)}finally{}}}else try{f.call(C)}finally{}}class rs{constructor(i,o,l){this.factory=i,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=l}}function dl(r,i,o){const l=Pt(r);let u=0;for(;u<o.length;){const f=o[u];if("number"==typeof f){if(0!==f)break;u++;const _=o[u++],C=o[u++],E=o[u++];l?r.setAttribute(i,C,E,_):i.setAttributeNS(_,C,E)}else{const _=f,C=o[++u];Jt(_)?l&&r.setProperty(i,_,C):l?r.setAttribute(i,_,C):i.setAttribute(_,C),u++}}return u}function Hn(r){return 3===r||4===r||6===r}function Jt(r){return 64===r.charCodeAt(0)}function ma(r,i){if(null!==i&&0!==i.length)if(null===r||0===r.length)r=i.slice();else{let o=-1;for(let l=0;l<i.length;l++){const u=i[l];"number"==typeof u?o=u:0===o||$c(r,o,u,null,-1===o||2===o?i[++l]:null)}}return r}function $c(r,i,o,l,u){let f=0,_=r.length;if(-1===i)_=-1;else for(;f<r.length;){const C=r[f++];if("number"==typeof C){if(C===i){_=-1;break}if(C>i){_=f-1;break}}}for(;f<r.length;){const C=r[f];if("number"==typeof C)break;if(C===o){if(null===l)return void(null!==u&&(r[f+1]=u));if(l===r[f+1])return void(r[f+2]=u)}f++,null!==l&&f++,null!==u&&f++}-1!==_&&(r.splice(_,0,i),f=_+1),r.splice(f++,0,o),null!==l&&r.splice(f++,0,l),null!==u&&r.splice(f++,0,u)}function Wc(r){return-1!==r}function $s(r){return 32767&r}function Ao(r,i){let o=function Gc(r){return r>>16}(r),l=i;for(;o>0;)l=l[15],o--;return l}let Ni=!0;function Ci(r){const i=Ni;return Ni=r,i}let zc=0;function Gs(r,i){const o=ki(r,i);if(-1!==o)return o;const l=i[1];l.firstCreatePass&&(r.injectorIndex=i.length,hl(l.data,r),hl(i,null),hl(l.blueprint,null));const u=Fr(r,i),f=r.injectorIndex;if(Wc(u)){const _=$s(u),C=Ao(u,i),E=C[1].data;for(let I=0;I<8;I++)i[f+I]=C[_+I]|E[_+I]}return i[f+8]=u,f}function hl(r,i){r.push(0,0,0,0,0,0,0,0,i)}function ki(r,i){return-1===r.injectorIndex||r.parent&&r.parent.injectorIndex===r.injectorIndex||null===i[r.injectorIndex+8]?-1:r.injectorIndex}function Fr(r,i){if(r.parent&&-1!==r.parent.injectorIndex)return r.parent.injectorIndex;let o=0,l=null,u=i;for(;null!==u;){const f=u[1],_=f.type;if(l=2===_?f.declTNode:1===_?u[6]:null,null===l)return-1;if(o++,u=u[15],-1!==l.injectorIndex)return l.injectorIndex|o<<16}return-1}function mr(r,i,o){!function au(r,i,o){let l;"string"==typeof o?l=o.charCodeAt(0)||0:o.hasOwnProperty(ot)&&(l=o[ot]),null==l&&(l=o[ot]=zc++);const u=255&l;i.data[r+(u>>5)]|=1<<u}(r,i,o)}function Lr(r,i,o){if(o&qe.Optional)return r;ze(i,"NodeInjector")}function fl(r,i,o,l){if(o&qe.Optional&&void 0===l&&(l=null),0==(o&(qe.Self|qe.Host))){const u=r[9],f=Bt(void 0);try{return u?u.get(i,l,o&qe.Optional):zn(i,l,o&qe.Optional)}finally{Bt(f)}}return Lr(l,i,o)}function pl(r,i,o,l=qe.Default,u){if(null!==r){const f=function ss(r){if("string"==typeof r)return r.charCodeAt(0)||0;const i=r.hasOwnProperty(ot)?r[ot]:void 0;return"number"==typeof i?i>=0?255&i:ya:i}(o);if("function"==typeof f){if(!Lc(i,r,l))return l&qe.Host?Lr(u,o,l):fl(i,o,l,u);try{const _=f(l);if(null!=_||l&qe.Optional)return _;ze(o)}finally{ca()}}else if("number"==typeof f){let _=null,C=ki(r,i),E=-1,I=l&qe.Host?i[16][6]:null;for((-1===C||l&qe.SkipSelf)&&(E=-1===C?Fr(r,i):i[C+8],-1!==E&&Vr(l,!1)?(_=i[1],C=$s(E),i=Ao(E,i)):C=-1);-1!==C;){const A=i[1];if(lu(f,C,A.data)){const N=li(C,i,o,_,l,I);if(N!==So)return N}E=i[C+8],-1!==E&&Vr(l,i[1].data[C+8]===I)&&lu(f,C,i)?(_=A,C=$s(E),i=Ao(E,i)):C=-1}}}return fl(i,o,l,u)}const So={};function ya(){return new os(hn(),Ee())}function li(r,i,o,l,u,f){const _=i[1],C=_.data[r+8],A=Fi(C,_,o,null==l?Sn(C)&&Ni:l!=_&&0!=(3&C.type),u&qe.Host&&f===C);return null!==A?yn(i,_,A,C):So}function Fi(r,i,o,l,u){const f=r.providerIndexes,_=i.data,C=1048575&f,E=r.directiveStart,A=f>>20,$=u?C+A:r.directiveEnd;for(let Y=l?C:C+A;Y<$;Y++){const ge=_[Y];if(Y<E&&o===ge||Y>=E&&ge.type===o)return Y}if(u){const Y=_[E];if(Y&&Kr(Y)&&Y.type===o)return E}return null}function yn(r,i,o,l){let u=r[o];const f=i.data;if(function Dh(r){return r instanceof rs}(u)){const _=u;_.resolving&&function Se(r,i){const o=i?`. Dependency path: ${i.join(" > ")} > ${r}`:"";throw new Ae(-200,`Circular dependency in DI detected for ${r}${o}`)}(de(f[o]));const C=Ci(_.canSeeViewProviders);_.resolving=!0;const E=_.injectImpl?Bt(_.injectImpl):null;Lc(r,l,qe.Default);try{u=r[o]=_.factory(void 0,f,r,l),i.firstCreatePass&&o>=l.directiveStart&&function jc(r,i,o){const{ngOnChanges:l,ngOnInit:u,ngDoCheck:f}=i.type.prototype;if(l){const _=Rs(i);(o.preOrderHooks||(o.preOrderHooks=[])).push(r,_),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(r,_)}u&&(o.preOrderHooks||(o.preOrderHooks=[])).push(0-r,u),f&&((o.preOrderHooks||(o.preOrderHooks=[])).push(r,f),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(r,f))}(o,f[o],i)}finally{null!==E&&Bt(E),Ci(C),_.resolving=!1,ca()}}return u}function lu(r,i,o){return!!(o[i+(r>>5)]&1<<r)}function Vr(r,i){return!(r&qe.Self||r&qe.Host&&i)}class os{constructor(i,o){this._tNode=i,this._lView=o}get(i,o,l){return pl(this._tNode,this._lView,i,l,o)}}function En(r){return dn(()=>{const i=r.prototype.constructor,o=i[He]||va(i),l=Object.prototype;let u=Object.getPrototypeOf(r.prototype).constructor;for(;u&&u!==l;){const f=u[He]||va(u);if(f&&f!==o)return f;u=Object.getPrototypeOf(u)}return f=>new f})}function va(r){return Fe(r)?()=>{const i=va(X(r));return i&&i()}:Mi(r)}function Li(r){return function _a(r,i){if("class"===i)return r.classes;if("style"===i)return r.styles;const o=r.attrs;if(o){const l=o.length;let u=0;for(;u<l;){const f=o[u];if(Hn(f))break;if(0===f)u+=2;else if("number"==typeof f)for(u++;u<l&&"string"==typeof o[u];)u++;else{if(f===i)return o[u+1];u+=2}}}return null}(hn(),r)}const Jr="__parameters__";function Ei(r,i,o){return dn(()=>{const l=function Vi(r){return function(...o){if(r){const l=r(...o);for(const u in l)this[u]=l[u]}}}(i);function u(...f){if(this instanceof u)return l.apply(this,f),this;const _=new u(...f);return C.annotation=_,C;function C(E,I,A){const N=E.hasOwnProperty(Jr)?E[Jr]:Object.defineProperty(E,Jr,{value:[]})[Jr];for(;N.length<=A;)N.push(null);return(N[A]=N[A]||[]).push(_),E}}return o&&(u.prototype=Object.create(o.prototype)),u.prototype.ngMetadataName=r,u.annotationCls=u,u})}class Xt{constructor(i,o){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=Vt({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}toString(){return`InjectionToken ${this._desc}`}}const zs=new Xt("AnalyzeForEntryComponents");function Yn(r,i){void 0===i&&(i=r);for(let o=0;o<r.length;o++){let l=r[o];Array.isArray(l)?(i===r&&(i=r.slice(0,o)),Yn(l,i)):i!==r&&i.push(l)}return i}function an(r,i){r.forEach(o=>Array.isArray(o)?an(o,i):i(o))}function Ea(r,i,o){i>=r.length?r.push(o):r.splice(i,0,o)}function ba(r,i){return i>=r.length-1?r.pop():r.splice(i,1)[0]}function ir(r,i,o){let l=cs(r,i);return l>=0?r[1|l]=o:(l=~l,function Bi(r,i,o,l){let u=r.length;if(u==i)r.push(o,l);else if(1===u)r.push(l,r[0]),r[0]=o;else{for(u--,r.push(r[u-1],r[u]);u>i;)r[u]=r[u-2],u--;r[i]=o,r[i+1]=l}}(r,l,i,o)),l}function Da(r,i){const o=cs(r,i);if(o>=0)return r[1|o]}function cs(r,i){return function Rh(r,i,o){let l=0,u=r.length>>o;for(;u!==l;){const f=l+(u-l>>1),_=r[f<<o];if(i===_)return f<<o;_>i?u=f:l=f+1}return~(u<<o)}(r,i,1)}const dr={},Oo="__NG_DI_FLAG__",xo="ngTempTokenPath",Ks=/\n/gm,Aa="__source",b=me({provide:String,useValue:me});let D;function M(r){const i=D;return D=r,i}function U(r,i=qe.Default){if(void 0===D)throw new Ae(203,"");return null===D?zn(r,void 0,i):D.get(r,i&qe.Optional?null:void 0,i)}function K(r,i=qe.Default){return(function zt(){return lr}()||U)(X(r),i)}function Ge(r){const i=[];for(let o=0;o<r.length;o++){const l=X(r[o]);if(Array.isArray(l)){if(0===l.length)throw new Ae(900,"");let u,f=qe.Default;for(let _=0;_<l.length;_++){const C=l[_],E=ft(C);"number"==typeof E?-1===E?u=C.token:f|=E:u=C}i.push(K(u,f))}else i.push(K(l))}return i}function dt(r,i){return r[Oo]=i,r.prototype[Oo]=i,r}function ft(r){return r[Oo]}const xn=dt(Ei("Inject",r=>({token:r})),-1),en=dt(Ei("Optional"),8),yr=dt(Ei("SkipSelf"),4);class Du{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function ko(r){return r instanceof Du?r.changingThisBreaksApplicationSecurity:r}const rd=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,id=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var m=(()=>((m=m||{})[m.NONE=0]="NONE",m[m.HTML=1]="HTML",m[m.STYLE=2]="STYLE",m[m.SCRIPT=3]="SCRIPT",m[m.URL=4]="URL",m[m.RESOURCE_URL=5]="RESOURCE_URL",m))();function y(r){const i=function Yt(){const r=Ee();return r&&r[12]}();return i?i.sanitize(m.URL,r)||"":function Xs(r,i){const o=function Yp(r){return r instanceof Du&&r.getTypeName()||null}(r);if(null!=o&&o!==i){if("ResourceURL"===o&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${o} (see https://g.co/ng/security#xss)`)}return o===i}(r,"URL")?ko(r):function Fo(r){return(r=String(r)).match(rd)||r.match(id)?r:"unsafe:"+r}(ce(r))}const ud="__ngContext__";function Ke(r,i){r[ud]=i}function Pa(r){const i=function Wn(r){return r[ud]||null}(r);return i?Array.isArray(i)?i:i.lView:null}function eo(r){return r.ngOriginalError}function NE(r,...i){r.error(...i)}class hd{constructor(){this._console=console}handleError(i){const o=this._findOriginalError(i),l=function Gw(r){return r&&r.ngErrorLogger||NE}(i);l(this._console,"ERROR",i),o&&l(this._console,"ORIGINAL ERROR",o)}_findOriginalError(i){let o=i&&eo(i);for(;o&&eo(o);)o=eo(o);return o||null}}const $h=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(rt))();function Vo(r){return r instanceof Function?r():r}var Uo=(()=>((Uo=Uo||{})[Uo.Important=1]="Important",Uo[Uo.DashCase=2]="DashCase",Uo))();function cg(r,i){return undefined(r,i)}function Dl(r){const i=r[3];return qr(i)?i[3]:i}function fg(r){return sy(r[13])}function pd(r){return sy(r[4])}function sy(r){for(;null!==r&&!qr(r);)r=r[4];return r}function gd(r,i,o,l,u){if(null!=l){let f,_=!1;qr(l)?f=l:Zr(l)&&(_=!0,l=l[0]);const C=on(l);0===r&&null!==o?null==u?dy(i,o,C):Ou(i,o,C,u||null,!0):1===r&&null!==o?Ou(i,o,C,u||null,!0):2===r?function Zh(r,i,o){const l=Hi(r,i);l&&function Il(r,i,o,l){Pt(r)?r.removeChild(i,o,l):i.removeChild(o)}(r,l,i,o)}(i,C,_):3===r&&i.destroyNode(C),null!=f&&function Tl(r,i,o,l,u){const f=o[7];f!==on(o)&&gd(i,r,l,f,u);for(let C=10;C<o.length;C++){const E=o[C];xu(E[1],E,r,i,l,f)}}(i,r,f,o,u)}}function ay(r,i,o){return Pt(r)?r.createElement(i,o):null===o?r.createElement(i):r.createElementNS(o,i)}function md(r,i){const o=r[9],l=o.indexOf(i),u=i[3];1024&i[2]&&(i[2]&=-1025,Xi(u,-1)),o.splice(l,1)}function Oa(r,i){if(r.length<=10)return;const o=10+i,l=r[o];if(l){const u=l[17];null!==u&&u!==r&&md(u,l),i>0&&(r[o-1][4]=l[4]);const f=ba(r,10+i);!function gs(r,i){xu(r,i,i[11],2,null,null),i[0]=null,i[6]=null}(l[1],l);const _=f[19];null!==_&&_.detachView(f[1]),l[3]=null,l[4]=null,l[2]&=-129}return l}function uy(r,i){if(!(256&i[2])){const o=i[11];Pt(o)&&o.destroyNode&&xu(r,i,o,3,null,null),function ly(r){let i=r[13];if(!i)return mg(r[1],r);for(;i;){let o=null;if(Zr(i))o=i[13];else{const l=i[10];l&&(o=l)}if(!o){for(;i&&!i[4]&&i!==r;)Zr(i)&&mg(i[1],i),i=i[3];null===i&&(i=r),Zr(i)&&mg(i[1],i),o=i&&i[4]}i=o}}(i)}}function mg(r,i){if(!(256&i[2])){i[2]&=-129,i[2]|=256,function jE(r,i){let o;if(null!=r&&null!=(o=r.destroyHooks))for(let l=0;l<o.length;l+=2){const u=i[o[l]];if(!(u instanceof rs)){const f=o[l+1];if(Array.isArray(f))for(let _=0;_<f.length;_+=2){const C=u[f[_]],E=f[_+1];try{E.call(C)}finally{}}else try{f.call(u)}finally{}}}}(r,i),function BE(r,i){const o=r.cleanup,l=i[7];let u=-1;if(null!==o)for(let f=0;f<o.length-1;f+=2)if("string"==typeof o[f]){const _=o[f+1],C="function"==typeof _?_(i):on(i[_]),E=l[u=o[f+2]],I=o[f+3];"boolean"==typeof I?C.removeEventListener(o[f],E,I):I>=0?l[u=I]():l[u=-I].unsubscribe(),f+=2}else{const _=l[u=o[f+1]];o[f].call(_)}if(null!==l){for(let f=u+1;f<l.length;f++)l[f]();i[7]=null}}(r,i),1===i[1].type&&Pt(i[11])&&i[11].destroy();const o=i[17];if(null!==o&&qr(i[3])){o!==i[3]&&md(o,i);const l=i[19];null!==l&&l.detachView(r)}}}function cy(r,i,o){return function Nn(r,i,o){let l=i;for(;null!==l&&40&l.type;)l=(i=l).parent;if(null===l)return o[0];if(2&l.flags){const u=r.data[l.directiveStart].encapsulation;if(u===Ct.None||u===Ct.Emulated)return null}return tr(l,o)}(r,i.parent,o)}function Ou(r,i,o,l,u){Pt(r)?r.insertBefore(i,o,l,u):i.insertBefore(o,l,u)}function dy(r,i,o){Pt(r)?r.appendChild(i,o):i.appendChild(o)}function xa(r,i,o,l,u){null!==l?Ou(r,i,o,l,u):dy(r,i,o)}function Hi(r,i){return Pt(r)?r.parentNode(i):i.parentNode}let yg=function _g(r,i,o){return 40&r.type?tr(r,o):null};function Gh(r,i,o,l){const u=cy(r,l,i),f=i[11],C=function _d(r,i,o){return yg(r,i,o)}(l.parent||i[6],l,i);if(null!=u)if(Array.isArray(o))for(let E=0;E<o.length;E++)xa(f,u,o[E],C,!1);else xa(f,u,o,C,!1)}function zh(r,i){if(null!==i){const o=i.type;if(3&o)return tr(i,r);if(4&o)return Bo(-1,r[i.index]);if(8&o){const l=i.child;if(null!==l)return zh(r,l);{const u=r[i.index];return qr(u)?Bo(-1,u):on(u)}}if(32&o)return cg(i,r)()||on(r[i.index]);{const l=Cg(r,i);return null!==l?Array.isArray(l)?l[0]:zh(Dl(r[16]),l):zh(r,i.next)}}return null}function Cg(r,i){return null!==i?r[16][6].projection[i.projection]:null}function Bo(r,i){const o=10+r+1;if(o<i.length){const l=i[o],u=l[1].firstChild;if(null!==u)return zh(l,u)}return i[7]}function Na(r,i,o,l,u,f,_){for(;null!=o;){const C=l[o.index],E=o.type;if(_&&0===i&&(C&&Ke(on(C),l),o.flags|=4),64!=(64&o.flags))if(8&E)Na(r,i,o.child,l,u,f,!1),gd(i,r,u,C,f);else if(32&E){const I=cg(o,l);let A;for(;A=I();)gd(i,r,u,A,f);gd(i,r,u,C,f)}else 16&E?Nu(r,i,l,o,u,f):gd(i,r,u,C,f);o=_?o.projectionNext:o.next}}function xu(r,i,o,l,u,f){Na(o,l,r.firstChild,i,u,f,!1)}function Nu(r,i,o,l,u,f){const _=o[16],E=_[6].projection[l.projection];if(Array.isArray(E))for(let I=0;I<E.length;I++)gd(i,r,u,E[I],f);else Na(r,i,E,_[3],u,f,!0)}function Eg(r,i,o){Pt(r)?r.setAttribute(i,"style",o):i.style.cssText=o}function hr(r,i,o){Pt(r)?""===o?r.removeAttribute(i,"class"):r.setAttribute(i,"class",o):i.className=o}function ku(r,i,o){let l=r.length;for(;;){const u=r.indexOf(i,o);if(-1===u)return u;if(0===u||r.charCodeAt(u-1)<=32){const f=i.length;if(u+f===l||r.charCodeAt(u+f)<=32)return u}o=u+1}}const ms="ng-template";function ei(r,i,o){let l=0;for(;l<r.length;){let u=r[l++];if(o&&"class"===u){if(u=r[l],-1!==ku(u.toLowerCase(),i,0))return!0}else if(1===u){for(;l<r.length&&"string"==typeof(u=r[l++]);)if(u.toLowerCase()===i)return!0;return!1}}return!1}function gy(r){return 4===r.type&&r.value!==ms}function qh(r,i,o){return i===(4!==r.type||o?r.value:ms)}function HE(r,i,o){let l=4;const u=r.attrs||[],f=function vd(r){for(let i=0;i<r.length;i++)if(Hn(r[i]))return i;return r.length}(u);let _=!1;for(let C=0;C<i.length;C++){const E=i[C];if("number"!=typeof E){if(!_)if(4&l){if(l=2|1&l,""!==E&&!qh(r,E,o)||""===E&&1===i.length){if(vr(l))return!1;_=!0}}else{const I=8&l?E:i[++C];if(8&l&&null!==r.attrs){if(!ei(r.attrs,I,o)){if(vr(l))return!1;_=!0}continue}const N=to(8&l?"class":E,u,gy(r),o);if(-1===N){if(vr(l))return!1;_=!0;continue}if(""!==I){let $;$=N>f?"":u[N+1].toLowerCase();const Y=8&l?$:null;if(Y&&-1!==ku(Y,I,0)||2&l&&I!==$){if(vr(l))return!1;_=!0}}}}else{if(!_&&!vr(l)&&!vr(E))return!1;if(_&&vr(E))continue;_=!1,l=E|1&l}}return vr(l)||_}function vr(r){return 0==(1&r)}function to(r,i,o,l){if(null===i)return-1;let u=0;if(l||!o){let f=!1;for(;u<i.length;){const _=i[u];if(_===r)return u;if(3===_||6===_)f=!0;else{if(1===_||2===_){let C=i[++u];for(;"string"==typeof C;)C=i[++u];continue}if(4===_)break;if(0===_){u+=4;continue}}u+=f?1:2}return-1}return function bg(r,i){let o=r.indexOf(4);if(o>-1)for(o++;o<r.length;){const l=r[o];if("number"==typeof l)return-1;if(l===i)return o;o++}return-1}(i,r)}function ka(r,i,o=!1){for(let l=0;l<i.length;l++)if(HE(r,i[l],o))return!0;return!1}function Cr(r,i){return r?":not("+i.trim()+")":i}function _y(r){let i=r[0],o=1,l=2,u="",f=!1;for(;o<r.length;){let _=r[o];if("string"==typeof _)if(2&l){const C=r[++o];u+="["+_+(C.length>0?'="'+C+'"':"")+"]"}else 8&l?u+="."+_:4&l&&(u+=" "+_);else""!==u&&!vr(_)&&(i+=Cr(f,u),u=""),l=_,f=f||!vr(l);o++}return""!==u&&(i+=Cr(f,u)),i}const bt={};function yy(r){wg(St(),Ee(),Kn()+r,Ls())}function wg(r,i,o,l){if(!l)if(3==(3&i[2])){const f=r.preOrderCheckHooks;null!==f&&Io(i,f,o)}else{const f=r.preOrderHooks;null!==f&&pa(i,f,0,o)}rr(o)}function Al(r,i){return r<<17|i<<2}function Br(r){return r>>17&32767}function Dg(r){return 2|r}function jo(r){return(131068&r)>>2}function Sl(r,i){return-131069&r|i<<2}function Yh(r){return 1|r}function Dy(r,i){const o=r.contentQueries;if(null!==o)for(let l=0;l<o.length;l+=2){const u=o[l],f=o[l+1];if(-1!==f){const _=r.data[f];ll(u),_.contentQueries(2,i[f],f)}}}function Lu(r,i,o,l,u,f,_,C,E,I){const A=i.blueprint.slice();return A[0]=u,A[2]=140|l,xs(A),A[3]=A[15]=r,A[8]=o,A[10]=_||r&&r[10],A[11]=C||r&&r[11],A[12]=E||r&&r[12]||null,A[9]=I||r&&r[9]||null,A[6]=f,A[16]=2==i.type?r[16]:A,A}function Vu(r,i,o,l,u){let f=r.data[i];if(null===f)f=function ef(r,i,o,l,u){const f=Oi(),_=es(),E=r.data[i]=function La(r,i,o,l,u,f){return{type:o,index:l,insertBeforeIndex:null,injectorIndex:i?i.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:u,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?f:f&&f.parent,o,i,l,u);return null===r.firstChild&&(r.firstChild=E),null!==f&&(_?null==f.child&&null!==E.parent&&(f.child=E):null===f.next&&(f.next=E)),E}(r,i,o,l,u),function ol(){return lt.lFrame.inI18n}()&&(f.flags|=64);else if(64&f.type){f.type=o,f.value=l,f.attrs=u;const _=function Fs(){const r=lt.lFrame,i=r.currentTNode;return r.isParent?i:i.parent}();f.injectorIndex=null===_?-1:_.injectorIndex}return gr(f,!0),f}function Uu(r,i,o,l){if(0===o)return-1;const u=i.length;for(let f=0;f<o;f++)i.push(l),r.blueprint.push(l),r.data.push(null);return u}function Bu(r,i,o){js(i);try{const l=r.viewQuery;null!==l&&uf(1,l,o);const u=r.template;null!==u&&Fg(r,i,u,1,o),r.firstCreatePass&&(r.firstCreatePass=!1),r.staticContentQueries&&Dy(r,i),r.staticViewQueries&&uf(2,r.viewQuery,o);const f=r.components;null!==f&&function kg(r,i){for(let o=0;o<i.length;o++)fi(r,i[o])}(i,f)}catch(l){throw r.firstCreatePass&&(r.incompleteFirstPass=!0,r.firstCreatePass=!1),l}finally{i[2]&=-5,da()}}function Ml(r,i,o,l){const u=i[2];if(256==(256&u))return;js(i);const f=Ls();try{xs(i),function Vs(r){return lt.lFrame.bindingIndex=r}(r.bindingStartIndex),null!==o&&Fg(r,i,o,2,l);const _=3==(3&u);if(!f)if(_){const I=r.preOrderCheckHooks;null!==I&&Io(i,I,null)}else{const I=r.preOrderHooks;null!==I&&pa(i,I,0,null),ga(i,0)}if(function of(r){for(let i=fg(r);null!==i;i=pd(i)){if(!i[2])continue;const o=i[9];for(let l=0;l<o.length;l++){const u=o[l],f=u[3];0==(1024&u[2])&&Xi(f,1),u[2]|=1024}}}(i),function no(r){for(let i=fg(r);null!==i;i=pd(i))for(let o=10;o<i.length;o++){const l=i[o],u=l[1];Nr(l)&&Ml(u,l,u.template,l[8])}}(i),null!==r.contentQueries&&Dy(r,i),!f)if(_){const I=r.contentCheckHooks;null!==I&&Io(i,I)}else{const I=r.contentHooks;null!==I&&pa(i,I,1),ga(i,1)}!function s0(r,i){const o=r.hostBindingOpCodes;if(null!==o)try{for(let l=0;l<o.length;l++){const u=o[l];if(u<0)rr(~u);else{const f=u,_=o[++l],C=o[++l];Us(_,f),C(2,i[f])}}}finally{rr(-1)}}(r,i);const C=r.components;null!==C&&function o0(r,i){for(let o=0;o<i.length;o++)ys(r,i[o])}(i,C);const E=r.viewQuery;if(null!==E&&uf(2,E,l),!f)if(_){const I=r.viewCheckHooks;null!==I&&Io(i,I)}else{const I=r.viewHooks;null!==I&&pa(i,I,2),ga(i,2)}!0===r.firstUpdatePass&&(r.firstUpdatePass=!1),f||(i[2]&=-73),1024&i[2]&&(i[2]&=-1025,Xi(i[3],-1))}finally{da()}}function Iy(r,i,o,l){const u=i[10],f=!Ls(),_=su(i);try{f&&!_&&u.begin&&u.begin(),_&&Bu(r,i,l),Ml(r,i,o,l)}finally{f&&!_&&u.end&&u.end()}}function Fg(r,i,o,l,u){const f=Kn(),_=2&l;try{rr(-1),_&&i.length>20&&wg(r,i,20,Ls()),o(l,u)}finally{rr(f)}}function tf(r,i,o){!Ns()||(function Oy(r,i,o,l){const u=o.directiveStart,f=o.directiveEnd;r.firstCreatePass||Gs(o,i),Ke(l,i);const _=o.initialInputs;for(let C=u;C<f;C++){const E=r.data[C],I=Kr(E);I&&c0(i,o,E);const A=yn(i,r,C,o);Ke(A,i),null!==_&&kt(0,C-u,A,E,0,_),I&&(Ht(o.index,i)[8]=A)}}(r,i,o,tr(o,i)),128==(128&o.flags)&&function Pl(r,i,o){const l=o.directiveStart,u=o.directiveEnd,_=o.index,C=function al(){return lt.lFrame.currentDirectiveIndex}();try{rr(_);for(let E=l;E<u;E++){const I=r.data[E],A=i[E];xi(E),(null!==I.hostBindings||0!==I.hostVars||null!==I.hostAttrs)&&rf(I,A)}}finally{rr(-1),xi(C)}}(r,i,o))}function nf(r,i,o=tr){const l=i.localNames;if(null!==l){let u=i.index+1;for(let f=0;f<l.length;f+=2){const _=l[f+1],C=-1===_?o(i,r):r[_];r[u++]=C}}}function Lg(r){const i=r.tView;return null===i||i.incompleteFirstPass?r.tView=Rl(1,null,r.template,r.decls,r.vars,r.directiveDefs,r.pipeDefs,r.viewQuery,r.schemas,r.consts):i}function Rl(r,i,o,l,u,f,_,C,E,I){const A=20+l,N=A+u,$=function Ay(r,i){const o=[];for(let l=0;l<i;l++)o.push(l<r?null:bt);return o}(A,N),Y="function"==typeof I?I():I;return $[1]={type:r,blueprint:$,template:o,queries:null,viewQuery:C,declTNode:i,data:$.slice().fill(null,A),bindingStartIndex:A,expandoStartIndex:N,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:E,consts:Y,incompleteFirstPass:!1}}function Mt(r,i,o,l){const u=Vy(i);null===o?u.push(l):(u.push(o),r.firstCreatePass&&bn(r).push(l,u.length-1))}function vn(r,i,o){for(let l in r)if(r.hasOwnProperty(l)){const u=r[l];(o=null===o?{}:o).hasOwnProperty(l)?o[l].push(i,u):o[l]=[i,u]}return o}function Ar(r,i,o,l,u,f,_,C){const E=tr(i,o);let A,I=i.inputs;!C&&null!=I&&(A=I[l])?(Ad(r,o,A,l,u),Sn(i)&&function Sy(r,i){const o=Ht(i,r);16&o[2]||(o[2]|=64)}(o,i.index)):3&i.type&&(l=function a0(r){return"class"===r?"className":"for"===r?"htmlFor":"formaction"===r?"formAction":"innerHtml"===r?"innerHTML":"readonly"===r?"readOnly":"tabindex"===r?"tabIndex":r}(l),u=null!=_?_(u,i.value||"",l):u,Pt(f)?f.setProperty(E,l,u):Jt(l)||(E.setProperty?E.setProperty(l,u):E[l]=u))}function Bg(r,i,o,l){let u=!1;if(Ns()){const f=function Id(r,i,o){const l=r.directiveRegistry;let u=null;if(l)for(let f=0;f<l.length;f++){const _=l[f];ka(o,_.selectors,!1)&&(u||(u=[]),mr(Gs(o,i),r,_.type),Kr(_)?(xy(r,o),u.unshift(_)):u.push(_))}return u}(r,i,o),_=null===l?null:{"":-1};if(null!==f){u=!0,ky(o,r.data.length,f.length);for(let A=0;A<f.length;A++){const N=f[A];N.providersResolver&&N.providersResolver(N)}let C=!1,E=!1,I=Uu(r,i,f.length,null);for(let A=0;A<f.length;A++){const N=f[A];o.mergedAttrs=ma(o.mergedAttrs,N.hostAttrs),Fy(r,o,i,I,N),Ny(I,N,_),null!==N.contentQueries&&(o.flags|=8),(null!==N.hostBindings||null!==N.hostAttrs||0!==N.hostVars)&&(o.flags|=128);const $=N.type.prototype;!C&&($.ngOnChanges||$.ngOnInit||$.ngDoCheck)&&((r.preOrderHooks||(r.preOrderHooks=[])).push(o.index),C=!0),!E&&($.ngOnChanges||$.ngDoCheck)&&((r.preOrderCheckHooks||(r.preOrderCheckHooks=[])).push(o.index),E=!0),I++}!function Ug(r,i){const l=i.directiveEnd,u=r.data,f=i.attrs,_=[];let C=null,E=null;for(let I=i.directiveStart;I<l;I++){const A=u[I],N=A.inputs,$=null===f||gy(i)?null:sf(N,f);_.push($),C=vn(N,I,C),E=vn(A.outputs,I,E)}null!==C&&(C.hasOwnProperty("class")&&(i.flags|=16),C.hasOwnProperty("style")&&(i.flags|=32)),i.initialInputs=_,i.inputs=C,i.outputs=E}(r,o)}_&&function u0(r,i,o){if(i){const l=r.localNames=[];for(let u=0;u<i.length;u+=2){const f=o[i[u+1]];if(null==f)throw new Ae(-301,`Export of name '${i[u+1]}' not found!`);l.push(i[u],f)}}}(o,l,_)}return o.mergedAttrs=ma(o.mergedAttrs,o.attrs),u}function Py(r,i,o,l,u,f){const _=f.hostBindings;if(_){let C=r.hostBindingOpCodes;null===C&&(C=r.hostBindingOpCodes=[]);const E=~i.index;(function l0(r){let i=r.length;for(;i>0;){const o=r[--i];if("number"==typeof o&&o<0)return o}return 0})(C)!=E&&C.push(E),C.push(l,u,_)}}function rf(r,i){null!==r.hostBindings&&r.hostBindings(1,i)}function xy(r,i){i.flags|=2,(r.components||(r.components=[])).push(i.index)}function Ny(r,i,o){if(o){if(i.exportAs)for(let l=0;l<i.exportAs.length;l++)o[i.exportAs[l]]=r;Kr(i)&&(o[""]=r)}}function ky(r,i,o){r.flags|=1,r.directiveStart=i,r.directiveEnd=i+o,r.providerIndexes=i}function Fy(r,i,o,l,u){r.data[l]=u;const f=u.factory||(u.factory=Mi(u.type)),_=new rs(f,Kr(u),null);r.blueprint[l]=_,o[l]=_,Py(r,i,0,l,Uu(r,o,u.hostVars,bt),u)}function c0(r,i,o){const l=tr(i,r),u=Lg(o),f=r[10],_=ju(r,Lu(r,u,null,o.onPush?64:16,l,i,f,f.createRenderer(l,o),null,null));r[i.index]=_}function _s(r,i,o,l,u,f){const _=tr(r,i);!function $o(r,i,o,l,u,f,_){if(null==f)Pt(r)?r.removeAttribute(i,u,o):i.removeAttribute(u);else{const C=null==_?ce(f):_(f,l||"",u);Pt(r)?r.setAttribute(i,u,C,o):o?i.setAttributeNS(o,u,C):i.setAttribute(u,C)}}(i[11],_,f,r.value,o,l,u)}function kt(r,i,o,l,u,f){const _=f[i];if(null!==_){const C=l.setInput;for(let E=0;E<_.length;){const I=_[E++],A=_[E++],N=_[E++];null!==C?l.setInput(o,N,I,A):o[A]=N}}}function sf(r,i){let o=null,l=0;for(;l<i.length;){const u=i[l];if(0!==u)if(5!==u){if("number"==typeof u)break;r.hasOwnProperty(u)&&(null===o&&(o=[]),o.push(u,r[u],i[l+1])),l+=2}else l+=2;else l+=4}return o}function Hg(r,i,o,l){return new Array(r,!0,!1,i,null,0,l,o,null,null)}function ys(r,i){const o=Ht(i,r);if(Nr(o)){const l=o[1];80&o[2]?Ml(l,o,l.template,o[8]):o[5]>0&&$g(o)}}function $g(r){for(let l=fg(r);null!==l;l=pd(l))for(let u=10;u<l.length;u++){const f=l[u];if(1024&f[2]){const _=f[1];Ml(_,f,_.template,f[8])}else f[5]>0&&$g(f)}const o=r[1].components;if(null!==o)for(let l=0;l<o.length;l++){const u=Ht(o[l],r);Nr(u)&&u[5]>0&&$g(u)}}function fi(r,i){const o=Ht(i,r),l=o[1];(function d0(r,i){for(let o=i.length;o<r.blueprint.length;o++)i.push(r.blueprint[o])})(l,o),Bu(l,o,o[8])}function ju(r,i){return r[13]?r[14][4]=i:r[13]=i,r[14]=i,i}function Td(r){for(;r;){r[2]|=64;const i=Dl(r);if(ta(r)&&!i)return r;r=i}return null}function lf(r,i,o){const l=i[10];l.begin&&l.begin();try{Ml(r,i,r.template,o)}catch(u){throw By(i,u),u}finally{l.end&&l.end()}}function Wg(r){!function af(r){for(let i=0;i<r.components.length;i++){const o=r.components[i],l=Pa(o),u=l[1];Iy(u,l,u.template,o)}}(r[8])}function uf(r,i,o){ll(0),i(r,o)}const f0=(()=>Promise.resolve(null))();function Vy(r){return r[7]||(r[7]=[])}function bn(r){return r.cleanup||(r.cleanup=[])}function By(r,i){const o=r[9],l=o?o.get(hd,null):null;l&&l.handleError(i)}function Ad(r,i,o,l,u){for(let f=0;f<o.length;){const _=o[f++],C=o[f++],E=i[_],I=r.data[_];null!==I.setInput?I.setInput(E,u,l,C):E[C]=u}}function vs(r,i,o){const l=qn(i,r);!function oy(r,i,o){Pt(r)?r.setValue(i,o):i.textContent=o}(r[11],l,o)}function Wo(r,i,o){let l=o?r.styles:null,u=o?r.classes:null,f=0;if(null!==i)for(let _=0;_<i.length;_++){const C=i[_];"number"==typeof C?f=C:1==f?u=ue(u,C):2==f&&(l=ue(l,C+": "+i[++_]+";"))}o?r.styles=l:r.stylesWithoutHost=l,o?r.classes=u:r.classesWithoutHost=u}const Gg=new Xt("INJECTOR",-1);class $u{get(i,o=dr){if(o===dr){const l=new Error(`NullInjectorError: No provider for ${oe(i)}!`);throw l.name="NullInjectorError",l}return o}}const zg=new Xt("Set Injector scope."),wn={},Zg={};let qg;function cf(){return void 0===qg&&(qg=new $u),qg}function Ol(r,i=null,o=null,l){const u=df(r,i,o,l);return u._resolveInjectorDefTypes(),u}function df(r,i=null,o=null,l){return new jy(r,o,i||cf(),l)}class jy{constructor(i,o,l,u=null){this.parent=l,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const f=[];o&&an(o,C=>this.processProvider(C,i,o)),an([i],C=>this.processInjectorType(C,[],f)),this.records.set(Gg,xl(void 0,this));const _=this.records.get(zg);this.scope=null!=_?_.value:null,this.source=u||("object"==typeof i?null:oe(i))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(i=>i.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(i,o=dr,l=qe.Default){this.assertNotDestroyed();const u=M(this),f=Bt(void 0);try{if(!(l&qe.SkipSelf)){let C=this.records.get(i);if(void 0===C){const E=function ff(r){return"function"==typeof r||"object"==typeof r&&r instanceof Xt}(i)&&In(i);C=E&&this.injectableDefInScope(E)?xl(hf(i),wn):null,this.records.set(i,C)}if(null!=C)return this.hydrate(i,C)}return(l&qe.Self?cf():this.parent).get(i,o=l&qe.Optional&&o===dr?null:o)}catch(_){if("NullInjectorError"===_.name){if((_[xo]=_[xo]||[]).unshift(oe(i)),u)throw _;return function Tt(r,i,o,l){const u=r[xo];throw i[Aa]&&u.unshift(i[Aa]),r.message=function yt(r,i,o,l=null){r=r&&"\n"===r.charAt(0)&&"\u0275"==r.charAt(1)?r.substr(2):r;let u=oe(i);if(Array.isArray(i))u=i.map(oe).join(" -> ");else if("object"==typeof i){let f=[];for(let _ in i)if(i.hasOwnProperty(_)){let C=i[_];f.push(_+":"+("string"==typeof C?JSON.stringify(C):oe(C)))}u=`{${f.join(", ")}}`}return`${o}${l?"("+l+")":""}[${u}]: ${r.replace(Ks,"\n  ")}`}("\n"+r.message,u,o,l),r.ngTokenPath=u,r[xo]=null,r}(_,i,"R3InjectorError",this.source)}throw _}finally{Bt(f),M(u)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(i=>this.get(i))}toString(){const i=[];return this.records.forEach((l,u)=>i.push(oe(u))),`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ae(205,"")}processInjectorType(i,o,l){if(!(i=X(i)))return!1;let u=yi(i);const f=null==u&&i.ngModule||void 0,_=void 0===f?i:f,C=-1!==l.indexOf(_);if(void 0!==f&&(u=yi(f)),null==u)return!1;if(null!=u.imports&&!C){let A;l.push(_);try{an(u.imports,N=>{this.processInjectorType(N,o,l)&&(void 0===A&&(A=[]),A.push(N))})}finally{}if(void 0!==A)for(let N=0;N<A.length;N++){const{ngModule:$,providers:Y}=A[N];an(Y,ge=>this.processProvider(ge,$,Y||tt))}}this.injectorDefTypes.add(_);const E=Mi(_)||(()=>new _);this.records.set(_,xl(E,wn));const I=u.providers;if(null!=I&&!C){const A=i;an(I,N=>this.processProvider(N,A,I))}return void 0!==f&&void 0!==i.providers}processProvider(i,o,l){let u=Wu(i=X(i))?i:X(i&&i.provide);const f=function Hy(r,i,o){return Nl(r)?xl(void 0,r.useValue):xl(Kg(r),wn)}(i);if(Wu(i)||!0!==i.multi)this.records.get(u);else{let _=this.records.get(u);_||(_=xl(void 0,wn,!0),_.factory=()=>Ge(_.multi),this.records.set(u,_)),u=i,_.multi.push(i)}this.records.set(u,f)}hydrate(i,o){return o.value===wn&&(o.value=Zg,o.value=o.factory()),"object"==typeof o.value&&o.value&&function g0(r){return null!==r&&"object"==typeof r&&"function"==typeof r.ngOnDestroy}(o.value)&&this.onDestroy.add(o.value),o.value}injectableDefInScope(i){if(!i.providedIn)return!1;const o=X(i.providedIn);return"string"==typeof o?"any"===o||o===this.scope:this.injectorDefTypes.has(o)}}function hf(r){const i=In(r),o=null!==i?i.factory:Mi(r);if(null!==o)return o;if(r instanceof Xt)throw new Ae(204,"");if(r instanceof Function)return function p0(r){const i=r.length;if(i>0)throw function Zs(r,i){const o=[];for(let l=0;l<r;l++)o.push(i);return o}(i,"?"),new Ae(204,"");const o=function Gt(r){const i=r&&(r[ar]||r[Ie]);if(i){const o=function An(r){if(r.hasOwnProperty("name"))return r.name;const i=(""+r).match(/^function\s*([^\s(]+)/);return null===i?"":i[1]}(r);return console.warn(`DEPRECATED: DI is instantiating a token "${o}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${o}" class.`),i}return null}(r);return null!==o?()=>o.factory(r):()=>new r}(r);throw new Ae(204,"")}function Kg(r,i,o){let l;if(Wu(r)){const u=X(r);return Mi(u)||hf(u)}if(Nl(r))l=()=>X(r.useValue);else if(function Rd(r){return!(!r||!r.useFactory)}(r))l=()=>r.useFactory(...Ge(r.deps||[]));else if(function Md(r){return!(!r||!r.useExisting)}(r))l=()=>K(X(r.useExisting));else{const u=X(r&&(r.useClass||r.provide));if(!function Pd(r){return!!r.deps}(r))return Mi(u)||hf(u);l=()=>new u(...Ge(r.deps))}return l}function xl(r,i,o=!1){return{factory:r,value:i,multi:o?[]:void 0}}function Nl(r){return null!==r&&"object"==typeof r&&b in r}function Wu(r){return"function"==typeof r}let Gi=(()=>{class r{static create(o,l){var u;if(Array.isArray(o))return Ol({name:""},l,o,"");{const f=null!==(u=o.name)&&void 0!==u?u:"";return Ol({name:f},o.parent,o.providers,f)}}}return r.THROW_IF_NOT_FOUND=dr,r.NULL=new $u,r.\u0275prov=Vt({token:r,providedIn:"any",factory:()=>K(Gg)}),r.__NG_ELEMENT_ID__=-1,r})();function kl(r,i){ns(Pa(r)[1],hn())}function em(r){let i=function zo(r){return Object.getPrototypeOf(r.prototype).constructor}(r.type),o=!0;const l=[r];for(;i;){let u;if(Kr(r))u=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new Ae(903,"");u=i.\u0275dir}if(u){if(o){l.push(u);const _=r;_.inputs=Fl(r.inputs),_.declaredInputs=Fl(r.declaredInputs),_.outputs=Fl(r.outputs);const C=u.hostBindings;C&&yf(r,C);const E=u.viewQuery,I=u.contentQueries;if(E&&y0(r,E),I&&v0(r,I),se(r.inputs,u.inputs),se(r.declaredInputs,u.declaredInputs),se(r.outputs,u.outputs),Kr(u)&&u.data.animation){const A=r.data;A.animation=(A.animation||[]).concat(u.data.animation)}}const f=u.features;if(f)for(let _=0;_<f.length;_++){const C=f[_];C&&C.ngInherit&&C(r),C===em&&(o=!1)}}i=Object.getPrototypeOf(i)}!function _0(r){let i=0,o=null;for(let l=r.length-1;l>=0;l--){const u=r[l];u.hostVars=i+=u.hostVars,u.hostAttrs=ma(u.hostAttrs,o=ma(o,u.hostAttrs))}}(l)}function Fl(r){return r===Zt?{}:r===tt?[]:r}function y0(r,i){const o=r.viewQuery;r.viewQuery=o?(l,u)=>{i(l,u),o(l,u)}:i}function v0(r,i){const o=r.contentQueries;r.contentQueries=o?(l,u,f)=>{i(l,u,f),o(l,u,f)}:i}function yf(r,i){const o=r.hostBindings;r.hostBindings=o?(l,u)=>{i(l,u),o(l,u)}:i}let ro=null;function Va(){if(!ro){const r=rt.Symbol;if(r&&r.iterator)ro=r.iterator;else{const i=Object.getOwnPropertyNames(Map.prototype);for(let o=0;o<i.length;++o){const l=i[o];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(ro=l)}}}return ro}function ln(r){return!!Vd(r)&&(Array.isArray(r)||!(r instanceof Map)&&Va()in r)}function Vd(r){return null!==r&&("function"==typeof r||"object"==typeof r)}function Es(r,i,o){return r[i]=o}function Jn(r,i,o){return!Object.is(r[i],o)&&(r[i]=o,!0)}function bs(r,i,o,l,u){const f=function Ua(r,i,o,l){const u=Jn(r,i,o);return Jn(r,i+1,l)||u}(r,i,o,l);return Jn(r,i+2,u)||f}function Ba(r,i,o,l){const u=Ee();return Jn(u,ts(),i)&&(St(),_s(mn(),u,r,i,o,l)),Ba}function Zo(r,i,o,l){return Jn(r,ts(),o)?i+ce(o)+l:bt}function im(r,i,o,l,u,f,_,C){const E=Ee(),I=St(),A=r+20,N=I.firstCreatePass?function rm(r,i,o,l,u,f,_,C,E){const I=i.consts,A=Vu(i,r,4,_||null,cr(I,C));Bg(i,o,A,cr(I,E)),ns(i,A);const N=A.tViews=Rl(2,A,l,u,f,i.directiveRegistry,i.pipeRegistry,null,i.schemas,I);return null!==i.queries&&(i.queries.template(i,A),N.queries=i.queries.embeddedTView(A)),A}(A,I,E,i,o,l,u,f,_):I.data[A];gr(N,!1);const $=E[11].createComment("");Gh(I,E,$,N),Ke($,E),ju(E,E[A]=Hg($,E,$,N)),fo(N)&&tf(I,E,N),null!=_&&nf(E,N,C)}function tc(r,i=qe.Default){const o=Ee();return null===o?K(r,i):pl(hn(),o,X(r),i)}function cm(){throw new Error("invalid")}function io(r,i,o){const l=Ee();return Jn(l,ts(),i)&&Ar(St(),mn(),l,r,i,l[11],o,!1),io}function nc(r,i,o,l,u){const _=u?"class":"style";Ad(r,o,i.inputs[_],_,l)}function dm(r,i,o,l){const u=Ee(),f=St(),_=20+r,C=u[11],E=u[_]=ay(C,i,function Wp(){return lt.lFrame.currentNamespace}()),I=f.firstCreatePass?function Sf(r,i,o,l,u,f,_){const C=i.consts,I=Vu(i,r,2,u,cr(C,f));return Bg(i,o,I,cr(C,_)),null!==I.attrs&&Wo(I,I.attrs,!1),null!==I.mergedAttrs&&Wo(I,I.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,I),I}(_,f,u,0,i,o,l):f.data[_];gr(I,!0);const A=I.mergedAttrs;null!==A&&dl(C,E,A);const N=I.classes;null!==N&&hr(C,E,N);const $=I.styles;null!==$&&Eg(C,E,$),64!=(64&I.flags)&&Gh(f,u,E,I),0===function vo(){return lt.lFrame.elementDepthCount}()&&Ke(E,u),function ia(){lt.lFrame.elementDepthCount++}(),fo(I)&&(tf(f,u,I),function Ty(r,i,o){if(Kl(i)){const u=i.directiveEnd;for(let f=i.directiveStart;f<u;f++){const _=r.data[f];_.contentQueries&&_.contentQueries(1,o[f],f)}}}(f,I,u)),null!==l&&nf(u,I)}function hm(){let r=hn();es()?function bo(){lt.lFrame.isParent=!1}():(r=r.parent,gr(r,!1));const i=r;!function Co(){lt.lFrame.elementDepthCount--}();const o=St();o.firstCreatePass&&(ns(o,r),Kl(r)&&o.queries.elementEnd(r)),null!=i.classesWithoutHost&&function Th(r){return 0!=(16&r.flags)}(i)&&nc(o,i,Ee(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function is(r){return 0!=(32&r.flags)}(i)&&nc(o,i,Ee(),i.stylesWithoutHost,!1)}function vv(r,i,o,l){dm(r,i,o,l),hm()}function Ev(){return Ee()}function pm(r){return!!r&&"function"==typeof r.then}function bv(r){return!!r&&"function"==typeof r.subscribe}const Mf=bv;function gm(r,i,o,l){const u=Ee(),f=St(),_=hn();return function Hd(r,i,o,l,u,f,_,C){const E=fo(l),A=r.firstCreatePass&&bn(r),N=i[8],$=Vy(i);let Y=!0;if(3&l.type||C){const Le=tr(l,i),Ze=C?C(Le):Le,Ce=$.length,ut=C?Lt=>C(on(Lt[l.index])):l.index;if(Pt(o)){let Lt=null;if(!C&&E&&(Lt=function Dv(r,i,o,l){const u=r.cleanup;if(null!=u)for(let f=0;f<u.length-1;f+=2){const _=u[f];if(_===o&&u[f+1]===l){const C=i[7],E=u[f+2];return C.length>E?C[E]:null}"string"==typeof _&&(f+=2)}return null}(r,i,u,l.index)),null!==Lt)(Lt.__ngLastListenerFn__||Lt).__ngNextListenerFn__=f,Lt.__ngLastListenerFn__=f,Y=!1;else{f=ja(l,i,N,f,!1);const un=o.listen(Ze,u,f);$.push(f,un),A&&A.push(u,ut,Ce,Ce+1)}}else f=ja(l,i,N,f,!0),Ze.addEventListener(u,f,_),$.push(f),A&&A.push(u,ut,Ce,_)}else f=ja(l,i,N,f,!1);const ge=l.outputs;let xe;if(Y&&null!==ge&&(xe=ge[u])){const Le=xe.length;if(Le)for(let Ze=0;Ze<Le;Ze+=2){const $r=i[xe[Ze]][xe[Ze+1]].subscribe(f),Ya=$.length;$.push(f,$r),A&&A.push(u,l.index,Ya,-(Ya+1))}}}(f,u,u[11],_,r,i,!!o,l),gm}function Iv(r,i,o,l){try{return!1!==o(l)}catch(u){return By(r,u),!1}}function ja(r,i,o,l,u){return function f(_){if(_===Function)return l;const C=2&r.flags?Ht(r.index,i):i;0==(32&i[2])&&Td(C);let E=Iv(i,0,l,_),I=f.__ngNextListenerFn__;for(;I;)E=Iv(i,0,I,_)&&E,I=I.__ngNextListenerFn__;return u&&!1===E&&(_.preventDefault(),_.returnValue=!1),E}}function mm(r=1){return function ou(r){return(lt.lFrame.contextLView=function Vc(r,i){for(;r>0;)i=i[15],r--;return i}(r,lt.lFrame.contextLView))[8]}(r)}function rc(r,i,o){return $d(r,"",i,"",o),rc}function $d(r,i,o,l,u){const f=Ee(),_=Zo(f,i,o,l);return _!==bt&&Ar(St(),mn(),f,r,_,f[11],u,!1),$d}function Nv(r,i,o,l,u){const f=r[o+1],_=null===i;let C=l?Br(f):jo(f),E=!1;for(;0!==C&&(!1===E||_);){const A=r[C+1];N0(r[C],i)&&(E=!0,r[C+1]=l?Yh(A):Dg(A)),C=l?Br(A):jo(A)}E&&(r[o+1]=l?Dg(f):Yh(f))}function N0(r,i){return null===r||null==i||(Array.isArray(r)?r[1]:r)===i||!(!Array.isArray(r)||"string"!=typeof i)&&cs(r,i)>=0}function Cm(r,i){return function ti(r,i,o,l){const u=Ee(),f=St(),_=function kr(r){const i=lt.lFrame,o=i.bindingIndex;return i.bindingIndex=i.bindingIndex+r,o}(2);f.firstUpdatePass&&function Uv(r,i,o,l){const u=r.data;if(null===u[o+1]){const f=u[Kn()],_=function oc(r,i){return i>=r.expandoStartIndex}(r,o);(function wm(r,i){return 0!=(r.flags&(i?16:32))})(f,l)&&null===i&&!_&&(i=!1),i=function Bv(r,i,o,l){const u=function aa(r){const i=lt.lFrame.currentDirectiveIndex;return-1===i?null:r[i]}(r);let f=l?i.residualClasses:i.residualStyles;if(null===u)0===(l?i.classBindings:i.styleBindings)&&(o=jr(o=bm(null,r,i,o,l),i.attrs,l),f=null);else{const _=i.directiveStylingLast;if(-1===_||r[_]!==u)if(o=bm(u,r,i,o,l),null===f){let E=function Em(r,i,o){const l=o?i.classBindings:i.styleBindings;if(0!==jo(l))return r[Br(l)]}(r,i,l);void 0!==E&&Array.isArray(E)&&(E=bm(null,r,i,E[1],l),E=jr(E,i.attrs,l),function zd(r,i,o,l){r[Br(o?i.classBindings:i.styleBindings)]=l}(r,i,l,E))}else f=function Zd(r,i,o){let l;const u=i.directiveEnd;for(let f=1+i.directiveStylingLast;f<u;f++)l=jr(l,r[f].hostAttrs,o);return jr(l,i.attrs,o)}(r,i,l)}return void 0!==f&&(l?i.residualClasses=f:i.residualStyles=f),o}(u,f,i,l),function x0(r,i,o,l,u,f){let _=f?i.classBindings:i.styleBindings,C=Br(_),E=jo(_);r[l]=o;let A,I=!1;if(Array.isArray(o)){const N=o;A=N[1],(null===A||cs(N,A)>0)&&(I=!0)}else A=o;if(u)if(0!==E){const $=Br(r[C+1]);r[l+1]=Al($,C),0!==$&&(r[$+1]=Sl(r[$+1],l)),r[C+1]=function Cd(r,i){return 131071&r|i<<17}(r[C+1],l)}else r[l+1]=Al(C,0),0!==C&&(r[C+1]=Sl(r[C+1],l)),C=l;else r[l+1]=Al(E,0),0===C?C=l:r[E+1]=Sl(r[E+1],l),E=l;I&&(r[l+1]=Dg(r[l+1])),Nv(r,A,l,!0),Nv(r,A,l,!1),function xv(r,i,o,l,u){const f=u?r.residualClasses:r.residualStyles;null!=f&&"string"==typeof i&&cs(f,i)>=0&&(o[l+1]=Yh(o[l+1]))}(i,A,r,l,f),_=Al(C,E),f?i.classBindings=_:i.styleBindings=_}(u,f,i,o,_,l)}}(f,r,_,l),i!==bt&&Jn(u,_,i)&&function Bf(r,i,o,l,u,f,_,C){if(!(3&i.type))return;const E=r.data,I=E[C+1];qd(function Ed(r){return 1==(1&r)}(I)?Ii(E,i,o,u,jo(I),_):void 0)||(qd(f)||function vy(r){return 2==(2&r)}(I)&&(f=Ii(E,null,o,u,C,_)),function fy(r,i,o,l,u){const f=Pt(r);if(i)u?f?r.addClass(o,l):o.classList.add(l):f?r.removeClass(o,l):o.classList.remove(l);else{let _=-1===l.indexOf("-")?void 0:Uo.DashCase;if(null==u)f?r.removeStyle(o,l,_):o.style.removeProperty(l);else{const C="string"==typeof u&&u.endsWith("!important");C&&(u=u.slice(0,-10),_|=Uo.Important),f?r.setStyle(o,l,u,_):o.style.setProperty(l,u,C?"important":"")}}}(l,_,qn(Kn(),o),u,f))}(f,f.data[Kn()],u,u[11],r,u[_+1]=function k0(r,i){return null==r||("string"==typeof i?r+=i:"object"==typeof r&&(r=oe(ko(r)))),r}(i,o),l,_)}(r,i,null,!0),Cm}function bm(r,i,o,l,u){let f=null;const _=o.directiveEnd;let C=o.directiveStylingLast;for(-1===C?C=o.directiveStart:C++;C<_&&(f=i[C],l=jr(l,f.hostAttrs,u),f!==r);)C++;return null!==r&&(o.directiveStylingLast=C),l}function jr(r,i,o){const l=o?1:2;let u=-1;if(null!==i)for(let f=0;f<i.length;f++){const _=i[f];"number"==typeof _?u=_:u===l&&(Array.isArray(r)||(r=void 0===r?[]:["",r]),ir(r,_,!!o||i[++f]))}return void 0===r?null:r}function Ii(r,i,o,l,u,f){const _=null===i;let C;for(;u>0;){const E=r[u],I=Array.isArray(E),A=I?E[1]:E,N=null===A;let $=o[u+1];$===bt&&($=N?tt:void 0);let Y=N?Da($,l):A===l?$:void 0;if(I&&!qd(Y)&&(Y=Da(E,l)),qd(Y)&&(C=Y,_))return C;const ge=r[u+1];u=_?Br(ge):jo(ge)}if(null!==i){let E=f?i.residualClasses:i.residualStyles;null!=E&&(C=Da(E,l))}return C}function qd(r){return void 0!==r}function $v(r,i=""){const o=Ee(),l=St(),u=r+20,f=l.firstCreatePass?Vu(l,u,1,i,null):l.data[u],_=o[u]=function pg(r,i){return Pt(r)?r.createText(i):r.createTextNode(i)}(o[11],i);Gh(l,o,_,f),gr(f,!1)}function Dm(r){return jf("",r,""),Dm}function jf(r,i,o){const l=Ee(),u=Zo(l,r,i,o);return u!==bt&&vs(l,Kn(),u),jf}const $a=void 0;var Xv=["en",[["a","p"],["AM","PM"],$a],[["AM","PM"],$a,$a],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],$a,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],$a,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",$a,"{1} 'at' {0}",$a],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Jv(r){const o=Math.floor(Math.abs(r)),l=r.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===l?1:5}];let jl={};function cc(r){const i=function eC(r){return r.toLowerCase().replace(/_/g,"-")}(r);let o=Ai(i);if(o)return o;const l=i.split("-")[0];if(o=Ai(l),o)return o;if("en"===l)return Xv;throw new Error(`Missing locale data for the locale "${r}".`)}function Qd(r){return cc(r)[ht.PluralCase]}function Ai(r){return r in jl||(jl[r]=rt.ng&&rt.ng.common&&rt.ng.common.locales&&rt.ng.common.locales[r]),jl[r]}var ht=(()=>((ht=ht||{})[ht.LocaleId=0]="LocaleId",ht[ht.DayPeriodsFormat=1]="DayPeriodsFormat",ht[ht.DayPeriodsStandalone=2]="DayPeriodsStandalone",ht[ht.DaysFormat=3]="DaysFormat",ht[ht.DaysStandalone=4]="DaysStandalone",ht[ht.MonthsFormat=5]="MonthsFormat",ht[ht.MonthsStandalone=6]="MonthsStandalone",ht[ht.Eras=7]="Eras",ht[ht.FirstDayOfWeek=8]="FirstDayOfWeek",ht[ht.WeekendRange=9]="WeekendRange",ht[ht.DateFormat=10]="DateFormat",ht[ht.TimeFormat=11]="TimeFormat",ht[ht.DateTimeFormat=12]="DateTimeFormat",ht[ht.NumberSymbols=13]="NumberSymbols",ht[ht.NumberFormats=14]="NumberFormats",ht[ht.CurrencyCode=15]="CurrencyCode",ht[ht.CurrencySymbol=16]="CurrencySymbol",ht[ht.CurrencyName=17]="CurrencyName",ht[ht.Currencies=18]="Currencies",ht[ht.Directionality=19]="Directionality",ht[ht.PluralCase=20]="PluralCase",ht[ht.ExtraData=21]="ExtraData",ht))();const Zf="en-US";let tC=Zf;function Ko(r,i,o,l,u){if(r=X(r),Array.isArray(r))for(let f=0;f<r.length;f++)Ko(r[f],i,o,l,u);else{const f=St(),_=Ee();let C=Wu(r)?r:X(r.provide),E=Kg(r);const I=hn(),A=1048575&I.providerIndexes,N=I.directiveStart,$=I.providerIndexes>>20;if(Wu(r)||!r.multi){const Y=new rs(E,u,tc),ge=Yo(C,i,u?A:A+$,N);-1===ge?(mr(Gs(I,_),f,C),rp(f,r,i.length),i.push(C),I.directiveStart++,I.directiveEnd++,u&&(I.providerIndexes+=1048576),o.push(Y),_.push(Y)):(o[ge]=Y,_[ge]=Y)}else{const Y=Yo(C,i,A+$,N),ge=Yo(C,i,A,A+$),xe=Y>=0&&o[Y],Le=ge>=0&&o[ge];if(u&&!Le||!u&&!xe){mr(Gs(I,_),f,C);const Ze=function Db(r,i,o,l,u){const f=new rs(r,o,tc);return f.multi=[],f.index=i,f.componentProviders=0,ip(f,u,l&&!o),f}(u?EC:gc,o.length,u,l,E);!u&&Le&&(o[ge].providerFactory=Ze),rp(f,r,i.length,0),i.push(C),I.directiveStart++,I.directiveEnd++,u&&(I.providerIndexes+=1048576),o.push(Ze),_.push(Ze)}else rp(f,r,Y>-1?Y:ge,ip(o[u?ge:Y],E,!u&&l));!u&&l&&Le&&o[ge].componentProviders++}}}function rp(r,i,o,l){const u=Wu(i),f=function Yg(r){return!!r.useClass}(i);if(u||f){const E=(f?X(i.useClass):i).prototype.ngOnDestroy;if(E){const I=r.destroyHooks||(r.destroyHooks=[]);if(!u&&i.multi){const A=I.indexOf(o);-1===A?I.push(o,[l,E]):I[A+1].push(l,E)}else I.push(o,E)}}}function ip(r,i,o){return o&&r.componentProviders++,r.multi.push(i)-1}function Yo(r,i,o,l){for(let u=o;u<l;u++)if(i[u]===r)return u;return-1}function gc(r,i,o,l){return bC(this.multi,[])}function EC(r,i,o,l){const u=this.multi;let f;if(this.providerFactory){const _=this.providerFactory.componentProviders,C=yn(o,o[1],this.providerFactory.index,l);f=C.slice(0,_),bC(u,f);for(let E=_;E<C.length;E++)f.push(C[E])}else f=[],bC(u,f);return f}function bC(r,i){for(let o=0;o<r.length;o++)i.push((0,r[o])());return i}function sp(r,i=[]){return o=>{o.providersResolver=(l,u)=>function wb(r,i,o){const l=St();if(l.firstCreatePass){const u=Kr(r);Ko(o,l.data,l.blueprint,u,!0),Ko(i,l.data,l.blueprint,u,!1)}}(l,u?u(r):r,i)}}class wC{}class mD{resolveComponentFactory(i){throw function Tb(r){const i=Error(`No component factory found for ${oe(r)}. Did you add it to @NgModule.entryComponents?`);return i.ngComponent=r,i}(i)}}let op=(()=>{class r{}return r.NULL=new mD,r})();function _D(){return mc(hn(),Ee())}function mc(r,i){return new ap(tr(r,i))}let ap=(()=>{class r{constructor(o){this.nativeElement=o}}return r.__NG_ELEMENT_ID__=_D,r})();function yD(r){return r instanceof ap?r.nativeElement:r}class Bm{}let Ab=(()=>{class r{}return r.__NG_ELEMENT_ID__=()=>function br(){const r=Ee(),o=Ht(hn().index,r);return function Sb(r){return r[11]}(Zr(o)?o:r)}(),r})(),ws=(()=>{class r{}return r.\u0275prov=Vt({token:r,providedIn:"root",factory:()=>null}),r})();class rh{constructor(i){this.full=i,this.major=i.split(".")[0],this.minor=i.split(".")[1],this.patch=i.split(".").slice(2).join(".")}}const lp=new rh("13.1.3"),jm={};function up(r,i,o,l,u=!1){for(;null!==o;){const f=i[o.index];if(null!==f&&l.push(on(f)),qr(f))for(let C=10;C<f.length;C++){const E=f[C],I=E[1].firstChild;null!==I&&up(E[1],E,I,l)}const _=o.type;if(8&_)up(r,i,o.child,l);else if(32&_){const C=cg(o,i);let E;for(;E=C();)l.push(E)}else if(16&_){const C=Cg(i,o);if(Array.isArray(C))l.push(...C);else{const E=Dl(i[16]);up(E[1],E,C,l,!0)}}o=u?o.projectionNext:o.next}return l}class ih{constructor(i,o){this._lView=i,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const i=this._lView,o=i[1];return up(o,i,o.firstChild,[])}get context(){return this._lView[8]}set context(i){this._lView[8]=i}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[3];if(qr(i)){const o=i[8],l=o?o.indexOf(this):-1;l>-1&&(Oa(i,l),ba(o,l))}this._attachedToViewContainer=!1}uy(this._lView[1],this._lView)}onDestroy(i){Mt(this._lView[1],this._lView,null,i)}markForCheck(){Td(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){lf(this._lView[1],this._lView,this.context)}checkNoChanges(){!function Hu(r,i,o){wo(!0);try{lf(r,i,o)}finally{wo(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Ae(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function gg(r,i){xu(r,i,i[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new Ae(902,"");this._appRef=i}}class IC extends ih{constructor(i){super(i),this._view=i}detectChanges(){Wg(this._view)}checkNoChanges(){!function Ly(r){wo(!0);try{Wg(r)}finally{wo(!1)}}(this._view)}get context(){return null}}class TC extends op{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const o=Be(i);return new _c(o,this.ngModule)}}function AC(r){const i=[];for(let o in r)r.hasOwnProperty(o)&&i.push({propName:r[o],templateName:o});return i}const Rb=new Xt("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>$h});class _c extends wC{constructor(i,o){super(),this.componentDef=i,this.ngModule=o,this.componentType=i.type,this.selector=function WE(r){return r.map(_y).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!o}get inputs(){return AC(this.componentDef.inputs)}get outputs(){return AC(this.componentDef.outputs)}create(i,o,l,u){const f=(u=u||this.ngModule)?function ri(r,i){return{get:(o,l,u)=>{const f=r.get(o,jm,u);return f!==jm||l===jm?f:i.get(o,l,u)}}}(i,u.injector):i,_=f.get(Bm,ra),C=f.get(ws,null),E=_.createRenderer(null,this.componentDef),I=this.componentDef.selectors[0][0]||"div",A=l?function $t(r,i,o){if(Pt(r))return r.selectRootElement(i,o===Ct.ShadowDom);let l="string"==typeof i?r.querySelector(i):i;return l.textContent="",l}(E,l,this.componentDef.encapsulation):ay(_.createRenderer(null,this.componentDef),I,function Mb(r){const i=r.toLowerCase();return"svg"===i?"http://www.w3.org/2000/svg":"math"===i?"http://www.w3.org/1998/MathML/":null}(I)),N=this.componentDef.onPush?576:528,$=function zu(r,i){return{components:[],scheduler:r||$h,clean:f0,playerHandler:i||null,flags:0}}(),Y=Rl(0,null,null,1,0,null,null,null,null,null),ge=Lu(null,Y,$,N,null,null,_,E,C,f);let xe,Le;js(ge);try{const Ze=function _f(r,i,o,l,u,f){const _=o[1];o[20]=r;const E=Vu(_,20,2,"#host",null),I=E.mergedAttrs=i.hostAttrs;null!==I&&(Wo(E,I,!0),null!==r&&(dl(u,r,I),null!==E.classes&&hr(u,r,E.classes),null!==E.styles&&Eg(u,r,E.styles)));const A=l.createRenderer(r,i),N=Lu(o,Lg(i),null,i.onPush?64:16,o[20],E,l,A,f||null,null);return _.firstCreatePass&&(mr(Gs(E,o),_,i.type),xy(_,E),ky(E,o.length,1)),ju(o,N),o[20]=N}(A,this.componentDef,ge,_,E);if(A)if(l)dl(E,A,["ng-version",lp.full]);else{const{attrs:Ce,classes:ut}=function GE(r){const i=[],o=[];let l=1,u=2;for(;l<r.length;){let f=r[l];if("string"==typeof f)2===u?""!==f&&i.push(f,r[++l]):8===u&&o.push(f);else{if(!vr(u))break;u=f}l++}return{attrs:i,classes:o}}(this.componentDef.selectors[0]);Ce&&dl(E,A,Ce),ut&&ut.length>0&&hr(E,A,ut.join(" "))}if(Le=yo(Y,20),void 0!==o){const Ce=Le.projection=[];for(let ut=0;ut<this.ngContentSelectors.length;ut++){const Lt=o[ut];Ce.push(null!=Lt?Array.from(Lt):null)}}xe=function Nd(r,i,o,l,u){const f=o[1],_=function Wi(r,i,o){const l=hn();r.firstCreatePass&&(o.providersResolver&&o.providersResolver(o),Fy(r,l,i,Uu(r,i,1,null),o));const u=yn(i,r,l.directiveStart,l);Ke(u,i);const f=tr(l,i);return f&&Ke(f,i),u}(f,o,i);if(l.components.push(_),r[8]=_,u&&u.forEach(E=>E(_,i)),i.contentQueries){const E=hn();i.contentQueries(1,_,E.directiveStart)}const C=hn();return!f.firstCreatePass||null===i.hostBindings&&null===i.hostAttrs||(rr(C.index),Py(o[1],C,0,C.directiveStart,C.directiveEnd,i),rf(i,_)),_}(Ze,this.componentDef,ge,$,[kl]),Bu(Y,ge,null)}finally{da()}return new Hm(this.componentType,xe,mc(Le,ge),ge,Le)}}class Hm extends class Ib{}{constructor(i,o,l,u,f){super(),this.location=l,this._rootLView=u,this._tNode=f,this.instance=o,this.hostView=this.changeDetectorRef=new IC(u),this.componentType=i}get injector(){return new os(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}class Ga{}class dp{}const yc=new Map;class sh extends Ga{constructor(i,o){super(),this._parent=o,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new TC(this);const l=mt(i);this._bootstrapComponents=Vo(l.bootstrap),this._r3Injector=df(i,o,[{provide:Ga,useValue:this},{provide:op,useValue:this.componentFactoryResolver}],oe(i)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(i)}get(i,o=Gi.THROW_IF_NOT_FOUND,l=qe.Default){return i===Gi||i===Ga||i===Gg?this:this._r3Injector.get(i,o,l)}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class hp extends dp{constructor(i){super(),this.moduleType=i,null!==mt(i)&&function Pb(r){const i=new Set;!function o(l){const u=mt(l,!0),f=u.id;null!==f&&(function MC(r,i,o){if(i&&i!==o)throw new Error(`Duplicate module registered for ${r} - ${oe(i)} vs ${oe(i.name)}`)}(f,yc.get(f),l),yc.set(f,l));const _=Vo(u.imports);for(const C of _)i.has(C)||(i.add(C),o(C))}(r)}(i)}create(i){return new sh(this.moduleType,i)}}function RC(r,i,o,l){return function fp(r,i,o,l,u,f){const _=i+o;return Jn(r,_,u)?Es(r,_+1,f?l.call(f,u):l(u)):ah(r,_+1)}(Ee(),jn(),r,i,o,l)}function ah(r,i){const o=r[i];return o===bt?void 0:o}function Zm(r,i){const o=St();let l;const u=r+20;o.firstCreatePass?(l=function qm(r,i){if(i)for(let o=i.length-1;o>=0;o--){const l=i[o];if(r===l.name)return l}}(i,o.pipeRegistry),o.data[u]=l,l.onDestroy&&(o.destroyHooks||(o.destroyHooks=[])).push(u,l.onDestroy)):l=o.data[u];const f=l.factory||(l.factory=Mi(l.type)),_=Bt(tc);try{const C=Ci(!1),E=f();return Ci(C),function Cf(r,i,o,l){o>=r.data.length&&(r.data[o]=null,r.blueprint[o]=null),i[o]=l}(o,Ee(),u,E),E}finally{Bt(_)}}function kC(r,i,o,l,u){const f=r+20,_=Ee(),C=function Ji(r,i){return r[i]}(_,f);return function Wl(r,i){return r[1].data[i].pure}(_,f)?function NC(r,i,o,l,u,f,_,C){const E=i+o;return bs(r,E,u,f,_)?Es(r,E+3,C?l.call(C,u,f,_):l(u,f,_)):ah(r,E+3)}(_,jn(),i,C.transform,o,l,u,C):C.transform(o,l,u)}function mp(r){return i=>{setTimeout(r,void 0,i)}}const lo=class Ym extends d.x{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,o,l){var u,f,_;let C=i,E=o||(()=>null),I=l;if(i&&"object"==typeof i){const N=i;C=null===(u=N.next)||void 0===u?void 0:u.bind(N),E=null===(f=N.error)||void 0===f?void 0:f.bind(N),I=null===(_=N.complete)||void 0===_?void 0:_.bind(N)}this.__isAsync&&(E=mp(E),C&&(C=mp(C)),I&&(I=mp(I)));const A=super.subscribe({next:C,error:E,complete:I});return i instanceof j.w0&&i.add(A),A}};function FC(){return this._results[Va()]()}class Cc{constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=Va(),l=Cc.prototype;l[o]||(l[o]=FC)}get changes(){return this._changes||(this._changes=new lo)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,o){return this._results.reduce(i,o)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,o){const l=this;l.dirty=!1;const u=Yn(i);(this._changesDetected=!function fu(r,i,o){if(r.length!==i.length)return!1;for(let l=0;l<r.length;l++){let u=r[l],f=i[l];if(o&&(u=o(u),f=o(f)),f!==u)return!1}return!0}(l._results,u,o))&&(l._results=u,l.length=u.length,l.last=u[this.length-1],l.first=u[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let lh=(()=>{class r{}return r.__NG_ELEMENT_ID__=Bb,r})();const Vb=lh,Ub=class extends Vb{constructor(i,o,l){super(),this._declarationLView=i,this._declarationTContainer=o,this.elementRef=l}createEmbeddedView(i){const o=this._declarationTContainer.tViews,l=Lu(this._declarationLView,o,i,16,null,o.declTNode,null,null,null,null);l[17]=this._declarationLView[this._declarationTContainer.index];const f=this._declarationLView[19];return null!==f&&(l[19]=f.createEmbeddedView(o)),Bu(o,l,i),new ih(l)}};function Bb(){return _p(hn(),Ee())}function _p(r,i){return 4&r.type?new Ub(i,r,mc(r,i)):null}let yp=(()=>{class r{}return r.__NG_ELEMENT_ID__=jb,r})();function jb(){return Qm(hn(),Ee())}const Hb=yp,LC=class extends Hb{constructor(i,o,l){super(),this._lContainer=i,this._hostTNode=o,this._hostLView=l}get element(){return mc(this._hostTNode,this._hostLView)}get injector(){return new os(this._hostTNode,this._hostLView)}get parentInjector(){const i=Fr(this._hostTNode,this._hostLView);if(Wc(i)){const o=Ao(i,this._hostLView),l=$s(i);return new os(o[1].data[l+8],o)}return new os(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const o=VC(this._lContainer);return null!==o&&o[i]||null}get length(){return this._lContainer.length-10}createEmbeddedView(i,o,l){const u=i.createEmbeddedView(o||{});return this.insert(u,l),u}createComponent(i,o,l,u,f){const _=i&&!function us(r){return"function"==typeof r}(i);let C;if(_)C=o;else{const N=o||{};C=N.index,l=N.injector,u=N.projectableNodes,f=N.ngModuleRef}const E=_?i:new _c(Be(i)),I=l||this.parentInjector;if(!f&&null==E.ngModule&&I){const N=I.get(Ga,null);N&&(f=N)}const A=E.create(I,u,void 0,f);return this.insert(A.hostView,C),A}insert(i,o){const l=i._lView,u=l[1];if(function Fc(r){return qr(r[3])}(l)){const A=this.indexOf(i);if(-1!==A)this.detach(A);else{const N=l[3],$=new LC(N,N[6],N[3]);$.detach($.indexOf(i))}}const f=this._adjustIndex(o),_=this._lContainer;!function Ur(r,i,o,l){const u=10+l,f=o.length;l>0&&(o[u-1][4]=i),l<f-10?(i[4]=o[u],Ea(o,10+l,i)):(o.push(i),i[4]=null),i[3]=o;const _=i[17];null!==_&&o!==_&&function UE(r,i){const o=r[9];i[16]!==i[3][3][16]&&(r[2]=!0),null===o?r[9]=[i]:o.push(i)}(_,i);const C=i[19];null!==C&&C.insertView(r),i[2]|=128}(u,l,_,f);const C=Bo(f,_),E=l[11],I=Hi(E,_[7]);return null!==I&&function VE(r,i,o,l,u,f){l[0]=u,l[6]=i,xu(r,l,o,1,u,f)}(u,_[6],E,l,I,C),i.attachToViewContainerRef(),Ea(Ec(_),f,i),i}move(i,o){return this.insert(i,o)}indexOf(i){const o=VC(this._lContainer);return null!==o?o.indexOf(i):-1}remove(i){const o=this._adjustIndex(i,-1),l=Oa(this._lContainer,o);l&&(ba(Ec(this._lContainer),o),uy(l[1],l))}detach(i){const o=this._adjustIndex(i,-1),l=Oa(this._lContainer,o);return l&&null!=ba(Ec(this._lContainer),o)?new ih(l):null}_adjustIndex(i,o=0){return null==i?this.length+o:i}};function VC(r){return r[8]}function Ec(r){return r[8]||(r[8]=[])}function Qm(r,i){let o;const l=i[r.index];if(qr(l))o=l;else{let u;if(8&r.type)u=on(l);else{const f=i[11];u=f.createComment("");const _=tr(r,i);Ou(f,Hi(f,_),u,function k(r,i){return Pt(r)?r.nextSibling(i):i.nextSibling}(f,_),!1)}i[r.index]=o=Hg(l,i,u,r),ju(i,o)}return new LC(o,r,i)}class Xm{constructor(i){this.queryList=i,this.matches=null}clone(){return new Xm(this.queryList)}setDirty(){this.queryList.setDirty()}}class e_{constructor(i=[]){this.queries=i}createEmbeddedView(i){const o=i.queries;if(null!==o){const l=null!==i.contentQueries?i.contentQueries[0]:o.length,u=[];for(let f=0;f<l;f++){const _=o.getByIndex(f);u.push(this.queries[_.indexInDeclarationView].clone())}return new e_(u)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let o=0;o<this.queries.length;o++)null!==zb(i,o).matches&&this.queries[o].setDirty()}}class t_{constructor(i,o,l=null){this.predicate=i,this.flags=o,this.read=l}}class vp{constructor(i=[]){this.queries=i}elementStart(i,o){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(i,o)}elementEnd(i){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(i)}embeddedTView(i){let o=null;for(let l=0;l<this.length;l++){const u=null!==o?o.length:0,f=this.getByIndex(l).embeddedTView(i,u);f&&(f.indexInDeclarationView=l,null!==o?o.push(f):o=[f])}return null!==o?new vp(o):null}template(i,o){for(let l=0;l<this.queries.length;l++)this.queries[l].template(i,o)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class Cp{constructor(i,o=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(i,o){this.isApplyingToNode(o)&&this.matchTNode(i,o)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,o){this.elementStart(i,o)}embeddedTView(i,o){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,o),new Cp(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let l=i.parent;for(;null!==l&&8&l.type&&l.index!==o;)l=l.parent;return o===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(i,o){const l=this.metadata.predicate;if(Array.isArray(l))for(let u=0;u<l.length;u++){const f=l[u];this.matchTNodeWithReadOption(i,o,BC(o,f)),this.matchTNodeWithReadOption(i,o,Fi(o,i,f,!1,!1))}else l===lh?4&o.type&&this.matchTNodeWithReadOption(i,o,-1):this.matchTNodeWithReadOption(i,o,Fi(o,i,l,!1,!1))}matchTNodeWithReadOption(i,o,l){if(null!==l){const u=this.metadata.read;if(null!==u)if(u===ap||u===yp||u===lh&&4&o.type)this.addMatch(o.index,-2);else{const f=Fi(o,i,u,!1,!1);null!==f&&this.addMatch(o.index,f)}else this.addMatch(o.index,l)}}addMatch(i,o){null===this.matches?this.matches=[i,o]:this.matches.push(i,o)}}function BC(r,i){const o=r.localNames;if(null!==o)for(let l=0;l<o.length;l+=2)if(o[l]===i)return o[l+1];return null}function wD(r,i,o,l){return-1===o?function jC(r,i){return 11&r.type?mc(r,i):4&r.type?_p(r,i):null}(i,r):-2===o?function $b(r,i,o){return o===ap?mc(i,r):o===lh?_p(i,r):o===yp?Qm(i,r):void 0}(r,i,l):yn(r,r[1],o,i)}function Wb(r,i,o,l){const u=i[19].queries[l];if(null===u.matches){const f=r.data,_=o.matches,C=[];for(let E=0;E<_.length;E+=2){const I=_[E];C.push(I<0?null:wD(i,f[I],_[E+1],o.metadata.read))}u.matches=C}return u.matches}function HC(r,i,o,l){const u=r.queries.getByIndex(o),f=u.matches;if(null!==f){const _=Wb(r,i,u,o);for(let C=0;C<f.length;C+=2){const E=f[C];if(E>0)l.push(_[C/2]);else{const I=f[C+1],A=i[-E];for(let N=10;N<A.length;N++){const $=A[N];$[17]===$[3]&&HC($[1],$,I,l)}if(null!==A[9]){const N=A[9];for(let $=0;$<N.length;$++){const Y=N[$];HC(Y[1],Y,I,l)}}}}}return l}function Ep(r){const i=Ee(),o=St(),l=Bs();ll(l+1);const u=zb(o,l);if(r.dirty&&su(i)===(2==(2&u.metadata.flags))){if(null===u.matches)r.reset([]);else{const f=u.crossesNgTemplate?HC(o,i,l,[]):Wb(o,i,u,l);r.reset(f,yD),r.notifyOnChanges()}return!0}return!1}function $C(r,i,o,l){const u=St();if(u.firstCreatePass){const f=hn();(function bp(r,i,o){null===r.queries&&(r.queries=new vp),r.queries.track(new Cp(i,o))})(u,new t_(i,o,l),f.index),function wp(r,i){const o=r.contentQueries||(r.contentQueries=[]);i!==(o.length?o[o.length-1]:-1)&&o.push(r.queries.length-1,i)}(u,r),2==(2&o)&&(u.staticContentQueries=!0)}!function r_(r,i,o){const l=new Cc(4==(4&o));Mt(r,i,l,l.destroy),null===i[19]&&(i[19]=new e_),i[19].queries.push(new Xm(l))}(u,Ee(),o)}function n_(){return function Gb(r,i){return r[19].queries[i].queryList}(Ee(),Bs())}function zb(r,i){return r.queries.getByIndex(i)}function dh(...r){}const m_=new Xt("Application Initializer");let za=(()=>{class r{constructor(o){this.appInits=o,this.resolve=dh,this.reject=dh,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,u)=>{this.resolve=l,this.reject=u})}runInitializers(){if(this.initialized)return;const o=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let u=0;u<this.appInits.length;u++){const f=this.appInits[u]();if(pm(f))o.push(f);else if(Mf(f)){const _=new Promise((C,E)=>{f.subscribe({complete:C,error:E})});o.push(_)}}Promise.all(o).then(()=>{l()}).catch(u=>{this.reject(u)}),0===o.length&&l(),this.initialized=!0}}return r.\u0275fac=function(o){return new(o||r)(K(m_,8))},r.\u0275prov=Vt({token:r,factory:r.\u0275fac}),r})();const __=new Xt("AppId"),rE={provide:__,useFactory:function Dc(){return`${Tp()}${Tp()}${Tp()}`},deps:[]};function Tp(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const iE=new Xt("Platform Initializer"),sE=new Xt("Platform ID"),Qo=new Xt("appBootstrapListener");let aE=(()=>{class r{log(o){console.log(o)}warn(o){console.warn(o)}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=Vt({token:r,factory:r.\u0275fac}),r})();const Hr=new Xt("LocaleId"),lE=new Xt("DefaultCurrencyCode");class cE{constructor(i,o){this.ngModuleFactory=i,this.componentFactories=o}}let y_=(()=>{class r{compileModuleSync(o){return new hp(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const l=this.compileModuleSync(o),f=Vo(mt(o).declarations).reduce((_,C)=>{const E=Be(C);return E&&_.push(new _c(E)),_},[]);return new cE(l,f)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=Vt({token:r,factory:r.\u0275fac}),r})();const iw=(()=>Promise.resolve(0))();function v_(r){"undefined"==typeof Zone?iw.then(()=>{r&&r.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",r)}class _i{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new lo(!1),this.onMicrotaskEmpty=new lo(!1),this.onStable=new lo(!1),this.onError=new lo(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const u=this;u._nesting=0,u._outer=u._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(u._inner=u._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(u._inner=u._inner.fork(Zone.longStackTraceZoneSpec)),u.shouldCoalesceEventChangeDetection=!l&&o,u.shouldCoalesceRunChangeDetection=l,u.lastRequestAnimationFrameId=-1,u.nativeRequestAnimationFrame=function sw(){let r=rt.requestAnimationFrame,i=rt.cancelAnimationFrame;if("undefined"!=typeof Zone&&r&&i){const o=r[Zone.__symbol__("OriginalDelegate")];o&&(r=o);const l=i[Zone.__symbol__("OriginalDelegate")];l&&(i=l)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:i}}().nativeRequestAnimationFrame,function aw(r){const i=()=>{!function ow(r){r.isCheckStableRunning||-1!==r.lastRequestAnimationFrameId||(r.lastRequestAnimationFrameId=r.nativeRequestAnimationFrame.call(rt,()=>{r.fakeTopEventTask||(r.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{r.lastRequestAnimationFrameId=-1,E_(r),r.isCheckStableRunning=!0,C_(r),r.isCheckStableRunning=!1},void 0,()=>{},()=>{})),r.fakeTopEventTask.invoke()}),E_(r))}(r)};r._inner=r._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,l,u,f,_,C)=>{try{return b_(r),o.invokeTask(u,f,_,C)}finally{(r.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||r.shouldCoalesceRunChangeDetection)&&i(),Ot(r)}},onInvoke:(o,l,u,f,_,C,E)=>{try{return b_(r),o.invoke(u,f,_,C,E)}finally{r.shouldCoalesceRunChangeDetection&&i(),Ot(r)}},onHasTask:(o,l,u,f)=>{o.hasTask(u,f),l===u&&("microTask"==f.change?(r._hasPendingMicrotasks=f.microTask,E_(r),C_(r)):"macroTask"==f.change&&(r.hasPendingMacrotasks=f.macroTask))},onHandleError:(o,l,u,f)=>(o.handleError(u,f),r.runOutsideAngular(()=>r.onError.emit(f)),!1)})}(u)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!_i.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(_i.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(i,o,l){return this._inner.run(i,o,l)}runTask(i,o,l,u){const f=this._inner,_=f.scheduleEventTask("NgZoneEvent: "+u,i,dE,dh,dh);try{return f.runTask(_,o,l)}finally{f.cancelTask(_)}}runGuarded(i,o,l){return this._inner.runGuarded(i,o,l)}runOutsideAngular(i){return this._outer.run(i)}}const dE={};function C_(r){if(0==r._nesting&&!r.hasPendingMicrotasks&&!r.isStable)try{r._nesting++,r.onMicrotaskEmpty.emit(null)}finally{if(r._nesting--,!r.hasPendingMicrotasks)try{r.runOutsideAngular(()=>r.onStable.emit(null))}finally{r.isStable=!0}}}function E_(r){r.hasPendingMicrotasks=!!(r._hasPendingMicrotasks||(r.shouldCoalesceEventChangeDetection||r.shouldCoalesceRunChangeDetection)&&-1!==r.lastRequestAnimationFrameId)}function b_(r){r._nesting++,r.isStable&&(r.isStable=!1,r.onUnstable.emit(null))}function Ot(r){r._nesting--,C_(r)}class lw{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new lo,this.onMicrotaskEmpty=new lo,this.onStable=new lo,this.onError=new lo}run(i,o,l){return i.apply(o,l)}runGuarded(i,o,l){return i.apply(o,l)}runOutsideAngular(i){return i()}runTask(i,o,l,u){return i.apply(o,l)}}let Gl=(()=>{class r{constructor(o){this._ngZone=o,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{_i.assertNotInAngularZone(),v_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())v_(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(o)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,l,u){let f=-1;l&&l>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==f),o(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:o,timeoutId:f,updateCb:u})}whenStable(o,l,u){if(u&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,l,u),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(o,l,u){return[]}}return r.\u0275fac=function(o){return new(o||r)(K(_i))},r.\u0275prov=Vt({token:r,factory:r.\u0275fac}),r})(),w_=(()=>{class r{constructor(){this._applications=new Map,I_.addToWindow(this)}registerApplication(o,l){this._applications.set(o,l)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,l=!0){return I_.findTestabilityInTree(this,o,l)}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=Vt({token:r,factory:r.\u0275fac}),r})();class D_{addToWindow(i){}findTestabilityInTree(i,o,l){return null}}function uw(r){I_=r}let Ds,I_=new D_;const T_=new Xt("AllowMultipleToken");class UD{constructor(i,o){this.name=i,this.token=o}}function Is(r,i,o=[]){const l=`Platform: ${i}`,u=new Xt(l);return(f=[])=>{let _=A_();if(!_||_.injector.get(T_,!1))if(r)r(o.concat(f).concat({provide:u,useValue:!0}));else{const C=o.concat(f).concat({provide:u,useValue:!0},{provide:zg,useValue:"platform"});!function Mr(r){if(Ds&&!Ds.destroyed&&!Ds.injector.get(T_,!1))throw new Ae(400,"");Ds=r.get(S_);const i=r.get(iE,null);i&&i.forEach(o=>o())}(Gi.create({providers:C,name:l}))}return function dw(r){const i=A_();if(!i)throw new Ae(401,"");return i}()}}function A_(){return Ds&&!Ds.destroyed?Ds:null}let S_=(()=>{class r{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,l){const C=function hw(r,i){let o;return o="noop"===r?new lw:("zone.js"===r?void 0:r)||new _i({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==i?void 0:i.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==i?void 0:i.ngZoneRunCoalescing)}),o}(l?l.ngZone:void 0,{ngZoneEventCoalescing:l&&l.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:l&&l.ngZoneRunCoalescing||!1}),E=[{provide:_i,useValue:C}];return C.run(()=>{const I=Gi.create({providers:E,parent:this.injector,name:o.moduleType.name}),A=o.create(I),N=A.injector.get(hd,null);if(!N)throw new Ae(402,"");return C.runOutsideAngular(()=>{const $=C.onError.subscribe({next:Y=>{N.handleError(Y)}});A.onDestroy(()=>{Sp(this._modules,A),$.unsubscribe()})}),function fE(r,i,o){try{const l=o();return pm(l)?l.catch(u=>{throw i.runOutsideAngular(()=>r.handleError(u)),u}):l}catch(l){throw i.runOutsideAngular(()=>r.handleError(l)),l}}(N,C,()=>{const $=A.injector.get(za);return $.runInitializers(),$.donePromise.then(()=>(function Kf(r){Xe(r,"Expected localeId to be defined"),"string"==typeof r&&(tC=r.toLowerCase().replace(/_/g,"-"))}(A.injector.get(Hr,Zf)||Zf),this._moduleDoBootstrap(A),A))})})}bootstrapModule(o,l=[]){const u=pE({},l);return function co(r,i,o){const l=new hp(o);return Promise.resolve(l)}(0,0,o).then(f=>this.bootstrapModuleFactory(f,u))}_moduleDoBootstrap(o){const l=o.injector.get(Ic);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(u=>l.bootstrap(u));else{if(!o.instance.ngDoBootstrap)throw new Ae(403,"");o.instance.ngDoBootstrap(l)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ae(404,"");this._modules.slice().forEach(o=>o.destroy()),this._destroyListeners.forEach(o=>o()),this._destroyed=!0}get destroyed(){return this._destroyed}}return r.\u0275fac=function(o){return new(o||r)(K(Gi))},r.\u0275prov=Vt({token:r,factory:r.\u0275fac}),r})();function pE(r,i){return Array.isArray(i)?i.reduce(pE,r):Object.assign(Object.assign({},r),i)}let Ic=(()=>{class r{constructor(o,l,u,f,_){this._zone=o,this._injector=l,this._exceptionHandler=u,this._componentFactoryResolver=f,this._initStatus=_,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const C=new P.y(I=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{I.next(this._stable),I.complete()})}),E=new P.y(I=>{let A;this._zone.runOutsideAngular(()=>{A=this._zone.onStable.subscribe(()=>{_i.assertNotInAngularZone(),v_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,I.next(!0))})})});const N=this._zone.onUnstable.subscribe(()=>{_i.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{I.next(!1)}))});return()=>{A.unsubscribe(),N.unsubscribe()}});this.isStable=(0,ee.T)(C,E.pipe((0,re.B)()))}bootstrap(o,l){if(!this._initStatus.done)throw new Ae(405,"");let u;u=o instanceof wC?o:this._componentFactoryResolver.resolveComponentFactory(o),this.componentTypes.push(u.componentType);const f=function hE(r){return r.isBoundToModule}(u)?void 0:this._injector.get(Ga),C=u.create(Gi.NULL,[],l||u.selector,f),E=C.location.nativeElement,I=C.injector.get(Gl,null),A=I&&C.injector.get(w_);return I&&A&&A.registerApplication(E,I),C.onDestroy(()=>{this.detachView(C.hostView),Sp(this.components,C),A&&A.unregisterApplication(E)}),this._loadComponent(C),C}tick(){if(this._runningTick)throw new Ae(101,"");try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const l=o;this._views.push(l),l.attachToAppRef(this)}detachView(o){const l=o;Sp(this._views,l),l.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o),this._injector.get(Qo,[]).concat(this._bootstrapListeners).forEach(u=>u(o))}ngOnDestroy(){this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return r.\u0275fac=function(o){return new(o||r)(K(_i),K(Gi),K(hd),K(op),K(za))},r.\u0275prov=Vt({token:r,factory:r.\u0275fac}),r})();function Sp(r,i){const o=r.indexOf(i);o>-1&&r.splice(o,1)}let Ft=!0,Tc=!1;function fw(){return Tc=!0,Ft}function Zl(){if(Tc)throw new Error("Cannot enable prod mode after platform setup.");Ft=!1}let gw=(()=>{class r{}return r.__NG_ELEMENT_ID__=Mp,r})();function Mp(r){return function fh(r,i,o){if(Sn(r)&&!o){const l=Ht(r.index,i);return new ih(l,l)}return 47&r.type?new ih(i[16],i):null}(hn(),Ee(),16==(16&r))}class vE{constructor(){}supports(i){return ln(i)}create(i){return new CE(i)}}const xp=(r,i)=>i;class CE{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||xp}forEachItem(i){let o;for(o=this._itHead;null!==o;o=o._next)i(o)}forEachOperation(i){let o=this._itHead,l=this._removalsHead,u=0,f=null;for(;o||l;){const _=!l||o&&o.currentIndex<kp(l,u,f)?o:l,C=kp(_,u,f),E=_.currentIndex;if(_===l)u--,l=l._nextRemoved;else if(o=o._next,null==_.previousIndex)u++;else{f||(f=[]);const I=C-u,A=E-u;if(I!=A){for(let $=0;$<I;$++){const Y=$<f.length?f[$]:f[$]=0,ge=Y+$;A<=ge&&ge<I&&(f[$]=Y+1)}f[_.previousIndex]=A-I}}C!==E&&i(_,C,E)}}forEachPreviousItem(i){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachMovedItem(i){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}forEachIdentityChange(i){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)i(o)}diff(i){if(null==i&&(i=[]),!ln(i))throw new Ae(900,"");return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let u,f,_,o=this._itHead,l=!1;if(Array.isArray(i)){this.length=i.length;for(let C=0;C<this.length;C++)f=i[C],_=this._trackByFn(C,f),null!==o&&Object.is(o.trackById,_)?(l&&(o=this._verifyReinsertion(o,f,_,C)),Object.is(o.item,f)||this._addIdentityChange(o,f)):(o=this._mismatch(o,f,_,C),l=!0),o=o._next}else u=0,function Ld(r,i){if(Array.isArray(r))for(let o=0;o<r.length;o++)i(r[o]);else{const o=r[Va()]();let l;for(;!(l=o.next()).done;)i(l.value)}}(i,C=>{_=this._trackByFn(u,C),null!==o&&Object.is(o.trackById,_)?(l&&(o=this._verifyReinsertion(o,C,_,u)),Object.is(o.item,C)||this._addIdentityChange(o,C)):(o=this._mismatch(o,C,_,u),l=!0),o=o._next,u++}),this.length=u;return this._truncate(o),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,o,l,u){let f;return null===i?f=this._itTail:(f=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._reinsertAfter(i,f,u)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(l,u))?(Object.is(i.item,o)||this._addIdentityChange(i,o),this._moveAfter(i,f,u)):i=this._addAfter(new k_(o,l),f,u),i}_verifyReinsertion(i,o,l,u){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==f?i=this._reinsertAfter(f,i._prev,u):i.currentIndex!=u&&(i.currentIndex=u,this._addToMoves(i,u)),i}_truncate(i){for(;null!==i;){const o=i._next;this._addToRemovals(this._unlink(i)),i=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,o,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const u=i._prevRemoved,f=i._nextRemoved;return null===u?this._removalsHead=f:u._nextRemoved=f,null===f?this._removalsTail=u:f._prevRemoved=u,this._insertAfter(i,o,l),this._addToMoves(i,l),i}_moveAfter(i,o,l){return this._unlink(i),this._insertAfter(i,o,l),this._addToMoves(i,l),i}_addAfter(i,o,l){return this._insertAfter(i,o,l),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,o,l){const u=null===o?this._itHead:o._next;return i._next=u,i._prev=o,null===u?this._itTail=i:u._prev=i,null===o?this._itHead=i:o._next=i,null===this._linkedRecords&&(this._linkedRecords=new Np),this._linkedRecords.put(i),i.currentIndex=l,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const o=i._prev,l=i._next;return null===o?this._itHead=l:o._next=l,null===l?this._itTail=o:l._prev=o,i}_addToMoves(i,o){return i.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Np),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,o){return i.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class k_{constructor(i,o){this.item=i,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class EE{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,o){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===o||o<=l.currentIndex)&&Object.is(l.trackById,i))return l;return null}remove(i){const o=i._prevDup,l=i._nextDup;return null===o?this._head=l:o._nextDup=l,null===l?this._tail=o:l._prevDup=o,null===this._head}}class Np{constructor(){this.map=new Map}put(i){const o=i.trackById;let l=this.map.get(o);l||(l=new EE,this.map.set(o,l)),l.add(i)}get(i,o){const u=this.map.get(i);return u?u.get(i,o):null}remove(i){const o=i.trackById;return this.map.get(o).remove(i)&&this.map.delete(o),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function kp(r,i,o){const l=r.previousIndex;if(null===l)return l;let u=0;return o&&l<o.length&&(u=o[l]),l+i+u}class bE{constructor(){}supports(i){return i instanceof Map||Vd(i)}create(){return new _h}}class _h{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let o;for(o=this._mapHead;null!==o;o=o._next)i(o)}forEachPreviousItem(i){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)i(o)}forEachChangedItem(i){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)i(o)}forEachAddedItem(i){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)i(o)}forEachRemovedItem(i){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)i(o)}diff(i){if(i){if(!(i instanceof Map||Vd(i)))throw new Ae(900,"")}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(i,(l,u)=>{if(o&&o.key===u)this._maybeAddToChanges(o,l),this._appendAfter=o,o=o._next;else{const f=this._getOrCreateRecordForKey(u,l);o=this._insertBeforeOrAppend(o,f)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let l=o;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,o){if(i){const l=i._prev;return o._next=i,o._prev=l,i._prev=o,l&&(l._next=o),i===this._mapHead&&(this._mapHead=o),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(i,o){if(this._records.has(i)){const u=this._records.get(i);this._maybeAddToChanges(u,o);const f=u._prev,_=u._next;return f&&(f._next=_),_&&(_._prev=f),u._next=null,u._prev=null,u}const l=new ww(i);return this._records.set(i,l),l.currentValue=o,this._addToAdditions(l),l}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,o){Object.is(o,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=o,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,o){i instanceof Map?i.forEach(o):Object.keys(i).forEach(l=>o(i[l],l))}}class ww{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function wE(){return new Fp([new vE])}let Fp=(()=>{class r{constructor(o){this.factories=o}static create(o,l){if(null!=l){const u=l.factories.slice();o=o.concat(u)}return new r(o)}static extend(o){return{provide:r,useFactory:l=>r.create(o,l||wE()),deps:[[r,new yr,new en]]}}find(o){const l=this.factories.find(u=>u.supports(o));if(null!=l)return l;throw new Ae(901,"")}}return r.\u0275prov=Vt({token:r,providedIn:"root",factory:wE}),r})();function Ac(){return new Sc([new bE])}let Sc=(()=>{class r{constructor(o){this.factories=o}static create(o,l){if(l){const u=l.factories.slice();o=o.concat(u)}return new r(o)}static extend(o){return{provide:r,useFactory:l=>r.create(o,l||Ac()),deps:[[r,new yr,new en]]}}find(o){const l=this.factories.find(f=>f.supports(o));if(l)return l;throw new Ae(901,"")}}return r.\u0275prov=Vt({token:r,providedIn:"root",factory:Ac}),r})();const DE=[new bE],Dw=new Fp([new vE]),L_=new Sc(DE),Iw=Is(null,"core",[{provide:sE,useValue:"unknown"},{provide:S_,deps:[Gi]},{provide:w_,deps:[]},{provide:aE,deps:[]}]),V_=[{provide:Ic,useClass:Ic,deps:[_i,Gi,hd,op,za]},{provide:Rb,deps:[_i],useFactory:function Sw(r){let i=[];return r.onStable.subscribe(()=>{for(;i.length;)i.pop()()}),function(o){i.push(o)}}},{provide:za,useClass:za,deps:[[new en,m_]]},{provide:y_,useClass:y_,deps:[]},rE,{provide:Fp,useFactory:function Tw(){return Dw},deps:[]},{provide:Sc,useFactory:function TE(){return L_},deps:[]},{provide:Hr,useFactory:function Lp(r){return r||function Aw(){return"undefined"!=typeof $localize&&$localize.locale||Zf}()},deps:[[new xn(Hr),new en,new yr]]},{provide:lE,useValue:"USD"}];let AE=(()=>{class r{constructor(o){}}return r.\u0275fac=function(o){return new(o||r)(K(Ic))},r.\u0275mod=O({type:r}),r.\u0275inj=wr({providers:V_}),r})()},3942:(Je,ve,x)=>{x.d(ve,{Z:()=>Ae});var d=x(2090),j=x(4859),P=x(9681),ee=x(1877);class re{constructor(ce,de){this._delegate=ce,this.firebase=de,(0,P._addComponent)(ce,new j.wA("app-compat",()=>this,"PUBLIC")),this.container=ce.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ce){this._delegate.automaticDataCollectionEnabled=ce}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ce=>{this._delegate.checkDestroyed(),ce()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,P.deleteApp)(this._delegate)))}_getService(ce,de=P._DEFAULT_ENTRY_NAME){var Se;this._delegate.checkDestroyed();const Oe=this._delegate.container.getProvider(ce);return!Oe.isInitialized()&&"EXPLICIT"===(null===(Se=Oe.getComponent())||void 0===Se?void 0:Se.instantiationMode)&&Oe.initialize(),Oe.getImmediate({identifier:de})}_removeServiceInstance(ce,de=P._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ce).clearInstance(de)}_addComponent(ce){(0,P._addComponent)(this._delegate,ce)}_addOrOverwriteComponent(ce){(0,P._addOrOverwriteComponent)(this._delegate,ce)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const se=new d.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),W=function ue(){const Pe=function oe(Pe){const ce={},de={__esModule:!0,initializeApp:function Ne(Ue,it={}){const J=P.initializeApp(Ue,it);if((0,d.r3)(ce,J.name))return ce[J.name];const fe=new Pe(J,de);return ce[J.name]=fe,fe},app:Oe,registerVersion:P.registerVersion,setLogLevel:P.setLogLevel,onLog:P.onLog,apps:null,SDK_VERSION:P.SDK_VERSION,INTERNAL:{registerComponent:function be(Ue){const it=Ue.name,J=it.replace("-compat","");if(P._registerComponent(Ue)&&"PUBLIC"===Ue.type){const fe=(pe=Oe())=>{if("function"!=typeof pe[J])throw se.create("invalid-app-argument",{appName:it});return pe[J]()};void 0!==Ue.serviceProps&&(0,d.ZB)(fe,Ue.serviceProps),de[J]=fe,Pe.prototype[J]=function(...pe){return this._getService.bind(this,it).apply(this,Ue.multipleInstances?pe:[])}}return"PUBLIC"===Ue.type?de[J]:null},removeApp:function Se(Ue){delete ce[Ue]},useAsService:function Ye(Ue,it){return"serverAuth"===it?null:it},modularAPIs:P}};function Oe(Ue){if(!(0,d.r3)(ce,Ue=Ue||P._DEFAULT_ENTRY_NAME))throw se.create("no-app",{appName:Ue});return ce[Ue]}return de.default=de,Object.defineProperty(de,"apps",{get:function ze(){return Object.keys(ce).map(Ue=>ce[Ue])}}),Oe.App=Pe,de}(re);return Pe.INTERNAL=Object.assign(Object.assign({},Pe.INTERNAL),{createFirebaseNamespace:ue,extendNamespace:function ce(de){(0,d.ZB)(Pe,de)},createSubscribe:d.ne,ErrorFactory:d.LL,deepExtend:d.ZB}),Pe}(),z=new ee.Yd("@firebase/app-compat");if((0,d.jU)()&&void 0!==self.firebase){z.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Pe=self.firebase.SDK_VERSION;Pe&&Pe.indexOf("LITE")>=0&&z.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ae=W;!function we(Pe){(0,P.registerVersion)("@firebase/app-compat","0.1.23",Pe)}()},9681:(Je,ve,x)=>{x.r(ve),x.d(ve,{FirebaseError:()=>ee.ZR,SDK_VERSION:()=>yi,_DEFAULT_ENTRY_NAME:()=>Rn,_addComponent:()=>Wt,_addOrOverwriteComponent:()=>Rr,_apps:()=>st,_clearComponents:()=>In,_components:()=>cn,_getProvider:()=>or,_registerComponent:()=>Vt,_removeServiceInstance:()=>wr,deleteApp:()=>Vn,getApp:()=>Ln,getApps:()=>Ie,initializeApp:()=>ar,onLog:()=>zt,registerVersion:()=>lr,setLogLevel:()=>Bt});var d=x(5861),j=x(4859),P=x(1877),ee=x(2090);class re{constructor(ye){this.container=ye}getPlatformInfoString(){return this.container.getProviders().map(He=>{if(function me(Ve){const ye=Ve.getComponent();return"VERSION"===(null==ye?void 0:ye.type)}(He)){const ot=He.getImmediate();return`${ot.library}/${ot.version}`}return null}).filter(He=>He).join(" ")}}const se="@firebase/app",ue=new P.Yd("@firebase/app"),Rn="[DEFAULT]",Xe={[se]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},st=new Map,cn=new Map;function Wt(Ve,ye){try{Ve.container.addComponent(ye)}catch(He){ue.debug(`Component ${ye.name} failed to register with FirebaseApp ${Ve.name}`,He)}}function Rr(Ve,ye){Ve.container.addOrOverwriteComponent(ye)}function Vt(Ve){const ye=Ve.name;if(cn.has(ye))return ue.debug(`There were multiple attempts to register component ${ye}.`),!1;cn.set(ye,Ve);for(const He of st.values())Wt(He,Ve);return!0}function or(Ve,ye){const He=Ve.container.getProvider("heartbeat").getImmediate({optional:!0});return He&&He.triggerHeartbeat(),Ve.container.getProvider(ye)}function wr(Ve,ye,He=Rn){or(Ve,ye).clearInstance(He)}function In(){cn.clear()}const Gt=new ee.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class An{constructor(ye,He,ot){this._isDeleted=!1,this._options=Object.assign({},ye),this._config=Object.assign({},He),this._name=He.name,this._automaticDataCollectionEnabled=He.automaticDataCollectionEnabled,this._container=ot,this.container.addComponent(new j.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ye){this.checkDestroyed(),this._automaticDataCollectionEnabled=ye}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ye){this._isDeleted=ye}checkDestroyed(){if(this.isDeleted)throw Gt.create("app-deleted",{appName:this._name})}}const yi="9.7.0";function ar(Ve,ye={}){"object"!=typeof ye&&(ye={name:ye});const He=Object.assign({name:Rn,automaticDataCollectionEnabled:!1},ye),ot=He.name;if("string"!=typeof ot||!ot)throw Gt.create("bad-app-name",{appName:String(ot)});const At=st.get(ot);if(At){if((0,ee.vZ)(Ve,At.options)&&(0,ee.vZ)(He,At.config))return At;throw Gt.create("duplicate-app",{appName:ot})}const Rt=new j.H0(ot);for(const B of cn.values())Rt.addComponent(B);const G=new An(Ve,He,Rt);return st.set(ot,G),G}function Ln(Ve=Rn){const ye=st.get(Ve);if(!ye)throw Gt.create("no-app",{appName:Ve});return ye}function Ie(){return Array.from(st.values())}function Vn(Ve){return qe.apply(this,arguments)}function qe(){return(qe=(0,d.Z)(function*(Ve){const ye=Ve.name;st.has(ye)&&(st.delete(ye),yield Promise.all(Ve.container.getProviders().map(He=>He.delete())),Ve.isDeleted=!0)})).apply(this,arguments)}function lr(Ve,ye,He){var ot;let At=null!==(ot=Xe[Ve])&&void 0!==ot?ot:Ve;He&&(At+=`-${He}`);const Rt=At.match(/\s|\//),G=ye.match(/\s|\//);if(Rt||G){const B=[`Unable to register library "${At}" with version "${ye}":`];return Rt&&B.push(`library name "${At}" contains illegal characters (whitespace or "/")`),Rt&&G&&B.push("and"),G&&B.push(`version name "${ye}" contains illegal characters (whitespace or "/")`),void ue.warn(B.join(" "))}Vt(new j.wA(`${At}-version`,()=>({library:At,version:ye}),"VERSION"))}function zt(Ve,ye){if(null!==Ve&&"function"!=typeof Ve)throw Gt.create("invalid-log-argument");(0,P.Am)(Ve,ye)}function Bt(Ve){(0,P.Ub)(Ve)}const dn="firebase-heartbeat-store";let Cn=null;function Ir(){return Cn||(Cn=(0,ee.X3)("firebase-heartbeat-database",1,(Ve,ye)=>{0===ye&&Ve.createObjectStore(dn)}).catch(Ve=>{throw Gt.create("storage-open",{originalErrorMessage:Ve.message})})),Cn}function Ct(){return(Ct=(0,d.Z)(function*(Ve){try{return(yield Ir()).transaction(dn).objectStore(dn).get(Wr(Ve))}catch(ye){throw Gt.create("storage-get",{originalErrorMessage:ye.message})}})).apply(this,arguments)}function Qe(Ve,ye){return et.apply(this,arguments)}function et(){return(et=(0,d.Z)(function*(Ve,ye){try{const ot=(yield Ir()).transaction(dn,"readwrite");return yield ot.objectStore(dn).put(ye,Wr(Ve)),ot.complete}catch(He){throw Gt.create("storage-set",{originalErrorMessage:He.message})}})).apply(this,arguments)}function Wr(Ve){return`${Ve.name}!${Ve.options.appId}`}class rn{constructor(ye){this.container=ye,this._heartbeatsCache=null;const He=this.container.getProvider("app").getImmediate();this._storage=new tt(He),this._heartbeatsCachePromise=this._storage.read().then(ot=>(this._heartbeatsCache=ot,ot))}triggerHeartbeat(){var ye=this;return(0,d.Z)(function*(){const ot=ye.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),At=Un();if(null===ye._heartbeatsCache&&(ye._heartbeatsCache=yield ye._heartbeatsCachePromise),ye._heartbeatsCache.lastSentHeartbeatDate!==At&&!ye._heartbeatsCache.heartbeats.some(Rt=>Rt.date===At))return ye._heartbeatsCache.heartbeats.push({date:At,agent:ot}),ye._heartbeatsCache.heartbeats=ye._heartbeatsCache.heartbeats.filter(Rt=>{const G=new Date(Rt.date).valueOf();return Date.now()-G<=2592e6}),ye._storage.overwrite(ye._heartbeatsCache)})()}getHeartbeatsHeader(){var ye=this;return(0,d.Z)(function*(){if(null===ye._heartbeatsCache&&(yield ye._heartbeatsCachePromise),null===ye._heartbeatsCache||0===ye._heartbeatsCache.heartbeats.length)return"";const He=Un(),{heartbeatsToSend:ot,unsentEntries:At}=function Zt(Ve,ye=1024){const He=[];let ot=Ve.slice();for(const At of Ve){const Rt=He.find(G=>G.agent===At.agent);if(Rt){if(Rt.dates.push(At.date),Qt(He)>ye){Rt.dates.pop();break}}else if(He.push({agent:At.agent,dates:[At.date]}),Qt(He)>ye){He.pop();break}ot=ot.slice(1)}return{heartbeatsToSend:He,unsentEntries:ot}}(ye._heartbeatsCache.heartbeats),Rt=(0,ee.L)(JSON.stringify({version:2,heartbeats:ot}));return ye._heartbeatsCache.lastSentHeartbeatDate=He,At.length>0?(ye._heartbeatsCache.heartbeats=At,yield ye._storage.overwrite(ye._heartbeatsCache)):(ye._heartbeatsCache.heartbeats=[],ye._storage.overwrite(ye._heartbeatsCache)),Rt})()}}function Un(){return(new Date).toISOString().substring(0,10)}class tt{constructor(ye){this.app=ye,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,d.Z)(function*(){return!!(0,ee.hl)()&&(0,ee.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ye=this;return(0,d.Z)(function*(){return(yield ye._canUseIndexedDBPromise)&&(yield function Ts(Ve){return Ct.apply(this,arguments)}(ye.app))||{heartbeats:[]}})()}overwrite(ye){var He=this;return(0,d.Z)(function*(){var ot;if(yield He._canUseIndexedDBPromise){const Rt=yield He.read();return Qe(He.app,{lastSentHeartbeatDate:null!==(ot=ye.lastSentHeartbeatDate)&&void 0!==ot?ot:Rt.lastSentHeartbeatDate,heartbeats:ye.heartbeats})}})()}add(ye){var He=this;return(0,d.Z)(function*(){var ot;if(yield He._canUseIndexedDBPromise){const Rt=yield He.read();return Qe(He.app,{lastSentHeartbeatDate:null!==(ot=ye.lastSentHeartbeatDate)&&void 0!==ot?ot:Rt.lastSentHeartbeatDate,heartbeats:[...Rt.heartbeats,...ye.heartbeats]})}})()}}function Qt(Ve){return(0,ee.L)(JSON.stringify({version:2,heartbeats:Ve})).length}!function wt(Ve){Vt(new j.wA("platform-logger",ye=>new re(ye),"PRIVATE")),Vt(new j.wA("heartbeat",ye=>new rn(ye),"PRIVATE")),lr(se,"0.7.22",Ve),lr(se,"0.7.22","esm2017"),lr("fire-js","")}("")},4859:(Je,ve,x)=>{x.d(ve,{H0:()=>oe,wA:()=>P,zt:()=>re});var d=x(5861),j=x(2090);class P{constructor(W,z,X){this.name=W,this.instanceFactory=z,this.type=X,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(W){return this.instantiationMode=W,this}setMultipleInstances(W){return this.multipleInstances=W,this}setServiceProps(W){return this.serviceProps=W,this}setInstanceCreatedCallback(W){return this.onInstanceCreated=W,this}}const ee="[DEFAULT]";class re{constructor(W,z){this.name=W,this.container=z,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(W){const z=this.normalizeInstanceIdentifier(W);if(!this.instancesDeferred.has(z)){const X=new j.BH;if(this.instancesDeferred.set(z,X),this.isInitialized(z)||this.shouldAutoInitialize())try{const Fe=this.getOrInitializeService({instanceIdentifier:z});Fe&&X.resolve(Fe)}catch(Fe){}}return this.instancesDeferred.get(z).promise}getImmediate(W){var z;const X=this.normalizeInstanceIdentifier(null==W?void 0:W.identifier),Fe=null!==(z=null==W?void 0:W.optional)&&void 0!==z&&z;if(!this.isInitialized(X)&&!this.shouldAutoInitialize()){if(Fe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:X})}catch(we){if(Fe)return null;throw we}}getComponent(){return this.component}setComponent(W){if(W.name!==this.name)throw Error(`Mismatching Component ${W.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=W,this.shouldAutoInitialize()){if(function se(ue){return"EAGER"===ue.instantiationMode}(W))try{this.getOrInitializeService({instanceIdentifier:ee})}catch(z){}for(const[z,X]of this.instancesDeferred.entries()){const Fe=this.normalizeInstanceIdentifier(z);try{const we=this.getOrInitializeService({instanceIdentifier:Fe});X.resolve(we)}catch(we){}}}}clearInstance(W=ee){this.instancesDeferred.delete(W),this.instancesOptions.delete(W),this.instances.delete(W)}delete(){var W=this;return(0,d.Z)(function*(){const z=Array.from(W.instances.values());yield Promise.all([...z.filter(X=>"INTERNAL"in X).map(X=>X.INTERNAL.delete()),...z.filter(X=>"_delete"in X).map(X=>X._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(W=ee){return this.instances.has(W)}getOptions(W=ee){return this.instancesOptions.get(W)||{}}initialize(W={}){const{options:z={}}=W,X=this.normalizeInstanceIdentifier(W.instanceIdentifier);if(this.isInitialized(X))throw Error(`${this.name}(${X}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Fe=this.getOrInitializeService({instanceIdentifier:X,options:z});for(const[we,Ae]of this.instancesDeferred.entries())X===this.normalizeInstanceIdentifier(we)&&Ae.resolve(Fe);return Fe}onInit(W,z){var X;const Fe=this.normalizeInstanceIdentifier(z),we=null!==(X=this.onInitCallbacks.get(Fe))&&void 0!==X?X:new Set;we.add(W),this.onInitCallbacks.set(Fe,we);const Ae=this.instances.get(Fe);return Ae&&W(Ae,Fe),()=>{we.delete(W)}}invokeOnInitCallbacks(W,z){const X=this.onInitCallbacks.get(z);if(X)for(const Fe of X)try{Fe(W,z)}catch(we){}}getOrInitializeService({instanceIdentifier:W,options:z={}}){let X=this.instances.get(W);if(!X&&this.component&&(X=this.component.instanceFactory(this.container,{instanceIdentifier:(ue=W,ue===ee?void 0:ue),options:z}),this.instances.set(W,X),this.instancesOptions.set(W,z),this.invokeOnInitCallbacks(X,W),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,W,X)}catch(Fe){}var ue;return X||null}normalizeInstanceIdentifier(W=ee){return this.component?this.component.multipleInstances?W:ee:W}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class oe{constructor(W){this.name=W,this.providers=new Map}addComponent(W){const z=this.getProvider(W.name);if(z.isComponentSet())throw new Error(`Component ${W.name} has already been registered with ${this.name}`);z.setComponent(W)}addOrOverwriteComponent(W){this.getProvider(W.name).isComponentSet()&&this.providers.delete(W.name),this.addComponent(W)}getProvider(W){if(this.providers.has(W))return this.providers.get(W);const z=new re(W,this);return this.providers.set(W,z),z}getProviders(){return Array.from(this.providers.values())}}},1877:(Je,ve,x)=>{x.d(ve,{Am:()=>ue,Ub:()=>oe,Yd:()=>se,in:()=>j});const d=[];var j=(()=>{return(W=j||(j={}))[W.DEBUG=0]="DEBUG",W[W.VERBOSE=1]="VERBOSE",W[W.INFO=2]="INFO",W[W.WARN=3]="WARN",W[W.ERROR=4]="ERROR",W[W.SILENT=5]="SILENT",j;var W})();const P={debug:j.DEBUG,verbose:j.VERBOSE,info:j.INFO,warn:j.WARN,error:j.ERROR,silent:j.SILENT},ee=j.INFO,re={[j.DEBUG]:"log",[j.VERBOSE]:"log",[j.INFO]:"info",[j.WARN]:"warn",[j.ERROR]:"error"},me=(W,z,...X)=>{if(z<W.logLevel)return;const Fe=(new Date).toISOString(),we=re[z];if(!we)throw new Error(`Attempted to log a message with an invalid logType (value: ${z})`);console[we](`[${Fe}]  ${W.name}:`,...X)};class se{constructor(z){this.name=z,this._logLevel=ee,this._logHandler=me,this._userLogHandler=null,d.push(this)}get logLevel(){return this._logLevel}set logLevel(z){if(!(z in j))throw new TypeError(`Invalid value "${z}" assigned to \`logLevel\``);this._logLevel=z}setLogLevel(z){this._logLevel="string"==typeof z?P[z]:z}get logHandler(){return this._logHandler}set logHandler(z){if("function"!=typeof z)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=z}get userLogHandler(){return this._userLogHandler}set userLogHandler(z){this._userLogHandler=z}debug(...z){this._userLogHandler&&this._userLogHandler(this,j.DEBUG,...z),this._logHandler(this,j.DEBUG,...z)}log(...z){this._userLogHandler&&this._userLogHandler(this,j.VERBOSE,...z),this._logHandler(this,j.VERBOSE,...z)}info(...z){this._userLogHandler&&this._userLogHandler(this,j.INFO,...z),this._logHandler(this,j.INFO,...z)}warn(...z){this._userLogHandler&&this._userLogHandler(this,j.WARN,...z),this._logHandler(this,j.WARN,...z)}error(...z){this._userLogHandler&&this._userLogHandler(this,j.ERROR,...z),this._logHandler(this,j.ERROR,...z)}}function oe(W){d.forEach(z=>{z.setLogLevel(W)})}function ue(W,z){for(const X of d){let Fe=null;z&&z.level&&(Fe=P[z.level]),X.userLogHandler=null===W?null:(we,Ae,...Pe)=>{const ce=Pe.map(de=>{if(null==de)return null;if("string"==typeof de)return de;if("number"==typeof de||"boolean"==typeof de)return de.toString();if(de instanceof Error)return de.message;try{return JSON.stringify(de)}catch(Se){return null}}).filter(de=>de).join(" ");Ae>=(null!=Fe?Fe:we.logLevel)&&W({level:j[Ae].toLowerCase(),message:ce,args:Pe,type:we.name})}}}},5861:(Je,ve,x)=>{function d(P,ee,re,me,se,oe,ue){try{var W=P[oe](ue),z=W.value}catch(X){return void re(X)}W.done?ee(z):Promise.resolve(z).then(me,se)}function j(P){return function(){var ee=this,re=arguments;return new Promise(function(me,se){var oe=P.apply(ee,re);function ue(z){d(oe,me,se,ue,W,"next",z)}function W(z){d(oe,me,se,ue,W,"throw",z)}ue(void 0)})}}x.d(ve,{Z:()=>j})}},Je=>{Je(Je.s=3692)}]);